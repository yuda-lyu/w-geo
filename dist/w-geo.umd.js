/*!
 * w-geo v1.0.48
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(r,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((r="undefined"!=typeof globalThis?globalThis:r||self)["w-geo"]={})}(this,(function(r){"use strict";var t=function(r,t){for(var n=-1,e=null==r?0:r.length;++n<e&&!1!==t(r[n],n,r););return r};var n=function(r){return function(t,n,e){for(var o=-1,i=Object(t),u=e(t),c=u.length;c--;){var a=u[r?c:++o];if(!1===n(i[a],a,i))break}return t}}();var e=function(r,t){for(var n=-1,e=Array(r);++n<r;)e[n]=t(n);return e};function o(r){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},o(r)}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function u(r){var t={exports:{}};return r(t,t.exports),t.exports}var c="object"==o(i)&&i&&i.Object===Object&&i,a="object"==("undefined"==typeof self?"undefined":o(self))&&self&&self.Object===Object&&self,s=c||a||Function("return this")(),f=s.Symbol,l=Object.prototype,h=l.hasOwnProperty,p=l.toString,v=f?f.toStringTag:void 0;var d=function(r){var t=h.call(r,v),n=r[v];try{r[v]=void 0;var e=!0}catch(r){}var o=p.call(r);return e&&(t?r[v]=n:delete r[v]),o},g=Object.prototype.toString;var w=function(r){return g.call(r)},b=f?f.toStringTag:void 0;var y=function(r){return null==r?void 0===r?"[object Undefined]":"[object Null]":b&&b in Object(r)?d(r):w(r)};var m=function(r){return null!=r&&"object"==o(r)};var M=function(r){return m(r)&&"[object Arguments]"==y(r)},S=Object.prototype,_=S.hasOwnProperty,j=S.propertyIsEnumerable,N=M(function(){return arguments}())?M:function(r){return m(r)&&_.call(r,"callee")&&!j.call(r,"callee")},x=N,D=Array.isArray;var E=function(){return!1},O=u((function(r,t){var n=t&&!t.nodeType&&t,e=n&&r&&!r.nodeType&&r,o=e&&e.exports===n?s.Buffer:void 0,i=(o?o.isBuffer:void 0)||E;r.exports=i})),C=/^(?:0|[1-9]\d*)$/;var A=function(r,t){var n=o(r);return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&C.test(r))&&r>-1&&r%1==0&&r<t};var P=function(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=9007199254740991},R={};R["[object Float32Array]"]=R["[object Float64Array]"]=R["[object Int8Array]"]=R["[object Int16Array]"]=R["[object Int32Array]"]=R["[object Uint8Array]"]=R["[object Uint8ClampedArray]"]=R["[object Uint16Array]"]=R["[object Uint32Array]"]=!0,R["[object Arguments]"]=R["[object Array]"]=R["[object ArrayBuffer]"]=R["[object Boolean]"]=R["[object DataView]"]=R["[object Date]"]=R["[object Error]"]=R["[object Function]"]=R["[object Map]"]=R["[object Number]"]=R["[object Object]"]=R["[object RegExp]"]=R["[object Set]"]=R["[object String]"]=R["[object WeakMap]"]=!1;var k=function(r){return m(r)&&P(r.length)&&!!R[y(r)]};var F=function(r){return function(t){return r(t)}},L=u((function(r,t){var n=t&&!t.nodeType&&t,e=n&&r&&!r.nodeType&&r,o=e&&e.exports===n&&c.process,i=function(){try{var r=e&&e.require&&e.require("util").types;return r||o&&o.binding&&o.binding("util")}catch(r){}}();r.exports=i})),q=L&&L.isTypedArray,T=q?F(q):k,G=Object.prototype.hasOwnProperty;var I=function(r,t){var n=D(r),o=!n&&x(r),i=!n&&!o&&O(r),u=!n&&!o&&!i&&T(r),c=n||o||i||u,a=c?e(r.length,String):[],s=a.length;for(var f in r)!t&&!G.call(r,f)||c&&("length"==f||i&&("offset"==f||"parent"==f)||u&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||A(f,s))||a.push(f);return a},U=Object.prototype;var V=function(r){var t=r&&r.constructor;return r===("function"==typeof t&&t.prototype||U)};var z=function(r,t){return function(n){return r(t(n))}},B=z(Object.keys,Object),Z=Object.prototype.hasOwnProperty;var $=function(r){if(!V(r))return B(r);var t=[];for(var n in Object(r))Z.call(r,n)&&"constructor"!=n&&t.push(n);return t};var H=function(r){var t=o(r);return null!=r&&("object"==t||"function"==t)};var W=function(r){if(!H(r))return!1;var t=y(r);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var Y=function(r){return null!=r&&P(r.length)&&!W(r)};var J=function(r){return Y(r)?I(r):$(r)};var X=function(r,t){return function(n,e){if(null==n)return n;if(!Y(n))return r(n,e);for(var o=n.length,i=t?o:-1,u=Object(n);(t?i--:++i<o)&&!1!==e(u[i],i,u););return n}}((function(r,t){return r&&n(r,t,J)}));var K=function(r){return r};var Q=function(r){return"function"==typeof r?r:K};var rr=function(r,n){return(D(r)?t:X)(r,Q(n))};var tr=function(r){return"symbol"==o(r)||m(r)&&"[object Symbol]"==y(r)},nr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,er=/^\w*$/;var or,ir=function(r,t){if(D(r))return!1;var n=o(r);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=r&&!tr(r))||(er.test(r)||!nr.test(r)||null!=t&&r in Object(t))},ur=s["__core-js_shared__"],cr=(or=/[^.]+$/.exec(ur&&ur.keys&&ur.keys.IE_PROTO||""))?"Symbol(src)_1."+or:"";var ar=function(r){return!!cr&&cr in r},sr=Function.prototype.toString;var fr=function(r){if(null!=r){try{return sr.call(r)}catch(r){}try{return r+""}catch(r){}}return""},lr=/^\[object .+?Constructor\]$/,hr=Function.prototype,pr=Object.prototype,vr=hr.toString,dr=pr.hasOwnProperty,gr=RegExp("^"+vr.call(dr).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var wr=function(r){return!(!H(r)||ar(r))&&(W(r)?gr:lr).test(fr(r))};var br=function(r,t){return null==r?void 0:r[t]};var yr=function(r,t){var n=br(r,t);return wr(n)?n:void 0},mr=yr(Object,"create");var Mr=function(){this.__data__=mr?mr(null):{},this.size=0};var Sr=function(r){var t=this.has(r)&&delete this.__data__[r];return this.size-=t?1:0,t},_r=Object.prototype.hasOwnProperty;var jr=function(r){var t=this.__data__;if(mr){var n=t[r];return"__lodash_hash_undefined__"===n?void 0:n}return _r.call(t,r)?t[r]:void 0},Nr=Object.prototype.hasOwnProperty;var xr=function(r){var t=this.__data__;return mr?void 0!==t[r]:Nr.call(t,r)};var Dr=function(r,t){var n=this.__data__;return this.size+=this.has(r)?0:1,n[r]=mr&&void 0===t?"__lodash_hash_undefined__":t,this};function Er(r){var t=-1,n=null==r?0:r.length;for(this.clear();++t<n;){var e=r[t];this.set(e[0],e[1])}}Er.prototype.clear=Mr,Er.prototype.delete=Sr,Er.prototype.get=jr,Er.prototype.has=xr,Er.prototype.set=Dr;var Or=Er;var Cr=function(){this.__data__=[],this.size=0};var Ar=function(r,t){return r===t||r!=r&&t!=t};var Pr=function(r,t){for(var n=r.length;n--;)if(Ar(r[n][0],t))return n;return-1},Rr=Array.prototype.splice;var kr=function(r){var t=this.__data__,n=Pr(t,r);return!(n<0)&&(n==t.length-1?t.pop():Rr.call(t,n,1),--this.size,!0)};var Fr=function(r){var t=this.__data__,n=Pr(t,r);return n<0?void 0:t[n][1]};var Lr=function(r){return Pr(this.__data__,r)>-1};var qr=function(r,t){var n=this.__data__,e=Pr(n,r);return e<0?(++this.size,n.push([r,t])):n[e][1]=t,this};function Tr(r){var t=-1,n=null==r?0:r.length;for(this.clear();++t<n;){var e=r[t];this.set(e[0],e[1])}}Tr.prototype.clear=Cr,Tr.prototype.delete=kr,Tr.prototype.get=Fr,Tr.prototype.has=Lr,Tr.prototype.set=qr;var Gr=Tr,Ir=yr(s,"Map");var Ur=function(){this.size=0,this.__data__={hash:new Or,map:new(Ir||Gr),string:new Or}};var Vr=function(r){var t=o(r);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==r:null===r};var zr=function(r,t){var n=r.__data__;return Vr(t)?n["string"==typeof t?"string":"hash"]:n.map};var Br=function(r){var t=zr(this,r).delete(r);return this.size-=t?1:0,t};var Zr=function(r){return zr(this,r).get(r)};var $r=function(r){return zr(this,r).has(r)};var Hr=function(r,t){var n=zr(this,r),e=n.size;return n.set(r,t),this.size+=n.size==e?0:1,this};function Wr(r){var t=-1,n=null==r?0:r.length;for(this.clear();++t<n;){var e=r[t];this.set(e[0],e[1])}}Wr.prototype.clear=Ur,Wr.prototype.delete=Br,Wr.prototype.get=Zr,Wr.prototype.has=$r,Wr.prototype.set=Hr;var Yr=Wr;function Jr(r,t){if("function"!=typeof r||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function n(){var e=arguments,o=t?t.apply(this,e):e[0],i=n.cache;if(i.has(o))return i.get(o);var u=r.apply(this,e);return n.cache=i.set(o,u)||i,u};return n.cache=new(Jr.Cache||Yr),n}Jr.Cache=Yr;var Xr=Jr;var Kr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qr=/\\(\\)?/g,rt=function(r){var t=Xr(r,(function(r){return 500===n.size&&n.clear(),r})),n=t.cache;return t}((function(r){var t=[];return 46===r.charCodeAt(0)&&t.push(""),r.replace(Kr,(function(r,n,e,o){t.push(e?o.replace(Qr,"$1"):n||r)})),t}));var tt=function(r,t){for(var n=-1,e=null==r?0:r.length,o=Array(e);++n<e;)o[n]=t(r[n],n,r);return o},nt=f?f.prototype:void 0,et=nt?nt.toString:void 0;var ot=function r(t){if("string"==typeof t)return t;if(D(t))return tt(t,r)+"";if(tr(t))return et?et.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var it=function(r){return null==r?"":ot(r)};var ut=function(r,t){return D(r)?r:ir(r,t)?[r]:rt(it(r))};var ct=function(r){if("string"==typeof r||tr(r))return r;var t=r+"";return"0"==t&&1/r==-Infinity?"-0":t};var at=function(r,t){for(var n=0,e=(t=ut(t,r)).length;null!=r&&n<e;)r=r[ct(t[n++])];return n&&n==e?r:void 0};var st=function(r,t,n){var e=null==r?void 0:at(r,t);return void 0===e?n:e},ft=yr(s,"DataView"),lt=yr(s,"Promise"),ht=yr(s,"Set"),pt=yr(s,"WeakMap"),vt="[object Map]",dt="[object Promise]",gt="[object Set]",wt="[object WeakMap]",bt="[object DataView]",yt=fr(ft),mt=fr(Ir),Mt=fr(lt),St=fr(ht),_t=fr(pt),jt=y;(ft&&jt(new ft(new ArrayBuffer(1)))!=bt||Ir&&jt(new Ir)!=vt||lt&&jt(lt.resolve())!=dt||ht&&jt(new ht)!=gt||pt&&jt(new pt)!=wt)&&(jt=function(r){var t=y(r),n="[object Object]"==t?r.constructor:void 0,e=n?fr(n):"";if(e)switch(e){case yt:return bt;case mt:return vt;case Mt:return dt;case St:return gt;case _t:return wt}return t});var Nt=jt;var xt=function(r){return"string"==typeof r||!D(r)&&m(r)&&"[object String]"==y(r)};var Dt=function(r){return function(t){return null==t?void 0:t[r]}},Et=Dt("length"),Ot=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Ct=function(r){return Ot.test(r)},At="[\\ud800-\\udfff]",Pt="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Rt="\\ud83c[\\udffb-\\udfff]",kt="[^\\ud800-\\udfff]",Ft="(?:\\ud83c[\\udde6-\\uddff]){2}",Lt="[\\ud800-\\udbff][\\udc00-\\udfff]",qt="(?:"+Pt+"|"+Rt+")"+"?",Tt="[\\ufe0e\\ufe0f]?",Gt=Tt+qt+("(?:\\u200d(?:"+[kt,Ft,Lt].join("|")+")"+Tt+qt+")*"),It="(?:"+[kt+Pt+"?",Pt,Ft,Lt,At].join("|")+")",Ut=RegExp(Rt+"(?="+Rt+")|"+It+Gt,"g");var Vt=function(r){for(var t=Ut.lastIndex=0;Ut.test(r);)++t;return t};var zt=function(r){return Ct(r)?Vt(r):Et(r)};var Bt=function(r){if(null==r)return 0;if(Y(r))return xt(r)?zt(r):r.length;var t=Nt(r);return"[object Map]"==t||"[object Set]"==t?r.size:$(r).length},Zt=Array.prototype.join;var $t=function(r,t){return null==r?"":Zt.call(r,t)};var Ht=function(r){return"number"==typeof r||m(r)&&"[object Number]"==y(r)};var Wt=function(r,t){for(var n=-1,e=t.length,o=r.length;++n<e;)r[o+n]=t[n];return r},Yt=f?f.isConcatSpreadable:void 0;var Jt=function(r){return D(r)||x(r)||!!(Yt&&r&&r[Yt])};var Xt=function r(t,n,e,o,i){var u=-1,c=t.length;for(e||(e=Jt),i||(i=[]);++u<c;){var a=t[u];n>0&&e(a)?n>1?r(a,n-1,e,o,i):Wt(i,a):o||(i[i.length]=a)}return i};var Kt=function(){this.__data__=new Gr,this.size=0};var Qt=function(r){var t=this.__data__,n=t.delete(r);return this.size=t.size,n};var rn=function(r){return this.__data__.get(r)};var tn=function(r){return this.__data__.has(r)};var nn=function(r,t){var n=this.__data__;if(n instanceof Gr){var e=n.__data__;if(!Ir||e.length<199)return e.push([r,t]),this.size=++n.size,this;n=this.__data__=new Yr(e)}return n.set(r,t),this.size=n.size,this};function en(r){var t=this.__data__=new Gr(r);this.size=t.size}en.prototype.clear=Kt,en.prototype.delete=Qt,en.prototype.get=rn,en.prototype.has=tn,en.prototype.set=nn;var on=en;var un=function(r){return this.__data__.set(r,"__lodash_hash_undefined__"),this};var cn=function(r){return this.__data__.has(r)};function an(r){var t=-1,n=null==r?0:r.length;for(this.__data__=new Yr;++t<n;)this.add(r[t])}an.prototype.add=an.prototype.push=un,an.prototype.has=cn;var sn=an;var fn=function(r,t){for(var n=-1,e=null==r?0:r.length;++n<e;)if(t(r[n],n,r))return!0;return!1};var ln=function(r,t){return r.has(t)};var hn=function(r,t,n,e,o,i){var u=1&n,c=r.length,a=t.length;if(c!=a&&!(u&&a>c))return!1;var s=i.get(r),f=i.get(t);if(s&&f)return s==t&&f==r;var l=-1,h=!0,p=2&n?new sn:void 0;for(i.set(r,t),i.set(t,r);++l<c;){var v=r[l],d=t[l];if(e)var g=u?e(d,v,l,t,r,i):e(v,d,l,r,t,i);if(void 0!==g){if(g)continue;h=!1;break}if(p){if(!fn(t,(function(r,t){if(!ln(p,t)&&(v===r||o(v,r,n,e,i)))return p.push(t)}))){h=!1;break}}else if(v!==d&&!o(v,d,n,e,i)){h=!1;break}}return i.delete(r),i.delete(t),h},pn=s.Uint8Array;var vn=function(r){var t=-1,n=Array(r.size);return r.forEach((function(r,e){n[++t]=[e,r]})),n};var dn=function(r){var t=-1,n=Array(r.size);return r.forEach((function(r){n[++t]=r})),n},gn=f?f.prototype:void 0,wn=gn?gn.valueOf:void 0;var bn=function(r,t,n,e,o,i,u){switch(n){case"[object DataView]":if(r.byteLength!=t.byteLength||r.byteOffset!=t.byteOffset)return!1;r=r.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(r.byteLength!=t.byteLength||!i(new pn(r),new pn(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ar(+r,+t);case"[object Error]":return r.name==t.name&&r.message==t.message;case"[object RegExp]":case"[object String]":return r==t+"";case"[object Map]":var c=vn;case"[object Set]":var a=1&e;if(c||(c=dn),r.size!=t.size&&!a)return!1;var s=u.get(r);if(s)return s==t;e|=2,u.set(r,t);var f=hn(c(r),c(t),e,o,i,u);return u.delete(r),f;case"[object Symbol]":if(wn)return wn.call(r)==wn.call(t)}return!1};var yn=function(r,t,n){var e=t(r);return D(r)?e:Wt(e,n(r))};var mn=function(r,t){for(var n=-1,e=null==r?0:r.length,o=0,i=[];++n<e;){var u=r[n];t(u,n,r)&&(i[o++]=u)}return i};var Mn=function(){return[]},Sn=Object.prototype.propertyIsEnumerable,_n=Object.getOwnPropertySymbols,jn=_n?function(r){return null==r?[]:(r=Object(r),mn(_n(r),(function(t){return Sn.call(r,t)})))}:Mn;var Nn=function(r){return yn(r,J,jn)},xn=Object.prototype.hasOwnProperty;var Dn=function(r,t,n,e,o,i){var u=1&n,c=Nn(r),a=c.length;if(a!=Nn(t).length&&!u)return!1;for(var s=a;s--;){var f=c[s];if(!(u?f in t:xn.call(t,f)))return!1}var l=i.get(r),h=i.get(t);if(l&&h)return l==t&&h==r;var p=!0;i.set(r,t),i.set(t,r);for(var v=u;++s<a;){var d=r[f=c[s]],g=t[f];if(e)var w=u?e(g,d,f,t,r,i):e(d,g,f,r,t,i);if(!(void 0===w?d===g||o(d,g,n,e,i):w)){p=!1;break}v||(v="constructor"==f)}if(p&&!v){var b=r.constructor,y=t.constructor;b==y||!("constructor"in r)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(p=!1)}return i.delete(r),i.delete(t),p},En="[object Arguments]",On="[object Array]",Cn="[object Object]",An=Object.prototype.hasOwnProperty;var Pn=function(r,t,n,e,o,i){var u=D(r),c=D(t),a=u?On:Nt(r),s=c?On:Nt(t),f=(a=a==En?Cn:a)==Cn,l=(s=s==En?Cn:s)==Cn,h=a==s;if(h&&O(r)){if(!O(t))return!1;u=!0,f=!1}if(h&&!f)return i||(i=new on),u||T(r)?hn(r,t,n,e,o,i):bn(r,t,a,n,e,o,i);if(!(1&n)){var p=f&&An.call(r,"__wrapped__"),v=l&&An.call(t,"__wrapped__");if(p||v){var d=p?r.value():r,g=v?t.value():t;return i||(i=new on),o(d,g,n,e,i)}}return!!h&&(i||(i=new on),Dn(r,t,n,e,o,i))};var Rn=function r(t,n,e,o,i){return t===n||(null==t||null==n||!m(t)&&!m(n)?t!=t&&n!=n:Pn(t,n,e,o,r,i))};var kn=function(r,t,n,e){var o=n.length,i=o,u=!e;if(null==r)return!i;for(r=Object(r);o--;){var c=n[o];if(u&&c[2]?c[1]!==r[c[0]]:!(c[0]in r))return!1}for(;++o<i;){var a=(c=n[o])[0],s=r[a],f=c[1];if(u&&c[2]){if(void 0===s&&!(a in r))return!1}else{var l=new on;if(e)var h=e(s,f,a,r,t,l);if(!(void 0===h?Rn(f,s,3,e,l):h))return!1}}return!0};var Fn=function(r){return r==r&&!H(r)};var Ln=function(r){for(var t=J(r),n=t.length;n--;){var e=t[n],o=r[e];t[n]=[e,o,Fn(o)]}return t};var qn=function(r,t){return function(n){return null!=n&&(n[r]===t&&(void 0!==t||r in Object(n)))}};var Tn=function(r){var t=Ln(r);return 1==t.length&&t[0][2]?qn(t[0][0],t[0][1]):function(n){return n===r||kn(n,r,t)}};var Gn=function(r,t){return null!=r&&t in Object(r)};var In=function(r,t,n){for(var e=-1,o=(t=ut(t,r)).length,i=!1;++e<o;){var u=ct(t[e]);if(!(i=null!=r&&n(r,u)))break;r=r[u]}return i||++e!=o?i:!!(o=null==r?0:r.length)&&P(o)&&A(u,o)&&(D(r)||x(r))};var Un=function(r,t){return null!=r&&In(r,t,Gn)};var Vn=function(r,t){return ir(r)&&Fn(t)?qn(ct(r),t):function(n){var e=st(n,r);return void 0===e&&e===t?Un(n,r):Rn(t,e,3)}};var zn=function(r){return function(t){return at(t,r)}};var Bn=function(r){return ir(r)?Dt(ct(r)):zn(r)};var Zn=function(r){return"function"==typeof r?r:null==r?K:"object"==o(r)?D(r)?Vn(r[0],r[1]):Tn(r):Bn(r)};var $n=function(r,t){var n=-1,e=Y(r)?Array(r.length):[];return X(r,(function(r,o,i){e[++n]=t(r,o,i)})),e};var Hn=function(r,t){var n=r.length;for(r.sort(t);n--;)r[n]=r[n].value;return r};var Wn=function(r,t){if(r!==t){var n=void 0!==r,e=null===r,o=r==r,i=tr(r),u=void 0!==t,c=null===t,a=t==t,s=tr(t);if(!c&&!s&&!i&&r>t||i&&u&&a&&!c&&!s||e&&u&&a||!n&&a||!o)return 1;if(!e&&!i&&!s&&r<t||s&&n&&o&&!e&&!i||c&&n&&o||!u&&o||!a)return-1}return 0};var Yn=function(r,t,n){for(var e=-1,o=r.criteria,i=t.criteria,u=o.length,c=n.length;++e<u;){var a=Wn(o[e],i[e]);if(a)return e>=c?a:a*("desc"==n[e]?-1:1)}return r.index-t.index};var Jn=function(r,t,n){t=t.length?tt(t,(function(r){return D(r)?function(t){return at(t,1===r.length?r[0]:r)}:r})):[K];var e=-1;t=tt(t,F(Zn));var o=$n(r,(function(r,n,o){return{criteria:tt(t,(function(t){return t(r)})),index:++e,value:r}}));return Hn(o,(function(r,t){return Yn(r,t,n)}))};var Xn=function(r,t,n){switch(n.length){case 0:return r.call(t);case 1:return r.call(t,n[0]);case 2:return r.call(t,n[0],n[1]);case 3:return r.call(t,n[0],n[1],n[2])}return r.apply(t,n)},Kn=Math.max;var Qn=function(r,t,n){return t=Kn(void 0===t?r.length-1:t,0),function(){for(var e=arguments,o=-1,i=Kn(e.length-t,0),u=Array(i);++o<i;)u[o]=e[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=e[o];return c[t]=n(u),Xn(r,this,c)}};var re=function(r){return function(){return r}},te=function(){try{var r=yr(Object,"defineProperty");return r({},"",{}),r}catch(r){}}(),ne=te?function(r,t){return te(r,"toString",{configurable:!0,enumerable:!1,value:re(t),writable:!0})}:K,ee=Date.now;var oe=function(r){var t=0,n=0;return function(){var e=ee(),o=16-(e-n);if(n=e,o>0){if(++t>=800)return arguments[0]}else t=0;return r.apply(void 0,arguments)}},ie=oe(ne);var ue=function(r,t,n){if(!H(n))return!1;var e=o(t);return!!("number"==e?Y(n)&&A(t,n.length):"string"==e&&t in n)&&Ar(n[t],r)},ce=function(r,t){return ie(Qn(r,t,K),r+"")}((function(r,t){if(null==r)return[];var n=t.length;return n>1&&ue(r,t[0],t[1])?t=[]:n>2&&ue(t[0],t[1],t[2])&&(t=[t[0]]),Jn(r,Xt(t,1),[])}));var ae=function(r,t,n){"__proto__"==t&&te?te(r,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):r[t]=n},se=Object.prototype.hasOwnProperty;var fe=function(r,t,n){var e=r[t];se.call(r,t)&&Ar(e,n)&&(void 0!==n||t in r)||ae(r,t,n)};var le=function(r,t,n,e){var o=!n;n||(n={});for(var i=-1,u=t.length;++i<u;){var c=t[i],a=e?e(n[c],r[c],c,n,r):void 0;void 0===a&&(a=r[c]),o?ae(n,c,a):fe(n,c,a)}return n};var he=function(r,t){return r&&le(t,J(t),r)};var pe=function(r){var t=[];if(null!=r)for(var n in Object(r))t.push(n);return t},ve=Object.prototype.hasOwnProperty;var de=function(r){if(!H(r))return pe(r);var t=V(r),n=[];for(var e in r)("constructor"!=e||!t&&ve.call(r,e))&&n.push(e);return n};var ge=function(r){return Y(r)?I(r,!0):de(r)};var we=function(r,t){return r&&le(t,ge(t),r)},be=u((function(r,t){var n=t&&!t.nodeType&&t,e=n&&r&&!r.nodeType&&r,o=e&&e.exports===n?s.Buffer:void 0,i=o?o.allocUnsafe:void 0;r.exports=function(r,t){if(t)return r.slice();var n=r.length,e=i?i(n):new r.constructor(n);return r.copy(e),e}}));var ye=function(r,t){var n=-1,e=r.length;for(t||(t=Array(e));++n<e;)t[n]=r[n];return t};var me=function(r,t){return le(r,jn(r),t)},Me=z(Object.getPrototypeOf,Object),Se=Object.getOwnPropertySymbols?function(r){for(var t=[];r;)Wt(t,jn(r)),r=Me(r);return t}:Mn;var _e=function(r,t){return le(r,Se(r),t)};var je=function(r){return yn(r,ge,Se)},Ne=Object.prototype.hasOwnProperty;var xe=function(r){var t=r.length,n=new r.constructor(t);return t&&"string"==typeof r[0]&&Ne.call(r,"index")&&(n.index=r.index,n.input=r.input),n};var De=function(r){var t=new r.constructor(r.byteLength);return new pn(t).set(new pn(r)),t};var Ee=function(r,t){var n=t?De(r.buffer):r.buffer;return new r.constructor(n,r.byteOffset,r.byteLength)},Oe=/\w*$/;var Ce=function(r){var t=new r.constructor(r.source,Oe.exec(r));return t.lastIndex=r.lastIndex,t},Ae=f?f.prototype:void 0,Pe=Ae?Ae.valueOf:void 0;var Re=function(r){return Pe?Object(Pe.call(r)):{}};var ke=function(r,t){var n=t?De(r.buffer):r.buffer;return new r.constructor(n,r.byteOffset,r.length)};var Fe=function(r,t,n){var e=r.constructor;switch(t){case"[object ArrayBuffer]":return De(r);case"[object Boolean]":case"[object Date]":return new e(+r);case"[object DataView]":return Ee(r,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return ke(r,n);case"[object Map]":case"[object Set]":return new e;case"[object Number]":case"[object String]":return new e(r);case"[object RegExp]":return Ce(r);case"[object Symbol]":return Re(r)}},Le=Object.create,qe=function(){function r(){}return function(t){if(!H(t))return{};if(Le)return Le(t);r.prototype=t;var n=new r;return r.prototype=void 0,n}}();var Te=function(r){return"function"!=typeof r.constructor||V(r)?{}:qe(Me(r))};var Ge=function(r){return m(r)&&"[object Map]"==Nt(r)},Ie=L&&L.isMap,Ue=Ie?F(Ie):Ge;var Ve=function(r){return m(r)&&"[object Set]"==Nt(r)},ze=L&&L.isSet,Be=ze?F(ze):Ve,Ze="[object Arguments]",$e="[object Function]",He="[object Object]",We={};We[Ze]=We["[object Array]"]=We["[object ArrayBuffer]"]=We["[object DataView]"]=We["[object Boolean]"]=We["[object Date]"]=We["[object Float32Array]"]=We["[object Float64Array]"]=We["[object Int8Array]"]=We["[object Int16Array]"]=We["[object Int32Array]"]=We["[object Map]"]=We["[object Number]"]=We[He]=We["[object RegExp]"]=We["[object Set]"]=We["[object String]"]=We["[object Symbol]"]=We["[object Uint8Array]"]=We["[object Uint8ClampedArray]"]=We["[object Uint16Array]"]=We["[object Uint32Array]"]=!0,We["[object Error]"]=We[$e]=We["[object WeakMap]"]=!1;var Ye=function r(n,e,o,i,u,c){var a,s=1&e,f=2&e,l=4&e;if(o&&(a=u?o(n,i,u,c):o(n)),void 0!==a)return a;if(!H(n))return n;var h=D(n);if(h){if(a=xe(n),!s)return ye(n,a)}else{var p=Nt(n),v=p==$e||"[object GeneratorFunction]"==p;if(O(n))return be(n,s);if(p==He||p==Ze||v&&!u){if(a=f||v?{}:Te(n),!s)return f?_e(n,we(a,n)):me(n,he(a,n))}else{if(!We[p])return u?n:{};a=Fe(n,p,s)}}c||(c=new on);var d=c.get(n);if(d)return d;c.set(n,a),Be(n)?n.forEach((function(t){a.add(r(t,e,o,t,n,c))})):Ue(n)&&n.forEach((function(t,i){a.set(i,r(t,e,o,i,n,c))}));var g=h?void 0:(l?f?je:Nn:f?ge:J)(n);return t(g||n,(function(t,i){g&&(t=n[i=t]),fe(a,i,r(t,e,o,i,n,c))})),a};var Je=function(r){return Ye(r,5)},Xe=/\s/;var Ke=function(r){for(var t=r.length;t--&&Xe.test(r.charAt(t)););return t},Qe=/^\s+/;var ro=function(r){return r?r.slice(0,Ke(r)+1).replace(Qe,""):r},to=/^[-+]0x[0-9a-f]+$/i,no=/^0b[01]+$/i,eo=/^0o[0-7]+$/i,oo=parseInt;var io=function(r){if("number"==typeof r)return r;if(tr(r))return NaN;if(H(r)){var t="function"==typeof r.valueOf?r.valueOf():r;r=H(t)?t+"":t}if("string"!=typeof r)return 0===r?r:+r;r=ro(r);var n=no.test(r);return n||eo.test(r)?oo(r.slice(2),n?2:8):to.test(r)?NaN:+r},uo=1/0;var co=function(r){return r?(r=io(r))===uo||r===-1/0?17976931348623157e292*(r<0?-1:1):r==r?r:0:0===r?r:0};function ao(r){return"[object String]"===Object.prototype.toString.call(r)}function so(r){return!(!ao(r)||""===r)}function fo(r){var t=!1;return so(r)?t=!isNaN(Number(r)):function(r){return"[object Number]"===Object.prototype.toString.call(r)}(r)&&(t=!0),t}function lo(r){return fo(r)?co(r):0}function ho(r){return"[object Array]"===Object.prototype.toString.call(r)}function po(r){return"[object Object]"===Object.prototype.toString.call(r)}function vo(r){return!!function(r){return"[object Undefined]"===Object.prototype.toString.call(r)}(r)||(!!function(r){return"[object Null]"===Object.prototype.toString.call(r)}(r)||(!!function(r){if(po(r)){for(var t in r)return!1;return!0}return!1}(r)||(!!function(r){return!(!ao(r)||""!==r)}(r)||!!function(r){return!!ho(r)&&0===r.length}(r))))}function go(r){return!!ho(r)&&(0!==r.length&&(1!==r.length||!vo(r[0])))}var wo=u((function(r){!function(t){var n,e,i,u,c=9e15,a=1e9,s="0123456789abcdef",f="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",l="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",h={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-c,maxE:c,crypto:!1},p=!0,v="[DecimalError] ",d=v+"Invalid argument: ",g=v+"Precision limit exceeded",w=v+"crypto unavailable",b="[object Decimal]",y=Math.floor,m=Math.pow,M=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,S=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,_=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,j=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,N=1e7,x=f.length-1,D=l.length-1,E={toStringTag:b};function O(r){var t,n,e,o=r.length-1,i="",u=r[0];if(o>0){for(i+=u,t=1;t<o;t++)(n=7-(e=r[t]+"").length)&&(i+=I(n)),i+=e;(n=7-(e=(u=r[t])+"").length)&&(i+=I(n))}else if(0===u)return"0";for(;u%10==0;)u/=10;return i+u}function C(r,t,n){if(r!==~~r||r<t||r>n)throw Error(d+r)}function A(r,t,n,e){var o,i,u,c;for(i=r[0];i>=10;i/=10)--t;return--t<0?(t+=7,o=0):(o=Math.ceil((t+1)/7),t%=7),i=m(10,7-t),c=r[o]%i|0,null==e?t<3?(0==t?c=c/100|0:1==t&&(c=c/10|0),u=n<4&&99999==c||n>3&&49999==c||5e4==c||0==c):u=(n<4&&c+1==i||n>3&&c+1==i/2)&&(r[o+1]/i/100|0)==m(10,t-2)-1||(c==i/2||0==c)&&0==(r[o+1]/i/100|0):t<4?(0==t?c=c/1e3|0:1==t?c=c/100|0:2==t&&(c=c/10|0),u=(e||n<4)&&9999==c||!e&&n>3&&4999==c):u=((e||n<4)&&c+1==i||!e&&n>3&&c+1==i/2)&&(r[o+1]/i/1e3|0)==m(10,t-3)-1,u}function P(r,t,n){for(var e,o,i=[0],u=0,c=r.length;u<c;){for(o=i.length;o--;)i[o]*=t;for(i[0]+=s.indexOf(r.charAt(u++)),e=0;e<i.length;e++)i[e]>n-1&&(void 0===i[e+1]&&(i[e+1]=0),i[e+1]+=i[e]/n|0,i[e]%=n)}return i.reverse()}E.absoluteValue=E.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),k(r)},E.ceil=function(){return k(new this.constructor(this),this.e+1,2)},E.clampedTo=E.clamp=function(r,t){var n=this,e=n.constructor;if(r=new e(r),t=new e(t),!r.s||!t.s)return new e(NaN);if(r.gt(t))throw Error(d+t);return n.cmp(r)<0?r:n.cmp(t)>0?t:new e(n)},E.comparedTo=E.cmp=function(r){var t,n,e,o,i=this,u=i.d,c=(r=new i.constructor(r)).d,a=i.s,s=r.s;if(!u||!c)return a&&s?a!==s?a:u===c?0:!u^a<0?1:-1:NaN;if(!u[0]||!c[0])return u[0]?a:c[0]?-s:0;if(a!==s)return a;if(i.e!==r.e)return i.e>r.e^a<0?1:-1;for(t=0,n=(e=u.length)<(o=c.length)?e:o;t<n;++t)if(u[t]!==c[t])return u[t]>c[t]^a<0?1:-1;return e===o?0:e>o^a<0?1:-1},E.cosine=E.cos=function(){var r,t,n=this,e=n.constructor;return n.d?n.d[0]?(r=e.precision,t=e.rounding,e.precision=r+Math.max(n.e,n.sd())+7,e.rounding=1,n=function(r,t){var n,e,o;if(t.isZero())return t;(e=t.d.length)<32?o=(1/J(4,n=Math.ceil(e/3))).toString():(n=16,o="2.3283064365386962890625e-10");r.precision+=n,t=Y(r,1,t.times(o),new r(1));for(var i=n;i--;){var u=t.times(t);t=u.times(u).minus(u).times(8).plus(1)}return r.precision-=n,t}(e,X(e,n)),e.precision=r,e.rounding=t,k(2==u||3==u?n.neg():n,r,t,!0)):new e(1):new e(NaN)},E.cubeRoot=E.cbrt=function(){var r,t,n,e,o,i,u,c,a,s,f=this,l=f.constructor;if(!f.isFinite()||f.isZero())return new l(f);for(p=!1,(i=f.s*m(f.s*f,1/3))&&Math.abs(i)!=1/0?e=new l(i.toString()):(n=O(f.d),(i=((r=f.e)-n.length+1)%3)&&(n+=1==i||-2==i?"0":"00"),i=m(n,1/3),r=y((r+1)/3)-(r%3==(r<0?-1:2)),(e=new l(n=i==1/0?"5e"+r:(n=i.toExponential()).slice(0,n.indexOf("e")+1)+r)).s=f.s),u=(r=l.precision)+3;;)if(s=(a=(c=e).times(c).times(c)).plus(f),e=R(s.plus(f).times(c),s.plus(a),u+2,1),O(c.d).slice(0,u)===(n=O(e.d)).slice(0,u)){if("9999"!=(n=n.slice(u-3,u+1))&&(o||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(k(e,r+1,1),t=!e.times(e).times(e).eq(f));break}if(!o&&(k(c,r+1,0),c.times(c).times(c).eq(f))){e=c;break}u+=4,o=1}return p=!0,k(e,r,l.rounding,t)},E.decimalPlaces=E.dp=function(){var r,t=this.d,n=NaN;if(t){if(n=7*((r=t.length-1)-y(this.e/7)),r=t[r])for(;r%10==0;r/=10)n--;n<0&&(n=0)}return n},E.dividedBy=E.div=function(r){return R(this,new this.constructor(r))},E.dividedToIntegerBy=E.divToInt=function(r){var t=this.constructor;return k(R(this,new t(r),0,1,1),t.precision,t.rounding)},E.equals=E.eq=function(r){return 0===this.cmp(r)},E.floor=function(){return k(new this.constructor(this),this.e+1,3)},E.greaterThan=E.gt=function(r){return this.cmp(r)>0},E.greaterThanOrEqualTo=E.gte=function(r){var t=this.cmp(r);return 1==t||0===t},E.hyperbolicCosine=E.cosh=function(){var r,t,n,e,o,i=this,u=i.constructor,c=new u(1);if(!i.isFinite())return new u(i.s?1/0:NaN);if(i.isZero())return c;n=u.precision,e=u.rounding,u.precision=n+Math.max(i.e,i.sd())+4,u.rounding=1,(o=i.d.length)<32?t=(1/J(4,r=Math.ceil(o/3))).toString():(r=16,t="2.3283064365386962890625e-10"),i=Y(u,1,i.times(t),new u(1),!0);for(var a,s=r,f=new u(8);s--;)a=i.times(i),i=c.minus(a.times(f.minus(a.times(f))));return k(i,u.precision=n,u.rounding=e,!0)},E.hyperbolicSine=E.sinh=function(){var r,t,n,e,o=this,i=o.constructor;if(!o.isFinite()||o.isZero())return new i(o);if(t=i.precision,n=i.rounding,i.precision=t+Math.max(o.e,o.sd())+4,i.rounding=1,(e=o.d.length)<3)o=Y(i,2,o,o,!0);else{r=(r=1.4*Math.sqrt(e))>16?16:0|r,o=Y(i,2,o=o.times(1/J(5,r)),o,!0);for(var u,c=new i(5),a=new i(16),s=new i(20);r--;)u=o.times(o),o=o.times(c.plus(u.times(a.times(u).plus(s))))}return i.precision=t,i.rounding=n,k(o,t,n,!0)},E.hyperbolicTangent=E.tanh=function(){var r,t,n=this,e=n.constructor;return n.isFinite()?n.isZero()?new e(n):(r=e.precision,t=e.rounding,e.precision=r+7,e.rounding=1,R(n.sinh(),n.cosh(),e.precision=r,e.rounding=t)):new e(n.s)},E.inverseCosine=E.acos=function(){var r,t=this,n=t.constructor,e=t.abs().cmp(1),o=n.precision,i=n.rounding;return-1!==e?0===e?t.isNeg()?T(n,o,i):new n(0):new n(NaN):t.isZero()?T(n,o+4,i).times(.5):(n.precision=o+6,n.rounding=1,t=t.asin(),r=T(n,o+4,i).times(.5),n.precision=o,n.rounding=i,r.minus(t))},E.inverseHyperbolicCosine=E.acosh=function(){var r,t,n=this,e=n.constructor;return n.lte(1)?new e(n.eq(1)?0:NaN):n.isFinite()?(r=e.precision,t=e.rounding,e.precision=r+Math.max(Math.abs(n.e),n.sd())+4,e.rounding=1,p=!1,n=n.times(n).minus(1).sqrt().plus(n),p=!0,e.precision=r,e.rounding=t,n.ln()):new e(n)},E.inverseHyperbolicSine=E.asinh=function(){var r,t,n=this,e=n.constructor;return!n.isFinite()||n.isZero()?new e(n):(r=e.precision,t=e.rounding,e.precision=r+2*Math.max(Math.abs(n.e),n.sd())+6,e.rounding=1,p=!1,n=n.times(n).plus(1).sqrt().plus(n),p=!0,e.precision=r,e.rounding=t,n.ln())},E.inverseHyperbolicTangent=E.atanh=function(){var r,t,n,e,o=this,i=o.constructor;return o.isFinite()?o.e>=0?new i(o.abs().eq(1)?o.s/0:o.isZero()?o:NaN):(r=i.precision,t=i.rounding,e=o.sd(),Math.max(e,r)<2*-o.e-1?k(new i(o),r,t,!0):(i.precision=n=e-o.e,o=R(o.plus(1),new i(1).minus(o),n+r,1),i.precision=r+4,i.rounding=1,o=o.ln(),i.precision=r,i.rounding=t,o.times(.5))):new i(NaN)},E.inverseSine=E.asin=function(){var r,t,n,e,o=this,i=o.constructor;return o.isZero()?new i(o):(t=o.abs().cmp(1),n=i.precision,e=i.rounding,-1!==t?0===t?((r=T(i,n+4,e).times(.5)).s=o.s,r):new i(NaN):(i.precision=n+6,i.rounding=1,o=o.div(new i(1).minus(o.times(o)).sqrt().plus(1)).atan(),i.precision=n,i.rounding=e,o.times(2)))},E.inverseTangent=E.atan=function(){var r,t,n,e,o,i,u,c,a,s=this,f=s.constructor,l=f.precision,h=f.rounding;if(s.isFinite()){if(s.isZero())return new f(s);if(s.abs().eq(1)&&l+4<=D)return(u=T(f,l+4,h).times(.25)).s=s.s,u}else{if(!s.s)return new f(NaN);if(l+4<=D)return(u=T(f,l+4,h).times(.5)).s=s.s,u}for(f.precision=c=l+10,f.rounding=1,r=n=Math.min(28,c/7+2|0);r;--r)s=s.div(s.times(s).plus(1).sqrt().plus(1));for(p=!1,t=Math.ceil(c/7),e=1,a=s.times(s),u=new f(s),o=s;-1!==r;)if(o=o.times(a),i=u.minus(o.div(e+=2)),o=o.times(a),void 0!==(u=i.plus(o.div(e+=2))).d[t])for(r=t;u.d[r]===i.d[r]&&r--;);return n&&(u=u.times(2<<n-1)),p=!0,k(u,f.precision=l,f.rounding=h,!0)},E.isFinite=function(){return!!this.d},E.isInteger=E.isInt=function(){return!!this.d&&y(this.e/7)>this.d.length-2},E.isNaN=function(){return!this.s},E.isNegative=E.isNeg=function(){return this.s<0},E.isPositive=E.isPos=function(){return this.s>0},E.isZero=function(){return!!this.d&&0===this.d[0]},E.lessThan=E.lt=function(r){return this.cmp(r)<0},E.lessThanOrEqualTo=E.lte=function(r){return this.cmp(r)<1},E.logarithm=E.log=function(r){var t,n,e,o,i,u,c,a,s=this,f=s.constructor,l=f.precision,h=f.rounding;if(null==r)r=new f(10),t=!0;else{if(n=(r=new f(r)).d,r.s<0||!n||!n[0]||r.eq(1))return new f(NaN);t=r.eq(10)}if(n=s.d,s.s<0||!n||!n[0]||s.eq(1))return new f(n&&!n[0]?-1/0:1!=s.s?NaN:n?0:1/0);if(t)if(n.length>1)i=!0;else{for(o=n[0];o%10==0;)o/=10;i=1!==o}if(p=!1,u=Z(s,c=l+5),e=t?q(f,c+10):Z(r,c),A((a=R(u,e,c,1)).d,o=l,h))do{if(u=Z(s,c+=10),e=t?q(f,c+10):Z(r,c),a=R(u,e,c,1),!i){+O(a.d).slice(o+1,o+15)+1==1e14&&(a=k(a,l+1,0));break}}while(A(a.d,o+=10,h));return p=!0,k(a,l,h)},E.minus=E.sub=function(r){var t,n,e,o,i,u,c,a,s,f,l,h,v=this,d=v.constructor;if(r=new d(r),!v.d||!r.d)return v.s&&r.s?v.d?r.s=-r.s:r=new d(r.d||v.s!==r.s?v:NaN):r=new d(NaN),r;if(v.s!=r.s)return r.s=-r.s,v.plus(r);if(s=v.d,h=r.d,c=d.precision,a=d.rounding,!s[0]||!h[0]){if(h[0])r.s=-r.s;else{if(!s[0])return new d(3===a?-0:0);r=new d(v)}return p?k(r,c,a):r}if(n=y(r.e/7),f=y(v.e/7),s=s.slice(),i=f-n){for((l=i<0)?(t=s,i=-i,u=h.length):(t=h,n=f,u=s.length),i>(e=Math.max(Math.ceil(c/7),u)+2)&&(i=e,t.length=1),t.reverse(),e=i;e--;)t.push(0);t.reverse()}else{for((l=(e=s.length)<(u=h.length))&&(u=e),e=0;e<u;e++)if(s[e]!=h[e]){l=s[e]<h[e];break}i=0}for(l&&(t=s,s=h,h=t,r.s=-r.s),u=s.length,e=h.length-u;e>0;--e)s[u++]=0;for(e=h.length;e>i;){if(s[--e]<h[e]){for(o=e;o&&0===s[--o];)s[o]=N-1;--s[o],s[e]+=N}s[e]-=h[e]}for(;0===s[--u];)s.pop();for(;0===s[0];s.shift())--n;return s[0]?(r.d=s,r.e=L(s,n),p?k(r,c,a):r):new d(3===a?-0:0)},E.modulo=E.mod=function(r){var t,n=this,e=n.constructor;return r=new e(r),!n.d||!r.s||r.d&&!r.d[0]?new e(NaN):!r.d||n.d&&!n.d[0]?k(new e(n),e.precision,e.rounding):(p=!1,9==e.modulo?(t=R(n,r.abs(),0,3,1)).s*=r.s:t=R(n,r,0,e.modulo,1),t=t.times(r),p=!0,n.minus(t))},E.naturalExponential=E.exp=function(){return B(this)},E.naturalLogarithm=E.ln=function(){return Z(this)},E.negated=E.neg=function(){var r=new this.constructor(this);return r.s=-r.s,k(r)},E.plus=E.add=function(r){var t,n,e,o,i,u,c,a,s,f,l=this,h=l.constructor;if(r=new h(r),!l.d||!r.d)return l.s&&r.s?l.d||(r=new h(r.d||l.s===r.s?l:NaN)):r=new h(NaN),r;if(l.s!=r.s)return r.s=-r.s,l.minus(r);if(s=l.d,f=r.d,c=h.precision,a=h.rounding,!s[0]||!f[0])return f[0]||(r=new h(l)),p?k(r,c,a):r;if(i=y(l.e/7),e=y(r.e/7),s=s.slice(),o=i-e){for(o<0?(n=s,o=-o,u=f.length):(n=f,e=i,u=s.length),o>(u=(i=Math.ceil(c/7))>u?i+1:u+1)&&(o=u,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for((u=s.length)-(o=f.length)<0&&(o=u,n=f,f=s,s=n),t=0;o;)t=(s[--o]=s[o]+f[o]+t)/N|0,s[o]%=N;for(t&&(s.unshift(t),++e),u=s.length;0==s[--u];)s.pop();return r.d=s,r.e=L(s,e),p?k(r,c,a):r},E.precision=E.sd=function(r){var t,n=this;if(void 0!==r&&r!==!!r&&1!==r&&0!==r)throw Error(d+r);return n.d?(t=G(n.d),r&&n.e+1>t&&(t=n.e+1)):t=NaN,t},E.round=function(){var r=this,t=r.constructor;return k(new t(r),r.e+1,t.rounding)},E.sine=E.sin=function(){var r,t,n=this,e=n.constructor;return n.isFinite()?n.isZero()?new e(n):(r=e.precision,t=e.rounding,e.precision=r+Math.max(n.e,n.sd())+7,e.rounding=1,n=function(r,t){var n,e=t.d.length;if(e<3)return t.isZero()?t:Y(r,2,t,t);n=(n=1.4*Math.sqrt(e))>16?16:0|n,t=t.times(1/J(5,n)),t=Y(r,2,t,t);for(var o,i=new r(5),u=new r(16),c=new r(20);n--;)o=t.times(t),t=t.times(i.plus(o.times(u.times(o).minus(c))));return t}(e,X(e,n)),e.precision=r,e.rounding=t,k(u>2?n.neg():n,r,t,!0)):new e(NaN)},E.squareRoot=E.sqrt=function(){var r,t,n,e,o,i,u=this,c=u.d,a=u.e,s=u.s,f=u.constructor;if(1!==s||!c||!c[0])return new f(!s||s<0&&(!c||c[0])?NaN:c?u:1/0);for(p=!1,0==(s=Math.sqrt(+u))||s==1/0?(((t=O(c)).length+a)%2==0&&(t+="0"),s=Math.sqrt(t),a=y((a+1)/2)-(a<0||a%2),e=new f(t=s==1/0?"5e"+a:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+a)):e=new f(s.toString()),n=(a=f.precision)+3;;)if(e=(i=e).plus(R(u,i,n+2,1)).times(.5),O(i.d).slice(0,n)===(t=O(e.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(k(e,a+1,1),r=!e.times(e).eq(u));break}if(!o&&(k(i,a+1,0),i.times(i).eq(u))){e=i;break}n+=4,o=1}return p=!0,k(e,a,f.rounding,r)},E.tangent=E.tan=function(){var r,t,n=this,e=n.constructor;return n.isFinite()?n.isZero()?new e(n):(r=e.precision,t=e.rounding,e.precision=r+10,e.rounding=1,(n=n.sin()).s=1,n=R(n,new e(1).minus(n.times(n)).sqrt(),r+10,0),e.precision=r,e.rounding=t,k(2==u||4==u?n.neg():n,r,t,!0)):new e(NaN)},E.times=E.mul=function(r){var t,n,e,o,i,u,c,a,s,f=this,l=f.constructor,h=f.d,v=(r=new l(r)).d;if(r.s*=f.s,!(h&&h[0]&&v&&v[0]))return new l(!r.s||h&&!h[0]&&!v||v&&!v[0]&&!h?NaN:h&&v?0*r.s:r.s/0);for(n=y(f.e/7)+y(r.e/7),(a=h.length)<(s=v.length)&&(i=h,h=v,v=i,u=a,a=s,s=u),i=[],e=u=a+s;e--;)i.push(0);for(e=s;--e>=0;){for(t=0,o=a+e;o>e;)c=i[o]+v[e]*h[o-e-1]+t,i[o--]=c%N|0,t=c/N|0;i[o]=(i[o]+t)%N|0}for(;!i[--u];)i.pop();return t?++n:i.shift(),r.d=i,r.e=L(i,n),p?k(r,l.precision,l.rounding):r},E.toBinary=function(r,t){return K(this,2,r,t)},E.toDecimalPlaces=E.toDP=function(r,t){var n=this,e=n.constructor;return n=new e(n),void 0===r?n:(C(r,0,a),void 0===t?t=e.rounding:C(t,0,8),k(n,r+n.e+1,t))},E.toExponential=function(r,t){var n,e=this,o=e.constructor;return void 0===r?n=F(e,!0):(C(r,0,a),void 0===t?t=o.rounding:C(t,0,8),n=F(e=k(new o(e),r+1,t),!0,r+1)),e.isNeg()&&!e.isZero()?"-"+n:n},E.toFixed=function(r,t){var n,e,o=this,i=o.constructor;return void 0===r?n=F(o):(C(r,0,a),void 0===t?t=i.rounding:C(t,0,8),n=F(e=k(new i(o),r+o.e+1,t),!1,r+e.e+1)),o.isNeg()&&!o.isZero()?"-"+n:n},E.toFraction=function(r){var t,n,e,o,i,u,c,a,s,f,l,h,v=this,g=v.d,w=v.constructor;if(!g)return new w(v);if(s=n=new w(1),e=a=new w(0),u=(i=(t=new w(e)).e=G(g)-v.e-1)%7,t.d[0]=m(10,u<0?7+u:u),null==r)r=i>0?t:s;else{if(!(c=new w(r)).isInt()||c.lt(s))throw Error(d+c);r=c.gt(t)?i>0?t:s:c}for(p=!1,c=new w(O(g)),f=w.precision,w.precision=i=7*g.length*2;l=R(c,t,0,1,1),1!=(o=n.plus(l.times(e))).cmp(r);)n=e,e=o,o=s,s=a.plus(l.times(o)),a=o,o=t,t=c.minus(l.times(o)),c=o;return o=R(r.minus(n),e,0,1,1),a=a.plus(o.times(s)),n=n.plus(o.times(e)),a.s=s.s=v.s,h=R(s,e,i,1).minus(v).abs().cmp(R(a,n,i,1).minus(v).abs())<1?[s,e]:[a,n],w.precision=f,p=!0,h},E.toHexadecimal=E.toHex=function(r,t){return K(this,16,r,t)},E.toNearest=function(r,t){var n=this,e=n.constructor;if(n=new e(n),null==r){if(!n.d)return n;r=new e(1),t=e.rounding}else{if(r=new e(r),void 0===t?t=e.rounding:C(t,0,8),!n.d)return r.s?n:r;if(!r.d)return r.s&&(r.s=n.s),r}return r.d[0]?(p=!1,n=R(n,r,0,t,1).times(r),p=!0,k(n)):(r.s=n.s,n=r),n},E.toNumber=function(){return+this},E.toOctal=function(r,t){return K(this,8,r,t)},E.toPower=E.pow=function(r){var t,n,e,o,i,u,c=this,a=c.constructor,s=+(r=new a(r));if(!(c.d&&r.d&&c.d[0]&&r.d[0]))return new a(m(+c,s));if((c=new a(c)).eq(1))return c;if(e=a.precision,i=a.rounding,r.eq(1))return k(c,e,i);if((t=y(r.e/7))>=r.d.length-1&&(n=s<0?-s:s)<=9007199254740991)return o=U(a,c,n,e),r.s<0?new a(1).div(o):k(o,e,i);if((u=c.s)<0){if(t<r.d.length-1)return new a(NaN);if(0==(1&r.d[t])&&(u=1),0==c.e&&1==c.d[0]&&1==c.d.length)return c.s=u,c}return(t=0!=(n=m(+c,s))&&isFinite(n)?new a(n+"").e:y(s*(Math.log("0."+O(c.d))/Math.LN10+c.e+1)))>a.maxE+1||t<a.minE-1?new a(t>0?u/0:0):(p=!1,a.rounding=c.s=1,n=Math.min(12,(t+"").length),(o=B(r.times(Z(c,e+n)),e)).d&&A((o=k(o,e+5,1)).d,e,i)&&(t=e+10,+O((o=k(B(r.times(Z(c,t+n)),t),t+5,1)).d).slice(e+1,e+15)+1==1e14&&(o=k(o,e+1,0))),o.s=u,p=!0,a.rounding=i,k(o,e,i))},E.toPrecision=function(r,t){var n,e=this,o=e.constructor;return void 0===r?n=F(e,e.e<=o.toExpNeg||e.e>=o.toExpPos):(C(r,1,a),void 0===t?t=o.rounding:C(t,0,8),n=F(e=k(new o(e),r,t),r<=e.e||e.e<=o.toExpNeg,r)),e.isNeg()&&!e.isZero()?"-"+n:n},E.toSignificantDigits=E.toSD=function(r,t){var n=this.constructor;return void 0===r?(r=n.precision,t=n.rounding):(C(r,1,a),void 0===t?t=n.rounding:C(t,0,8)),k(new n(this),r,t)},E.toString=function(){var r=this,t=r.constructor,n=F(r,r.e<=t.toExpNeg||r.e>=t.toExpPos);return r.isNeg()&&!r.isZero()?"-"+n:n},E.truncated=E.trunc=function(){return k(new this.constructor(this),this.e+1,1)},E.valueOf=E.toJSON=function(){var r=this,t=r.constructor,n=F(r,r.e<=t.toExpNeg||r.e>=t.toExpPos);return r.isNeg()?"-"+n:n};var R=function(){function r(r,t,n){var e,o=0,i=r.length;for(r=r.slice();i--;)e=r[i]*t+o,r[i]=e%n|0,o=e/n|0;return o&&r.unshift(o),r}function t(r,t,n,e){var o,i;if(n!=e)i=n>e?1:-1;else for(o=i=0;o<n;o++)if(r[o]!=t[o]){i=r[o]>t[o]?1:-1;break}return i}function n(r,t,n,e){for(var o=0;n--;)r[n]-=o,o=r[n]<t[n]?1:0,r[n]=o*e+r[n]-t[n];for(;!r[0]&&r.length>1;)r.shift()}return function(o,i,u,c,a,s){var f,l,h,p,v,d,g,w,b,m,M,S,_,j,x,D,E,O,C,A,P=o.constructor,R=o.s==i.s?1:-1,F=o.d,L=i.d;if(!(F&&F[0]&&L&&L[0]))return new P(o.s&&i.s&&(F?!L||F[0]!=L[0]:L)?F&&0==F[0]||!L?0*R:R/0:NaN);for(s?(v=1,l=o.e-i.e):(s=N,v=7,l=y(o.e/v)-y(i.e/v)),C=L.length,E=F.length,m=(b=new P(R)).d=[],h=0;L[h]==(F[h]||0);h++);if(L[h]>(F[h]||0)&&l--,null==u?(j=u=P.precision,c=P.rounding):j=a?u+(o.e-i.e)+1:u,j<0)m.push(1),d=!0;else{if(j=j/v+2|0,h=0,1==C){for(p=0,L=L[0],j++;(h<E||p)&&j--;h++)x=p*s+(F[h]||0),m[h]=x/L|0,p=x%L|0;d=p||h<E}else{for((p=s/(L[0]+1)|0)>1&&(L=r(L,p,s),F=r(F,p,s),C=L.length,E=F.length),D=C,S=(M=F.slice(0,C)).length;S<C;)M[S++]=0;(A=L.slice()).unshift(0),O=L[0],L[1]>=s/2&&++O;do{p=0,(f=t(L,M,C,S))<0?(_=M[0],C!=S&&(_=_*s+(M[1]||0)),(p=_/O|0)>1?(p>=s&&(p=s-1),1==(f=t(g=r(L,p,s),M,w=g.length,S=M.length))&&(p--,n(g,C<w?A:L,w,s))):(0==p&&(f=p=1),g=L.slice()),(w=g.length)<S&&g.unshift(0),n(M,g,S,s),-1==f&&(f=t(L,M,C,S=M.length))<1&&(p++,n(M,C<S?A:L,S,s)),S=M.length):0===f&&(p++,M=[0]),m[h++]=p,f&&M[0]?M[S++]=F[D]||0:(M=[F[D]],S=1)}while((D++<E||void 0!==M[0])&&j--);d=void 0!==M[0]}m[0]||m.shift()}if(1==v)b.e=l,e=d;else{for(h=1,p=m[0];p>=10;p/=10)h++;b.e=h+l*v-1,k(b,a?u+b.e+1:u,c,d)}return b}}();function k(r,t,n,e){var o,i,u,c,a,s,f,l,h,v=r.constructor;r:if(null!=t){if(!(l=r.d))return r;for(o=1,c=l[0];c>=10;c/=10)o++;if((i=t-o)<0)i+=7,u=t,a=(f=l[h=0])/m(10,o-u-1)%10|0;else if((h=Math.ceil((i+1)/7))>=(c=l.length)){if(!e)break r;for(;c++<=h;)l.push(0);f=a=0,o=1,u=(i%=7)-7+1}else{for(f=c=l[h],o=1;c>=10;c/=10)o++;a=(u=(i%=7)-7+o)<0?0:f/m(10,o-u-1)%10|0}if(e=e||t<0||void 0!==l[h+1]||(u<0?f:f%m(10,o-u-1)),s=n<4?(a||e)&&(0==n||n==(r.s<0?3:2)):a>5||5==a&&(4==n||e||6==n&&(i>0?u>0?f/m(10,o-u):0:l[h-1])%10&1||n==(r.s<0?8:7)),t<1||!l[0])return l.length=0,s?(t-=r.e+1,l[0]=m(10,(7-t%7)%7),r.e=-t||0):l[0]=r.e=0,r;if(0==i?(l.length=h,c=1,h--):(l.length=h+1,c=m(10,7-i),l[h]=u>0?(f/m(10,o-u)%m(10,u)|0)*c:0),s)for(;;){if(0==h){for(i=1,u=l[0];u>=10;u/=10)i++;for(u=l[0]+=c,c=1;u>=10;u/=10)c++;i!=c&&(r.e++,l[0]==N&&(l[0]=1));break}if(l[h]+=c,l[h]!=N)break;l[h--]=0,c=1}for(i=l.length;0===l[--i];)l.pop()}return p&&(r.e>v.maxE?(r.d=null,r.e=NaN):r.e<v.minE&&(r.e=0,r.d=[0])),r}function F(r,t,n){if(!r.isFinite())return $(r);var e,o=r.e,i=O(r.d),u=i.length;return t?(n&&(e=n-u)>0?i=i.charAt(0)+"."+i.slice(1)+I(e):u>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(r.e<0?"e":"e+")+r.e):o<0?(i="0."+I(-o-1)+i,n&&(e=n-u)>0&&(i+=I(e))):o>=u?(i+=I(o+1-u),n&&(e=n-o-1)>0&&(i=i+"."+I(e))):((e=o+1)<u&&(i=i.slice(0,e)+"."+i.slice(e)),n&&(e=n-u)>0&&(o+1===u&&(i+="."),i+=I(e))),i}function L(r,t){var n=r[0];for(t*=7;n>=10;n/=10)t++;return t}function q(r,t,n){if(t>x)throw p=!0,n&&(r.precision=n),Error(g);return k(new r(f),t,1,!0)}function T(r,t,n){if(t>D)throw Error(g);return k(new r(l),t,n,!0)}function G(r){var t=r.length-1,n=7*t+1;if(t=r[t]){for(;t%10==0;t/=10)n--;for(t=r[0];t>=10;t/=10)n++}return n}function I(r){for(var t="";r--;)t+="0";return t}function U(r,t,n,e){var o,i=new r(1),u=Math.ceil(e/7+4);for(p=!1;;){if(n%2&&Q((i=i.times(t)).d,u)&&(o=!0),0===(n=y(n/2))){n=i.d.length-1,o&&0===i.d[n]&&++i.d[n];break}Q((t=t.times(t)).d,u)}return p=!0,i}function V(r){return 1&r.d[r.d.length-1]}function z(r,t,n){for(var e,o=new r(t[0]),i=0;++i<t.length;){if(!(e=new r(t[i])).s){o=e;break}o[n](e)&&(o=e)}return o}function B(r,t){var n,e,o,i,u,c,a,s=0,f=0,l=0,h=r.constructor,v=h.rounding,d=h.precision;if(!r.d||!r.d[0]||r.e>17)return new h(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(null==t?(p=!1,a=d):a=t,c=new h(.03125);r.e>-2;)r=r.times(c),l+=5;for(a+=e=Math.log(m(2,l))/Math.LN10*2+5|0,n=i=u=new h(1),h.precision=a;;){if(i=k(i.times(r),a,1),n=n.times(++f),O((c=u.plus(R(i,n,a,1))).d).slice(0,a)===O(u.d).slice(0,a)){for(o=l;o--;)u=k(u.times(u),a,1);if(null!=t)return h.precision=d,u;if(!(s<3&&A(u.d,a-e,v,s)))return k(u,h.precision=d,v,p=!0);h.precision=a+=10,n=i=c=new h(1),f=0,s++}u=c}}function Z(r,t){var n,e,o,i,u,c,a,s,f,l,h,v=1,d=r,g=d.d,w=d.constructor,b=w.rounding,y=w.precision;if(d.s<0||!g||!g[0]||!d.e&&1==g[0]&&1==g.length)return new w(g&&!g[0]?-1/0:1!=d.s?NaN:g?0:d);if(null==t?(p=!1,f=y):f=t,w.precision=f+=10,e=(n=O(g)).charAt(0),!(Math.abs(i=d.e)<15e14))return s=q(w,f+2,y).times(i+""),d=Z(new w(e+"."+n.slice(1)),f-10).plus(s),w.precision=y,null==t?k(d,y,b,p=!0):d;for(;e<7&&1!=e||1==e&&n.charAt(1)>3;)e=(n=O((d=d.times(r)).d)).charAt(0),v++;for(i=d.e,e>1?(d=new w("0."+n),i++):d=new w(e+"."+n.slice(1)),l=d,a=u=d=R(d.minus(1),d.plus(1),f,1),h=k(d.times(d),f,1),o=3;;){if(u=k(u.times(h),f,1),O((s=a.plus(R(u,new w(o),f,1))).d).slice(0,f)===O(a.d).slice(0,f)){if(a=a.times(2),0!==i&&(a=a.plus(q(w,f+2,y).times(i+""))),a=R(a,new w(v),f,1),null!=t)return w.precision=y,a;if(!A(a.d,f-10,b,c))return k(a,w.precision=y,b,p=!0);w.precision=f+=10,s=u=d=R(l.minus(1),l.plus(1),f,1),h=k(d.times(d),f,1),o=c=1}a=s,o+=2}}function $(r){return String(r.s*r.s/0)}function H(r,t){var n,e,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(e=t.search(/e/i))>0?(n<0&&(n=e),n+=+t.slice(e+1),t=t.substring(0,e)):n<0&&(n=t.length),e=0;48===t.charCodeAt(e);e++);for(o=t.length;48===t.charCodeAt(o-1);--o);if(t=t.slice(e,o)){if(o-=e,r.e=n=n-e-1,r.d=[],e=(n+1)%7,n<0&&(e+=7),e<o){for(e&&r.d.push(+t.slice(0,e)),o-=7;e<o;)r.d.push(+t.slice(e,e+=7));e=7-(t=t.slice(e)).length}else e-=o;for(;e--;)t+="0";r.d.push(+t),p&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function W(r,t){var e,o,i,u,c,a,s,f,l;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),j.test(t))return H(r,t)}else if("Infinity"===t||"NaN"===t)return+t||(r.s=NaN),r.e=NaN,r.d=null,r;if(S.test(t))e=16,t=t.toLowerCase();else if(M.test(t))e=2;else{if(!_.test(t))throw Error(d+t);e=8}for((u=t.search(/p/i))>0?(s=+t.slice(u+1),t=t.substring(2,u)):t=t.slice(2),c=(u=t.indexOf("."))>=0,o=r.constructor,c&&(u=(a=(t=t.replace(".","")).length)-u,i=U(o,new o(e),u,2*u)),u=l=(f=P(t,e,N)).length-1;0===f[u];--u)f.pop();return u<0?new o(0*r.s):(r.e=L(f,l),r.d=f,p=!1,c&&(r=R(r,i,4*a)),s&&(r=r.times(Math.abs(s)<54?m(2,s):n.pow(2,s))),p=!0,r)}function Y(r,t,n,e,o){var i,u,c,a,s=r.precision,f=Math.ceil(s/7);for(p=!1,a=n.times(n),c=new r(e);;){if(u=R(c.times(a),new r(t++*t++),s,1),c=o?e.plus(u):e.minus(u),e=R(u.times(a),new r(t++*t++),s,1),void 0!==(u=c.plus(e)).d[f]){for(i=f;u.d[i]===c.d[i]&&i--;);if(-1==i)break}i=c,c=e,e=u,u=i}return p=!0,u.d.length=f+1,u}function J(r,t){for(var n=r;--t;)n*=r;return n}function X(r,t){var n,e=t.s<0,o=T(r,r.precision,1),i=o.times(.5);if((t=t.abs()).lte(i))return u=e?4:1,t;if((n=t.divToInt(o)).isZero())u=e?3:2;else{if((t=t.minus(n.times(o))).lte(i))return u=V(n)?e?2:3:e?4:1,t;u=V(n)?e?1:4:e?3:2}return t.minus(o).abs()}function K(r,t,n,o){var i,u,c,f,l,h,p,v,d,g=r.constructor,w=void 0!==n;if(w?(C(n,1,a),void 0===o?o=g.rounding:C(o,0,8)):(n=g.precision,o=g.rounding),r.isFinite()){for(w?(i=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):i=t,(c=(p=F(r)).indexOf("."))>=0&&(p=p.replace(".",""),(d=new g(1)).e=p.length-c,d.d=P(F(d),10,i),d.e=d.d.length),u=l=(v=P(p,10,i)).length;0==v[--l];)v.pop();if(v[0]){if(c<0?u--:((r=new g(r)).d=v,r.e=u,v=(r=R(r,d,n,o,0,i)).d,u=r.e,h=e),c=v[n],f=i/2,h=h||void 0!==v[n+1],h=o<4?(void 0!==c||h)&&(0===o||o===(r.s<0?3:2)):c>f||c===f&&(4===o||h||6===o&&1&v[n-1]||o===(r.s<0?8:7)),v.length=n,h)for(;++v[--n]>i-1;)v[n]=0,n||(++u,v.unshift(1));for(l=v.length;!v[l-1];--l);for(c=0,p="";c<l;c++)p+=s.charAt(v[c]);if(w){if(l>1)if(16==t||8==t){for(c=16==t?4:3,--l;l%c;l++)p+="0";for(l=(v=P(p,i,t)).length;!v[l-1];--l);for(c=1,p="1.";c<l;c++)p+=s.charAt(v[c])}else p=p.charAt(0)+"."+p.slice(1);p=p+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)p="0"+p;p="0."+p}else if(++u>l)for(u-=l;u--;)p+="0";else u<l&&(p=p.slice(0,u)+"."+p.slice(u))}else p=w?"0p+0":"0";p=(16==t?"0x":2==t?"0b":8==t?"0o":"")+p}else p=$(r);return r.s<0?"-"+p:p}function Q(r,t){if(r.length>t)return r.length=t,!0}function rr(r){return new this(r).abs()}function tr(r){return new this(r).acos()}function nr(r){return new this(r).acosh()}function er(r,t){return new this(r).plus(t)}function or(r){return new this(r).asin()}function ir(r){return new this(r).asinh()}function ur(r){return new this(r).atan()}function cr(r){return new this(r).atanh()}function ar(r,t){r=new this(r),t=new this(t);var n,e=this.precision,o=this.rounding,i=e+4;return r.s&&t.s?r.d||t.d?!t.d||r.isZero()?(n=t.s<0?T(this,e,o):new this(0)).s=r.s:!r.d||t.isZero()?(n=T(this,i,1).times(.5)).s=r.s:t.s<0?(this.precision=i,this.rounding=1,n=this.atan(R(r,t,i,1)),t=T(this,i,1),this.precision=e,this.rounding=o,n=r.s<0?n.minus(t):n.plus(t)):n=this.atan(R(r,t,i,1)):(n=T(this,i,1).times(t.s>0?.25:.75)).s=r.s:n=new this(NaN),n}function sr(r){return new this(r).cbrt()}function fr(r){return k(r=new this(r),r.e+1,2)}function lr(r,t,n){return new this(r).clamp(t,n)}function hr(r){if(!r||"object"!==o(r))throw Error(v+"Object expected");var t,n,e,i=!0===r.defaults,u=["precision",1,a,"rounding",0,8,"toExpNeg",-c,0,"toExpPos",0,c,"maxE",0,c,"minE",-c,0,"modulo",0,9];for(t=0;t<u.length;t+=3)if(n=u[t],i&&(this[n]=h[n]),void 0!==(e=r[n])){if(!(y(e)===e&&e>=u[t+1]&&e<=u[t+2]))throw Error(d+n+": "+e);this[n]=e}if(n="crypto",i&&(this[n]=h[n]),void 0!==(e=r[n])){if(!0!==e&&!1!==e&&0!==e&&1!==e)throw Error(d+n+": "+e);if(e){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(w);this[n]=!0}else this[n]=!1}return this}function pr(r){return new this(r).cos()}function vr(r){return new this(r).cosh()}function dr(r,t){return new this(r).div(t)}function gr(r){return new this(r).exp()}function wr(r){return k(r=new this(r),r.e+1,3)}function br(){var r,t,n=new this(0);for(p=!1,r=0;r<arguments.length;)if((t=new this(arguments[r++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return p=!0,new this(1/0);n=t}return p=!0,n.sqrt()}function yr(r){return r instanceof n||r&&r.toStringTag===b||!1}function mr(r){return new this(r).ln()}function Mr(r,t){return new this(r).log(t)}function Sr(r){return new this(r).log(2)}function _r(r){return new this(r).log(10)}function jr(){return z(this,arguments,"lt")}function Nr(){return z(this,arguments,"gt")}function xr(r,t){return new this(r).mod(t)}function Dr(r,t){return new this(r).mul(t)}function Er(r,t){return new this(r).pow(t)}function Or(r){var t,n,e,o,i=0,u=new this(1),c=[];if(void 0===r?r=this.precision:C(r,1,a),e=Math.ceil(r/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(e));i<e;)(o=t[i])>=429e7?t[i]=crypto.getRandomValues(new Uint32Array(1))[0]:c[i++]=o%1e7;else{if(!crypto.randomBytes)throw Error(w);for(t=crypto.randomBytes(e*=4);i<e;)(o=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((127&t[i+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,i):(c.push(o%1e7),i+=4);i=e/4}else for(;i<e;)c[i++]=1e7*Math.random()|0;for(r%=7,(e=c[--i])&&r&&(o=m(10,7-r),c[i]=(e/o|0)*o);0===c[i];i--)c.pop();if(i<0)n=0,c=[0];else{for(n=-1;0===c[0];n-=7)c.shift();for(e=1,o=c[0];o>=10;o/=10)e++;e<7&&(n-=7-e)}return u.e=n,u.d=c,u}function Cr(r){return k(r=new this(r),r.e+1,this.rounding)}function Ar(r){return(r=new this(r)).d?r.d[0]?r.s:0*r.s:r.s||NaN}function Pr(r){return new this(r).sin()}function Rr(r){return new this(r).sinh()}function kr(r){return new this(r).sqrt()}function Fr(r,t){return new this(r).sub(t)}function Lr(){var r=0,t=arguments,n=new this(t[r]);for(p=!1;n.s&&++r<t.length;)n=n.plus(t[r]);return p=!0,k(n,this.precision,this.rounding)}function qr(r){return new this(r).tan()}function Tr(r){return new this(r).tanh()}function Gr(r){return k(r=new this(r),r.e+1,1)}n=function r(t){var n,e,i;function u(r){var t,n,e,i=this;if(!(i instanceof u))return new u(r);if(i.constructor=u,yr(r))return i.s=r.s,void(p?!r.d||r.e>u.maxE?(i.e=NaN,i.d=null):r.e<u.minE?(i.e=0,i.d=[0]):(i.e=r.e,i.d=r.d.slice()):(i.e=r.e,i.d=r.d?r.d.slice():r.d));if("number"===(e=o(r))){if(0===r)return i.s=1/r<0?-1:1,i.e=0,void(i.d=[0]);if(r<0?(r=-r,i.s=-1):i.s=1,r===~~r&&r<1e7){for(t=0,n=r;n>=10;n/=10)t++;return void(p?t>u.maxE?(i.e=NaN,i.d=null):t<u.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[r]):(i.e=t,i.d=[r]))}return 0*r!=0?(r||(i.s=NaN),i.e=NaN,void(i.d=null)):H(i,r.toString())}if("string"!==e)throw Error(d+r);return 45===(n=r.charCodeAt(0))?(r=r.slice(1),i.s=-1):(43===n&&(r=r.slice(1)),i.s=1),j.test(r)?H(i,r):W(i,r)}if(u.prototype=E,u.ROUND_UP=0,u.ROUND_DOWN=1,u.ROUND_CEIL=2,u.ROUND_FLOOR=3,u.ROUND_HALF_UP=4,u.ROUND_HALF_DOWN=5,u.ROUND_HALF_EVEN=6,u.ROUND_HALF_CEIL=7,u.ROUND_HALF_FLOOR=8,u.EUCLID=9,u.config=u.set=hr,u.clone=r,u.isDecimal=yr,u.abs=rr,u.acos=tr,u.acosh=nr,u.add=er,u.asin=or,u.asinh=ir,u.atan=ur,u.atanh=cr,u.atan2=ar,u.cbrt=sr,u.ceil=fr,u.clamp=lr,u.cos=pr,u.cosh=vr,u.div=dr,u.exp=gr,u.floor=wr,u.hypot=br,u.ln=mr,u.log=Mr,u.log10=_r,u.log2=Sr,u.max=jr,u.min=Nr,u.mod=xr,u.mul=Dr,u.pow=Er,u.random=Or,u.round=Cr,u.sign=Ar,u.sin=Pr,u.sinh=Rr,u.sqrt=kr,u.sub=Fr,u.sum=Lr,u.tan=qr,u.tanh=Tr,u.trunc=Gr,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(e=i[n++])||(t[e]=this[e]);return u.config(t),u}(h),n.prototype.constructor=n,n.default=n.Decimal=n,f=new n(f),l=new n(l),r.exports?("function"==typeof Symbol&&"symbol"==o(Symbol.iterator)&&(E[Symbol.for("nodejs.util.inspect.custom")]=E.toString,E[Symbol.toStringTag]="Decimal"),r.exports=n):(t||(t="undefined"!=typeof self&&self&&self.self==self?self:window),i=t.Decimal,n.noConflict=function(){return t.Decimal=i,n},t.Decimal=n)}(i)}));function bo(r,t){return new wo(r).eq(t)}function yo(r,t,n){if("==="===t)return bo(r,n);if("!=="===t)return function(r,t){return!bo(r,t)}(r,n);if(">="===t)return function(r,t){return new wo(r).gte(t)}(r,n);if(">"===t)return function(r,t){return new wo(r).gt(t)}(r,n);if("<="===t)return function(r,t){return new wo(r).lte(t)}(r,n);if("<"===t)return function(r,t){return new wo(r).lt(t)}(r,n);throw console.log(t),new Error("invalid op")}function mo(r,t,n){return t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}var Mo=function(r,t){return(D(r)?tt:$n)(r,Zn(t))};var So=function(r,t){for(var n=-1,e=t.length,o=Array(e),i=null==r;++n<e;)o[n]=i?void 0:st(r,t[n]);return o};var _o=function(r){var t=null==r?0:r.length;return t?r[t-1]:void 0};var jo=function(r,t,n){var e=-1,o=r.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++e<o;)i[e]=r[e+t];return i};var No=function(r,t){return t.length<2?r:at(r,jo(t,0,-1))};var xo=function(r,t){return t=ut(t,r),null==(r=No(r,t))||delete r[ct(_o(t))]},Do=Array.prototype.splice;var Eo=function(r,t){for(var n=r?t.length:0,e=n-1;n--;){var o=t[n];if(n==e||o!==i){var i=o;A(o)?Do.call(r,o,1):xo(r,o)}}return r};var Oo=function(r){return(null==r?0:r.length)?Xt(r,1):[]};var Co=function(r){return ie(Qn(r,void 0,Oo),r+"")}((function(r,t){var n=null==r?0:r.length,e=So(r,t);return Eo(r,tt(t,(function(r){return A(r,n)?+r:r})).sort(Wn)),e}));function Ao(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(!go(r))throw new Error("");var e=st(t,"keyDepth");so(e)||(e="depth");var o=st(t,"keyDepthStart");so(o)||(o="depthStart");var i=st(t,"keyDepthEnd");so(i)||(i="depthEnd");var u=st(t,"depthEndMax");if(u=fo(u)?lo(u):null,r=Je(r),rr(r,(function(r,t){var o=st(r,e,null);fo(o)||n.push(" ".concat(t," ").concat(e,"[").concat(o,"]"))})),Bt(n)>0)throw new Error($t(n,"; "));if(r=ce(r,(function(r){return lo(r[e])})),rr(r,(function(t,o){if(0===o)return!0;var i=st(r,"".concat(o-1,".").concat(e),null),u=st(t,e,null);yo(i=lo(i),">=",u=lo(u))&&n.push(" ".concat(o-1," ").concat(e,"[").concat(i,"] ").concat(o," ").concat(e,"[").concat(u,"]"))})),Bt(n)>0)throw new Error($t(n,"; "));var c=Bt(r)-1;if(r=Mo(r,(function(t,n){var u=st(r,n-1),a=t,s=st(r,n+1),f=st(u,e,null),l=st(a,e,null),h=st(s,e,null),p=null;if(0===n){if(p=0,!fo(l))throw new Error("dc1 is not a number");l=lo(l),p=Math.min(p,l)}else{if(!fo(f)||!fo(l))throw new Error("unexpected error: invalid ds");p=((f=lo(f))+(l=lo(l)))/2}var v=null;if(n===c){if(!fo(l))throw new Error("dc1 is not a number");v=lo(l)}else{if(!fo(l)||!fo(h))throw new Error("unexpected error: invalid de");v=((l=lo(l))+(h=lo(h)))/2}return t[o]=p,t[i]=v,t})),Ht(u)){var a=r[c],s=a[i];yo(s,"<",u)&&(r[c][i]=u)}return r}function Po(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=new Array(t);n<t;n++)e[n]=r[n];return e}function Ro(r){return function(r){if(Array.isArray(r))return Po(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,t){if(r){if("string"==typeof r)return Po(r,t);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Po(r,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ko=function(r,t,n){for(var e=-1,o=r.length;++e<o;){var i=r[e],u=t(i);if(null!=u&&(void 0===c?u==u&&!tr(u):n(u,c)))var c=u,a=i}return a};var Fo=function(r,t){return r<t};var Lo=function(r){return r&&r.length?ko(r,K,Fo):void 0};var qo=function(r,t){return r>t};var To=function(r){return r&&r.length?ko(r,K,qo):void 0};var Go=function(r,t,n){var e=r.length;return n=void 0===n?e:n,!t&&n>=e?r:jo(r,t,n)};var Io=function(r,t,n,e){for(var o=r.length,i=n+(e?1:-1);e?i--:++i<o;)if(t(r[i],i,r))return i;return-1};var Uo=function(r){return r!=r};var Vo=function(r,t,n){for(var e=n-1,o=r.length;++e<o;)if(r[e]===t)return e;return-1};var zo=function(r,t,n){return t==t?Vo(r,t,n):Io(r,Uo,n)};var Bo=function(r,t){for(var n=r.length;n--&&zo(t,r[n],0)>-1;);return n};var Zo=function(r,t){for(var n=-1,e=r.length;++n<e&&zo(t,r[n],0)>-1;);return n};var $o=function(r){return r.split("")},Ho="[\\ud800-\\udfff]",Wo="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Yo="\\ud83c[\\udffb-\\udfff]",Jo="[^\\ud800-\\udfff]",Xo="(?:\\ud83c[\\udde6-\\uddff]){2}",Ko="[\\ud800-\\udbff][\\udc00-\\udfff]",Qo="(?:"+Wo+"|"+Yo+")"+"?",ri="[\\ufe0e\\ufe0f]?",ti=ri+Qo+("(?:\\u200d(?:"+[Jo,Xo,Ko].join("|")+")"+ri+Qo+")*"),ni="(?:"+[Jo+Wo+"?",Wo,Xo,Ko,Ho].join("|")+")",ei=RegExp(Yo+"(?="+Yo+")|"+ni+ti,"g");var oi=function(r){return r.match(ei)||[]};var ii=function(r){return Ct(r)?oi(r):$o(r)};var ui=function(r,t,n){if((r=it(r))&&(n||void 0===t))return ro(r);if(!r||!(t=ot(t)))return r;var e=ii(r),o=ii(t),i=Zo(e,o),u=Bo(e,o)+1;return Go(e,i,u).join("")};var ci=function(r){return it(r).toLowerCase()};var ai=function(r){return m(r)&&"[object RegExp]"==y(r)},si=L&&L.isRegExp,fi=si?F(si):ai;var li=function(r,t,n){return n&&"number"!=typeof n&&ue(r,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(r=it(r))&&("string"==typeof t||null!=t&&!fi(t))&&!(t=ot(t))&&Ct(r)?Go(ii(r),0,n):r.split(t,n):[]};var hi=function(r){var t=co(r),n=t%1;return t==t?n?t-n:t:0},pi=s.isFinite,vi=Math.min;var di=function(r){var t=Math[r];return function(r,n){if(r=io(r),(n=null==n?0:vi(hi(n),292))&&pi(r)){var e=(it(r)+"e").split("e"),o=t(e[0]+"e"+(+e[1]+n));return+((e=(it(o)+"e").split("e"))[0]+"e"+(+e[1]-n))}return t(r)}}("round");function gi(r){if(!fo(r))return 0;r=lo(r);var t=di(r);return"0"===String(t)?0:t}var wi=function(r){return"number"==typeof r&&r==hi(r)};function bi(r){return!!function(r){return!!fo(r)&&(r=lo(r),wi(r))}(r)&&gi(r)>=0}function yi(r,t){return so(r)&&bi(t)?0===(t=gi(t))?"":r.substring(0,t):""}function mi(r,t){if(!so(r))return"";if(!bi(t))return"";if(0===(t=gi(t)))return"";var n=r.length-t;return n<0&&(n=0),r.substr(n,t)}function Mi(r){if(!so(r)&&!fo(r)&&!tr(r))return"";var t="";try{t=String(r)}catch(r){}try{t=r.toString()}catch(r){}return t}var Si=Array.prototype.reverse;var _i=function(r){return null==r?r:Si.call(r)},ji="in x-range",Ni="out of x-range",xi="order list",Di="reverse order list";function Ei(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Bt(r)<=0)return[];var n=st(t,"keyX");so(n)||(n="x");var e=st(t,"keyY");so(e)||(e="y");var o=[];return rr(r,(function(r){var t=null,i=null;ho(r)&&Bt(r)>=2?(t=st(r,0),i=st(r,1)):(t=st(r,n,null),i=st(r,e,null)),fo(t)&&fo(i)&&(t=io(t),i=io(i),o.push({x:t,y:i}))})),o}function Oi(r){for(var t=!0,n=!0,e=1;e<Bt(r);e++){var o=r[e-1],i=r[e];if(t&&o.x>i.x&&(t=!1),n&&o.x<i.x&&(n=!1),o.x===i.x)return{err:"x can not be equal: i=".concat(e,", x=").concat(o.x)}}return t?xi:n?Di:"no"}function Ci(r,t){var n,e;return n=r[0].x,e=r[Bt(r)-1].x,t<n?{err:Ni,msg:"x[".concat(t,"] less than lower limit[").concat(n,"]"),data:{ps:r,x:t,xmin:n,xmax:e}}:t>e?{err:Ni,msg:"x[".concat(t,"] greater than upper limit[").concat(e,"]"),data:{ps:r,x:t,xmin:n,xmax:e}}:ji}function Ai(r,t){var n=Ci(r,t);if(n!==ji)return n;for(var e=null,o=1;o<Bt(r);o++){var i=r[o-1],u=r[o];if(i.x<=t&&t<=u.x){e=((t-i.x)*u.y+(u.x-t)*i.y)/(u.x-i.x);break}}return null===e?{err:Ni}:e}function Pi(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=st(n,"xMin");if(Ht(e)){if(e>r[0].x)return{err:"xMin=".concat(e," > ps[0].x=").concat(r[0].x)};if(e===r[0].x);else{var o={x:e,y:r[0].y};r=[o].concat(Ro(r))}}var i=st(n,"xMax");if(Ht(i)){if(i<r[Bt(r)-1].x)return{err:"xMax=".concat(i," < ps[size(ps)-1].x=").concat(r[Bt(r)-1].x)};if(i===r[Bt(r)-1].x);else{var u={x:i,y:r[Bt(r)-1].y};r=[].concat(Ro(r),[u])}}var c=Ci(r,t);if(c!==ji)return c;for(var a=null,s=0;s<Bt(r);s++){var f=st(r,s-1,null),l=st(r,s,null),h=st(r,s+1,null),p=l.x;f&&(p=(f.x+l.x)/2);var v=l.x;if(h&&(v=(h.x+l.x)/2),p<=t&&t<=v){a=l.y;break}}return null===a?{err:Ni}:a}function Ri(r,t){var n=Ci(r,t);if(n!==ji)return n;for(var e=null,o=1;o<Bt(r);o++){var i=r[o-1],u=r[o],c=i.x,a=u.x;if(c<=t&&t<=a){e=u.y;break}}return null===e?{err:Ni}:e}function ki(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(!go(r))return n;var e=st(t,"keyDepthStart");so(e)||(e="depthStart");var o=st(t,"keyDepthEnd");so(o)||(o="depthEnd");var i=st(t,"stateConn");return"conn"!==i&&"overlap"!==i&&(i="conn"),rr(r,(function(r,t){var i=st(r,e,null),u=st(r,o,null);fo(i)||n.push(" ".concat(t," ").concat(e,"[").concat(i,"]")),fo(u)||n.push(" ".concat(t," ").concat(o,"[").concat(u,"]"))})),r=ce(r,(function(r){return lo(r[e])})),rr(r,(function(t,u){var c=st(t,e,null),a=st(t,o,null);if(yo(c=lo(c),">",a=lo(a))&&n.push(" ".concat(u," ").concat(e,"[").concat(c,"]").concat(o,"[").concat(a,"]")),0===u)return!0;var s=st(r,u-1),f=st(s,o,null);f=lo(f),"conn"===i?yo(f,"!==",c)&&n.push(" ".concat(u," ").concat(o,"[").concat(f,"] ").concat(u+1," ").concat(e,"[").concat(c,"]")):"overlap"===i&&yo(f,">",c)&&n.push(" ".concat(u," ").concat(o,"[").concat(f,"] ").concat(u+1," ").concat(e,"[").concat(c,"]"))})),n}var Fi=function(r,t){return tt(t,(function(t){return r[t]}))};var Li=function(r){return null==r?[]:Fi(r,J(r))};var qi=function(r){return!0===r||!1===r||m(r)&&"[object Boolean]"==y(r)};function Ti(r){return qi(r)}function Gi(r){if(po(r)){for(var t in r)return!0;return!1}return!1}var Ii={eps:1e-6,rw:9.81},Ui=Ii.rw;function Vi(r,t){return r*Ui/(1+t)}function zi(r,t){return r-t*Ui/(1+t)}function Bi(r,t){return(r-Ui)*t/(t-1)}function Zi(r,t){return(r+t)*Ui/(1+t)}function $i(r,t){return r+t*Ui/(1+t)}function Hi(r,t){return r*(t-1)/t+Ui}function Wi(r,t){return(r*Ui-t)/t}function Yi(r,t){return(r-t)/(t-Ui-r)}function Ji(r,t){return(r*Ui-t)/(t-Ui)}function Xi(r,t){return r*(1+t)/Ui}function Ki(r,t){return r/(r-(t-Ui))}function Qi(r,t){return(r+r*t-t*Ui)/Ui}function ru(r,t,n,e){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i={},u=st(o,"returnFuncs");function c(){var o,u,c,a,s=!1;return!Ht(o)&&Ht(n)&&Ht(e)&&(o=Vi(n,e)),!Ht(o)&&Ht(t)&&Ht(e)&&(o=zi(t,e)),!Ht(o)&&Ht(t)&&Ht(n)&&1!==n&&(o=Bi(t,n)),Ht(r)?Math.abs(r-o)>o/100*5&&(i.ck_rd="[".concat(r,"][").concat(o,"]")):(r=o,s=!0),!Ht(u)&&Ht(n)&&Ht(e)&&(u=Zi(n,e)),!Ht(u)&&Ht(r)&&Ht(e)&&(u=$i(r,e)),!Ht(u)&&Ht(r)&&Ht(n)&&(u=Hi(r,n)),Ht(t)?Math.abs(t-u)>u/100*5&&(i.ck_rsat="[".concat(t,"][").concat(u,"]")):(t=u,s=!0),!Ht(c)&&Ht(n)&&Ht(r)&&(c=Wi(n,r)),!Ht(c)&&Ht(t)&&Ht(r)&&t-Ui-r!=0&&(c=Yi(r,t)),!Ht(c)&&Ht(t)&&Ht(n)&&t-Ui!=0&&(c=Ji(n,t)),Ht(e)?Math.abs(e-c)>c/100*5&&(i.ck_e="[".concat(e,"][").concat(c,"]")):(e=c,s=!0),!Ht(a)&&Ht(r)&&Ht(e)&&(a=Xi(r,e)),!Ht(a)&&Ht(r)&&Ht(t)&&r-(t-Ui)!=0&&(a=Ki(r,t)),!Ht(a)&&Ht(t)&&Ht(e)&&(a=Qi(t,e)),Ht(n)?Math.abs(n-a)>a/100*5&&(i.ck_GS="[".concat(n,"][").concat(a,"]")):(n=a,s=!0),s}Ti(u)||(u=!1),fo(r)?((r=lo(r))<=0&&(i.rd="[".concat(r,"]<=0")),r<=Ui&&(i.rd="[".concat(r,"]<=[").concat(Ui,"]"))):r=null,fo(t)?((t=lo(t))<=0&&(i.rsat="[".concat(t,"]<=0")),t<=Ui&&(i.rsat="[".concat(t,"]<=[").concat(Ui,"]"))):t=null,fo(n)?(n=lo(n))<=0&&(i.GS="[".concat(n,"]<=0")):n=null,fo(e)?(e=lo(e))<=0&&(i.e="[".concat(e,"]<=0")):e=null;var a=0;if(a+=fo(r)?1:0,a+=fo(t)?1:0,a+=fo(n)?1:0,(a+=fo(e)?1:0)>=2)for(var s=c();s;)s=c();var f={rd:r,rsat:t,GS:n,e:e};if(Gi(i)){var l=$t(Li(i),", ");f.err=l}return u&&(f.coreFuncs={get_rd_from_GS_e:Vi,get_rd_from_rsat_e:zi,get_rd_from_rsat_GS:Bi,get_rsat_from_GS_e:Zi,get_rsat_from_rd_e:$i,get_rsat_from_rd_GS:Hi,get_e_from_GS_rd:Wi,get_e_from_rd_rsat:Yi,get_e_from_GS_rsat:Ji,get_GS_from_rd_e:Xi,get_GS_from_rd_rsat:Ki,get_GS_from_rsat_e:Qi}),f}var tu=Ii.rw;function nu(r,t){r=Je(r);var n=0;return r=Mo(r,(function(r,e){var o=st(r,"err",""),i=st(r,"depthStart",null),u=st(r,"depthEnd",null);try{if(!fo(i))throw new Error(" ".concat(e," (depthStart): ").concat(i));if(!fo(u))throw new Error(" ".concat(e," (depthEnd): ").concat(u));i=lo(i),u=lo(u),r.depth=(u+i)/2;var c=null;if(i<t&&u>t){var a=st(r,"rsat",null);if(!fo(a))throw new Error(" ".concat(e," (rsat): ").concat(a));var s=st(r,"rd",null);if(!fo(s))throw new Error(" ".concat(e," (rd): ").concat(s));s=lo(s);var f=t-i,l=u-t;c=(f*s+l*a)/(f+l)}else if(u<=t){var h=st(r,"rd",null);if(!fo(h))throw new Error(" ".concat(e," (rd): ").concat(h));c=h}else{if(!(i>=t))throw new Error("");var p=st(r,"rsat",null);if(!fo(p))throw new Error(" ".concat(e," (rsat): ").concat(p));c=p}var v=c*(u-i),d=n+v/2;r.sv=d,n+=v;var g=Math.max((i+u)/2-t,0)*tu;r.svp=Math.max(d-g,0)}catch(t){var w=t.toString();""===o?o=w:o.indexOf(w)<0&&(o+=", ".concat(w)),r.sv="",r.svp="",r.err=o}return r}))}function eu(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!go(r=Je(r)))throw new Error("(rows)");var n=ki(r);if(Bt(n)>0)throw new Error($t(n,"; "));var e=st(t,"waterLevelUsual");fo(e)||(e=0),e=lo(e);var o=st(t,"waterLevelDesign");fo(o)||(o=0),o=lo(o);var i=nu(r,e),u=nu(r,o);return r=Mo(r,(function(r,t){r.waterLevelUsual=e,r.waterLevelDesign=o;var n=i[t],c=u[t];return r.sv=n.sv,r.svpUsual=n.svp,r.svpDesign=c.svp,r.depth=n.depth,r}))}function ou(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.push.apply(n,e)}return n}function iu(r){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ou(Object(n),!0).forEach((function(t){mo(r,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):ou(Object(n)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))}))}return r}function uu(r){var t=ui(Mi(r));return""!==t?"[".concat(t,"]"):""}function cu(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"new",n=yi(r,1),e=yi(r,2);if("new"===t)return"C"===n||"O"===n||"P"===n||"M"===n&&"ML"!==e&&"MH"!==e;if("classic"===t)return"S"!==n&&"G"!==n;throw new Error("invalid mode[".concat(t,"]"))}function au(r,t,n){if(Bt(r)<=0)return{err:"invalid vx"};if(Bt(t)<=0)return{err:"invalid vy"};if(Bt(r)!==Bt(t))return{err:"size of vx is not equal to size of vy"};var e=function(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!ho(r))return{err:"ps is not array"};if(!Ht(t))return{err:"x is not number"};var e=Ei(r,n);if(st(e,"err"))return st(e,"err");if(0===Bt(e))return{err:"ps(length=0) is not effective array",ps:r,psEff:e};if(1===Bt(e))return{err:"ps(length=1) is one point only",ps:r,psEff:e};var o=Oi(e);if("no"===o)return{err:"psEff is not increasing or decreasing"};o===Di&&(o=xi,e=_i(e));var i=st(n,"mode");"linear"!==i&&"stairs"!==i&&"blocks"!==i&&(i="linear");try{if("linear"===i)return Ai(e,t);if("blocks"===i)return Ri(e,t);if("stairs"===i)return Pi(e,t,n)}catch(r){return{err:r.toString()}}}(Mo(r,(function(n,e){return{x:r[e],y:t[e]}})),n);return e.err&&"ps is not effective array"===e.err&&(e.err=""),e}function su(r,t,n){return((n-r.x)*t.y+(t.x-n)*r.y)/(t.x-r.x)}function fu(r,t){var n=[],e=[{volumetricStrain:10,data:[[1.15304,.6],[1.10234,.0413661],[1.10234,.0348459],[1.04383,.0253621],[.956072,.0161746],[.722041,.0093581],[0,0]]},{volumetricStrain:5,data:[[3.00384,.6],[2.97459,.0591482],[2.94533,.0523317],[2.82832,.0431443],[2.56503,.0348459],[2.12623,.0253621],[1.21936,.0126182],[0,0]]},{volumetricStrain:4,data:[[5.11012,.6],[5.11012,.111606],[5.05161,.103604],[5.02236,.0947126],[4.87609,.0849324],[4.72982,.0754486],[4.52504,.0656684],[4.20325,.0579628],[3.82295,.0499608],[3.32563,.0407733],[2.53578,.0286221],[1.5704,.0161746],[0,0]]},{volumetricStrain:3,data:[[7.68446,.6],[7.53819,.234896],[7.53819,.212964],[7.50893,.191033],[7.39192,.165249],[7.33341,.142428],[7.24565,.125831],[7.07012,.111013],[6.8946,.09738],[6.66057,.0887852],[6.45579,.0804869],[6.07549,.0730776],[5.66594,.0665575],[5.28564,.0606301],[4.75907,.0523317],[4.08623,.043737],[0,0]]},{volumetricStrain:2,data:[[14.1203,.6],[14.091,.248529],[13.974,.231043],[13.7985,.216521],[13.6815,.201702],[13.3597,.184513],[13.2134,.173843],[13.0087,.16347],[12.7161,.152208],[12.131,.139168],[11.546,.12761],[10.8439,.116644],[0,0]]},{volumetricStrain:1,data:[[27.5771,.6],[27.5771,.541935],[27.6063,.507852],[27.5478,.485625],[27.5186,.465471],[27.5186,.445022],[27.4893,.424869],[27.3723,.41005],[27.1675,.392268],[26.9335,.376264],[26.5532,.357889],[26.2021,.339514],[25.7048,.324399],[25.1783,.311655],[24.6224,.298022],[23.9496,.282908],[23.2182,.269571],[22.4576,.256531],[21.7556,.244676],[20.8779,.232525],[19.9126,.218892],[0,0]]},{volumetricStrain:.5,data:[[33.0183,.6],[33.0183,.570979],[32.9598,.554086],[32.9013,.536007],[32.6965,.516743],[32.5502,.500147],[32.3747,.482068],[32.0529,.464582],[31.6726,.445022],[31.3216,.425461],[30.9998,.410939],[30.5025,.394935],[29.9466,.376264],[29.3908,.356704],[28.3962,.335958],[27.1383,.313137],[25.5586,.287057],[23.7156,.261865],[21.8141,.238452],[19.7078,.212964],[0,0]]},{volumetricStrain:.2,data:[[35.4,.6],[35.3,.574535],[35.1,.555864],[34.9,.539267],[34.6,.515558],[34.3,.497183],[34,.477919],[33.4544,.455691],[33,.434353],[32.6087,.415385],[31.8774,.397306],[30.8242,.369151],[30.0051,.348998],[29.069,.327067],[28.1329,.308099],[27.1383,.291799],[25.8218,.271349],[24.3884,.252974],[23.2768,.237859],[21.8726,.220373],[19.9711,.200517],[18.5961,.186291],[17.1627,.170583],[15.583,.154876],[14.3543,.14065],[12.8331,.124942],[10.7269,.103307],[8.59132,.081376],[6.39729,.0612228],[4.17399,.0389951],[2.15548,.0188419],[0,0]]},{volumetricStrain:.1,data:[[36.7,.6],[36.5,.571572],[36.2,.544602],[35.8,.520596],[35.4,.490366],[35,.466657],[34.6,.446207],[34.2,.424869],[33.5,.404419],[32.7,.379228],[32,.358482],[30.9998,.331809],[29.5956,.305432],[28.0159,.278758],[26.9335,.262162],[25.266,.238156],[23.2768,.214446],[21.2875,.192515],[19.0642,.170583],[16.8117,.149541],[14.5006,.129684],[12.2481,.108938],[10.0248,.0881925],[7.77222,.0671502],[5.63669,.0472934],[4.70056,.038106],[3.23787,.0259548],[2.38951,.0194347],[.926818,.00669077],[0,0]]}];e=Mo(e,(function(r){var t=Mo(r.data,(function(r){return r[1]})),n=Mo(r.data,(function(r){return r[0]}));return r.vx=t,r.vy=n,r}));var o=Mo(e,"volumetricStrain"),i=Mo(e,(function(r){var n=au(r.vx,r.vy,t);return st(n,"err")?n.err:n})),u=i[0],c=[i[0]],a=[o[0]];rr(i,(function(r,t){t>0&&i[t]>=u&&(u=i[t],c.push(i[t]),a.push(o[t]))}));var s=au(i=c,o=a,r);if(st(s,"err"))if("out of x-range"===s.err){var f=s.data.ps,l=To(i),h=Lo(i);if(r>l){var p=f[Bt(f)-1].y;n.push(" N160=".concat(r," > N160Max=").concat(l,"CSR=").concat(t,"vstr=").concat(p,"%")),s=p}else if(r<h){var v=su(f[0],f[1],r);n.push(" N160=".concat(r," < N160Min=").concat(h,"CSR=").concat(t,"2vstr=").concat(v,"%")),s=v}else n.push(""),s=""}else n.push(s.err),s="";return{err:n,vstr:s}}function lu(r,t){var n=[],e=[{N172:3,data:[[0,5.48516],[.791714,5.48516],[.889946,5.48274],[.957602,5.47549],[.972564,5.43681],[.981021,5.37154],[.982973,4.71396],[.984274,4.17243],[.985575,3.45201],[.988177,2.61312],[.992081,2.25532],[.996634,1.94104],[1.00379,1.68961],[1.01095,1.54214],[1.02981,1.32698],[1.04347,1.16501],[1.06624,1.00303],[1.09096,.879735],[1.11503,.773363],[1.1391,.703254],[1.17944,.616222],[1.23018,.529191],[1.28873,.444576],[1.35378,.384138],[1.41558,.333369],[1.48064,.275348],[1.5548,.231832],[2,0]]},{N172:6,data:[[0,4.51524],[.789554,4.51524],[.890726,4.51176],[.938502,4.49784],[.957238,4.45954],[.960985,4.31681],[.962858,3.76677],[.964732,3.36294],[.966605,2.92778],[.971289,2.57618],[.97691,2.27679],[.980657,2.07487],[.990962,1.85903],[1.00314,1.57705],[1.01813,1.35773],[1.03686,1.18367],[1.05935,1.02005],[1.08089,.88428],[1.09401,.818136],[1.13148,.696291],[1.17082,.60926],[1.22367,.517103],[1.28287,.437324],[1.34597,.376885],[1.40778,.323699],[1.47673,.268096],[1.55154,.222162],[2,0]]},{N172:10,data:[[0,3.50567],[.738969,3.50567],[.841077,3.50219],[.896347,3.49523],[.912272,3.43953],[.919767,3.34206],[.928198,3.02874],[.938502,2.64928],[.94787,2.29419],[.961922,1.9774],[.972226,1.74763],[.989088,1.50743],[1.00876,1.28811],[1.03031,1.11404],[1.05466,.953905],[1.08745,.807692],[1.12398,.682366],[1.16333,.584891],[1.21673,.50134],[1.27762,.421271],[1.33757,.358608],[1.39752,.306389],[1.46966,.25417],[1.54366,.205433],[2,0]]},{N172:14,data:[[0,2.77461],[.693066,2.77461],[.763325,2.77113],[.797049,2.73283],[.815784,2.68061],[.831709,2.57966],[.867307,2.26634],[.88979,2.01221],[.915083,1.74763],[.936629,1.54224],[.960985,1.34729],[.991898,1.12797],[1.01532,.978274],[1.04248,.852949],[1.0734,.731104],[1.10712,.623185],[1.14834,.539634],[1.18206,.480453],[1.22797,.414309],[1.28417,.36209],[1.34975,.299427],[1.4275,.240245],[1.51368,.184545],[2,0]]},{N172:20,data:[[0,2.17235],[.511332,2.17235],[.605009,2.16539],[.660279,2.13406],[.69213,2.1062],[.722107,2.0505],[.751147,1.95999],[.794238,1.75808],[.825152,1.6049],[.865433,1.40299],[.901968,1.24285],[.939439,1.06182],[.994709,.859911],[1.04717,.689329],[1.09869,.550078],[1.15021,.459565],[1.20267,.386459],[1.25888,.327277],[1.31228,.271577],[1.38441,.22632],[1.46403,.177583],[2,0]]},{N172:25,data:[[0,1.73371],[.396108,1.73371],[.49447,1.71978],[.544119,1.69542],[.579716,1.65712],[.619998,1.58053],[.660279,1.48306],[.703371,1.37862],[.734285,1.28463],[.775503,1.17671],[.816721,1.06182],[.865433,.93998],[.910399,.82858],[.956301,.724142],[1.00595,.602297],[1.0556,.508303],[1.11743,.403865],[1.16989,.337721],[1.22703,.285502],[1.27855,.247208],[1.33663,.208914],[1.4172,.167139],[1.49963,.132326],[2,0]]},{N172:30,data:[[0,1.30203],[.264959,1.30203],[.388614,1.29159],[.476671,1.26026],[.527257,1.20108],[.588147,1.11056],[.647164,1.01657],[.694003,.919093],[.759578,.804211],[.821405,.689329],[.884169,.591853],[.964732,.47349],[1.02469,.386459],[1.09963,.309871],[1.16895,.25417],[1.24764,.19847],[1.32726,.156695],[1.40876,.125364],[1.48558,.100995],[1.55303,.0870696],[1.63453,.0627007],[2,0]]}];e=Mo(e,(function(r){var t=Mo(r.data,(function(r){return r[0]})),n=Mo(r.data,(function(r){return r[1]}));return r.vx=t,r.vy=n,r}));var o=Mo(e,"N172"),i=Mo(e,(function(r){var n=au(r.vx,r.vy,t);return st(n,"err")?n.err:n})),u=i[0],c=[i[0]],a=[o[0]];rr(i,(function(r,t){t>0&&i[t]<=u&&(u=i[t],c.push(i[t]),a.push(o[t]))}));var s=au(o=a,i=c,r);if(st(s,"err"))if("out of x-range"===s.err){var f=s.data.ps,l=To(o),h=Lo(o);if(r>l){var p=f[Bt(f)-1].y;n.push(" N172=".concat(r," > N172Max=").concat(l,"FS=").concat(t,"vstr=").concat(p,"%")),s=p}else if(r<h){var v=su(f[0],f[1],r);n.push(" N172=".concat(r," < N172Min=").concat(h,"FS=").concat(t,"2vstr=").concat(v,"%")),s=v}else n.push(""),s=""}else n.push(s.err),s="";return{err:n,vstr:s}}function hu(r,t,n,e){var o=[],i=0;!function(){if(n<0)return o.push("Volumetric Strain(Tokimatsu And Seed): CSR".concat(uu(n),"<0")),void(i="");n>.6&&(o.push("Volumetric Strain(Tokimatsu And Seed): CSR0.60.6"),n=.6),i=fu(r,n),Bt(i.err)>0&&rr(i.err,(function(r){o.push("Volumetric Strain(Tokimatsu And Seed): ".concat(r))})),i=i.vstr}();var u=0;return function(){if(e<0)return o.push("Volumetric Strain(Ishihara And Yoshimine): FS".concat(uu(e),"<0")),void(u="");e>=2&&(e=2),u=lu(t,e),Bt(u.err)>0&&rr(u.err,(function(r){o.push("Volumetric Strain(Ishihara And Yoshimine): ".concat(r))})),u=u.vstr}(),{err:o,vstrTS:i,vstrIY:u}}function pu(r){var t,n=r.ver,e=void 0===n?"2012":n,o=r.noLiqueMode,i=void 0===o?"new":o,u=r.waterLevelDesign,c=r.soilClassification,a=r.depth,s=r.N60,f=r.FC,l=r.PI,h=r.sv,p=r.svpUsual,v=r.svpDesign,d=r.PGA,g=r.Mw,w=[],b="",y="",m="",M="",S="",_="",j="",N="",x="",D="",E="";function O(){return{rd:b,ks:y,CN:m,N160:M,N160cs:S,N172:_,CSR:N,CRR:j,FS:x,vstrTS:D,vstrIY:E,err:$t(w,"; ")}}for(var C=!1,A=!1;;){if("2012"!==e&&"2017"!==e)return w.push("ver".concat(uu(e)," 20122017")),O();if(!fo(a))return w.push("depth".concat(uu(a),"")),O();if((a=lo(a))<0)return w.push("depth".concat(uu(a),"<0")),O();if("new"!==i&&"classic"!==i&&(w.push("noLiqueMode".concat(uu(i),"'new''classic''new'")),i="new"),fo(u)?(u=lo(u))<0&&(w.push("waterLevelDesign".concat(uu(u),"<00(m)")),u=0):(w.push("waterLevelDesign".concat(uu(u),"0(m)")),u=0),so(c)||(w.push("soilClassification".concat(uu(c),"SW")),c="SW"),(a<u||cu(c,i))&&(C=!0),a>20&&(C=!0),"NP"===ui(Mi(l))&&(l=0),fo(l)?lo(l)>7&&(C=!0):w.push("PI".concat(uu(l),"NP")),fo(s)?((s=lo(s))<0&&(w.push("N60".concat(uu(s),"<0")),A=!0),s>=50&&(C=!0)):(w.push("N60".concat(uu(s),"")),A=!0),fo(f)?(f=lo(f))<0&&(w.push("FC".concat(uu(f),"<0")),A=!0):(w.push("FC".concat(uu(f),"")),A=!0),!fo(p))return w.push("svpUsual".concat(uu(p),"")),O();if((p=lo(p))<0)return w.push("svpUsual".concat(uu(p),"<0")),O();if(!fo(v))return w.push("svpDesign".concat(uu(v),"")),O();if((v=lo(v))<0)return w.push("svpDesign".concat(uu(v),"<0")),O();if(!fo(h))return w.push("sv".concat(uu(h),"")),O();if((h=lo(h))<0)return w.push("sv".concat(uu(h),"<0")),O();if(!fo(d))return w.push("PGA".concat(uu(d),"")),O();if((d=lo(d))<0)return w.push("PGA".concat(uu(d),"<0")),O();if(!fo(g))return w.push("Mw".concat(uu(g),"")),O();if((g=lo(g))<0)return w.push("Mw".concat(uu(g),"<0")),O();break}if(!0===C)return w=[],j="-",N="-",x=10,O();if(!0===A)return O();var P=null;"2012"===e?P=-3.3:"2017"===e&&(P=-1.8),t=Math.pow(g/7.5,P),b=a<=10?1-.01*a:1.2-.03*a,y=f<=10?1:1+.07*Math.sqrt(f-10);if(m=Math.min(Math.sqrt(101.39616/p),1.7),(S=y*(M=m*s))>=39)return w=[],j="-",N="-",x=10,O();j=(.08+.0035*S/(1-S/39))*t,(N=h/v*.65*d*b)>0&&(x=j/N),x>10&&(x=10),j<0&&w.push("CRR".concat(uu(j),"<0")),N<=0&&w.push("CSR".concat(uu(N),"<=0")),x<0&&(w.push("FS".concat(uu(x),"<00")),x=0);var R=hu(M,_=M/1.2,N,x);return w=[].concat(Ro(w),Ro(R.err)),D=R.vstrTS,E=R.vstrIY,O()}function vu(r){var t=r.ver,n=void 0===t?"1996":t,e=r.noLiqueMode,o=void 0===e?"new":e,i=r.waterLevelDesign,u=r.soilClassification,c=r.vibrationType,a=r.depth,s=r.N60,f=r.FC,l=r.PI,h=r.D50,p=r.D10,v=r.sv,d=r.svpUsual,g=r.svpDesign,w=r.PGA,b=[],y="",m="",M="",S="",_="",j="",N="",x="",D="",E="",O="",C="",A="",P="",R="";function k(){return{rd:y,N160:E,N172:m,c1:M,c2:S,cFC:_,Na:j,RL:N,cw:x,CN:D,CSR:C,CRR:O,FS:A,vstrTS:P,vstrIY:R,err:$t(b,"; ")}}for(var F=!1,L=!1;;){if("1996"!==n&&"2017"!==n)return b.push("ver".concat(uu(n)," 19962017")),k();if(!fo(a))return b.push("depth".concat(uu(a),"")),k();if((a=lo(a))<0)return b.push("depth".concat(uu(a),"<0")),k();if("new"!==o&&"classic"!==o&&(b.push("noLiqueMode".concat(uu(o),"'new''classic''new'")),o="new"),fo(i)?(i=lo(i))<0&&(b.push("waterLevelDesign".concat(uu(i),"<00(m)")),i=0):(b.push("waterLevelDesign".concat(uu(i),"0(m)")),i=0),so(u)||(b.push("soilClassification".concat(uu(u),"SW")),u="SW"),cu(u,o)&&(F=!0),a>20&&(F=!0),fo(s)?((s=lo(s))<0&&(b.push("N60".concat(uu(s),"<0")),L=!0),s>=50&&(F=!0)):(b.push("N60".concat(uu(s),"")),L=!0),(a<i||i>10)&&(F=!0),fo(f)?(f=lo(f))<0?(b.push("FC".concat(uu(f),"<0")),L=!0):f<=35||("NP"===ui(Mi(l))&&(l=0),fo(l)?(l=lo(l))<15||(F=!0):b.push("PI".concat(uu(l),"NP"))):(b.push("FC".concat(uu(f),"")),L=!0),fo(h)||b.push("D50".concat(uu(h),"")),fo(p)||b.push("D10".concat(uu(p),"")),fo(h)&&fo(p)&&(h=lo(h),p=lo(p),h>10&&(F=!0),p>1&&(F=!0)),fo(c)?1!==(c=gi(c))&&2!==c&&(b.push("vibrationType".concat(uu(c),"121")),c=1):(b.push("vibrationType".concat(uu(c),"1")),c=1),!fo(d))return b.push("svpUsual".concat(uu(d),"")),k();if((d=lo(d))<0)return b.push("svpUsual".concat(uu(d),"<0")),k();if(!fo(g))return b.push("svpDesign".concat(uu(g),"")),k();if((g=lo(g))<0)return b.push("svpDesign".concat(uu(g),"<0")),k();if(!fo(v))return b.push("sv".concat(uu(v),"")),k();if((v=lo(v))<0)return b.push("sv".concat(uu(v),"<0")),k();if(!fo(w))return b.push("PGA".concat(uu(w),"")),k();if((w=lo(w))<0)return b.push("PGA".concat(uu(w),"<0")),k();break}if(!0===F)return b=[],O="-",C="-",A=10,k();if(!0===L)return k();y=1-.015*a,m=(D=170/(d+70))*(s/1.2);var q,T;q=0,T="",fo(h)?T=lo(h)<2?"sand":"gravel":function(r){var t=yi(r,1),n=yi(r,2);return"S"===t||"ML"===n||"MH"===n}(u)?T="sand":function(r){return"G"===yi(r,1)}(u)&&(T="gravel"),"sand"!==T&&"gravel"!==T&&(b.push("D50".concat(uu(h),"").concat(uu(u),"")),T="sand"),"sand"===T?"1996"===n?q=(M=f<10?1:f<60?(f+40)/50:f/20-1)*m+(S=f<10?0:(f-10)/18):"2017"===n&&(q=(_=f<10?1:f<40?(f+20)/30:(f-16)/12)*(m+2.47)-2.47):"gravel"===T&&(fo(h)||(b.push("D50".concat(uu(h),"D50D5010(mm)")),h=10),h=lo(h),q=(1-.361*Math.log10(h/2))*m),(j=q)<14?"1996"===n?N=.0882*Math.sqrt(j/1.7):"2017"===n&&(N=.0882*Math.sqrt((.85*j+2.1)/1.7)):N=.0882*Math.sqrt(j/1.7)+16e-7*Math.pow(j-14,4.5),O=(x=2===c?N<=.1?1:N<=.4?3.3*N+.67:2:1)*N,(C=y*w*v/g)>0&&(A=O/C),A>10&&(A=10),O<0&&b.push("CRR".concat(uu(O),"<0")),C<=0&&b.push("CSR".concat(uu(C),"<=0")),A<0&&(b.push("FS".concat(uu(A),"<00")),A=0);var G=hu(E=m/(60/72),m,C,A);return b=[].concat(Ro(b),Ro(G.err)),P=G.vstrTS,R=G.vstrIY,k()}var du={SPT:{sptSeed:function(r){var t,n=r.noLiqueMode,e=void 0===n?"new":n,o=r.waterLevelDesign,i=r.soilClassification,u=r.depth,c=r.N60,a=r.FC,s=r.sv,f=r.svpUsual,l=r.svpDesign,h=r.PGA,p=r.Mw,v=[],d="",g="",w="",b="",y="",m="",M="",S="",_="";function j(){return{rd:d,CN:g,N160:w,N172:b,CSR:m,CRR:y,FS:M,vstrTS:S,vstrIY:_,err:$t(v,"; ")}}for(var N=!1,x=!1;;){if(!fo(u))return v.push("depth".concat(uu(u),"")),j();if((u=lo(u))<0)return v.push("depth".concat(uu(u),"<0")),j();if("new"!==e&&"classic"!==e&&(v.push("noLiqueMode".concat(uu(e),"'new''classic''new'")),e="new"),fo(o)?(o=lo(o))<0&&(v.push("waterLevelDesign".concat(uu(o),"<00(m)")),o=0):(v.push("waterLevelDesign".concat(uu(o),"0(m)")),o=0),so(i)||(v.push("soilClassification".concat(uu(i),"SW")),i="SW"),(u<o||cu(i,e))&&(N=!0),u>20&&(N=!0),fo(c)?((c=lo(c))<0&&(v.push("N60".concat(uu(c),"<0")),x=!0),c>=50&&(N=!0)):(v.push("N60".concat(uu(c),"")),x=!0),fo(a)?(a=lo(a))<0&&(v.push("FC".concat(uu(a),"<0")),x=!0):(v.push("FC".concat(uu(a),"")),x=!0),!fo(f))return v.push("svpUsual".concat(uu(f),"")),j();if((f=lo(f))<0)return v.push("svpUsual".concat(uu(f),"<0")),j();if(!fo(l))return v.push("svpDesign".concat(uu(l),"")),j();if((l=lo(l))<0)return v.push("svpDesign".concat(uu(l),"<0")),j();if(!fo(s))return v.push("sv".concat(uu(s),"")),j();if((s=lo(s))<0)return v.push("sv".concat(uu(s),"<0")),j();if(!fo(h))return v.push("PGA".concat(uu(h),"")),j();if((h=lo(h))<0)return v.push("PGA".concat(uu(h),"<0")),j();if(!fo(p))return v.push("Mw".concat(uu(p),"")),j();if((p=lo(p))<0)return v.push("Mw".concat(uu(p),"<0")),j();break}if(!0===N)return v=[],y="-",m="-",M=10,j();if(!0===x)return j();t=Math.pow(p/7.5,-1.11),d=(1-.4113*Math.pow(u,.5)+.04052*u+.001753*Math.pow(u,1.5))/(1-.4177*Math.pow(u,.5)+.05729*u-.006205*Math.pow(u,1.5)+.00121*Math.pow(u,2)),g=Math.min(Math.sqrt(101.39616/f),1.7),w=g*c;var D=[{FC:5,data:[[0,.0496622],[2.65306,.0547297],[4.38776,.0628378],[6.02041,.0719595],[7.55102,.0831081],[8.97959,.100338],[10.5102,.114527],[12.2449,.131757],[13.5714,.146959],[14.7959,.161149],[16.1224,.177365],[17.7551,.193581],[19.1837,.211824],[20.7143,.232095],[22.0408,.248311],[23.2653,.265541],[24.5918,.285811],[25.6122,.307095],[26.4286,.327365],[27.2449,.347635],[27.9592,.372973],[28.3673,.398311],[28.7755,.423649],[28.9796,.444932],[29.2857,.473311],[29.3,.6],[100,100]]},{FC:15,data:[[0,.065],[1.63265,.068],[2.85714,.074],[3.87755,.082],[5.10204,.0932432],[6.22449,.110473],[7.44898,.123649],[8.57143,.136824],[9.69388,.151014],[10.9184,.164189],[11.9388,.178378],[13.0612,.192568],[13.8776,.203716],[14.6939,.214865],[16.1224,.232095],[17.551,.251351],[18.5714,.270608],[19.898,.288851],[20.7143,.308108],[21.4286,.327365],[22.0408,.347635],[22.449,.370946],[22.8571,.393243],[23.2653,.417568],[23.6735,.439865],[23.9796,.460135],[24.05,.483446],[24.0816,.515878],[24.1,.6],[100,101]]},{FC:35,data:[[0,.075],[1.32653,.082],[2.44898,.09],[3.26531,.0962838],[4.79592,.116554],[6.22449,.134797],[7.34694,.152027],[8.87755,.171284],[10.102,.185473],[11.4286,.20777],[13.2653,.228041],[14.5918,.247297],[15.7143,.267568],[16.7347,.287838],[17.7551,.313176],[18.6735,.343581],[19.1837,.364865],[19.6939,.382095],[20.102,.410473],[20.4082,.433784],[20.5102,.464189],[20.7143,.490541],[20.9184,.519932],[20.92,.6],[100,102]]}],E=Mo(D,"FC");D=Mo(D,(function(r){var t=Mo(r.data,(function(r){return r[0]})),n=Mo(r.data,(function(r){return r[1]}));return r.vx=t,r.vy=n,r}));var O=Mo(D,(function(r){var t=au(r.vx,r.vy,w);return st(t,"err")?t.err:t})),C=au(E,O,a);if(st(C,"err")){if("out of x-range"!==C.err)return v.push(C.err),C="",j();var A=C.data.ps,P=To(E),R=Lo(E);if(a>P)C=su(A[Bt(A)-2],A[Bt(A)-1],a),v.push(" FC=".concat(a," > FCMax=").concat(P,"2CRR75=").concat(C));else{if(!(a<R))return v.push(""),C="",j();C=su(A[0],A[1],a),C=Math.max(C,0),v.push(" FC=".concat(a," < FCMin=").concat(R,"2CRR75=").concat(C))}}if(!Ht(C))return v.push("CRR75".concat(uu(C),"")),j();C>.6&&(v.push("CRR75".concat(uu(C),"0.60.6")),C=.6),y=C*t,(m=s/l*.65*h*d)>0&&(M=y/m),M>10&&(M=10),y<0&&v.push("CRR".concat(uu(y),"<0")),m<=0&&v.push("CSR".concat(uu(m),"<=0")),M<0&&(v.push("FS".concat(uu(M),"<00")),M=0);var k=hu(w,b=w/1.2,m,M);return v=[].concat(Ro(v),Ro(k.err)),S=k.vstrTS,_=k.vstrIY,j()},sptHBF2012:function(r){return pu(r=iu(iu({},r),{},{ver:"2012"}))},sptHBF2017:function(r){return pu(r=iu(iu({},r),{},{ver:"2017"}))},sptNCEER:function(r){var t,n=r.noLiqueMode,e=void 0===n?"new":n,o=r.waterLevelDesign,i=r.soilClassification,u=r.depth,c=r.N60,a=r.FC,s=r.sv,f=r.svpUsual,l=r.svpDesign,h=r.PGA,p=r.Mw,v=[],d="",g="",w="",b="",y="",m="",M="",S="",_="",j="",N="",x="";function D(){return{rd:d,alpha:g,beta:w,CN:b,N160:y,N160cs:m,N172:M,CSR:_,CRR:S,FS:j,vstrTS:N,vstrIY:x,err:$t(v,"; ")}}for(var E=!1,O=!1;;){if(!fo(u))return v.push("depth".concat(uu(u),"")),D();if((u=lo(u))<0)return v.push("depth".concat(uu(u),"<0")),D();if("new"!==e&&"classic"!==e&&(v.push("noLiqueMode".concat(uu(e),"'new''classic''new'")),e="new"),fo(o)?(o=lo(o))<0&&(v.push("waterLevelDesign".concat(uu(o),"<00(m)")),o=0):(v.push("waterLevelDesign".concat(uu(o),"0(m)")),o=0),so(i)||(v.push("soilClassification".concat(uu(i),"SW")),i="SW"),(u<o||cu(i,e))&&(E=!0),u>20&&(E=!0),fo(c)?((c=lo(c))<0&&(v.push("N60".concat(uu(c),"<0")),O=!0),c>=50&&(E=!0)):(v.push("N60".concat(uu(c),"")),O=!0),fo(a)?(a=lo(a))<0&&(v.push("FC".concat(uu(a),"<0")),O=!0):(v.push("FC".concat(uu(a),"")),O=!0),!fo(f))return v.push("svpUsual".concat(uu(f),"")),D();if((f=lo(f))<0)return v.push("svpUsual".concat(uu(f),"<0")),D();if(!fo(l))return v.push("svpDesign".concat(uu(l),"")),D();if((l=lo(l))<0)return v.push("svpDesign".concat(uu(l),"<0")),D();if(!fo(s))return v.push("sv".concat(uu(s),"")),D();if((s=lo(s))<0)return v.push("sv".concat(uu(s),"<0")),D();if(!fo(h))return v.push("PGA".concat(uu(h),"")),D();if((h=lo(h))<0)return v.push("PGA".concat(uu(h),"<0")),D();if(!fo(p))return v.push("Mw".concat(uu(p),"")),D();if((p=lo(p))<0)return v.push("Mw".concat(uu(p),"<0")),D();break}if(!0===E)return v=[],S="-",_="-",j=10,D();if(!0===O)return D();if(t=Math.pow(p/7.5,-2.56),d=(1-.4113*Math.pow(u,.5)+.04052*u+.001753*Math.pow(u,1.5))/(1-.4177*Math.pow(u,.5)+.05729*u-.006205*Math.pow(u,1.5)+.00121*Math.pow(u,2)),g=a<=5?0:a<=35?Math.exp(1.76-190/Math.pow(a,2)):5,w=a<=5?1:a<=35?.99+Math.pow(a,1.5)/1e3:1.2,b=Math.min(Math.sqrt(101.39616/f),1.7),(m=g+w*(y=b*c))>=30)return v=[],S="-",_="-",j=10,D();var C=(.04844+-.004721*m+6136e-7*Math.pow(m,2)+-1673e-8*Math.pow(m,3))/(1+-.1248*m+.009578*Math.pow(m,2)+-3285e-7*Math.pow(m,3)+3714e-9*Math.pow(m,4));S=C*t,(_=s/l*.65*h*d)>0&&(j=S/_),j>10&&(j=10),S<0&&v.push("CRR".concat(uu(S),"<0")),_<=0&&v.push("CSR".concat(uu(_),"<=0")),j<0&&(v.push("FS".concat(uu(j),"<00")),j=0);var A=hu(y,M=y/1.2,_,j);return v=[].concat(Ro(v),Ro(A.err)),N=A.vstrTS,x=A.vstrIY,D()},sptNJRA1996:function(r){return vu(r=iu(iu({},r),{},{ver:"1996"}))},sptNJRA2017:function(r){return vu(r=iu(iu({},r),{},{ver:"2017"}))},sptTY:function(r){var t=r.noLiqueMode,n=void 0===t?"new":t,e=r.waterLevelDesign,o=r.soilClassification,i=r.depth,u=r.a,c=r.n,a=r.Cr,s=r.Cs,f=r.N60,l=r.FC,h=r.sv,p=r.svpUsual,v=r.svpDesign,d=r.PGA,g=r.Mw,w=[],b="",y="",m="",M="",S="",_="",j="",N="",x="",D="",E="";function O(){return{rd:b,N160:_,N172:y,dNf:m,Na:M,CN:S,CSR:N,CRR:j,FS:x,vstrTS:D,vstrIY:E,err:$t(w,"; ")}}for(var C=!1,A=!1;;){if(!fo(i))return w.push("depth".concat(uu(i),"")),O();if((i=lo(i))<0)return w.push("depth".concat(uu(i),"<0")),O();if("new"!==n&&"classic"!==n&&(w.push("noLiqueMode".concat(uu(n),"'new''classic''new'")),n="new"),fo(e)?(e=lo(e))<0&&(w.push("waterLevelDesign".concat(uu(e),"<00(m)")),e=0):(w.push("waterLevelDesign".concat(uu(e),"0(m)")),e=0),so(o)||(w.push("soilClassification".concat(uu(o),"SW")),o="SW"),(i<e||cu(o,n))&&(C=!0),i>20&&(C=!0),fo(f)?((f=lo(f))<0&&(w.push("N60".concat(uu(f),"<0")),A=!0),f>=50&&(C=!0)):(w.push("N60".concat(uu(f),"")),A=!0),fo(l)?(l=lo(l))<0&&(w.push("FC".concat(uu(l),"<0")),A=!0):(w.push("FC".concat(uu(l),"")),A=!0),!fo(p))return w.push("svpUsual".concat(uu(p),"")),O();if((p=lo(p))<0)return w.push("svpUsual".concat(uu(p),"<0")),O();if(!fo(v))return w.push("svpDesign".concat(uu(v),"")),O();if((v=lo(v))<0)return w.push("svpDesign".concat(uu(v),"<0")),O();if(!fo(h))return w.push("sv".concat(uu(h),"")),O();if((h=lo(h))<0)return w.push("sv".concat(uu(h),"<0")),O();if(!fo(d))return w.push("PGA".concat(uu(d),"")),O();if((d=lo(d))<0)return w.push("PGA".concat(uu(d),"<0")),O();if(!fo(g))return w.push("Mw".concat(uu(g),"")),O();if((g=lo(g))<0)return w.push("Mw".concat(uu(g),"<0")),O();break}if(!0===C)return w=[],j="-",N="-",x=10,O();if(!0===A)return O();fo(u)||(u=.45),u=lo(u),fo(c)||(c=14),c=lo(c),fo(a)||(a=.57),a=lo(a),fo(s)||(s=85),s=lo(s),b=1-.015*i,M=(y=(S=170/(p+70))*(f/1.2))+(m=l<=5?0:l<=10?l-5:.1*l+4),j=u*a*(16*Math.sqrt(M)/100+Math.pow(16*Math.sqrt(M)/s,c)),(N=.1*(g-1)*d*(h/v)*b)>0&&(x=j/N),x>10&&(x=10),j<0&&w.push("CRR".concat(uu(j),"<0")),N<=0&&w.push("CSR".concat(uu(N),"<=0")),x<0&&(w.push("FS".concat(uu(x),"<00")),x=0);var P=hu(_=y/(60/72),y,N,x);return w=[].concat(Ro(w),Ro(P.err)),D=P.vstrTS,E=P.vstrIY,O()}},CPT:{cptJuang:function(r){var t=r.waterLevelDesign,n=r.depth,e=r.qc,o=r.fs,i=r.svpDesign,u=r.sv,c=r.PGA,a=r.Mw,s=[],f="",l="",h="";function p(){return{CSR:l,CRR:f,FS:h,err:$t(s,"; ")}}if(fo(t)||(s.push("waterLevelDesign".concat(uu(t),"0(m)")),t=0),(t=lo(t))<0&&(s.push("waterLevelDesign".concat(uu(t),"<00(m)")),t=0),!fo(n))return s.push("depth".concat(uu(n),"")),p();if((n=lo(n))<0)return s.push("depth".concat(uu(n),"<0")),p();if(!fo(e))return s.push("qc".concat(uu(e),"")),p();if((e=lo(e))<0)return s.push("qc".concat(uu(e),"<0")),p();if(!fo(o))return s.push("fs".concat(uu(o),"")),p();if((o=lo(o))<0)return s.push("fs".concat(uu(o),"<0")),p();if(!fo(i))return s.push("svpDesign".concat(uu(i),"")),p();if((i=lo(i))<0)return s.push("svpDesign".concat(uu(i),"<0")),p();if(!fo(u))return s.push("sv".concat(uu(u),"")),p();if((u=lo(u))<0)return s.push("sv".concat(uu(u),"<0")),p();if(!fo(c))return s.push("PGA".concat(uu(c),"")),p();if((c=lo(c))<0)return s.push("PGA".concat(uu(c),"<0")),p();if(!fo(a))return s.push("Mw".concat(uu(a),"")),p();if((a=lo(a))<0)return s.push("Mw".concat(uu(a),"<0")),p();var v=Math.pow(a/7.5,-2.56),d=(1-.4113*Math.pow(n,.5)+.04052*n+.001753*Math.pow(n,1.5))/(1-.4177*Math.pow(n,.5)+.05729*n-.006205*Math.pow(n,1.5)+.00121*Math.pow(n,2)),g=o/(e-u)*100;console.log("fs,qc,svkg/cm2");var w=e/Math.sqrt(i);console.log("qc,svpDesignkg/cm2");var b=Math.sqrt(Math.pow(3.47-Math.log10(w),2)+Math.pow(Math.log10(g)+1.22,2)),y=-.016*Math.pow(i/100,3)+.178*Math.pow(i/100,2)-i/100*.063+.903;console.log("svpDesignkg/cm2");var m=w*(2.429*Math.pow(b,4)-16.943*Math.pow(b,3)+44.551*Math.pow(b,2)-51.497*b+22.802),M=y*Math.exp(1.264*Math.pow(m/100,1.25)-2.957);return f=M*v,(l=.65*c*(u/i)*d)>0&&(h=f/l),h>10&&(h=10),n>20?(f="-",l="-",h=10,p()):(f<0&&s.push("CRR".concat(uu(f),"<0")),l<=0&&s.push("CSR".concat(uu(l),"<=0")),h<0&&(s.push("FS".concat(uu(h),"<00")),h=0),p())},cptHBF:function(r){var t=r.waterLevelDesign,n=r.depth,e=r.qc,o=r.fs,i=r.svpDesign,u=r.sv,c=r.PGA,a=r.Mw,s=[],f="",l="",h="";function p(){return{CSR:l,CRR:f,FS:h,err:$t(s,"; ")}}if(fo(t)||(s.push("waterLevelDesign".concat(uu(t),"0(m)")),t=0),(t=lo(t))<0&&(s.push("waterLevelDesign".concat(uu(t),"<00(m)")),t=0),!fo(n))return s.push("depth".concat(uu(n),"")),p();if((n=lo(n))<0)return s.push("depth".concat(uu(n),"<0")),p();if(!fo(e))return s.push("qc".concat(uu(e),"")),p();if((e=lo(e))<0)return s.push("qc".concat(uu(e),"<0")),p();if(!fo(o))return s.push("fs".concat(uu(o),"")),p();if((o=lo(o))<0)return s.push("fs".concat(uu(o),"<0")),p();if(!fo(i))return s.push("svpDesign".concat(uu(i),"")),p();if((i=lo(i))<0)return s.push("svpDesign".concat(uu(i),"<0")),p();if(!fo(u))return s.push("sv".concat(uu(u),"")),p();if((u=lo(u))<0)return s.push("sv".concat(uu(u),"<0")),p();if(!fo(c))return s.push("PGA".concat(uu(c),"")),p();if((c=lo(c))<0)return s.push("PGA".concat(uu(c),"<0")),p();if(!fo(a))return s.push("Mw".concat(uu(a),"")),p();if((a=lo(a))<0)return s.push("Mw".concat(uu(a),"<0")),p();var v=Math.pow(a/7.5,-3.3),d=(1-.4113*Math.pow(n,.5)+.04052*n+.001753*Math.pow(n,1.5))/(1-.4177*Math.pow(n,.5)+.05729*n-.006205*Math.pow(n,1.5)+.00121*Math.pow(n,2)),g=1.7/(i+.7)*e;console.log("svpDesignkg/cm2, kPa, 170=>1.770=>0.7r = 98.134256");var w=o/e*100,b=(w<=.1?1:.4*Math.pow(w,2)-.08*w+1.004)*g;return b=Math.min(b,179.5),f=(.09+28e-5*b/(1-b/180))*v,(l=.65*c*(u/i)*d)>0&&(h=f/l),h>10&&(h=10),n>20?(f="-",l="-",h=10,p()):(f<0&&s.push("CRR".concat(uu(f),"<0")),l<=0&&s.push("CSR".concat(uu(l),"<=0")),h<0&&(s.push("FS".concat(uu(h),"<00")),h=0),p())},cptOlsen:function(r){var t=r.waterLevelDesign,n=r.depth,e=r.qc,o=r.fs,i=r.svpDesign,u=r.sv,c=r.PGA,a=r.Mw,s=[],f="",l="",h="";function p(){return{CSR:l,CRR:f,FS:h,err:$t(s,"; ")}}if(fo(t)||(s.push("waterLevelDesign".concat(uu(t),"0(m)")),t=0),(t=lo(t))<0&&(s.push("waterLevelDesign".concat(uu(t),"<00(m)")),t=0),!fo(n))return s.push("depth".concat(uu(n),"")),p();if((n=lo(n))<0)return s.push("depth".concat(uu(n),"<0")),p();if(!fo(e))return s.push("qc".concat(uu(e),"")),p();if((e=lo(e))<0)return s.push("qc".concat(uu(e),"<0")),p();if(!fo(o))return s.push("fs".concat(uu(o),"")),p();if((o=lo(o))<0)return s.push("fs".concat(uu(o),"<0")),p();if(!fo(i))return s.push("svpDesign".concat(uu(i),"")),p();if((i=lo(i))<0)return s.push("svpDesign".concat(uu(i),"<0")),p();if(!fo(u))return s.push("sv".concat(uu(u),"")),p();if((u=lo(u))<0)return s.push("sv".concat(uu(u),"<0")),p();if(!fo(c))return s.push("PGA".concat(uu(c),"")),p();if((c=lo(c))<0)return s.push("PGA".concat(uu(c),"<0")),p();if(!fo(a))return s.push("Mw".concat(uu(a),"")),p();if((a=lo(a))<0)return s.push("Mw".concat(uu(a),"<0")),p();var v=Math.pow(a/7.5,-2.56),d=(1-.4113*Math.pow(n,.5)+.04052*n+.001753*Math.pow(n,1.5))/(1-.4177*Math.pow(n,.5)+.05729*n-.006205*Math.pow(n,1.5)+.00121*Math.pow(n,2)),g=o/e*100,w=.00128*(e/Math.pow(i,.7))-.025+.17*g-.028*Math.pow(g,2)+.0016*Math.pow(g,3);return f=w*v,(l=.65*c*(u/i)*d)>0&&(h=f/l),h>10&&(h=10),n>20?(f="-",l="-",h=10,p()):(f<0&&s.push("CRR".concat(uu(f),"<0")),l<=0&&s.push("CSR".concat(uu(l),"<=0")),h<0&&(s.push("FS".concat(uu(h),"<00")),h=0),p())},cptShibata:function(r){var t=r.waterLevelDesign,n=r.depth,e=r.qc,o=r.fs,i=r.svpDesign,u=r.sv,c=r.PGA,a=r.Mw,s=r.D50,f=[],l="",h="",p="";function v(){return{CSR:h,CRR:l,FS:p,err:$t(f,"; ")}}if(fo(t)||(f.push("waterLevelDesign".concat(uu(t),"0(m)")),t=0),(t=lo(t))<0&&(f.push("waterLevelDesign".concat(uu(t),"<00(m)")),t=0),!fo(n))return f.push("depth".concat(uu(n),"")),v();if((n=lo(n))<0)return f.push("depth".concat(uu(n),"<0")),v();if(!fo(e))return f.push("qc".concat(uu(e),"")),v();if((e=lo(e))<0)return f.push("qc".concat(uu(e),"<0")),v();if(!fo(o))return f.push("fs".concat(uu(o),"")),v();if((o=lo(o))<0)return f.push("fs".concat(uu(o),"<0")),v();if(!fo(i))return f.push("svpDesign".concat(uu(i),"")),v();if((i=lo(i))<0)return f.push("svpDesign".concat(uu(i),"<0")),v();if(!fo(u))return f.push("sv".concat(uu(u),"")),v();if((u=lo(u))<0)return f.push("sv".concat(uu(u),"<0")),v();if(!fo(c))return f.push("PGA".concat(uu(c),"")),v();if((c=lo(c))<0)return f.push("PGA".concat(uu(c),"<0")),v();if(!fo(a))return f.push("Mw".concat(uu(a),"")),v();if((a=lo(a))<0)return f.push("Mw".concat(uu(a),"<0")),v();if(!fo(s))return f.push("D50".concat(uu(s),"")),v();if((s=lo(s))<0)return f.push("D50".concat(uu(s),"<0")),v();var d=1.7/(i+.7)*e,g=.1*(a-1)*c*(u/i)*(1-.015*n),w=(s>=.25?1:s/.25)*(50+200*((g-.1)/(g+.1)));return w=To(w),l=d,(h=w)>0&&(p=l/h),p>10&&(p=10),n>20?(l="-",h="-",p=10,v()):(l<0&&f.push("CRR".concat(uu(l),"<0")),h<=0&&f.push("CSR".concat(uu(h),"<=0")),p<0&&(f.push("FS".concat(uu(p),"<00")),p=0),v())},cptNCEER:function(r){var t=r.waterLevelDesign,n=r.depth,e=r.qc,o=r.fs,i=r.svpDesign,u=r.sv,c=r.PGA,a=r.Mw,s=[],f="",l="",h="";function p(){return{CSR:l,CRR:f,FS:h,err:$t(s,"; ")}}if(fo(t)||(s.push("waterLevelDesign".concat(uu(t),"0(m)")),t=0),(t=lo(t))<0&&(s.push("waterLevelDesign".concat(uu(t),"<00(m)")),t=0),!fo(n))return s.push("depth".concat(uu(n),"")),p();if((n=lo(n))<0)return s.push("depth".concat(uu(n),"<0")),p();if(!fo(e))return s.push("qc".concat(uu(e),"")),p();if((e=lo(e))<0)return s.push("qc".concat(uu(e),"<0")),p();if(!fo(o))return s.push("fs".concat(uu(o),"")),p();if((o=lo(o))<0)return s.push("fs".concat(uu(o),"<0")),p();if(!fo(i))return s.push("svpDesign".concat(uu(i),"")),p();if((i=lo(i))<0)return s.push("svpDesign".concat(uu(i),"<0")),p();if(!fo(u))return s.push("sv".concat(uu(u),"")),p();if((u=lo(u))<0)return s.push("sv".concat(uu(u),"<0")),p();if(!fo(c))return s.push("PGA".concat(uu(c),"")),p();if((c=lo(c))<0)return s.push("PGA".concat(uu(c),"<0")),p();if(!fo(a))return s.push("Mw".concat(uu(a),"")),p();if((a=lo(a))<0)return s.push("Mw".concat(uu(a),"<0")),p();var v=Math.pow(a/7.5,-2.56),d=(1-.4113*Math.pow(n,.5)+.04052*n+.001753*Math.pow(n,1.5))/(1-.4177*Math.pow(n,.5)+.05729*n-.006205*Math.pow(n,1.5)+.00121*Math.pow(n,2)),g=(e-u)/i;console.log("qc,sv,svpDesignkg/cm2");var w,b=o/(e-u)*100;console.log("fs,qc,svkg/cm2");var y,m,M=Math.sqrt(Math.pow(3.47-Math.log10(g),2)+Math.pow(Math.log10(b)+1.22,2));if(M<=2.6){var S=100;S=1e3*S/9.81/1e4;var _=.1;w=e/(_=1e6*_/9.81/1e4)*Math.pow(S/i,.5),console.log("qc,Pa,Pa2,svpDesign");var j=Math.sqrt(Math.pow(3.47-Math.log10(w),2)+Math.pow(Math.log10(b)+1.22,2));j<=2.6?y=j:(w=e/_*Math.pow(S/i,.75),console.log("qc,Pa,Pa2,svpDesign"),y=Math.sqrt(Math.pow(3.47-Math.log10(w),2)+Math.pow(Math.log10(b)+1.22,2)))}else w=g,y=M;y<=1.64?m=1:(m=-.403*Math.pow(y,4)+5.581*Math.pow(y,3)-21.63*Math.pow(y,2)+33.75*y-17.88,y<2.36&&b<.5&&(m=1));var N,x=m*w;return N=(x=Math.min(x,160))<50?x/1e3*.833+.05:93*Math.pow(x/1e3,3)+.08,f=N*v,(l=.65*c*(u/i)*d)>0&&(h=f/l),h>10&&(h=10),n>20?(f="-",l="-",h=10,p()):(f<0&&s.push("CRR".concat(uu(f),"<0")),l<=0&&s.push("CSR".concat(uu(l),"<=0")),h<0&&(s.push("FS".concat(uu(h),"<00")),h=0),p())}},VS:{vsHBF:function(r){var t=r.waterLevelDesign,n=r.depth,e=r.Vs,o=r.FC,i=r.svpDesign,u=r.sv,c=r.PGA,a=r.Mw,s=[],f="",l="",h="";function p(){return{CSR:l,CRR:f,FS:h,err:$t(s,"; ")}}if(fo(t)||(s.push("waterLevelDesign".concat(uu(t),"0(m)")),t=0),(t=lo(t))<0&&(s.push("waterLevelDesign".concat(uu(t),"<00(m)")),t=0),!fo(n))return s.push("depth".concat(uu(n),"")),p();if((n=lo(n))<0)return s.push("depth".concat(uu(n),"<0")),p();if(!fo(e))return s.push("Vs".concat(uu(e),"")),p();if((e=lo(e))<0)return s.push("Vs".concat(uu(e),"<0")),p();if(!fo(o))return s.push("FC".concat(uu(o),"")),p();if((o=lo(o))<0)return s.push("FC".concat(uu(o),"<0")),p();if(!fo(i))return s.push("svpDesign".concat(uu(i),"")),p();if((i=lo(i))<0)return s.push("svpDesign".concat(uu(i),"<0")),p();if(!fo(u))return s.push("sv".concat(uu(u),"")),p();if((u=lo(u))<0)return s.push("sv".concat(uu(u),"<0")),p();if(!fo(c))return s.push("PGA".concat(uu(c),"")),p();if((c=lo(c))<0)return s.push("PGA".concat(uu(c),"<0")),p();if(!fo(a))return s.push("Mw".concat(uu(a),"")),p();if((a=lo(a))<0)return s.push("Mw".concat(uu(a),"<0")),p();var v=Math.pow(a/7.5,-3.3),d=(1-.4113*Math.pow(n,.5)+.04052*n+.001753*Math.pow(n,1.5))/(1-.4177*Math.pow(n,.5)+.05729*n-.006205*Math.pow(n,1.5)+.00121*Math.pow(n,2)),g=1/Math.sqrt(i)*e;console.log("svpDesign,Vs");var w=(o<=10?1:29e-5*Math.pow(o,2)-.00355*o+1.00651)*(g-100);return w=Math.min(w,134.5),f=(g<=100?.09:.09+22e-5*w/(1-w/135))*v,(l=.65*c*(u/i)*d)>0&&(h=f/l),h>10&&(h=10),n>20?(f="-",l="-",h=10,p()):(f<0&&s.push("CRR".concat(uu(f),"<0")),l<=0&&s.push("CSR".concat(uu(l),"<=0")),h<0&&(s.push("FS".concat(uu(h),"<00")),h=0),p())},vsAndrus:function(r){var t=r.waterLevelDesign,n=r.depth,e=r.Vs,o=r.FC,i=r.svpDesign,u=r.sv,c=r.PGA,a=r.Mw,s=[],f="",l="",h="";function p(){return{CSR:l,CRR:f,FS:h,err:$t(s,"; ")}}if(fo(t)||(s.push("waterLevelDesign".concat(uu(t),"0(m)")),t=0),(t=lo(t))<0&&(s.push("waterLevelDesign".concat(uu(t),"<00(m)")),t=0),!fo(n))return s.push("depth".concat(uu(n),"")),p();if((n=lo(n))<0)return s.push("depth".concat(uu(n),"<0")),p();if(!fo(e))return s.push("Vs".concat(uu(e),"")),p();if((e=lo(e))<0)return s.push("Vs".concat(uu(e),"<0")),p();if(!fo(o))return s.push("FC".concat(uu(o),"")),p();if((o=lo(o))<0)return s.push("FC".concat(uu(o),"<0")),p();if(!fo(i))return s.push("svpDesign".concat(uu(i),"")),p();if((i=lo(i))<0)return s.push("svpDesign".concat(uu(i),"<0")),p();if(!fo(u))return s.push("sv".concat(uu(u),"")),p();if((u=lo(u))<0)return s.push("sv".concat(uu(u),"<0")),p();if(!fo(c))return s.push("PGA".concat(uu(c),"")),p();if((c=lo(c))<0)return s.push("PGA".concat(uu(c),"<0")),p();if(!fo(a))return s.push("Mw".concat(uu(a),"")),p();if((a=lo(a))<0)return s.push("Mw".concat(uu(a),"<0")),p();var v,d=Math.pow(a/7.5,-3.3),g=(1-.4113*Math.pow(n,.5)+.04052*n+.001753*Math.pow(n,1.5))/(1-.4177*Math.pow(n,.5)+.05729*n-.006205*Math.pow(n,1.5)+.00121*Math.pow(n,2)),w=1/Math.sqrt(i)*e;console.log("svpDesign,Vs"),v=o<=5?215:o<=35?215-.5*(o-5):200;var b=.022*Math.pow(w/100,2)+2.8*(1/(v-w)-1/v);return b=To(b),f=b*d,(l=.65*c*(u/i)*g)>0&&(h=f/l),h>10&&(h=10),n>20?(f="-",l="-",h=10,p()):(f<0&&s.push("CRR".concat(uu(f),"<0")),l<=0&&s.push("CSR".concat(uu(l),"<=0")),h<0&&(s.push("FS".concat(uu(h),"<00")),h=0),p())},vsNCEER:function(r){var t=r.waterLevelDesign,n=r.depth,e=r.Vs,o=r.FC,i=r.svpDesign,u=r.sv,c=r.PGA,a=r.Mw,s=[],f="",l="",h="";function p(){return{CSR:l,CRR:f,FS:h,err:$t(s,"; ")}}if(fo(t)||(s.push("waterLevelDesign".concat(uu(t),"0(m)")),t=0),(t=lo(t))<0&&(s.push("waterLevelDesign".concat(uu(t),"<00(m)")),t=0),!fo(n))return s.push("depth".concat(uu(n),"")),p();if((n=lo(n))<0)return s.push("depth".concat(uu(n),"<0")),p();if(!fo(e))return s.push("Vs".concat(uu(e),"")),p();if((e=lo(e))<0)return s.push("Vs".concat(uu(e),"<0")),p();if(!fo(o))return s.push("FC".concat(uu(o),"")),p();if((o=lo(o))<0)return s.push("FC".concat(uu(o),"<0")),p();if(!fo(i))return s.push("svpDesign".concat(uu(i),"")),p();if((i=lo(i))<0)return s.push("svpDesign".concat(uu(i),"<0")),p();if(!fo(u))return s.push("sv".concat(uu(u),"")),p();if((u=lo(u))<0)return s.push("sv".concat(uu(u),"<0")),p();if(!fo(c))return s.push("PGA".concat(uu(c),"")),p();if((c=lo(c))<0)return s.push("PGA".concat(uu(c),"<0")),p();if(!fo(a))return s.push("Mw".concat(uu(a),"")),p();if((a=lo(a))<0)return s.push("Mw".concat(uu(a),"<0")),p();var v,d=Math.pow(a/7.5,-3.3),g=(1-.4113*Math.pow(n,.5)+.04052*n+.001753*Math.pow(n,1.5))/(1-.4177*Math.pow(n,.5)+.05729*n-.006205*Math.pow(n,1.5)+.00121*Math.pow(n,2)),w=1/Math.sqrt(i)*e;console.log("svpDesign"),v=o<=5?220:o<=35?210:200;var b=.03*Math.pow(w/100,2)+.9*(1/(v-w)-1/v);return b=To(b),f=b*d,(l=.65*c*(u/i)*g)>0&&(h=f/l),h>10&&(h=10),n>20?(f="-",l="-",h=10,p()):(f<0&&s.push("CRR".concat(uu(f),"<0")),l<=0&&s.push("CSR".concat(uu(l),"<=0")),h<0&&(s.push("FS".concat(uu(h),"<00")),h=0),p())}}};var gu={mLiques:du,mSettls:{SPT:{sptVolumetricStrainTokimatsuAndSeed:fu,sptVolumetricStrainIshiharaAndYoshimine:lu}},calc:function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",t=arguments.length>1?arguments[1]:void 0;function n(r){var t=st(r,0,[]);return J(t)}function e(r){if("spt"===yi(r,3))return"SPT";if("cpt"===yi(r,3))return"CPT";if("vs"===yi(r,2))return"VS";throw new Error(": ".concat(r))}function o(r){var t=n(r),o="";return rr(t,(function(r){if(r.indexOf("-FS")>=0)return o=e(r),!1})),o}function i(r,t,n){return t=lo(t),n=lo(n),r=Mo(r,(function(r,e){var o=st(r,"err","");r.waterLevelUsual=t,r.waterLevelDesign=n;var i=st(r,"depthStart",null),u=st(r,"depthEnd",null);if(fo(i)&&fo(u)){var c=((i=lo(i))+(u=lo(u)))/2;r.depth=c}else r.depth="";var a=st(r,"e",null),s=st(r,"GS",null),f=ru(st(r,"rd",null),st(r,"rsat",null),s,a);return st(f,"err")&&(""===o?o=f.err:o.indexOf(f.err)<0&&(o+=", ".concat(f.err)),r.err=o),Ht(f.rd)?r.rd=f.rd:r.rd="",Ht(f.rsat)?r.rsat=f.rsat:r.rsat="",Ht(f.GS)?r.GS=f.GS:r.GS="",Ht(f.e)?r.e=f.e:r.e="",r}))}function u(r,t,n,e){return e=i(e,t=lo(t),n=lo(n)),"SPT"===r?e=eu(e,{waterLevelUsual:t,waterLevelDesign:n}):"CPT"===r?console.log("CPT"):"VS"===r&&console.log("VS"),e}function c(r,t){return t=Je(t),rr(du[r],(function(r,n){var e=r(t);rr(e,(function(r,e){t["".concat(n,"-").concat(e)]=r}))})),t}function a(r){var t=n(r=Je(r));return rr(t,(function(t){if(t.indexOf("-FS")>=0){var n=t.replace("-FS",""),e=0;r=Mo(r,(function(r,o){if(fo(r.depthStart)&&fo(r.depthEnd)&&fo(r.depth)&&fo(r[t])){var i=lo(r.depthStart),u=lo(r.depthEnd),c=lo(r.depth),a=lo(r[t]),s=1-Math.min(Math.max(a,0),1);e+=s*(10-.5*c)*(u-i)}return r["".concat(n,"-PL")]=e,r}))}})),r}function s(r){var t=n(r=Je(r));return rr(t,(function(t){if(t.indexOf("-vstr")>=0){var n=li(t,"-vstr"),e=st(n,0,""),o=st(n,1,""),i=0;r=Mo(r,(function(r,n){if(fo(r.depthStart)&&fo(r.depthEnd)&&fo(r[t])){var u=lo(r.depthStart),c=lo(r.depthEnd),a=lo(r[t])/100;i+=a*(c-u)}return r["".concat(e,"-stl").concat(o)]=i,r}))}})),r}if(!so(r))throw new Error("kind()");if("SPT"!==r&&"CPT"!==r&&"VS"!==r&&"auto"!==r)throw new Error("kind()".concat(uu(r),": SPT, CPT, VS, auto"));if(0===Bt(t))throw new Error("");var f=ki(t);if(Bt(f)>0)throw new Error($t(f,", "));t=Je(t);var l=st(t,"0.waterLevelUsual",0),h=st(t,"0.waterLevelDesign",0);return"auto"===r&&(r=o(t)),t=u(r,l,h,t),t=s(t=a(t=Mo(t,(function(t,n){return c(r,t)})))),t=Mo(t,(function(t){var n={},e=ci(r),o=Bt(e);return rr(t,(function(r,t){yi(t,o)!==e&&(n[t]=r)})),rr(du[r],(function(r,e){var o=Bt(e),i="",u="";rr(t,(function(r,t){yi(t,o)===e&&("-err"===mi(t,4)?(i=t,u=r):n[t]=r)})),""!==i&&(n[i]=u)})),n}))}};function wu(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(!go(r))return n;var e=st(t,"keyDepth");return so(e)||(e="depth"),r=Je(r),rr(r,(function(r,t){var o=st(r,e,null);fo(o)||n.push(" ".concat(t," ").concat(e,"[").concat(o,"]"))})),Bt(n)>0||(r=ce(r,(function(r){return lo(r[e])})),rr(r,(function(t,o){if(0===o)return!0;var i=st(r,"".concat(o-1,".").concat(e),null),u=st(t,e,null);yo(i=lo(i),">=",u=lo(u))&&n.push(" ".concat(o-1," ").concat(e,"[").concat(i,"] ").concat(o," ").concat(e,"[").concat(u,"]"))}))),n}var bu=function(r,t,n,e){if(!H(r))return r;for(var o=-1,i=(t=ut(t,r)).length,u=i-1,c=r;null!=c&&++o<i;){var a=ct(t[o]),s=n;if("__proto__"===a||"constructor"===a||"prototype"===a)return r;if(o!=u){var f=c[a];void 0===(s=e?e(f,a,c):void 0)&&(s=H(f)?f:A(t[o+1])?[]:{})}fe(c,a,s),c=c[a]}return r};var yu=function(r,t,n){return null==r?r:bu(r,t,n)};function mu(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.push.apply(n,e)}return n}function Mu(r){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mu(Object(n),!0).forEach((function(t){mo(r,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):mu(Object(n)).forEach((function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(n,t))}))}return r}function Su(r,t,n){var e=st(r,"".concat(n,".").concat(t));return e=fo(e)?lo(e):null}function _u(r,t,n){var e=[];return rr(r,(function(o,i){if(0===i)return!0;var u=Su(r,t,i-1),c=Su(r,n,i-1),a=Su(r,n,i);fo(c)&&!fo(a)&&e.push({k:i-1,depth:u,value:c})})),e}function ju(r,t,n,e,o,i){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};return xu(r,t,n,e,o,i,Mu({dir:"before"},u))}function Nu(r,t,n,e,o,i){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};return xu(r,t,n,e,o,i,Mu({dir:"after"},u))}function xu(r,t,n,e,o,i){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},c=st(u,"dir");"before"!==c&&"after"!==c&&(c="after");var a=st(u,"searchMode");if("all"!==a&&"no"!==a&&"peak"!==a&&"half-closed-value"!==a&&"double-closed-value"!==a&&"closed-value"!==a&&(a="all"),0===Bt(r))return null;if("no"===a)return{k:e,depth:st(r,"".concat(e,".").concat(t)),value:st(r,"".concat(e,".").concat(n))};if(!fo(i))return{k:e,depth:st(r,"".concat(e,".").concat(t)),value:st(r,"".concat(e,".").concat(n))};var s=Su(r,t,e),f=[];if("after"===c)for(var l=e+1;l<Bt(r)-1;l++){var h=Su(r,t,l),p=Su(r,n,l),v=Math.abs(h-s)>o;f.push({k:l,depth:h,value:p,outRange:v})}else for(var d=e-1;d>0;d--){var g=Su(r,t,d),w=Su(r,n,d),b=Math.abs(g-s)>o;f.push({k:d,depth:g,value:w,outRange:b})}for(var y=[],m=0;m<f.length;m++){var M=f[m];if(Ht(M.depth)){if(M.outRange&&Bt(y)>0)break;Ht(M.value)&&y.push(M)}}if(0===Bt(y))return null;if("all"===a||"peak"===a)for(var S=1;S<y.length-1;S++){var _=y[S-1],j=y[S+0],N=y[S+1],x=1;if(0!==i&&(x=j.value/i),j.value>=_.value&&j.value>=N.value&&_.value!==N.value&&x>.5&&x<2)return{k:j.k,depth:j.depth,value:j.value}}if("all"===a||"closed-value"===a){for(var D=1e20,E=null,O=0;O<y.length;O++){var C=y[O+0];if(C.outRange)break;var A=Math.abs(C.value-i);D>A&&(D=A,E={k:C.k,depth:C.depth,value:C.value})}if(null!==E)return E}var P=null;if("all"===a||"half-closed-value"===a){for(var R=1e20,k=null,F=0;F<y.length;F++){var L=y[F+0],q=Math.abs(L.value-i/2);R>q&&(k={diff:R=q,k:L.k,depth:L.depth,value:L.value})}null!==k&&(P=k)}var T=null;if("all"===a||"double-closed-value"===a){for(var G=1e20,I=null,U=0;U<y.length;U++){var V=y[U+0],z=Math.abs(V.value-1.5*i);G>z&&(I={diff:G=z,k:V.k,depth:V.depth,value:V.value})}null!==I&&(T=I)}if(null!==P&&null===T)return delete P.diff,P;if(null===P&&null!==T)return delete T.diff,T;if(null===P&&null===T){var B=null;return delete(B=P.diff<=T.diff?P:T).diff,B}return null}function Du(r,t,n,e){if(n!==e){if(n>e)throw new Error("k0 > k1");var o=Je(r);return rr(t,(function(t){for(var i=Su(r,t,n),u=Su(r,t,e),c=e-n,a=n;a<=e;a++){var s=(e-a)/c*i+(a-n)/c*u;yu(o,"".concat(a,".").concat(t),s)}})),o}}function Eu(r,t,n,e){if(n!==e){if(n>e)throw new Error("k0 > k1");var o=Je(r);return rr(t,(function(r){for(var t=n;t<=e;t++)yu(o,"".concat(t,".").concat(r),"")})),o}}var Ou=function(r,t){return!!(null==r?0:r.length)&&zo(r,t,0)>-1};var Cu=function(r,t,n){for(var e=-1,o=null==r?0:r.length;++e<o;)if(n(t,r[e]))return!0;return!1};var Au=function(){},Pu=ht&&1/dn(new ht([,-0]))[1]==1/0?function(r){return new ht(r)}:Au,Ru=Pu;var ku=function(r,t,n){var e=-1,o=Ou,i=r.length,u=!0,c=[],a=c;if(n)u=!1,o=Cu;else if(i>=200){var s=t?null:Ru(r);if(s)return dn(s);u=!1,o=ln,a=new sn}else a=t?[]:c;r:for(;++e<i;){var f=r[e],l=t?t(f):f;if(f=n||0!==f?f:0,u&&l==l){for(var h=a.length;h--;)if(a[h]===l)continue r;t&&a.push(l),c.push(f)}else o(a,l,n)||(a!==c&&a.push(l),c.push(f))}return c};var Fu=function(r){return r&&r.length?ku(r):[]};function Lu(r,t,n){if(!ho(r))return[];if(ho(n)||(n=[n]),!bi(t))return r;if((t=gi(t))>Bt(r))return r;var e=r;try{e=[].concat(Ro(r.slice(0,t)),Ro(n),Ro(r.slice(t)))}catch(r){}return e}r.calcDepthStartEndByConnect=function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(!go(r))throw new Error("");var e=st(t,"keyDepthStart");so(e)||(e="depthStart");var o=st(t,"keyDepthEnd");so(o)||(o="depthEnd");var i=st(t,"depthEndMax");if(i=fo(i)?lo(i):null,r=Je(r),rr(r,(function(r,t){var i=st(r,e,null),u=st(r,o,null);fo(i)||n.push(" ".concat(t," ").concat(e,"[").concat(i,"]")),fo(u)||n.push(" ".concat(t," ").concat(o,"[").concat(u,"]"))})),Bt(n)>0)throw new Error($t(n,", "));if(r=ce(r,(function(r){return lo(r[e])})),rr(r,(function(t,i){if(0===i)return!0;var u=st(r,"".concat(i-1,".").concat(o),null),c=st(t,e,null);yo(u=lo(u),">",c=lo(c))&&n.push(" ".concat(i-1," ").concat(o,"[").concat(u,"] ").concat(i," ").concat(e,"[").concat(c,"]"))})),Bt(n)>0)throw new Error($t(n,", "));if(rr(r,(function(t,n){if(0===n)return!0;var i=st(r,"".concat(n-1,".").concat(o),null),u=st(t,e,null);if(yo(i=lo(i),"<",u=lo(u))){var c=(i+u)/2;r[n-1][o]=c,r[n+0][e]=c}})),Ht(i)){var u=Bt(r)-1,c=r[u],a=c[o];yo(a,"<",i)&&(r[u][o]=i)}return r},r.calcDepthStartEndByGroup=function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(!go(r))throw new Error("");var e=st(t,"keyDepth");so(e)||(e="depth");var o=st(t,"keyGroup");so(o)||(o="group");var i=st(t,"keyDepthStart");so(i)||(i="depthStart");var u=st(t,"keyDepthEnd");so(u)||(u="depthEnd");var c=st(t,"depthEndMax");if(c=fo(c)?lo(c):null,r=Je(r),rr(r,(function(r,t){var i=st(r,e,null);fo(i)||n.push(" ".concat(t," ").concat(e,"[").concat(i,"]"));var u=st(r,o,"");so(u)||fo(u)||n.push(" ".concat(t," ").concat(o,"[").concat(u,"]"))})),Bt(n)>0)throw new Error($t(n,"; "));if(r=ce(r,(function(r){return lo(r[e])})),rr(r,(function(t,o){if(0===o)return!0;var i=st(r,"".concat(o-1,".").concat(e),null),u=st(t,e,null);yo(i=lo(i),">=",u=lo(u))&&n.push(" ".concat(o-1," ").concat(e,"[").concat(i,"] ").concat(o," ").concat(e,"[").concat(u,"]"))})),Bt(n)>0)throw new Error($t(n,"; "));var a={};rr(r,(function(r){var t=r[o];a[t]=!0}));var s=J(a),f=Bt(s);if(0===f)throw new Error("");r=Ao(r,{keyDepth:e,keyDepthStart:i,keyDepthEnd:u,depthEndMax:c});for(var l=Je(r),h=-1;!(++h>=Bt(r)-1);){var p=st(r,h),v=st(r,h+1),d=st(p,o,"g1"),g=st(v,o,"g2");d===g&&(r[h][u]=r[h+1][u],Co(r,h+1),h--)}var w=Mo(r,(function(r){var t;return mo(t={},o,r[o]),mo(t,i,r[i]),mo(t,u,r[u]),t}));return w=Mo(w,(function(r){var t=r[i],n=r[u],o=[],c=[];return rr(l,(function(r,i){var u=r[e];if(yo(u,">=",t)&&yo(u,"<=",n)&&(o.push(i),c.push(r)),yo(u,">",n))return!1})),r.rows=Je(c),Co(l,o),r}))},r.calcDepthStartEndFromCenter=Ao,r.calcLiquefaction=gu,r.calcVerticalStress=eu,r.checkDepth=wu,r.checkDepthStartEnd=ki,r.cnst=Ii,r.complementDepthData=function(r,t,n,e){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!so(t))throw new Error("invalid keyDepth");if(!so(n))throw new Error("invalid keyValue");if(!go(e))throw new Error("invalid keysValueCmp");r=Je(r);var i=st(o,"searchLen");fo(i)||(i=.5);var u=st(o,"beforeSearchMode");"all"!==u&&"no"!==u&&"peak"!==u&&"half-closed-value"!==u&&"double-closed-value"!==u&&"closed-value"!==u&&(u="no");var c=st(o,"afterSearchMode");"all"!==c&&"no"!==c&&"peak"!==c&&"half-closed-value"!==c&&"double-closed-value"!==c&&"closed-value"!==c&&(c="all");var a=st(o,"cmpMode");"linear-fill"!==a&&"cut"!==a&&(a="linear-fill");var s=_u(r,t,n);return rr(s,(function(o){var s;if(null===(s=ju(r,t,n,o.k,i,st(o,"value"),{searchMode:u})))return!0;var f;if(null===(f=Nu(r,t,n,o.k,i,st(s,"value")||st(o,"value"),{searchMode:c})))return!0;"linear-fill"===a?r=Du(r,e,s.k,f.k):"cut"===a&&(r=Eu(r,e,s.k,f.k))})),r},r.groupByDepthStartEnd=function(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=[];if(!go(r))throw new Error("");if(!go(t)&&!Gi(t))throw new Error("");var o=st(n,"keyDepth");so(o)||(o="depth");var i=st(n,"keyDepthStart");so(i)||(i="depthStart");var u=st(n,"keyDepthEnd");if(so(u)||(u="depthEnd"),r=Je(r),rr(r,(function(r,t){var n=st(r,o,null);fo(n)||e.push(" ".concat(t," ").concat(o,"[").concat(n,"]"))})),Bt(e)>0)throw new Error($t(e,"; "));var c=wu(r=ce(r,(function(r){return lo(r[o])})),{keyDepth:o});if(Bt(c)>0)throw new Error($t(c,", "));if(Gi(t)&&(t=[t]),rr(t,(function(r,t){var n=st(r,i,null),o=st(r,u,null);fo(n)||e.push(" ".concat(t," ").concat(i,"[").concat(n,"]")),fo(o)||e.push(" ".concat(t," ").concat(u,"[").concat(o,"]"))})),Bt(e)>0)throw new Error($t(e,"; "));if(rr(t,(function(r,n){var o=st(r,i,null),c=st(r,u,null);if(yo(o=lo(o),">",c=lo(c))&&e.push(" ".concat(n," ").concat(i,"[").concat(o,"]").concat(u,"[").concat(c,"]")),0===n)return!0;var a=st(t,n-1),s=st(a,u,null);yo(s=lo(s),">",o)&&e.push(" ".concat(n," ").concat(u,"[").concat(s,"] ").concat(n+1," ").concat(i,"[").concat(o,"]"))})),Bt(e)>0)throw new Error($t(e,"; "));var a=Je(r),s=Je(t);return s=Mo(s,(function(r,t){var n=st(r,i,null),e=st(r,u,null);n=lo(n),e=lo(e);var c=[],s=[];return rr(a,(function(r,t){var i=r[o];if(yo(i,">=",n)&&yo(i,"<=",e)&&(c.push(t),s.push(r)),yo(i,">",e))return!1})),r.rows=Je(s),Co(a,c),r}))},r.judge=yo,r.relaPlasticityParams=function(r,t,n){var e={};function o(){var o,i,u,c=!1;return Ht(r)&&Ht(n)&&r<=n&&(e.ck_LL_PL="[".concat(r,"]<=[").concat(n,"]")),Ht(r)&&Ht(t)&&(o=r-t),Ht(o)&&(Ht(n)?o<=0?e.ck_PL="[".concat(o,"]<=0"):o>=100?e.ck_PL="[".concat(o,"]>=100"):Math.abs(n-o)>o/100*5&&(e.ck_PL="[".concat(n,"][").concat(o,"]")):(n=o,c=!0)),Ht(r)&&Ht(n)&&(i=r-n),Ht(i)&&(Ht(t)?i<=0?e.ck_PI="[".concat(i,"]<=0"):i>=100?e.ck_PI="[".concat(i,"]>=100"):Math.abs(t-i)>i/100*5&&(e.ck_PI="[".concat(t,"][").concat(i,"]")):(t=i,c=!0)),Ht(n)&&Ht(t)&&(u=n+t),Ht(u)&&(Ht(r)?u<=0?e.ck_LL="[".concat(u,"]<=0"):u>=100?e.ck_LL="[".concat(u,"]>=100"):Math.abs(r-u)>u/100*5&&(e.ck_LL="[".concat(r,"][").concat(u,"]")):(r=u,c=!0)),c}fo(r)?(r=lo(r))<=0&&(e.LL="[".concat(r,"]<=0")):r=null,fo(n)?(n=lo(n))<=0&&(e.PL="[".concat(n,"]<=0")):n=null,fo(t)?(t=lo(t))<=0&&(e.PI="[".concat(t,"]<=0")):t=null;var i=0;if(i+=fo(r)?1:0,i+=fo(n)?1:0,(i+=fo(t)?1:0)>=2)for(var u=o();u;)u=o();var c={LL:r,PL:n,PI:t};if(Gi(e)){var a=$t(Li(e),", ");c.err=a}return c},r.relaPorousParams=ru,r.sepDepthStartEndByDepth=function(r,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!go(r))throw new Error("");if(!go(t))return r;var e=st(n,"keyDepthStart");so(e)||(e="depthStart");var o=st(n,"keyDepthEnd");so(o)||(o="depthEnd");var i=st(n,"keyDepth");so(i)||(i="depth");var u=ki(r=Je(r),{keyDepthStart:e,keyDepthEnd:o});if(Bt(u)>0)throw new Error($t(u,", "));var c=wu(t,{keyDepth:i});if(Bt(c)>0)throw new Error($t(c,", "));var a=Mo(t,(function(r){return r[i]}));a=Fu(a);var s=function(r,t){return r=Je(r),rr(r,(function(n,i){var u=st(n,e,null),c=st(n,o,null);if(u=lo(u),c=lo(c),yo(t,">",u)&&yo(t,"<",c)){var a=Je(n),s=Je(n);return a[o]=t,s[e]=t,Co(r,i),r=Lu(r,i,[a,s]),!1}})),r};return rr(a,(function(t){r=s(r,t)})),r},Object.defineProperty(r,"__esModule",{value:!0})}));
//# sourceMappingURL=w-geo.umd.js.map
