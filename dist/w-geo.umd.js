/*!
 * w-geo v1.0.56
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((r="undefined"!=typeof globalThis?globalThis:r||self)["w-geo"]={})}(this,(function(r){"use strict";function n(r){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},n(r)}function e(r){var e=function(r,e){if("object"!==n(r)||null===r)return r;var t=r[Symbol.toPrimitive];if(void 0!==t){var i=t.call(r,e||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(r)}(r,"string");return"symbol"===n(e)?e:String(e)}function t(r,n,t){return(n=e(n))in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function u(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var o={},a={get exports(){return o},set exports(r){o=r}};var s=function(r,n){for(var e=-1,t=null==r?0:r.length;++e<t&&!1!==n(r[e],e,r););return r};var l=function(r){return function(n,e,t){for(var i=-1,u=Object(n),o=t(n),a=o.length;a--;){var s=o[r?a:++i];if(!1===e(u[s],s,u))break}return n}}();var f=function(r,n){for(var e=-1,t=Array(r);++e<r;)t[e]=n(e);return t},c="object"==typeof i&&i&&i.Object===Object&&i,p=c,h="object"==typeof self&&self&&self.Object===Object&&self,d=p||h||Function("return this")(),v=d.Symbol,g=v,m=Object.prototype,y=m.hasOwnProperty,w=m.toString,b=g?g.toStringTag:void 0;var $=function(r){var n=y.call(r,b),e=r[b];try{r[b]=void 0;var t=!0}catch(r){}var i=w.call(r);return t&&(n?r[b]=e:delete r[b]),i},x=Object.prototype.toString;var S=$,_=function(r){return x.call(r)},j=v?v.toStringTag:void 0;var E=function(r){return null==r?void 0===r?"[object Undefined]":"[object Null]":j&&j in Object(r)?S(r):_(r)};var M=function(r){return null!=r&&"object"==typeof r},q=E,R=M;var O=function(r){return R(r)&&"[object Arguments]"==q(r)},D=M,N=Object.prototype,C=N.hasOwnProperty,k=N.propertyIsEnumerable,P=O(function(){return arguments}())?O:function(r){return D(r)&&C.call(r,"callee")&&!k.call(r,"callee")},A=P,z=Array.isArray,F={};var L=function(){return!1};!function(r,n){var e=d,t=L,i=n&&!n.nodeType&&n,u=i&&r&&!r.nodeType&&r,o=u&&u.exports===i?e.Buffer:void 0,a=(o?o.isBuffer:void 0)||t;r.exports=a}({get exports(){return F},set exports(r){F=r}},F);var I=/^(?:0|[1-9]\d*)$/;var U=function(r,n){var e=typeof r;return!!(n=null==n?9007199254740991:n)&&("number"==e||"symbol"!=e&&I.test(r))&&r>-1&&r%1==0&&r<n};var T=function(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=9007199254740991},G=E,B=T,Q=M,V={};V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=V["[object Int32Array]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0,V["[object Arguments]"]=V["[object Array]"]=V["[object ArrayBuffer]"]=V["[object Boolean]"]=V["[object DataView]"]=V["[object Date]"]=V["[object Error]"]=V["[object Function]"]=V["[object Map]"]=V["[object Number]"]=V["[object Object]"]=V["[object RegExp]"]=V["[object Set]"]=V["[object String]"]=V["[object WeakMap]"]=!1;var Z=function(r){return Q(r)&&B(r.length)&&!!V[G(r)]};var H=function(r){return function(n){return r(n)}},W={};!function(r,n){var e=c,t=n&&!n.nodeType&&n,i=t&&r&&!r.nodeType&&r,u=i&&i.exports===t&&e.process,o=function(){try{var r=i&&i.require&&i.require("util").types;return r||u&&u.binding&&u.binding("util")}catch(r){}}();r.exports=o}({get exports(){return W},set exports(r){W=r}},W);var Y=Z,K=H,J=W&&W.isTypedArray,X=J?K(J):Y,rr=f,nr=A,er=z,tr=F,ir=U,ur=X,or=Object.prototype.hasOwnProperty;var ar=function(r,n){var e=er(r),t=!e&&nr(r),i=!e&&!t&&tr(r),u=!e&&!t&&!i&&ur(r),o=e||t||i||u,a=o?rr(r.length,String):[],s=a.length;for(var l in r)!n&&!or.call(r,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||u&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ir(l,s))||a.push(l);return a},sr=Object.prototype;var lr=function(r){var n=r&&r.constructor;return r===("function"==typeof n&&n.prototype||sr)};var fr=function(r,n){return function(e){return r(n(e))}},cr=fr(Object.keys,Object),pr=lr,hr=cr,dr=Object.prototype.hasOwnProperty;var vr=function(r){if(!pr(r))return hr(r);var n=[];for(var e in Object(r))dr.call(r,e)&&"constructor"!=e&&n.push(e);return n};var gr=function(r){var n=typeof r;return null!=r&&("object"==n||"function"==n)},mr=E,yr=gr;var wr=function(r){if(!yr(r))return!1;var n=mr(r);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n},br=wr,$r=T;var xr=function(r){return null!=r&&$r(r.length)&&!br(r)},Sr=ar,_r=vr,jr=xr;var Er=function(r){return jr(r)?Sr(r):_r(r)},Mr=l,qr=Er;var Rr=xr;var Or=function(r,n){return function(e,t){if(null==e)return e;if(!Rr(e))return r(e,t);for(var i=e.length,u=n?i:-1,o=Object(e);(n?u--:++u<i)&&!1!==t(o[u],u,o););return e}}((function(r,n){return r&&Mr(r,n,qr)}));var Dr=function(r){return r},Nr=Dr;var Cr=s,kr=Or,Pr=function(r){return"function"==typeof r?r:Nr},Ar=z;var zr=function(r,n){return(Ar(r)?Cr:kr)(r,Pr(n))};!function(r){r.exports=zr}(a);var Fr=u(o);var Lr=function(r,n){for(var e=-1,t=null==r?0:r.length,i=Array(t);++e<t;)i[e]=n(r[e],e,r);return i};var Ir=function(){this.__data__=[],this.size=0};var Ur=function(r,n){return r===n||r!=r&&n!=n},Tr=Ur;var Gr=function(r,n){for(var e=r.length;e--;)if(Tr(r[e][0],n))return e;return-1},Br=Gr,Qr=Array.prototype.splice;var Vr=Gr;var Zr=Gr;var Hr=Gr;var Wr=Ir,Yr=function(r){var n=this.__data__,e=Br(n,r);return!(e<0)&&(e==n.length-1?n.pop():Qr.call(n,e,1),--this.size,!0)},Kr=function(r){var n=this.__data__,e=Vr(n,r);return e<0?void 0:n[e][1]},Jr=function(r){return Zr(this.__data__,r)>-1},Xr=function(r,n){var e=this.__data__,t=Hr(e,r);return t<0?(++this.size,e.push([r,n])):e[t][1]=n,this};function rn(r){var n=-1,e=null==r?0:r.length;for(this.clear();++n<e;){var t=r[n];this.set(t[0],t[1])}}rn.prototype.clear=Wr,rn.prototype.delete=Yr,rn.prototype.get=Kr,rn.prototype.has=Jr,rn.prototype.set=Xr;var nn=rn,en=nn;var tn=function(){this.__data__=new en,this.size=0};var un=function(r){var n=this.__data__,e=n.delete(r);return this.size=n.size,e};var on=function(r){return this.__data__.get(r)};var an,sn=function(r){return this.__data__.has(r)},ln=d["__core-js_shared__"],fn=(an=/[^.]+$/.exec(ln&&ln.keys&&ln.keys.IE_PROTO||""))?"Symbol(src)_1."+an:"";var cn=function(r){return!!fn&&fn in r},pn=Function.prototype.toString;var hn=function(r){if(null!=r){try{return pn.call(r)}catch(r){}try{return r+""}catch(r){}}return""},dn=wr,vn=cn,gn=gr,mn=hn,yn=/^\[object .+?Constructor\]$/,wn=Function.prototype,bn=Object.prototype,$n=wn.toString,xn=bn.hasOwnProperty,Sn=RegExp("^"+$n.call(xn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var _n=function(r){return!(!gn(r)||vn(r))&&(dn(r)?Sn:yn).test(mn(r))},jn=function(r,n){return null==r?void 0:r[n]};var En=function(r,n){var e=jn(r,n);return _n(e)?e:void 0},Mn=En(d,"Map"),qn=En(Object,"create"),Rn=qn;var On=function(){this.__data__=Rn?Rn(null):{},this.size=0};var Dn=function(r){var n=this.has(r)&&delete this.__data__[r];return this.size-=n?1:0,n},Nn=qn,Cn=Object.prototype.hasOwnProperty;var kn=function(r){var n=this.__data__;if(Nn){var e=n[r];return"__lodash_hash_undefined__"===e?void 0:e}return Cn.call(n,r)?n[r]:void 0},Pn=qn,An=Object.prototype.hasOwnProperty;var zn=qn;var Fn=On,Ln=Dn,In=kn,Un=function(r){var n=this.__data__;return Pn?void 0!==n[r]:An.call(n,r)},Tn=function(r,n){var e=this.__data__;return this.size+=this.has(r)?0:1,e[r]=zn&&void 0===n?"__lodash_hash_undefined__":n,this};function Gn(r){var n=-1,e=null==r?0:r.length;for(this.clear();++n<e;){var t=r[n];this.set(t[0],t[1])}}Gn.prototype.clear=Fn,Gn.prototype.delete=Ln,Gn.prototype.get=In,Gn.prototype.has=Un,Gn.prototype.set=Tn;var Bn=Gn,Qn=nn,Vn=Mn;var Zn=function(r){var n=typeof r;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r};var Hn=function(r,n){var e=r.__data__;return Zn(n)?e["string"==typeof n?"string":"hash"]:e.map},Wn=Hn;var Yn=Hn;var Kn=Hn;var Jn=Hn;var Xn=function(r,n){var e=Jn(this,r),t=e.size;return e.set(r,n),this.size+=e.size==t?0:1,this},re=function(){this.size=0,this.__data__={hash:new Bn,map:new(Vn||Qn),string:new Bn}},ne=function(r){var n=Wn(this,r).delete(r);return this.size-=n?1:0,n},ee=function(r){return Yn(this,r).get(r)},te=function(r){return Kn(this,r).has(r)},ie=Xn;function ue(r){var n=-1,e=null==r?0:r.length;for(this.clear();++n<e;){var t=r[n];this.set(t[0],t[1])}}ue.prototype.clear=re,ue.prototype.delete=ne,ue.prototype.get=ee,ue.prototype.has=te,ue.prototype.set=ie;var oe=ue,ae=nn,se=Mn,le=oe;var fe=nn,ce=tn,pe=un,he=on,de=sn,ve=function(r,n){var e=this.__data__;if(e instanceof ae){var t=e.__data__;if(!se||t.length<199)return t.push([r,n]),this.size=++e.size,this;e=this.__data__=new le(t)}return e.set(r,n),this.size=e.size,this};function ge(r){var n=this.__data__=new fe(r);this.size=n.size}ge.prototype.clear=ce,ge.prototype.delete=pe,ge.prototype.get=he,ge.prototype.has=de,ge.prototype.set=ve;var me=ge;var ye=oe,we=function(r){return this.__data__.set(r,"__lodash_hash_undefined__"),this},be=function(r){return this.__data__.has(r)};function $e(r){var n=-1,e=null==r?0:r.length;for(this.__data__=new ye;++n<e;)this.add(r[n])}$e.prototype.add=$e.prototype.push=we,$e.prototype.has=be;var xe=$e;var Se=function(r,n){return r.has(n)},_e=xe,je=function(r,n){for(var e=-1,t=null==r?0:r.length;++e<t;)if(n(r[e],e,r))return!0;return!1},Ee=Se;var Me=function(r,n,e,t,i,u){var o=1&e,a=r.length,s=n.length;if(a!=s&&!(o&&s>a))return!1;var l=u.get(r),f=u.get(n);if(l&&f)return l==n&&f==r;var c=-1,p=!0,h=2&e?new _e:void 0;for(u.set(r,n),u.set(n,r);++c<a;){var d=r[c],v=n[c];if(t)var g=o?t(v,d,c,n,r,u):t(d,v,c,r,n,u);if(void 0!==g){if(g)continue;p=!1;break}if(h){if(!je(n,(function(r,n){if(!Ee(h,n)&&(d===r||i(d,r,e,t,u)))return h.push(n)}))){p=!1;break}}else if(d!==v&&!i(d,v,e,t,u)){p=!1;break}}return u.delete(r),u.delete(n),p},qe=d.Uint8Array;var Re=function(r){var n=-1,e=Array(r.size);return r.forEach((function(r,t){e[++n]=[t,r]})),e};var Oe=function(r){var n=-1,e=Array(r.size);return r.forEach((function(r){e[++n]=r})),e},De=qe,Ne=Ur,Ce=Me,ke=Re,Pe=Oe,Ae=v?v.prototype:void 0,ze=Ae?Ae.valueOf:void 0;var Fe=function(r,n,e,t,i,u,o){switch(e){case"[object DataView]":if(r.byteLength!=n.byteLength||r.byteOffset!=n.byteOffset)return!1;r=r.buffer,n=n.buffer;case"[object ArrayBuffer]":return!(r.byteLength!=n.byteLength||!u(new De(r),new De(n)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ne(+r,+n);case"[object Error]":return r.name==n.name&&r.message==n.message;case"[object RegExp]":case"[object String]":return r==n+"";case"[object Map]":var a=ke;case"[object Set]":var s=1&t;if(a||(a=Pe),r.size!=n.size&&!s)return!1;var l=o.get(r);if(l)return l==n;t|=2,o.set(r,n);var f=Ce(a(r),a(n),t,i,u,o);return o.delete(r),f;case"[object Symbol]":if(ze)return ze.call(r)==ze.call(n)}return!1};var Le=function(r,n){for(var e=-1,t=n.length,i=r.length;++e<t;)r[i+e]=n[e];return r},Ie=Le,Ue=z;var Te=function(r,n,e){var t=n(r);return Ue(r)?t:Ie(t,e(r))};var Ge=function(r,n){for(var e=-1,t=null==r?0:r.length,i=0,u=[];++e<t;){var o=r[e];n(o,e,r)&&(u[i++]=o)}return u};var Be=function(){return[]},Qe=Ge,Ve=Be,Ze=Object.prototype.propertyIsEnumerable,He=Object.getOwnPropertySymbols,We=He?function(r){return null==r?[]:(r=Object(r),Qe(He(r),(function(n){return Ze.call(r,n)})))}:Ve,Ye=Te,Ke=We,Je=Er;var Xe=function(r){return Ye(r,Je,Ke)},rt=Xe,nt=Object.prototype.hasOwnProperty;var et=function(r,n,e,t,i,u){var o=1&e,a=rt(r),s=a.length;if(s!=rt(n).length&&!o)return!1;for(var l=s;l--;){var f=a[l];if(!(o?f in n:nt.call(n,f)))return!1}var c=u.get(r),p=u.get(n);if(c&&p)return c==n&&p==r;var h=!0;u.set(r,n),u.set(n,r);for(var d=o;++l<s;){var v=r[f=a[l]],g=n[f];if(t)var m=o?t(g,v,f,n,r,u):t(v,g,f,r,n,u);if(!(void 0===m?v===g||i(v,g,e,t,u):m)){h=!1;break}d||(d="constructor"==f)}if(h&&!d){var y=r.constructor,w=n.constructor;y==w||!("constructor"in r)||!("constructor"in n)||"function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w||(h=!1)}return u.delete(r),u.delete(n),h},tt=En(d,"DataView"),it=En(d,"Promise"),ut=En(d,"Set"),ot=tt,at=Mn,st=it,lt=ut,ft=En(d,"WeakMap"),ct=E,pt=hn,ht="[object Map]",dt="[object Promise]",vt="[object Set]",gt="[object WeakMap]",mt="[object DataView]",yt=pt(ot),wt=pt(at),bt=pt(st),$t=pt(lt),xt=pt(ft),St=ct;(ot&&St(new ot(new ArrayBuffer(1)))!=mt||at&&St(new at)!=ht||st&&St(st.resolve())!=dt||lt&&St(new lt)!=vt||ft&&St(new ft)!=gt)&&(St=function(r){var n=ct(r),e="[object Object]"==n?r.constructor:void 0,t=e?pt(e):"";if(t)switch(t){case yt:return mt;case wt:return ht;case bt:return dt;case $t:return vt;case xt:return gt}return n});var _t=St,jt=me,Et=Me,Mt=Fe,qt=et,Rt=_t,Ot=z,Dt=F,Nt=X,Ct="[object Arguments]",kt="[object Array]",Pt="[object Object]",At=Object.prototype.hasOwnProperty;var zt=function(r,n,e,t,i,u){var o=Ot(r),a=Ot(n),s=o?kt:Rt(r),l=a?kt:Rt(n),f=(s=s==Ct?Pt:s)==Pt,c=(l=l==Ct?Pt:l)==Pt,p=s==l;if(p&&Dt(r)){if(!Dt(n))return!1;o=!0,f=!1}if(p&&!f)return u||(u=new jt),o||Nt(r)?Et(r,n,e,t,i,u):Mt(r,n,s,e,t,i,u);if(!(1&e)){var h=f&&At.call(r,"__wrapped__"),d=c&&At.call(n,"__wrapped__");if(h||d){var v=h?r.value():r,g=d?n.value():n;return u||(u=new jt),i(v,g,e,t,u)}}return!!p&&(u||(u=new jt),qt(r,n,e,t,i,u))},Ft=M;var Lt=function r(n,e,t,i,u){return n===e||(null==n||null==e||!Ft(n)&&!Ft(e)?n!=n&&e!=e:zt(n,e,t,i,r,u))},It=me,Ut=Lt;var Tt=gr;var Gt=function(r){return r==r&&!Tt(r)},Bt=Gt,Qt=Er;var Vt=function(r,n){return function(e){return null!=e&&(e[r]===n&&(void 0!==n||r in Object(e)))}},Zt=function(r,n,e,t){var i=e.length,u=i,o=!t;if(null==r)return!u;for(r=Object(r);i--;){var a=e[i];if(o&&a[2]?a[1]!==r[a[0]]:!(a[0]in r))return!1}for(;++i<u;){var s=(a=e[i])[0],l=r[s],f=a[1];if(o&&a[2]){if(void 0===l&&!(s in r))return!1}else{var c=new It;if(t)var p=t(l,f,s,r,n,c);if(!(void 0===p?Ut(f,l,3,t,c):p))return!1}}return!0},Ht=function(r){for(var n=Qt(r),e=n.length;e--;){var t=n[e],i=r[t];n[e]=[t,i,Bt(i)]}return n},Wt=Vt;var Yt=function(r){var n=Ht(r);return 1==n.length&&n[0][2]?Wt(n[0][0],n[0][1]):function(e){return e===r||Zt(e,r,n)}},Kt=E,Jt=M;var Xt=function(r){return"symbol"==typeof r||Jt(r)&&"[object Symbol]"==Kt(r)},ri=z,ni=Xt,ei=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ti=/^\w*$/;var ii=function(r,n){if(ri(r))return!1;var e=typeof r;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=r&&!ni(r))||(ti.test(r)||!ei.test(r)||null!=n&&r in Object(n))},ui=oe;function oi(r,n){if("function"!=typeof r||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var e=function(){var t=arguments,i=n?n.apply(this,t):t[0],u=e.cache;if(u.has(i))return u.get(i);var o=r.apply(this,t);return e.cache=u.set(i,o)||u,o};return e.cache=new(oi.Cache||ui),e}oi.Cache=ui;var ai=oi;var si=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,li=/\\(\\)?/g,fi=function(r){var n=ai(r,(function(r){return 500===e.size&&e.clear(),r})),e=n.cache;return n}((function(r){var n=[];return 46===r.charCodeAt(0)&&n.push(""),r.replace(si,(function(r,e,t,i){n.push(t?i.replace(li,"$1"):e||r)})),n})),ci=Lr,pi=z,hi=Xt,di=v?v.prototype:void 0,vi=di?di.toString:void 0;var gi=function r(n){if("string"==typeof n)return n;if(pi(n))return ci(n,r)+"";if(hi(n))return vi?vi.call(n):"";var e=n+"";return"0"==e&&1/n==-Infinity?"-0":e},mi=gi;var yi=function(r){return null==r?"":mi(r)},wi=z,bi=ii,$i=fi,xi=yi;var Si=function(r,n){return wi(r)?r:bi(r,n)?[r]:$i(xi(r))},_i=Xt;var ji=function(r){if("string"==typeof r||_i(r))return r;var n=r+"";return"0"==n&&1/r==-Infinity?"-0":n},Ei=Si,Mi=ji;var qi=function(r,n){for(var e=0,t=(n=Ei(n,r)).length;null!=r&&e<t;)r=r[Mi(n[e++])];return e&&e==t?r:void 0},Ri=qi;var Oi=function(r,n,e){var t=null==r?void 0:Ri(r,n);return void 0===t?e:t};var Di=Si,Ni=A,Ci=z,ki=U,Pi=T,Ai=ji;var zi=function(r,n){return null!=r&&n in Object(r)},Fi=function(r,n,e){for(var t=-1,i=(n=Di(n,r)).length,u=!1;++t<i;){var o=Ai(n[t]);if(!(u=null!=r&&e(r,o)))break;r=r[o]}return u||++t!=i?u:!!(i=null==r?0:r.length)&&Pi(i)&&ki(o,i)&&(Ci(r)||Ni(r))};var Li=Lt,Ii=Oi,Ui=function(r,n){return null!=r&&Fi(r,n,zi)},Ti=ii,Gi=Gt,Bi=Vt,Qi=ji;var Vi=function(r){return function(n){return null==n?void 0:n[r]}},Zi=qi;var Hi=Vi,Wi=function(r){return function(n){return Zi(n,r)}},Yi=ii,Ki=ji;var Ji=Yt,Xi=function(r,n){return Ti(r)&&Gi(n)?Bi(Qi(r),n):function(e){var t=Ii(e,r);return void 0===t&&t===n?Ui(e,r):Li(n,t,3)}},ru=Dr,nu=z,eu=function(r){return Yi(r)?Hi(Ki(r)):Wi(r)};var tu=function(r){return"function"==typeof r?r:null==r?ru:"object"==typeof r?nu(r)?Xi(r[0],r[1]):Ji(r):eu(r)},iu=Or,uu=xr;var ou=function(r,n){var e=-1,t=uu(r)?Array(r.length):[];return iu(r,(function(r,i,u){t[++e]=n(r,i,u)})),t},au=Lr,su=tu,lu=ou,fu=z;var cu=function(r,n){return(fu(r)?au:lu)(r,su(n))},pu=En,hu=function(){try{var r=pu(Object,"defineProperty");return r({},"",{}),r}catch(r){}}(),du=hu;var vu=function(r,n,e){"__proto__"==n&&du?du(r,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):r[n]=e},gu=vu,mu=Ur,yu=Object.prototype.hasOwnProperty;var wu=function(r,n,e){var t=r[n];yu.call(r,n)&&mu(t,e)&&(void 0!==e||n in r)||gu(r,n,e)},bu=wu,$u=vu;var xu=function(r,n,e,t){var i=!e;e||(e={});for(var u=-1,o=n.length;++u<o;){var a=n[u],s=t?t(e[a],r[a],a,e,r):void 0;void 0===s&&(s=r[a]),i?$u(e,a,s):bu(e,a,s)}return e},Su=xu,_u=Er;var ju=function(r,n){return r&&Su(n,_u(n),r)};var Eu=gr,Mu=lr,qu=function(r){var n=[];if(null!=r)for(var e in Object(r))n.push(e);return n},Ru=Object.prototype.hasOwnProperty;var Ou=ar,Du=function(r){if(!Eu(r))return qu(r);var n=Mu(r),e=[];for(var t in r)("constructor"!=t||!n&&Ru.call(r,t))&&e.push(t);return e},Nu=xr;var Cu=function(r){return Nu(r)?Ou(r,!0):Du(r)},ku=xu,Pu=Cu;var Au=function(r,n){return r&&ku(n,Pu(n),r)},zu={};!function(r,n){var e=d,t=n&&!n.nodeType&&n,i=t&&r&&!r.nodeType&&r,u=i&&i.exports===t?e.Buffer:void 0,o=u?u.allocUnsafe:void 0;r.exports=function(r,n){if(n)return r.slice();var e=r.length,t=o?o(e):new r.constructor(e);return r.copy(t),t}}({get exports(){return zu},set exports(r){zu=r}},zu);var Fu=function(r,n){var e=-1,t=r.length;for(n||(n=Array(t));++e<t;)n[e]=r[e];return n},Lu=xu,Iu=We;var Uu=function(r,n){return Lu(r,Iu(r),n)},Tu=fr(Object.getPrototypeOf,Object),Gu=Le,Bu=Tu,Qu=We,Vu=Be,Zu=Object.getOwnPropertySymbols?function(r){for(var n=[];r;)Gu(n,Qu(r)),r=Bu(r);return n}:Vu,Hu=xu,Wu=Zu;var Yu=function(r,n){return Hu(r,Wu(r),n)},Ku=Te,Ju=Zu,Xu=Cu;var ro=function(r){return Ku(r,Xu,Ju)},no=Object.prototype.hasOwnProperty;var eo=function(r){var n=r.length,e=new r.constructor(n);return n&&"string"==typeof r[0]&&no.call(r,"index")&&(e.index=r.index,e.input=r.input),e},to=qe;var io=function(r){var n=new r.constructor(r.byteLength);return new to(n).set(new to(r)),n},uo=io;var oo=function(r,n){var e=n?uo(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.byteLength)},ao=/\w*$/;var so=function(r){var n=new r.constructor(r.source,ao.exec(r));return n.lastIndex=r.lastIndex,n},lo=v?v.prototype:void 0,fo=lo?lo.valueOf:void 0;var co=io;var po=io,ho=oo,vo=so,go=function(r){return fo?Object(fo.call(r)):{}},mo=function(r,n){var e=n?co(r.buffer):r.buffer;return new r.constructor(e,r.byteOffset,r.length)};var yo=function(r,n,e){var t=r.constructor;switch(n){case"[object ArrayBuffer]":return po(r);case"[object Boolean]":case"[object Date]":return new t(+r);case"[object DataView]":return ho(r,e);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return mo(r,e);case"[object Map]":case"[object Set]":return new t;case"[object Number]":case"[object String]":return new t(r);case"[object RegExp]":return vo(r);case"[object Symbol]":return go(r)}},wo=gr,bo=Object.create,$o=function(){function r(){}return function(n){if(!wo(n))return{};if(bo)return bo(n);r.prototype=n;var e=new r;return r.prototype=void 0,e}}(),xo=Tu,So=lr;var _o=function(r){return"function"!=typeof r.constructor||So(r)?{}:$o(xo(r))},jo=_t,Eo=M;var Mo=function(r){return Eo(r)&&"[object Map]"==jo(r)},qo=H,Ro=W&&W.isMap,Oo=Ro?qo(Ro):Mo,Do=_t,No=M;var Co=function(r){return No(r)&&"[object Set]"==Do(r)},ko=H,Po=W&&W.isSet,Ao=Po?ko(Po):Co,zo=me,Fo=s,Lo=wu,Io=ju,Uo=Au,To=zu,Go=Fu,Bo=Uu,Qo=Yu,Vo=Xe,Zo=ro,Ho=_t,Wo=eo,Yo=yo,Ko=_o,Jo=z,Xo=F,ra=Oo,na=gr,ea=Ao,ta=Er,ia=Cu,ua="[object Arguments]",oa="[object Function]",aa="[object Object]",sa={};sa[ua]=sa["[object Array]"]=sa["[object ArrayBuffer]"]=sa["[object DataView]"]=sa["[object Boolean]"]=sa["[object Date]"]=sa["[object Float32Array]"]=sa["[object Float64Array]"]=sa["[object Int8Array]"]=sa["[object Int16Array]"]=sa["[object Int32Array]"]=sa["[object Map]"]=sa["[object Number]"]=sa[aa]=sa["[object RegExp]"]=sa["[object Set]"]=sa["[object String]"]=sa["[object Symbol]"]=sa["[object Uint8Array]"]=sa["[object Uint8ClampedArray]"]=sa["[object Uint16Array]"]=sa["[object Uint32Array]"]=!0,sa["[object Error]"]=sa[oa]=sa["[object WeakMap]"]=!1;var la=function r(n,e,t,i,u,o){var a,s=1&e,l=2&e,f=4&e;if(t&&(a=u?t(n,i,u,o):t(n)),void 0!==a)return a;if(!na(n))return n;var c=Jo(n);if(c){if(a=Wo(n),!s)return Go(n,a)}else{var p=Ho(n),h=p==oa||"[object GeneratorFunction]"==p;if(Xo(n))return To(n,s);if(p==aa||p==ua||h&&!u){if(a=l||h?{}:Ko(n),!s)return l?Qo(n,Uo(a,n)):Bo(n,Io(a,n))}else{if(!sa[p])return u?n:{};a=Yo(n,p,s)}}o||(o=new zo);var d=o.get(n);if(d)return d;o.set(n,a),ea(n)?n.forEach((function(i){a.add(r(i,e,t,i,n,o))})):ra(n)&&n.forEach((function(i,u){a.set(u,r(i,e,t,u,n,o))}));var v=c?void 0:(f?l?Zo:Vo:l?ia:ta)(n);return Fo(v||n,(function(i,u){v&&(i=n[u=i]),Lo(a,u,r(i,e,t,u,n,o))})),a},fa=la;var ca=function(r){return fa(r,5)},pa=E,ha=M;var da=function(r){return"number"==typeof r||ha(r)&&"[object Number]"==pa(r)},va=/\s/;var ga=function(r){for(var n=r.length;n--&&va.test(r.charAt(n)););return n},ma=/^\s+/;var ya=function(r){return r?r.slice(0,ga(r)+1).replace(ma,""):r};var wa=function(r,n,e){var t=-1,i=r.length;n<0&&(n=-n>i?0:i+n),(e=e>i?i:e)<0&&(e+=i),i=n>e?0:e-n>>>0,n>>>=0;for(var u=Array(i);++t<i;)u[t]=r[t+n];return u},ba=wa;var $a=function(r,n,e){var t=r.length;return e=void 0===e?t:e,!n&&e>=t?r:ba(r,n,e)};var xa=function(r,n,e,t){for(var i=r.length,u=e+(t?1:-1);t?u--:++u<i;)if(n(r[u],u,r))return u;return-1},Sa=function(r){return r!=r},_a=function(r,n,e){for(var t=e-1,i=r.length;++t<i;)if(r[t]===n)return t;return-1};var ja=function(r,n,e){return n==n?_a(r,n,e):xa(r,Sa,e)},Ea=ja;var Ma=function(r,n){for(var e=r.length;e--&&Ea(n,r[e],0)>-1;);return e},qa=ja;var Ra=function(r,n){for(var e=-1,t=r.length;++e<t&&qa(n,r[e],0)>-1;);return e};var Oa=function(r){return r.split("")},Da=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Na=function(r){return Da.test(r)},Ca="\\ud800-\\udfff",ka="["+Ca+"]",Pa="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Aa="\\ud83c[\\udffb-\\udfff]",za="[^"+Ca+"]",Fa="(?:\\ud83c[\\udde6-\\uddff]){2}",La="[\\ud800-\\udbff][\\udc00-\\udfff]",Ia="(?:"+Pa+"|"+Aa+")"+"?",Ua="[\\ufe0e\\ufe0f]?",Ta=Ua+Ia+("(?:\\u200d(?:"+[za,Fa,La].join("|")+")"+Ua+Ia+")*"),Ga="(?:"+[za+Pa+"?",Pa,Fa,La,ka].join("|")+")",Ba=RegExp(Aa+"(?="+Aa+")|"+Ga+Ta,"g");var Qa=Oa,Va=Na,Za=function(r){return r.match(Ba)||[]};var Ha=function(r){return Va(r)?Za(r):Qa(r)},Wa=gi,Ya=ya,Ka=$a,Ja=Ma,Xa=Ra,rs=Ha,ns=yi;var es=function(r,n,e){if((r=ns(r))&&(e||void 0===n))return Ya(r);if(!r||!(n=Wa(n)))return r;var t=rs(r),i=rs(n),u=Xa(t,i),o=Ja(t,i)+1;return Ka(t,u,o).join("")};function ts(r){return"[object String]"===Object.prototype.toString.call(r)}function is(r){let n=Object.prototype.toString.call(r);return"[object Function]"===n||"[object AsyncFunction]"===n}function us(r){return"[object Object]"===Object.prototype.toString.call(r)}function os(r){if(us(r)){for(let n in r)return!0;return!1}return!1}var as=E,ss=M;var ls=function(r){return!0===r||!1===r||ss(r)&&"[object Boolean]"==as(r)};function fs(r){return ls(r)}function cs(r){return!(!ts(r)||""===r)}function ps(r){let n=!1;return cs(r)?n=!isNaN(Number(r)):function(r){return"[object Number]"===Object.prototype.toString.call(r)}(r)&&(n=!0),n}var hs=ya,ds=gr,vs=Xt,gs=/^[-+]0x[0-9a-f]+$/i,ms=/^0b[01]+$/i,ys=/^0o[0-7]+$/i,ws=parseInt;var bs=function(r){if("number"==typeof r)return r;if(vs(r))return NaN;if(ds(r)){var n="function"==typeof r.valueOf?r.valueOf():r;r=ds(n)?n+"":n}if("string"!=typeof r)return 0===r?r:+r;r=hs(r);var e=ms.test(r);return e||ys.test(r)?ws(r.slice(2),e?2:8):gs.test(r)?NaN:+r},$s=bs,xs=1/0;var Ss=function(r){return r?(r=$s(r))===xs||r===-1/0?17976931348623157e292*(r<0?-1:1):r==r?r:0:0===r?r:0};function _s(r){if(!ps(r))return 0;return Ss(r)}function js(r,n){let e=null;if(cs(n)){let t=Oi(r,n);ps(t)&&(e=_s(t))}else is(n)&&(e=n(r));return e}var Es={pickData:js};let Ms={eps:1e-6,g:9.81,rw:9.81,Pa:.10139616,assesment_rd:18.03986577,assesment_rsat:21.26597315};function qs(r){if(!ps(r))return null;return(r=_s(r))*Ms.rw}function Rs(r){if(!ps(r))return null;let n=(r=_s(r))*Ms.assesment_rsat,e=n-qs(r);return e=Math.max(e,0),{sv:n,svp:e,svdry:r*Ms.assesment_rd}}var Os={intrpDefPp:qs,intrpDefSvSvp:Rs},Ds=E,Ns=z,Cs=M;var ks=function(r){return"string"==typeof r||!Ns(r)&&Cs(r)&&"[object String]"==Ds(r)},Ps=Vi("length"),As="\\ud800-\\udfff",zs="["+As+"]",Fs="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ls="\\ud83c[\\udffb-\\udfff]",Is="[^"+As+"]",Us="(?:\\ud83c[\\udde6-\\uddff]){2}",Ts="[\\ud800-\\udbff][\\udc00-\\udfff]",Gs="(?:"+Fs+"|"+Ls+")"+"?",Bs="[\\ufe0e\\ufe0f]?",Qs=Bs+Gs+("(?:\\u200d(?:"+[Is,Us,Ts].join("|")+")"+Bs+Gs+")*"),Vs="(?:"+[Is+Fs+"?",Fs,Us,Ts,zs].join("|")+")",Zs=RegExp(Ls+"(?="+Ls+")|"+Vs+Qs,"g");var Hs=Ps,Ws=Na,Ys=function(r){for(var n=Zs.lastIndex=0;Zs.test(r);)++n;return n};var Ks=vr,Js=_t,Xs=xr,rl=ks,nl=function(r){return Ws(r)?Ys(r):Hs(r)};var el=function(r){if(null==r)return 0;if(Xs(r))return rl(r)?nl(r):r.length;var n=Js(r);return"[object Map]"==n||"[object Set]"==n?r.size:Ks(r).length},tl=A,il=z,ul=v?v.isConcatSpreadable:void 0;var ol=Le,al=function(r){return il(r)||tl(r)||!!(ul&&r&&r[ul])};var sl=function r(n,e,t,i,u){var o=-1,a=n.length;for(t||(t=al),u||(u=[]);++o<a;){var s=n[o];e>0&&t(s)?e>1?r(s,e-1,t,i,u):ol(u,s):i||(u[u.length]=s)}return u};var ll=Xt;var fl=function(r,n){if(r!==n){var e=void 0!==r,t=null===r,i=r==r,u=ll(r),o=void 0!==n,a=null===n,s=n==n,l=ll(n);if(!a&&!l&&!u&&r>n||u&&o&&s&&!a&&!l||t&&o&&s||!e&&s||!i)return 1;if(!t&&!u&&!l&&r<n||l&&e&&i&&!t&&!u||a&&e&&i||!o&&i||!s)return-1}return 0},cl=fl;var pl=Lr,hl=qi,dl=tu,vl=ou,gl=function(r,n){var e=r.length;for(r.sort(n);e--;)r[e]=r[e].value;return r},ml=H,yl=function(r,n,e){for(var t=-1,i=r.criteria,u=n.criteria,o=i.length,a=e.length;++t<o;){var s=cl(i[t],u[t]);if(s)return t>=a?s:s*("desc"==e[t]?-1:1)}return r.index-n.index},wl=Dr,bl=z;var $l=function(r,n,e){n=n.length?pl(n,(function(r){return bl(r)?function(n){return hl(n,1===r.length?r[0]:r)}:r})):[wl];var t=-1;n=pl(n,ml(dl));var i=vl(r,(function(r,e,i){return{criteria:pl(n,(function(n){return n(r)})),index:++t,value:r}}));return gl(i,(function(r,n){return yl(r,n,e)}))};var xl=function(r,n,e){switch(e.length){case 0:return r.call(n);case 1:return r.call(n,e[0]);case 2:return r.call(n,e[0],e[1]);case 3:return r.call(n,e[0],e[1],e[2])}return r.apply(n,e)},Sl=Math.max;var _l=function(r,n,e){return n=Sl(void 0===n?r.length-1:n,0),function(){for(var t=arguments,i=-1,u=Sl(t.length-n,0),o=Array(u);++i<u;)o[i]=t[n+i];i=-1;for(var a=Array(n+1);++i<n;)a[i]=t[i];return a[n]=e(o),xl(r,this,a)}};var jl=function(r){return function(){return r}},El=hu,Ml=El?function(r,n){return El(r,"toString",{configurable:!0,enumerable:!1,value:jl(n),writable:!0})}:Dr,ql=Date.now;var Rl=function(r){var n=0,e=0;return function(){var t=ql(),i=16-(t-e);if(e=t,i>0){if(++n>=800)return arguments[0]}else n=0;return r.apply(void 0,arguments)}},Ol=Rl(Ml),Dl=Dr,Nl=_l,Cl=Ol;var kl=Ur,Pl=xr,Al=U,zl=gr;var Fl=function(r,n,e){if(!zl(e))return!1;var t=typeof n;return!!("number"==t?Pl(e)&&Al(n,e.length):"string"==t&&n in e)&&kl(e[n],r)},Ll=sl,Il=$l,Ul=Fl,Tl=function(r,n){return Cl(Nl(r,n,Dl),r+"")}((function(r,n){if(null==r)return[];var e=n.length;return e>1&&Ul(r,n[0],n[1])?n=[]:e>2&&Ul(n[0],n[1],n[2])&&(n=[n[0]]),Il(r,Ll(n,1),[])})),Gl=Math.ceil,Bl=Math.max;var Ql=function(r,n,e,t){for(var i=-1,u=Bl(Gl((n-r)/(e||1)),0),o=Array(u);u--;)o[t?u:++i]=r,r+=e;return o},Vl=Fl,Zl=Ss;var Hl=function(r){return function(n,e,t){return t&&"number"!=typeof t&&Vl(n,e,t)&&(e=t=void 0),n=Zl(n),void 0===e?(e=n,n=0):e=Zl(e),t=void 0===t?n<e?1:-1:Zl(t),Ql(n,e,t,r)}}(),Wl=Oi;var Yl=function(r,n){for(var e=-1,t=n.length,i=Array(t),u=null==r;++e<t;)i[e]=u?void 0:Wl(r,n[e]);return i},Kl=sl;var Jl=function(r){return(null==r?0:r.length)?Kl(r,1):[]},Xl=_l,rf=Ol;var nf=function(r){return rf(Xl(r,void 0,Jl),r+"")},ef=nf(Yl);function tf(r){return"[object Array]"===Object.prototype.toString.call(r)}function uf(r){return!!function(r){return"[object Undefined]"===Object.prototype.toString.call(r)}(r)||(!!function(r){return"[object Null]"===Object.prototype.toString.call(r)}(r)||(!!function(r){if(us(r)){for(let n in r)return!1;return!0}return!1}(r)||(!!function(r){return!(!ts(r)||""!==r)}(r)||!!function(r){return!!tf(r)&&0===r.length}(r))))}function of(r){return!!tf(r)&&(0!==r.length&&(1!==r.length||!uf(r[0])))}var af=Ss;var sf=function(r){var n=af(r),e=n%1;return n==n?e?n-e:n:0},lf=sf;var ff=function(r){return"number"==typeof r&&r==lf(r)};function cf(r){return!!ps(r)&&(r=_s(r),ff(r))}var pf=sf,hf=bs,df=yi,vf=d.isFinite,gf=Math.min;var mf=function(r){var n=Math[r];return function(r,e){if(r=hf(r),(e=null==e?0:gf(pf(e),292))&&vf(r)){var t=(df(r)+"e").split("e"),i=n(t[0]+"e"+(+t[1]+e));return+((t=(df(i)+"e").split("e"))[0]+"e"+(+t[1]-e))}return n(r)}}("round");function yf(r){if(!ps(r))return 0;r=_s(r);let n=mf(r);return"0"===String(n)?0:n}function wf(r){if(!cf(r))return!1;return yf(r)>=0}var bf=function(r,n){for(var e,t=-1,i=r.length;++t<i;){var u=n(r[t]);void 0!==u&&(e=void 0===e?u:e+u)}return e};var $f=function(r,n){var e=null==r?0:r.length;return e?bf(r,n)/e:NaN},xf=Dr;var Sf=function(r){return $f(r,xf)},_f=Or;var jf=Ge,Ef=function(r,n){var e=[];return _f(r,(function(r,t,i){n(r,t,i)&&e.push(r)})),e},Mf=tu,qf=z;var Rf=function(r,n){return(qf(r)?jf:Ef)(r,Mf(n))};function Of(r){if(!tf(r))return null;if(0===el(r))return null;let n=function(r){return of(r)?(r=ca(r),r=Rf(r,ps),r=cu(r,_s)):[]}(r);return 0===el(n)?null:Sf(n)}var Df={};!function(r,n){r.exports=function(){var r=function(r,n){var e=Array.prototype.concat,t=Array.prototype.slice,i=Object.prototype.toString;function u(n,e){var t=n>e?n:e;return r.pow(10,17-~~(r.log(t>0?t:-t)*r.LOG10E))}var o=Array.isArray||function(r){return"[object Array]"===i.call(r)};function a(r){return"[object Function]"===i.call(r)}function s(r){return"number"==typeof r&&r-r==0}function l(r){return e.apply([],r)}function f(){return new f._init(arguments)}function c(){return 0}function p(){return 1}function h(r,n){return r===n?1:0}f.fn=f.prototype,f._init=function(r){if(o(r[0]))if(o(r[0][0])){a(r[1])&&(r[0]=f.map(r[0],r[1]));for(var n=0;n<r[0].length;n++)this[n]=r[0][n];this.length=r[0].length}else this[0]=a(r[1])?f.map(r[0],r[1]):r[0],this.length=1;else if(s(r[0]))this[0]=f.seq.apply(null,r),this.length=1;else{if(r[0]instanceof f)return f(r[0].toArray());this[0]=[],this.length=1}return this},f._init.prototype=f.prototype,f._init.constructor=f,f.utils={calcRdx:u,isArray:o,isFunction:a,isNumber:s,toVector:l},f._random_fn=r.random,f.setRandom=function(r){if("function"!=typeof r)throw new TypeError("fn is not a function");f._random_fn=r},f.extend=function(r){var n,e;if(1===arguments.length){for(e in r)f[e]=r[e];return this}for(n=1;n<arguments.length;n++)for(e in arguments[n])r[e]=arguments[n][e];return r},f.rows=function(r){return r.length||1},f.cols=function(r){return r[0].length||1},f.dimensions=function(r){return{rows:f.rows(r),cols:f.cols(r)}},f.row=function(r,n){return o(n)?n.map((function(n){return f.row(r,n)})):r[n]},f.rowa=function(r,n){return f.row(r,n)},f.col=function(r,n){if(o(n)){var e=f.arange(r.length).map((function(){return new Array(n.length)}));return n.forEach((function(n,t){f.arange(r.length).forEach((function(i){e[i][t]=r[i][n]}))})),e}for(var t=new Array(r.length),i=0;i<r.length;i++)t[i]=[r[i][n]];return t},f.cola=function(r,n){return f.col(r,n).map((function(r){return r[0]}))},f.diag=function(r){for(var n=f.rows(r),e=new Array(n),t=0;t<n;t++)e[t]=[r[t][t]];return e},f.antidiag=function(r){for(var n=f.rows(r)-1,e=new Array(n),t=0;n>=0;n--,t++)e[t]=[r[t][n]];return e},f.transpose=function(r){var n,e,t,i,u,a=[];for(o(r[0])||(r=[r]),e=r.length,t=r[0].length,u=0;u<t;u++){for(n=new Array(e),i=0;i<e;i++)n[i]=r[i][u];a.push(n)}return 1===a.length?a[0]:a},f.map=function(r,n,e){var t,i,u,a,s;for(o(r[0])||(r=[r]),i=r.length,u=r[0].length,a=e?r:new Array(i),t=0;t<i;t++)for(a[t]||(a[t]=new Array(u)),s=0;s<u;s++)a[t][s]=n(r[t][s],t,s);return 1===a.length?a[0]:a},f.cumreduce=function(r,n,e){var t,i,u,a,s;for(o(r[0])||(r=[r]),i=r.length,u=r[0].length,a=e?r:new Array(i),t=0;t<i;t++)for(a[t]||(a[t]=new Array(u)),u>0&&(a[t][0]=r[t][0]),s=1;s<u;s++)a[t][s]=n(a[t][s-1],r[t][s]);return 1===a.length?a[0]:a},f.alter=function(r,n){return f.map(r,n,!0)},f.create=function(r,n,e){var t,i,u=new Array(r);for(a(n)&&(e=n,n=r),t=0;t<r;t++)for(u[t]=new Array(n),i=0;i<n;i++)u[t][i]=e(t,i);return u},f.zeros=function(r,n){return s(n)||(n=r),f.create(r,n,c)},f.ones=function(r,n){return s(n)||(n=r),f.create(r,n,p)},f.rand=function(r,n){return s(n)||(n=r),f.create(r,n,f._random_fn)},f.identity=function(r,n){return s(n)||(n=r),f.create(r,n,h)},f.symmetric=function(r){var n,e,t=r.length;if(r.length!==r[0].length)return!1;for(n=0;n<t;n++)for(e=0;e<t;e++)if(r[e][n]!==r[n][e])return!1;return!0},f.clear=function(r){return f.alter(r,c)},f.seq=function(r,n,e,t){a(t)||(t=!1);var i,o=[],s=u(r,n),l=(n*s-r*s)/((e-1)*s),f=r;for(i=0;f<=n&&i<e;f=(r*s+l*s*++i)/s)o.push(t?t(f,i):f);return o},f.arange=function(r,e,t){var i,u=[];if(t=t||1,e===n&&(e=r,r=0),r===e||0===t)return[];if(r<e&&t<0)return[];if(r>e&&t>0)return[];if(t>0)for(i=r;i<e;i+=t)u.push(i);else for(i=r;i>e;i+=t)u.push(i);return u},f.slice=function(){function r(r,e,t,i){var u,o=[],a=r.length;if(e===n&&t===n&&i===n)return f.copy(r);if(i=i||1,(e=(e=e||0)>=0?e:a+e)===(t=(t=t||r.length)>=0?t:a+t)||0===i)return[];if(e<t&&i<0)return[];if(e>t&&i>0)return[];if(i>0)for(u=e;u<t;u+=i)o.push(r[u]);else for(u=e;u>t;u+=i)o.push(r[u]);return o}function e(n,e){var t,i;return s((e=e||{}).row)?s(e.col)?n[e.row][e.col]:r(f.rowa(n,e.row),(t=e.col||{}).start,t.end,t.step):s(e.col)?r(f.cola(n,e.col),(i=e.row||{}).start,i.end,i.step):(i=e.row||{},t=e.col||{},r(n,i.start,i.end,i.step).map((function(n){return r(n,t.start,t.end,t.step)})))}return e}(),f.sliceAssign=function(e,t,i){var u,o;if(s(t.row)){if(s(t.col))return e[t.row][t.col]=i;t.col=t.col||{},t.col.start=t.col.start||0,t.col.end=t.col.end||e[0].length,t.col.step=t.col.step||1,u=f.arange(t.col.start,r.min(e.length,t.col.end),t.col.step);var a=t.row;return u.forEach((function(r,n){e[a][r]=i[n]})),e}if(s(t.col)){t.row=t.row||{},t.row.start=t.row.start||0,t.row.end=t.row.end||e.length,t.row.step=t.row.step||1,o=f.arange(t.row.start,r.min(e[0].length,t.row.end),t.row.step);var l=t.col;return o.forEach((function(r,n){e[r][l]=i[n]})),e}return i[0].length===n&&(i=[i]),t.row.start=t.row.start||0,t.row.end=t.row.end||e.length,t.row.step=t.row.step||1,t.col.start=t.col.start||0,t.col.end=t.col.end||e[0].length,t.col.step=t.col.step||1,o=f.arange(t.row.start,r.min(e.length,t.row.end),t.row.step),u=f.arange(t.col.start,r.min(e[0].length,t.col.end),t.col.step),o.forEach((function(r,n){u.forEach((function(t,u){e[r][t]=i[n][u]}))})),e},f.diagonal=function(r){var n=f.zeros(r.length,r.length);return r.forEach((function(r,e){n[e][e]=r})),n},f.copy=function(r){return r.map((function(r){return s(r)?r:r.map((function(r){return r}))}))};var d=f.prototype;return d.length=0,d.push=Array.prototype.push,d.sort=Array.prototype.sort,d.splice=Array.prototype.splice,d.slice=Array.prototype.slice,d.toArray=function(){return this.length>1?t.call(this):t.call(this)[0]},d.map=function(r,n){return f(f.map(this,r,n))},d.cumreduce=function(r,n){return f(f.cumreduce(this,r,n))},d.alter=function(r){return f.alter(this,r),this},function(r){for(var n=0;n<r.length;n++)!function(r){d[r]=function(n){var e,t=this;return n?(setTimeout((function(){n.call(t,d[r].call(t))})),this):(e=f[r](this),o(e)?f(e):e)}}(r[n])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(r){for(var n=0;n<r.length;n++)!function(r){d[r]=function(n,e){var t=this;return e?(setTimeout((function(){e.call(t,d[r].call(t,n))})),this):f(f[r](this,n))}}(r[n])}("row col".split(" ")),function(r){for(var n=0;n<r.length;n++)!function(r){d[r]=function(){return f(f[r].apply(null,arguments))}}(r[n])}("create zeros ones rand identity".split(" ")),f}(Math);return function(r,n){var e=r.utils.isFunction;function t(r,n){return r-n}function i(r,e,t){return n.max(e,n.min(r,t))}r.sum=function(r){for(var n=0,e=r.length;--e>=0;)n+=r[e];return n},r.sumsqrd=function(r){for(var n=0,e=r.length;--e>=0;)n+=r[e]*r[e];return n},r.sumsqerr=function(n){for(var e,t=r.mean(n),i=0,u=n.length;--u>=0;)i+=(e=n[u]-t)*e;return i},r.sumrow=function(r){for(var n=0,e=r.length;--e>=0;)n+=r[e];return n},r.product=function(r){for(var n=1,e=r.length;--e>=0;)n*=r[e];return n},r.min=function(r){for(var n=r[0],e=0;++e<r.length;)r[e]<n&&(n=r[e]);return n},r.max=function(r){for(var n=r[0],e=0;++e<r.length;)r[e]>n&&(n=r[e]);return n},r.unique=function(r){for(var n={},e=[],t=0;t<r.length;t++)n[r[t]]||(n[r[t]]=!0,e.push(r[t]));return e},r.mean=function(n){return r.sum(n)/n.length},r.meansqerr=function(n){return r.sumsqerr(n)/n.length},r.geomean=function(e){var t=e.map(n.log),i=r.mean(t);return n.exp(i)},r.median=function(r){var n=r.length,e=r.slice().sort(t);return 1&n?e[n/2|0]:(e[n/2-1]+e[n/2])/2},r.cumsum=function(n){return r.cumreduce(n,(function(r,n){return r+n}))},r.cumprod=function(n){return r.cumreduce(n,(function(r,n){return r*n}))},r.diff=function(r){var n,e=[],t=r.length;for(n=1;n<t;n++)e.push(r[n]-r[n-1]);return e},r.rank=function(r){var n,e=[],i={};for(n=0;n<r.length;n++)i[s=r[n]]?i[s]++:(i[s]=1,e.push(s));var u=e.sort(t),o={},a=1;for(n=0;n<u.length;n++){var s,l=i[s=u[n]],f=(a+(a+l-1))/2;o[s]=f,a+=l}return r.map((function(r){return o[r]}))},r.mode=function(r){var n,e=r.length,i=r.slice().sort(t),u=1,o=0,a=0,s=[];for(n=0;n<e;n++)i[n]===i[n+1]?u++:(u>o?(s=[i[n]],o=u,a=0):u===o&&(s.push(i[n]),a++),u=1);return 0===a?s[0]:s},r.range=function(n){return r.max(n)-r.min(n)},r.variance=function(n,e){return r.sumsqerr(n)/(n.length-(e?1:0))},r.pooledvariance=function(n){return n.reduce((function(n,e){return n+r.sumsqerr(e)}),0)/(n.reduce((function(r,n){return r+n.length}),0)-n.length)},r.deviation=function(n){for(var e=r.mean(n),t=n.length,i=new Array(t),u=0;u<t;u++)i[u]=n[u]-e;return i},r.stdev=function(e,t){return n.sqrt(r.variance(e,t))},r.pooledstdev=function(e){return n.sqrt(r.pooledvariance(e))},r.meandev=function(e){for(var t=r.mean(e),i=[],u=e.length-1;u>=0;u--)i.push(n.abs(e[u]-t));return r.mean(i)},r.meddev=function(e){for(var t=r.median(e),i=[],u=e.length-1;u>=0;u--)i.push(n.abs(e[u]-t));return r.median(i)},r.coeffvar=function(n){return r.stdev(n)/r.mean(n)},r.quartiles=function(r){var e=r.length,i=r.slice().sort(t);return[i[n.round(e/4)-1],i[n.round(e/2)-1],i[n.round(3*e/4)-1]]},r.quantiles=function(r,e,u,o){var a,s,l,f,c,p=r.slice().sort(t),h=[e.length],d=r.length;for(void 0===u&&(u=3/8),void 0===o&&(o=3/8),a=0;a<e.length;a++)l=d*(s=e[a])+(u+s*(1-u-o)),f=n.floor(i(l,1,d-1)),c=i(l-f,0,1),h[a]=(1-c)*p[f-1]+c*p[f];return h},r.percentile=function(r,n,e){var i=r.slice().sort(t),u=n*(i.length+(e?1:-1))+(e?0:1),o=parseInt(u),a=u-o;return o+1<i.length?i[o-1]+a*(i[o]-i[o-1]):i[o-1]},r.percentileOfScore=function(r,n,e){var t,i,u=0,o=r.length,a=!1;for("strict"===e&&(a=!0),i=0;i<o;i++)t=r[i],(a&&t<n||!a&&t<=n)&&u++;return u/o},r.histogram=function(e,t){t=t||4;var i,u=r.min(e),o=(r.max(e)-u)/t,a=e.length,s=[];for(i=0;i<t;i++)s[i]=0;for(i=0;i<a;i++)s[n.min(n.floor((e[i]-u)/o),t-1)]+=1;return s},r.covariance=function(n,e){var t,i=r.mean(n),u=r.mean(e),o=n.length,a=new Array(o);for(t=0;t<o;t++)a[t]=(n[t]-i)*(e[t]-u);return r.sum(a)/(o-1)},r.corrcoeff=function(n,e){return r.covariance(n,e)/r.stdev(n,1)/r.stdev(e,1)},r.spearmancoeff=function(n,e){return n=r.rank(n),e=r.rank(e),r.corrcoeff(n,e)},r.stanMoment=function(e,t){for(var i=r.mean(e),u=r.stdev(e),o=e.length,a=0,s=0;s<o;s++)a+=n.pow((e[s]-i)/u,t);return a/e.length},r.skewness=function(n){return r.stanMoment(n,3)},r.kurtosis=function(n){return r.stanMoment(n,4)-3};var u=r.prototype;!function(n){for(var t=0;t<n.length;t++)!function(n){u[n]=function(t,i){var o=[],a=0,s=this;if(e(t)&&(i=t,t=!1),i)return setTimeout((function(){i.call(s,u[n].call(s,t))})),this;if(this.length>1){for(s=!0===t?this:this.transpose();a<s.length;a++)o[a]=r[n](s[a]);return o}return r[n](this[0],t)}}(n[t])}("cumsum cumprod".split(" ")),function(n){for(var t=0;t<n.length;t++)!function(n){u[n]=function(t,i){var o=[],a=0,s=this;if(e(t)&&(i=t,t=!1),i)return setTimeout((function(){i.call(s,u[n].call(s,t))})),this;if(this.length>1){for("sumrow"!==n&&(s=!0===t?this:this.transpose());a<s.length;a++)o[a]=r[n](s[a]);return!0===t?r[n](r.utils.toVector(o)):o}return r[n](this[0],t)}}(n[t])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(n){for(var t=0;t<n.length;t++)!function(n){u[n]=function(){var t,i=[],o=0,a=this,s=Array.prototype.slice.call(arguments);if(e(s[s.length-1])){t=s[s.length-1];var l=s.slice(0,s.length-1);return setTimeout((function(){t.call(a,u[n].apply(a,l))})),this}t=void 0;var f=function(e){return r[n].apply(a,[e].concat(s))};if(this.length>1){for(a=a.transpose();o<a.length;o++)i[o]=f(a[o]);return i}return f(this[0])}}(n[t])}("quantiles percentileOfScore".split(" "))}(r,Math),function(r,n){r.gammaln=function(r){var e,t,i,u=0,o=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],a=1.000000000190015;for(i=(t=e=r)+5.5,i-=(e+.5)*n.log(i);u<6;u++)a+=o[u]/++t;return n.log(2.5066282746310007*a/e)-i},r.loggam=function(r){var e,t,i,u,o,a,s,l=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(e=r,s=0,1==r||2==r)return 0;for(r<=7&&(e=r+(s=n.floor(7-r))),t=1/(e*e),i=2*n.PI,o=l[9],a=8;a>=0;a--)o*=t,o+=l[a];if(u=o/e+.5*n.log(i)+(e-.5)*n.log(e)-e,r<=7)for(a=1;a<=s;a++)u-=n.log(e-1),e-=1;return u},r.gammafn=function(r){var e,t,i,u,o=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],a=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],s=!1,l=0,f=0,c=0,p=r;if(r>171.6243769536076)return 1/0;if(p<=0){if(!(u=p%1+36e-17))return 1/0;s=(1&p?-1:1)*n.PI/n.sin(n.PI*u),p=1-p}for(i=p,t=p<1?p++:(p-=l=(0|p)-1)-1,e=0;e<8;++e)c=(c+o[e])*t,f=f*t+a[e];if(u=c/f+1,i<p)u/=i;else if(i>p)for(e=0;e<l;++e)u*=p,p++;return s&&(u=s/u),u},r.gammap=function(n,e){return r.lowRegGamma(n,e)*r.gammafn(n)},r.lowRegGamma=function(e,t){var i,u=r.gammaln(e),o=e,a=1/e,s=a,l=t+1-e,f=1/1e-30,c=1/l,p=c,h=1,d=-~(8.5*n.log(e>=1?e:1/e)+.4*e+17);if(t<0||e<=0)return NaN;if(t<e+1){for(;h<=d;h++)a+=s*=t/++o;return a*n.exp(-t+e*n.log(t)-u)}for(;h<=d;h++)p*=(c=1/(c=(i=-h*(h-e))*c+(l+=2)))*(f=l+i/f);return 1-p*n.exp(-t+e*n.log(t)-u)},r.factorialln=function(n){return n<0?NaN:r.gammaln(n+1)},r.factorial=function(n){return n<0?NaN:r.gammafn(n+1)},r.combination=function(e,t){return e>170||t>170?n.exp(r.combinationln(e,t)):r.factorial(e)/r.factorial(t)/r.factorial(e-t)},r.combinationln=function(n,e){return r.factorialln(n)-r.factorialln(e)-r.factorialln(n-e)},r.permutation=function(n,e){return r.factorial(n)/r.factorial(n-e)},r.betafn=function(e,t){if(!(e<=0||t<=0))return e+t>170?n.exp(r.betaln(e,t)):r.gammafn(e)*r.gammafn(t)/r.gammafn(e+t)},r.betaln=function(n,e){return r.gammaln(n)+r.gammaln(e)-r.gammaln(n+e)},r.betacf=function(r,e,t){var i,u,o,a,s=1e-30,l=1,f=e+t,c=e+1,p=e-1,h=1,d=1-f*r/c;for(n.abs(d)<s&&(d=s),a=d=1/d;l<=100&&(d=1+(u=l*(t-l)*r/((p+(i=2*l))*(e+i)))*d,n.abs(d)<s&&(d=s),h=1+u/h,n.abs(h)<s&&(h=s),a*=(d=1/d)*h,d=1+(u=-(e+l)*(f+l)*r/((e+i)*(c+i)))*d,n.abs(d)<s&&(d=s),h=1+u/h,n.abs(h)<s&&(h=s),a*=o=(d=1/d)*h,!(n.abs(o-1)<3e-7));l++);return a},r.gammapinv=function(e,t){var i,u,o,a,s,l,f=0,c=t-1,p=1e-8,h=r.gammaln(t);if(e>=1)return n.max(100,t+100*n.sqrt(t));if(e<=0)return 0;for(t>1?(s=n.log(c),l=n.exp(c*(s-1)-h),a=e<.5?e:1-e,i=(2.30753+.27061*(u=n.sqrt(-2*n.log(a))))/(1+u*(.99229+.04481*u))-u,e<.5&&(i=-i),i=n.max(.001,t*n.pow(1-1/(9*t)-i/(3*n.sqrt(t)),3))):i=e<(u=1-t*(.253+.12*t))?n.pow(e/u,1/t):1-n.log(1-(e-u)/(1-u));f<12;f++){if(i<=0)return 0;if((i-=u=(o=(r.lowRegGamma(t,i)-e)/(u=t>1?l*n.exp(-(i-c)+c*(n.log(i)-s)):n.exp(-i+c*n.log(i)-h)))/(1-.5*n.min(1,o*((t-1)/i-1))))<=0&&(i=.5*(i+u)),n.abs(u)<p*i)break}return i},r.erf=function(r){var e,t,i,u,o=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],a=o.length-1,s=!1,l=0,f=0;for(r<0&&(r=-r,s=!0),t=4*(e=2/(2+r))-2;a>0;a--)i=l,l=t*l-f+o[a],f=i;return u=e*n.exp(-r*r+.5*(o[0]+t*l)-f),s?u-1:1-u},r.erfc=function(n){return 1-r.erf(n)},r.erfcinv=function(e){var t,i,u,o,a=0;if(e>=2)return-100;if(e<=0)return 100;for(o=e<1?e:2-e,t=-.70711*((2.30753+.27061*(u=n.sqrt(-2*n.log(o/2))))/(1+u*(.99229+.04481*u))-u);a<2;a++)t+=(i=r.erfc(t)-o)/(1.1283791670955126*n.exp(-t*t)-t*i);return e<1?t:-t},r.ibetainv=function(e,t,i){var u,o,a,s,l,f,c,p,h,d,v=1e-8,g=t-1,m=i-1,y=0;if(e<=0)return 0;if(e>=1)return 1;for(t>=1&&i>=1?(a=e<.5?e:1-e,f=(2.30753+.27061*(s=n.sqrt(-2*n.log(a))))/(1+s*(.99229+.04481*s))-s,e<.5&&(f=-f),c=(f*f-3)/6,p=2/(1/(2*t-1)+1/(2*i-1)),h=f*n.sqrt(c+p)/p-(1/(2*i-1)-1/(2*t-1))*(c+5/6-2/(3*p)),f=t/(t+i*n.exp(2*h))):(u=n.log(t/(t+i)),o=n.log(i/(t+i)),f=e<(s=n.exp(t*u)/t)/(h=s+(l=n.exp(i*o)/i))?n.pow(t*h*e,1/t):1-n.pow(i*h*(1-e),1/i)),d=-r.gammaln(t)-r.gammaln(i)+r.gammaln(t+i);y<10;y++){if(0===f||1===f)return f;if((f-=s=(l=(r.ibeta(f,t,i)-e)/(s=n.exp(g*n.log(f)+m*n.log(1-f)+d)))/(1-.5*n.min(1,l*(g/f-m/(1-f)))))<=0&&(f=.5*(f+s)),f>=1&&(f=.5*(f+s+1)),n.abs(s)<v*f&&y>0)break}return f},r.ibeta=function(e,t,i){var u=0===e||1===e?0:n.exp(r.gammaln(t+i)-r.gammaln(t)-r.gammaln(i)+t*n.log(e)+i*n.log(1-e));return!(e<0||e>1)&&(e<(t+1)/(t+i+2)?u*r.betacf(e,t,i)/t:1-u*r.betacf(1-e,i,t)/i)},r.randn=function(e,t){var i,u,o,a,s;if(t||(t=e),e)return r.create(e,t,(function(){return r.randn()}));do{i=r._random_fn(),u=1.7156*(r._random_fn()-.5),s=(o=i-.449871)*o+(a=n.abs(u)+.386595)*(.196*a-.25472*o)}while(s>.27597&&(s>.27846||u*u>-4*n.log(i)*i*i));return u/i},r.randg=function(e,t,i){var u,o,a,s,l,f,c=e;if(i||(i=t),e||(e=1),t)return(f=r.zeros(t,i)).alter((function(){return r.randg(e)})),f;e<1&&(e+=1),u=e-1/3,o=1/n.sqrt(9*u);do{do{s=1+o*(l=r.randn())}while(s<=0);s*=s*s,a=r._random_fn()}while(a>1-.331*n.pow(l,4)&&n.log(a)>.5*l*l+u*(1-s+n.log(s)));if(e==c)return u*s;do{a=r._random_fn()}while(0===a);return n.pow(a,1/c)*u*s},function(n){for(var e=0;e<n.length;e++)!function(n){r.fn[n]=function(){return r(r.map(this,(function(e){return r[n](e)})))}}(n[e])}("gammaln gammafn factorial factorialln".split(" ")),function(n){for(var e=0;e<n.length;e++)!function(n){r.fn[n]=function(){return r(r[n].apply(null,arguments))}}(n[e])}("randn".split(" "))}(r,Math),function(r,n){function e(r,e,t,i){for(var u,o=0,a=1,s=1,l=1,f=0,c=0;n.abs((s-c)/s)>i;)c=s,a=l+(u=-(e+f)*(e+t+f)*r/(e+2*f)/(e+2*f+1))*a,s=(o=s+u*o)+(u=(f+=1)*(t-f)*r/(e+2*f-1)/(e+2*f))*s,o/=l=a+u*l,a/=l,s/=l,l=1;return s/e}function t(r){return r/n.abs(r)}function i(e,t,i){var u=12,o=6,a=-30,s=-50,l=60,f=8,c=3,p=2,h=3,d=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],v=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],g=.5*e;if(g>=f)return 1;var m,y=2*r.normal.cdf(g,0,1,1,0)-1;y=y>=n.exp(s/i)?n.pow(y,i):0;for(var w=g,b=(f-g)/(m=e>c?p:h),$=w+b,x=0,S=i-1,_=1;_<=m;_++){for(var j=0,E=.5*($+w),M=.5*($-w),q=1;q<=u;q++){var R,O=E+M*(o<q?d[(R=u-q+1)-1]:-d[(R=q)-1]),D=O*O;if(D>l)break;var N=2*r.normal.cdf(O,0,1,1,0)*.5-2*r.normal.cdf(O,e,1,1,0)*.5;N>=n.exp(a/S)&&(j+=N=v[R-1]*n.exp(-.5*D)*n.pow(N,S))}x+=j*=2*M*i/n.sqrt(2*n.PI),w=$,$+=b}return(y+=x)<=n.exp(a/t)?0:(y=n.pow(y,t))>=1?1:y}function u(r,e,t){var i=.322232421088,u=.099348462606,o=-1,a=.588581570495,s=-.342242088547,l=.531103462366,f=-.204231210125,c=.10353775285,p=-453642210148e-16,h=.0038560700634,d=.8832,v=.2368,g=1.214,m=1.208,y=1.4142,w=120,b=.5-.5*r,$=n.sqrt(n.log(1/(b*b))),x=$+(((($*p+f)*$+s)*$+o)*$+i)/(((($*h+c)*$+l)*$+a)*$+u);t<w&&(x+=(x*x*x+x)/t/4);var S=d-v*x;return t<w&&(S+=-g/t+m*x/t),x*(S*n.log(e-1)+y)}!function(n){for(var e=0;e<n.length;e++)!function(n){r[n]=function r(n,e,t){return this instanceof r?(this._a=n,this._b=e,this._c=t,this):new r(n,e,t)},r.fn[n]=function(e,t,i){var u=r[n](e,t,i);return u.data=this,u},r[n].prototype.sample=function(e){var t=this._a,i=this._b,u=this._c;return e?r.alter(e,(function(){return r[n].sample(t,i,u)})):r[n].sample(t,i,u)},function(e){for(var t=0;t<e.length;t++)!function(e){r[n].prototype[e]=function(t){var i=this._a,u=this._b,o=this._c;return t||0===t||(t=this.data),"number"!=typeof t?r.fn.map.call(t,(function(t){return r[n][e](t,i,u,o)})):r[n][e](t,i,u,o)}}(e[t])}("pdf cdf inv".split(" ")),function(e){for(var t=0;t<e.length;t++)!function(e){r[n].prototype[e]=function(){return r[n][e](this._a,this._b,this._c)}}(e[t])}("mean median mode variance".split(" "))}(n[e])}("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),r.extend(r.beta,{pdf:function(e,t,i){return e>1||e<0?0:1==t&&1==i?1:t<512&&i<512?n.pow(e,t-1)*n.pow(1-e,i-1)/r.betafn(t,i):n.exp((t-1)*n.log(e)+(i-1)*n.log(1-e)-r.betaln(t,i))},cdf:function(n,e,t){return n>1||n<0?1*(n>1):r.ibeta(n,e,t)},inv:function(n,e,t){return r.ibetainv(n,e,t)},mean:function(r,n){return r/(r+n)},median:function(n,e){return r.ibetainv(.5,n,e)},mode:function(r,n){return(r-1)/(r+n-2)},sample:function(n,e){var t=r.randg(n);return t/(t+r.randg(e))},variance:function(r,e){return r*e/(n.pow(r+e,2)*(r+e+1))}}),r.extend(r.centralF,{pdf:function(e,t,i){var u;return e<0?0:t<=2?0===e&&t<2?1/0:0===e&&2===t?1:1/r.betafn(t/2,i/2)*n.pow(t/i,t/2)*n.pow(e,t/2-1)*n.pow(1+t/i*e,-(t+i)/2):(u=t*e/(i+e*t),t*(i/(i+e*t))/2*r.binomial.pdf((t-2)/2,(t+i-2)/2,u))},cdf:function(n,e,t){return n<0?0:r.ibeta(e*n/(e*n+t),e/2,t/2)},inv:function(n,e,t){return t/(e*(1/r.ibetainv(n,e/2,t/2)-1))},mean:function(r,n){return n>2?n/(n-2):void 0},mode:function(r,n){return r>2?n*(r-2)/(r*(n+2)):void 0},sample:function(n,e){return 2*r.randg(n/2)/n/(2*r.randg(e/2)/e)},variance:function(r,n){if(!(n<=4))return 2*n*n*(r+n-2)/(r*(n-2)*(n-2)*(n-4))}}),r.extend(r.cauchy,{pdf:function(r,e,t){return t<0?0:t/(n.pow(r-e,2)+n.pow(t,2))/n.PI},cdf:function(r,e,t){return n.atan((r-e)/t)/n.PI+.5},inv:function(r,e,t){return e+t*n.tan(n.PI*(r-.5))},median:function(r){return r},mode:function(r){return r},sample:function(e,t){return r.randn()*n.sqrt(1/(2*r.randg(.5)))*t+e}}),r.extend(r.chisquare,{pdf:function(e,t){return e<0?0:0===e&&2===t?.5:n.exp((t/2-1)*n.log(e)-e/2-t/2*n.log(2)-r.gammaln(t/2))},cdf:function(n,e){return n<0?0:r.lowRegGamma(e/2,n/2)},inv:function(n,e){return 2*r.gammapinv(n,.5*e)},mean:function(r){return r},median:function(r){return r*n.pow(1-2/(9*r),3)},mode:function(r){return r-2>0?r-2:0},sample:function(n){return 2*r.randg(n/2)},variance:function(r){return 2*r}}),r.extend(r.exponential,{pdf:function(r,e){return r<0?0:e*n.exp(-e*r)},cdf:function(r,e){return r<0?0:1-n.exp(-e*r)},inv:function(r,e){return-n.log(1-r)/e},mean:function(r){return 1/r},median:function(r){return 1/r*n.log(2)},mode:function(){return 0},sample:function(e){return-1/e*n.log(r._random_fn())},variance:function(r){return n.pow(r,-2)}}),r.extend(r.gamma,{pdf:function(e,t,i){return e<0?0:0===e&&1===t?1/i:n.exp((t-1)*n.log(e)-e/i-r.gammaln(t)-t*n.log(i))},cdf:function(n,e,t){return n<0?0:r.lowRegGamma(e,n/t)},inv:function(n,e,t){return r.gammapinv(n,e)*t},mean:function(r,n){return r*n},mode:function(r,n){if(r>1)return(r-1)*n},sample:function(n,e){return r.randg(n)*e},variance:function(r,n){return r*n*n}}),r.extend(r.invgamma,{pdf:function(e,t,i){return e<=0?0:n.exp(-(t+1)*n.log(e)-i/e-r.gammaln(t)+t*n.log(i))},cdf:function(n,e,t){return n<=0?0:1-r.lowRegGamma(e,t/n)},inv:function(n,e,t){return t/r.gammapinv(1-n,e)},mean:function(r,n){return r>1?n/(r-1):void 0},mode:function(r,n){return n/(r+1)},sample:function(n,e){return e/r.randg(n)},variance:function(r,n){if(!(r<=2))return n*n/((r-1)*(r-1)*(r-2))}}),r.extend(r.kumaraswamy,{pdf:function(r,e,t){return 0===r&&1===e?t:1===r&&1===t?e:n.exp(n.log(e)+n.log(t)+(e-1)*n.log(r)+(t-1)*n.log(1-n.pow(r,e)))},cdf:function(r,e,t){return r<0?0:r>1?1:1-n.pow(1-n.pow(r,e),t)},inv:function(r,e,t){return n.pow(1-n.pow(1-r,1/t),1/e)},mean:function(n,e){return e*r.gammafn(1+1/n)*r.gammafn(e)/r.gammafn(1+1/n+e)},median:function(r,e){return n.pow(1-n.pow(2,-1/e),1/r)},mode:function(r,e){if(r>=1&&e>=1&&1!==r&&1!==e)return n.pow((r-1)/(r*e-1),1/r)},variance:function(){throw new Error("variance not yet implemented")}}),r.extend(r.lognormal,{pdf:function(r,e,t){return r<=0?0:n.exp(-n.log(r)-.5*n.log(2*n.PI)-n.log(t)-n.pow(n.log(r)-e,2)/(2*t*t))},cdf:function(e,t,i){return e<0?0:.5+.5*r.erf((n.log(e)-t)/n.sqrt(2*i*i))},inv:function(e,t,i){return n.exp(-1.4142135623730951*i*r.erfcinv(2*e)+t)},mean:function(r,e){return n.exp(r+e*e/2)},median:function(r){return n.exp(r)},mode:function(r,e){return n.exp(r-e*e)},sample:function(e,t){return n.exp(r.randn()*t+e)},variance:function(r,e){return(n.exp(e*e)-1)*n.exp(2*r+e*e)}}),r.extend(r.noncentralt,{pdf:function(e,t,i){var u=1e-14;return n.abs(i)<u?r.studentt.pdf(e,t):n.abs(e)<u?n.exp(r.gammaln((t+1)/2)-i*i/2-.5*n.log(n.PI*t)-r.gammaln(t/2)):t/e*(r.noncentralt.cdf(e*n.sqrt(1+2/t),t+2,i)-r.noncentralt.cdf(e,t,i))},cdf:function(e,t,i){var u=1e-14,o=200;if(n.abs(i)<u)return r.studentt.cdf(e,t);var a=!1;e<0&&(a=!0,i=-i);for(var s=r.normal.cdf(-i,0,1),l=u+1,f=l,c=e*e/(e*e+t),p=0,h=n.exp(-i*i/2),d=n.exp(-i*i/2-.5*n.log(2)-r.gammaln(1.5))*i;p<o||f>u||l>u;)f=l,p>0&&(h*=i*i/(2*p),d*=i*i/(2*(p+.5))),s+=.5*(l=h*r.beta.cdf(c,p+.5,t/2)+d*r.beta.cdf(c,p+1,t/2)),p++;return a?1-s:s}}),r.extend(r.normal,{pdf:function(r,e,t){return n.exp(-.5*n.log(2*n.PI)-n.log(t)-n.pow(r-e,2)/(2*t*t))},cdf:function(e,t,i){return.5*(1+r.erf((e-t)/n.sqrt(2*i*i)))},inv:function(n,e,t){return-1.4142135623730951*t*r.erfcinv(2*n)+e},mean:function(r){return r},median:function(r){return r},mode:function(r){return r},sample:function(n,e){return r.randn()*e+n},variance:function(r,n){return n*n}}),r.extend(r.pareto,{pdf:function(r,e,t){return r<e?0:t*n.pow(e,t)/n.pow(r,t+1)},cdf:function(r,e,t){return r<e?0:1-n.pow(e/r,t)},inv:function(r,e,t){return e/n.pow(1-r,1/t)},mean:function(r,e){if(!(e<=1))return e*n.pow(r,e)/(e-1)},median:function(r,e){return r*(e*n.SQRT2)},mode:function(r){return r},variance:function(r,e){if(!(e<=2))return r*r*e/(n.pow(e-1,2)*(e-2))}}),r.extend(r.studentt,{pdf:function(e,t){return t=t>1e100?1e100:t,1/(n.sqrt(t)*r.betafn(.5,t/2))*n.pow(1+e*e/t,-(t+1)/2)},cdf:function(e,t){var i=t/2;return r.ibeta((e+n.sqrt(e*e+t))/(2*n.sqrt(e*e+t)),i,i)},inv:function(e,t){var i=r.ibetainv(2*n.min(e,1-e),.5*t,.5);return i=n.sqrt(t*(1-i)/i),e>.5?i:-i},mean:function(r){return r>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(e){return r.randn()*n.sqrt(e/(2*r.randg(e/2)))},variance:function(r){return r>2?r/(r-2):r>1?1/0:void 0}}),r.extend(r.weibull,{pdf:function(r,e,t){return r<0||e<0||t<0?0:t/e*n.pow(r/e,t-1)*n.exp(-n.pow(r/e,t))},cdf:function(r,e,t){return r<0?0:1-n.exp(-n.pow(r/e,t))},inv:function(r,e,t){return e*n.pow(-n.log(1-r),1/t)},mean:function(n,e){return n*r.gammafn(1+1/e)},median:function(r,e){return r*n.pow(n.log(2),1/e)},mode:function(r,e){return e<=1?0:r*n.pow((e-1)/e,1/e)},sample:function(e,t){return e*n.pow(-n.log(r._random_fn()),1/t)},variance:function(e,t){return e*e*r.gammafn(1+2/t)-n.pow(r.weibull.mean(e,t),2)}}),r.extend(r.uniform,{pdf:function(r,n,e){return r<n||r>e?0:1/(e-n)},cdf:function(r,n,e){return r<n?0:r<e?(r-n)/(e-n):1},inv:function(r,n,e){return n+r*(e-n)},mean:function(r,n){return.5*(r+n)},median:function(n,e){return r.mean(n,e)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(n,e){return n/2+e/2+(e/2-n/2)*(2*r._random_fn()-1)},variance:function(r,e){return n.pow(e-r,2)/12}}),r.extend(r.binomial,{pdf:function(e,t,i){return 0===i||1===i?t*i===e?1:0:r.combination(t,e)*n.pow(i,e)*n.pow(1-i,t-e)},cdf:function(t,i,u){var o,a=1e-10;if(t<0)return 0;if(t>=i)return 1;if(u<0||u>1||i<=0)return NaN;var s=u,l=(t=n.floor(t))+1,f=i-t,c=l+f,p=n.exp(r.gammaln(c)-r.gammaln(f)-r.gammaln(l)+l*n.log(s)+f*n.log(1-s));return o=s<(l+1)/(c+2)?p*e(s,l,f,a):1-p*e(1-s,f,l,a),n.round(1/a*(1-o))/(1/a)}}),r.extend(r.negbin,{pdf:function(e,t,i){return e===e>>>0&&(e<0?0:r.combination(e+t-1,t-1)*n.pow(1-i,e)*n.pow(i,t))},cdf:function(n,e,t){var i=0,u=0;if(n<0)return 0;for(;u<=n;u++)i+=r.negbin.pdf(u,e,t);return i}}),r.extend(r.hypgeom,{pdf:function(e,t,i,u){if(e!=e|0)return!1;if(e<0||e<i-(t-u))return 0;if(e>u||e>i)return 0;if(2*i>t)return 2*u>t?r.hypgeom.pdf(t-i-u+e,t,t-i,t-u):r.hypgeom.pdf(u-e,t,t-i,u);if(2*u>t)return r.hypgeom.pdf(i-e,t,i,t-u);if(i<u)return r.hypgeom.pdf(e,t,u,i);for(var o=1,a=0,s=0;s<e;s++){for(;o>1&&a<u;)o*=1-i/(t-a),a++;o*=(u-s)*(i-s)/((s+1)*(t-i-u+s+1))}for(;a<u;a++)o*=1-i/(t-a);return n.min(1,n.max(0,o))},cdf:function(e,t,i,u){if(e<0||e<i-(t-u))return 0;if(e>=u||e>=i)return 1;if(2*i>t)return 2*u>t?r.hypgeom.cdf(t-i-u+e,t,t-i,t-u):1-r.hypgeom.cdf(u-e-1,t,t-i,u);if(2*u>t)return 1-r.hypgeom.cdf(i-e-1,t,i,t-u);if(i<u)return r.hypgeom.cdf(e,t,u,i);for(var o=1,a=1,s=0,l=0;l<e;l++){for(;o>1&&s<u;){var f=1-i/(t-s);a*=f,o*=f,s++}o+=a*=(u-l)*(i-l)/((l+1)*(t-i-u+l+1))}for(;s<u;s++)o*=1-i/(t-s);return n.min(1,n.max(0,o))}}),r.extend(r.poisson,{pdf:function(e,t){return t<0||e%1!=0||e<0?0:n.pow(t,e)*n.exp(-t)/r.factorial(e)},cdf:function(n,e){var t=[],i=0;if(n<0)return 0;for(;i<=n;i++)t.push(r.poisson.pdf(i,e));return r.sum(t)},mean:function(r){return r},variance:function(r){return r},sampleSmall:function(e){var t=1,i=0,u=n.exp(-e);do{i++,t*=r._random_fn()}while(t>u);return i-1},sampleLarge:function(e){var t,i,u,o,a,s,l,f,c,p,h=e;for(o=n.sqrt(h),a=n.log(h),s=.02483*(l=.931+2.53*o)-.059,f=1.1239+1.1328/(l-3.4),c=.9277-3.6224/(l-2);;){if(i=n.random()-.5,u=n.random(),p=.5-n.abs(i),t=n.floor((2*s/p+l)*i+h+.43),p>=.07&&u<=c)return t;if(!(t<0||p<.013&&u>p)&&n.log(u)+n.log(f)-n.log(s/(p*p)+l)<=t*a-h-r.loggam(t+1))return t}},sample:function(r){return r<10?this.sampleSmall(r):this.sampleLarge(r)}}),r.extend(r.triangular,{pdf:function(r,n,e,t){return e<=n||t<n||t>e?NaN:r<n||r>e?0:r<t?2*(r-n)/((e-n)*(t-n)):r===t?2/(e-n):2*(e-r)/((e-n)*(e-t))},cdf:function(r,e,t,i){return t<=e||i<e||i>t?NaN:r<=e?0:r>=t?1:r<=i?n.pow(r-e,2)/((t-e)*(i-e)):1-n.pow(t-r,2)/((t-e)*(t-i))},inv:function(r,e,t,i){return t<=e||i<e||i>t?NaN:r<=(i-e)/(t-e)?e+(t-e)*n.sqrt(r*((i-e)/(t-e))):e+(t-e)*(1-n.sqrt((1-r)*(1-(i-e)/(t-e))))},mean:function(r,n,e){return(r+n+e)/3},median:function(r,e,t){return t<=(r+e)/2?e-n.sqrt((e-r)*(e-t))/n.sqrt(2):t>(r+e)/2?r+n.sqrt((e-r)*(t-r))/n.sqrt(2):void 0},mode:function(r,n,e){return e},sample:function(e,t,i){var u=r._random_fn();return u<(i-e)/(t-e)?e+n.sqrt(u*(t-e)*(i-e)):t-n.sqrt((1-u)*(t-e)*(t-i))},variance:function(r,n,e){return(r*r+n*n+e*e-r*n-r*e-n*e)/18}}),r.extend(r.arcsine,{pdf:function(r,e,t){return t<=e?NaN:r<=e||r>=t?0:2/n.PI*n.pow(n.pow(t-e,2)-n.pow(2*r-e-t,2),-.5)},cdf:function(r,e,t){return r<e?0:r<t?2/n.PI*n.asin(n.sqrt((r-e)/(t-e))):1},inv:function(r,e,t){return e+(.5-.5*n.cos(n.PI*r))*(t-e)},mean:function(r,n){return n<=r?NaN:(r+n)/2},median:function(r,n){return n<=r?NaN:(r+n)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(e,t){return(e+t)/2+(t-e)/2*n.sin(2*n.PI*r.uniform.sample(0,1))},variance:function(r,e){return e<=r?NaN:n.pow(e-r,2)/8}}),r.extend(r.laplace,{pdf:function(r,e,t){return t<=0?0:n.exp(-n.abs(r-e)/t)/(2*t)},cdf:function(r,e,t){return t<=0?0:r<e?.5*n.exp((r-e)/t):1-.5*n.exp(-(r-e)/t)},mean:function(r){return r},median:function(r){return r},mode:function(r){return r},variance:function(r,n){return 2*n*n},sample:function(e,i){var u=r._random_fn()-.5;return e-i*t(u)*n.log(1-2*n.abs(u))}}),r.extend(r.tukey,{cdf:function(e,t,u){var o=1,a=t,s=16,l=8,f=-30,c=1e-14,p=100,h=800,d=5e3,v=25e3,g=1,m=.5,y=.25,w=.125,b=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],$=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(e<=0)return 0;if(u<2||o<1||a<2)return NaN;if(!Number.isFinite(e))return 1;if(u>v)return i(e,o,a);var x,S=.5*u,_=S*n.log(u)-u*n.log(2)-r.gammaln(S),j=S-1,E=.25*u;x=u<=p?g:u<=h?m:u<=d?y:w,_+=n.log(x);for(var M=0,q=1;q<=50;q++){for(var R=0,O=(2*q-1)*x,D=1;D<=s;D++){var N,C;l<D?(N=D-l-1,C=_+j*n.log(O+b[N]*x)-(b[N]*x+O)*E):(N=D-1,C=_+j*n.log(O-b[N]*x)+(b[N]*x-O)*E),C>=f&&(R+=i(l<D?e*n.sqrt(.5*(b[N]*x+O)):e*n.sqrt(.5*(-b[N]*x+O)),o,a)*$[N]*n.exp(C))}if(q*x>=1&&R<=c)break;M+=R}if(R>c)throw new Error("tukey.cdf failed to converge");return M>1&&(M=1),M},inv:function(e,t,i){var o=1e-4,a=50;if(i<2||t<2)return NaN;if(e<0||e>1)return NaN;if(0===e)return 0;if(1===e)return 1/0;var s,l=u(e,t,i),f=r.tukey.cdf(l,t,i)-e;s=f>0?n.max(0,l-1):l+1;for(var c,p=r.tukey.cdf(s,t,i)-e,h=1;h<a;h++)if(c=s-p*(s-l)/(p-f),f=p,l=s,c<0&&(c=0,p=-e),p=r.tukey.cdf(c,t,i)-e,s=c,n.abs(s-l)<o)return c;throw new Error("tukey.inv failed to converge")}})}(r,Math),function(r,n){var e=Array.prototype.push,t=r.utils.isArray;function i(n){return t(n)||n instanceof r}r.extend({add:function(n,e){return i(e)?(i(e[0])||(e=[e]),r.map(n,(function(r,n,t){return r+e[n][t]}))):r.map(n,(function(r){return r+e}))},subtract:function(n,e){return i(e)?(i(e[0])||(e=[e]),r.map(n,(function(r,n,t){return r-e[n][t]||0}))):r.map(n,(function(r){return r-e}))},divide:function(n,e){return i(e)?(i(e[0])||(e=[e]),r.multiply(n,r.inv(e))):r.map(n,(function(r){return r/e}))},multiply:function(n,e){var t,u,o,a,s,l,f,c;if(void 0===n.length&&void 0===e.length)return n*e;if(s=n.length,l=n[0].length,f=r.zeros(s,o=i(e)?e[0].length:l),c=0,i(e)){for(;c<o;c++)for(t=0;t<s;t++){for(a=0,u=0;u<l;u++)a+=n[t][u]*e[u][c];f[t][c]=a}return 1===s&&1===c?f[0][0]:f}return r.map(n,(function(r){return r*e}))},outer:function(n,e){return r.multiply(n.map((function(r){return[r]})),[e])},dot:function(n,e){i(n[0])||(n=[n]),i(e[0])||(e=[e]);for(var t,u,o=1===n[0].length&&1!==n.length?r.transpose(n):n,a=1===e[0].length&&1!==e.length?r.transpose(e):e,s=[],l=0,f=o.length,c=o[0].length;l<f;l++){for(s[l]=[],t=0,u=0;u<c;u++)t+=o[l][u]*a[l][u];s[l]=t}return 1===s.length?s[0]:s},pow:function(e,t){return r.map(e,(function(r){return n.pow(r,t)}))},exp:function(e){return r.map(e,(function(r){return n.exp(r)}))},log:function(e){return r.map(e,(function(r){return n.log(r)}))},abs:function(e){return r.map(e,(function(r){return n.abs(r)}))},norm:function(r,e){var t=0,u=0;for(isNaN(e)&&(e=2),i(r[0])&&(r=r[0]);u<r.length;u++)t+=n.pow(n.abs(r[u]),e);return n.pow(t,1/e)},angle:function(e,t){return n.acos(r.dot(e,t)/(r.norm(e)*r.norm(t)))},aug:function(r,n){var t,i=[];for(t=0;t<r.length;t++)i.push(r[t].slice());for(t=0;t<i.length;t++)e.apply(i[t],n[t]);return i},inv:function(n){for(var e,t=n.length,i=n[0].length,u=r.identity(t,i),o=r.gauss_jordan(n,u),a=[],s=0;s<t;s++)for(a[s]=[],e=i;e<o[0].length;e++)a[s][e-i]=o[s][e];return a},det:function r(n){if(2===n.length)return n[0][0]*n[1][1]-n[0][1]*n[1][0];for(var e=0,t=0;t<n.length;t++){for(var i=[],u=1;u<n.length;u++){i[u-1]=[];for(var o=0;o<n.length;o++)o<t?i[u-1][o]=n[u][o]:o>t&&(i[u-1][o-1]=n[u][o])}var a=t%2?-1:1;e+=r(i)*n[0][t]*a}return e},gauss_elimination:function(e,t){var i,u,o,a,s=0,l=0,f=e.length,c=e[0].length,p=1,h=0,d=[];for(i=(e=r.aug(e,t))[0].length,s=0;s<f;s++){for(u=e[s][s],l=s,a=s+1;a<c;a++)u<n.abs(e[a][s])&&(u=e[a][s],l=a);if(l!=s)for(a=0;a<i;a++)o=e[s][a],e[s][a]=e[l][a],e[l][a]=o;for(l=s+1;l<f;l++)for(p=e[l][s]/e[s][s],a=s;a<i;a++)e[l][a]=e[l][a]-p*e[s][a]}for(s=f-1;s>=0;s--){for(h=0,l=s+1;l<=f-1;l++)h+=d[l]*e[s][l];d[s]=(e[s][i-1]-h)/e[s][s]}return d},gauss_jordan:function(e,t){var i,u,o,a=r.aug(e,t),s=a.length,l=a[0].length,f=0;for(u=0;u<s;u++){var c=u;for(o=u+1;o<s;o++)n.abs(a[o][u])>n.abs(a[c][u])&&(c=o);var p=a[u];for(a[u]=a[c],a[c]=p,o=u+1;o<s;o++)for(f=a[o][u]/a[u][u],i=u;i<l;i++)a[o][i]-=a[u][i]*f}for(u=s-1;u>=0;u--){for(f=a[u][u],o=0;o<u;o++)for(i=l-1;i>u-1;i--)a[o][i]-=a[u][i]*a[o][u]/f;for(a[u][u]/=f,i=s;i<l;i++)a[u][i]/=f}return a},triaUpSolve:function(n,e){var t,i=n[0].length,u=r.zeros(1,i)[0],o=!1;return null!=e[0].length&&(e=e.map((function(r){return r[0]})),o=!0),r.arange(i-1,-1,-1).forEach((function(o){t=r.arange(o+1,i).map((function(r){return u[r]*n[o][r]})),u[o]=(e[o]-r.sum(t))/n[o][o]})),o?u.map((function(r){return[r]})):u},triaLowSolve:function(n,e){var t,i=n[0].length,u=r.zeros(1,i)[0],o=!1;return null!=e[0].length&&(e=e.map((function(r){return r[0]})),o=!0),r.arange(i).forEach((function(i){t=r.arange(i).map((function(r){return n[i][r]*u[r]})),u[i]=(e[i]-r.sum(t))/n[i][i]})),o?u.map((function(r){return[r]})):u},lu:function(n){var e,t=n.length,i=r.identity(t),u=r.zeros(n.length,n[0].length);return r.arange(t).forEach((function(r){u[0][r]=n[0][r]})),r.arange(1,t).forEach((function(o){r.arange(o).forEach((function(t){e=r.arange(t).map((function(r){return i[o][r]*u[r][t]})),i[o][t]=(n[o][t]-r.sum(e))/u[t][t]})),r.arange(o,t).forEach((function(t){e=r.arange(o).map((function(r){return i[o][r]*u[r][t]})),u[o][t]=n[e.length][t]-r.sum(e)}))})),[i,u]},cholesky:function(e){var t,i=e.length,u=r.zeros(e.length,e[0].length);return r.arange(i).forEach((function(o){t=r.arange(o).map((function(r){return n.pow(u[o][r],2)})),u[o][o]=n.sqrt(e[o][o]-r.sum(t)),r.arange(o+1,i).forEach((function(n){t=r.arange(o).map((function(r){return u[o][r]*u[n][r]})),u[n][o]=(e[o][n]-r.sum(t))/u[o][o]}))})),u},gauss_jacobi:function(e,t,i,u){for(var o,a,s,l,f=0,c=0,p=e.length,h=[],d=[],v=[];f<p;f++)for(h[f]=[],d[f]=[],v[f]=[],c=0;c<p;c++)f>c?(h[f][c]=e[f][c],d[f][c]=v[f][c]=0):f<c?(d[f][c]=e[f][c],h[f][c]=v[f][c]=0):(v[f][c]=e[f][c],h[f][c]=d[f][c]=0);for(s=r.multiply(r.multiply(r.inv(v),r.add(h,d)),-1),a=r.multiply(r.inv(v),t),o=i,l=r.add(r.multiply(s,i),a),f=2;n.abs(r.norm(r.subtract(l,o)))>u;)o=l,l=r.add(r.multiply(s,o),a),f++;return l},gauss_seidel:function(e,t,i,u){for(var o,a,s,l,f,c=0,p=e.length,h=[],d=[],v=[];c<p;c++)for(h[c]=[],d[c]=[],v[c]=[],o=0;o<p;o++)c>o?(h[c][o]=e[c][o],d[c][o]=v[c][o]=0):c<o?(d[c][o]=e[c][o],h[c][o]=v[c][o]=0):(v[c][o]=e[c][o],h[c][o]=d[c][o]=0);for(l=r.multiply(r.multiply(r.inv(r.add(v,h)),d),-1),s=r.multiply(r.inv(r.add(v,h)),t),a=i,f=r.add(r.multiply(l,i),s),c=2;n.abs(r.norm(r.subtract(f,a)))>u;)a=f,f=r.add(r.multiply(l,a),s),c+=1;return f},SOR:function(e,t,i,u,o){for(var a,s,l,f,c,p=0,h=e.length,d=[],v=[],g=[];p<h;p++)for(d[p]=[],v[p]=[],g[p]=[],a=0;a<h;a++)p>a?(d[p][a]=e[p][a],v[p][a]=g[p][a]=0):p<a?(v[p][a]=e[p][a],d[p][a]=g[p][a]=0):(g[p][a]=e[p][a],d[p][a]=v[p][a]=0);for(f=r.multiply(r.inv(r.add(g,r.multiply(d,o))),r.subtract(r.multiply(g,1-o),r.multiply(v,o))),l=r.multiply(r.multiply(r.inv(r.add(g,r.multiply(d,o))),t),o),s=i,c=r.add(r.multiply(f,i),l),p=2;n.abs(r.norm(r.subtract(c,s)))>u;)s=c,c=r.add(r.multiply(f,s),l),p++;return c},householder:function(e){for(var t,i,u,o,a=e.length,s=e[0].length,l=0,f=[],c=[];l<a-1;l++){for(t=0,o=l+1;o<s;o++)t+=e[o][l]*e[o][l];for(t=(e[l+1][l]>0?-1:1)*n.sqrt(t),i=n.sqrt((t*t-e[l+1][l]*t)/2),(f=r.zeros(a,1))[l+1][0]=(e[l+1][l]-t)/(2*i),u=l+2;u<a;u++)f[u][0]=e[u][l]/(2*i);c=r.subtract(r.identity(a,s),r.multiply(r.multiply(f,r.transpose(f)),2)),e=r.multiply(c,r.multiply(e,c))}return e},QR:function(){var e=r.sum,t=r.arange;function i(i){var u,o,a,s=i.length,l=i[0].length,f=r.zeros(l,l);for(i=r.copy(i),o=0;o<l;o++){for(f[o][o]=n.sqrt(e(t(s).map((function(r){return i[r][o]*i[r][o]})))),u=0;u<s;u++)i[u][o]=i[u][o]/f[o][o];for(a=o+1;a<l;a++)for(f[o][a]=e(t(s).map((function(r){return i[r][o]*i[r][a]}))),u=0;u<s;u++)i[u][a]=i[u][a]-i[u][o]*f[o][a]}return[i,f]}return i}(),lstsq:function(){function n(n){var e=(n=r.copy(n)).length,t=r.identity(e);return r.arange(e-1,-1,-1).forEach((function(e){r.sliceAssign(t,{row:e},r.divide(r.slice(t,{row:e}),n[e][e])),r.sliceAssign(n,{row:e},r.divide(r.slice(n,{row:e}),n[e][e])),r.arange(e).forEach((function(i){var u=r.multiply(n[i][e],-1),o=r.slice(n,{row:i}),a=r.multiply(r.slice(n,{row:e}),u);r.sliceAssign(n,{row:i},r.add(o,a));var s=r.slice(t,{row:i}),l=r.multiply(r.slice(t,{row:e}),u);r.sliceAssign(t,{row:i},r.add(s,l))}))})),t}function e(e,t){var i=!1;void 0===t[0].length&&(t=t.map((function(r){return[r]})),i=!0);var u=r.QR(e),o=u[0],a=u[1],s=e[0].length,l=r.slice(o,{col:{end:s}}),f=n(r.slice(a,{row:{end:s}})),c=r.transpose(l);void 0===c[0].length&&(c=[c]);var p=r.multiply(r.multiply(f,c),t);return void 0===p.length&&(p=[[p]]),i?p.map((function(r){return r[0]})):p}return e}(),jacobi:function(e){for(var t,i,u,o,a,s,l,f=1,c=e.length,p=r.identity(c,c),h=[];1===f;){for(a=e[0][1],u=0,o=1,t=0;t<c;t++)for(i=0;i<c;i++)t!=i&&a<n.abs(e[t][i])&&(a=n.abs(e[t][i]),u=t,o=i);for(s=e[u][u]===e[o][o]?e[u][o]>0?n.PI/4:-n.PI/4:n.atan(2*e[u][o]/(e[u][u]-e[o][o]))/2,(l=r.identity(c,c))[u][u]=n.cos(s),l[u][o]=-n.sin(s),l[o][u]=n.sin(s),l[o][o]=n.cos(s),p=r.multiply(p,l),e=r.multiply(r.multiply(r.inv(l),e),l),f=0,t=1;t<c;t++)for(i=1;i<c;i++)t!=i&&n.abs(e[t][i])>.001&&(f=1)}for(t=0;t<c;t++)h.push(e[t][t]);return[p,h]},rungekutta:function(r,n,e,t,i,u){var o,a,s;if(2===u)for(;t<=e;)i+=((o=n*r(t,i))+(a=n*r(t+n,i+o)))/2,t+=n;if(4===u)for(;t<=e;)i+=((o=n*r(t,i))+2*(a=n*r(t+n/2,i+o/2))+2*(s=n*r(t+n/2,i+a/2))+n*r(t+n,i+s))/6,t+=n;return i},romberg:function(r,e,t,i){for(var u,o,a,s,l,f=0,c=(t-e)/2,p=[],h=[],d=[];f<i/2;){for(l=r(e),a=e,s=0;a<=t;a+=c,s++)p[s]=a;for(u=p.length,a=1;a<u-1;a++)l+=(a%2!=0?4:2)*r(p[a]);l=c/3*(l+r(t)),d[f]=l,c/=2,f++}for(o=d.length,u=1;1!==o;){for(a=0;a<o-1;a++)h[a]=(n.pow(4,u)*d[a+1]-d[a])/(n.pow(4,u)-1);o=h.length,d=h,h=[],u++}return d},richardson:function(r,e,t,i){function u(r,n){for(var e,t=0,i=r.length;t<i;t++)r[t]===n&&(e=t);return e}for(var o,a,s,l,f,c=n.abs(t-r[u(r,t)+1]),p=0,h=[],d=[];i>=c;)o=u(r,t+i),a=u(r,t),h[p]=(e[o]-2*e[a]+e[2*a-o])/(i*i),i/=2,p++;for(l=h.length,s=1;1!=l;){for(f=0;f<l-1;f++)d[f]=(n.pow(4,s)*h[f+1]-h[f])/(n.pow(4,s)-1);l=d.length,h=d,d=[],s++}return h},simpson:function(r,n,e,t){for(var i,u=(e-n)/t,o=r(n),a=[],s=n,l=0,f=1;s<=e;s+=u,l++)a[l]=s;for(i=a.length;f<i-1;f++)o+=(f%2!=0?4:2)*r(a[f]);return u/3*(o+r(e))},hermite:function(r,n,e,t){for(var i,u=r.length,o=0,a=0,s=[],l=[],f=[],c=[];a<u;a++){for(s[a]=1,i=0;i<u;i++)a!=i&&(s[a]*=(t-r[i])/(r[a]-r[i]));for(l[a]=0,i=0;i<u;i++)a!=i&&(l[a]+=1/(r[a]-r[i]));f[a]=(1-2*(t-r[a])*l[a])*(s[a]*s[a]),c[a]=(t-r[a])*(s[a]*s[a]),o+=f[a]*n[a]+c[a]*e[a]}return o},lagrange:function(r,n,e){for(var t,i,u=0,o=0,a=r.length;o<a;o++){for(i=n[o],t=0;t<a;t++)o!=t&&(i*=(e-r[t])/(r[o]-r[t]));u+=i}return u},cubic_spline:function(n,e,t){for(var i,u=n.length,o=0,a=[],s=[],l=[],f=[],c=[],p=[],h=[];o<u-1;o++)c[o]=n[o+1]-n[o];for(l[0]=0,o=1;o<u-1;o++)l[o]=3/c[o]*(e[o+1]-e[o])-3/c[o-1]*(e[o]-e[o-1]);for(o=1;o<u-1;o++)a[o]=[],s[o]=[],a[o][o-1]=c[o-1],a[o][o]=2*(c[o-1]+c[o]),a[o][o+1]=c[o],s[o][0]=l[o];for(f=r.multiply(r.inv(a),s),i=0;i<u-1;i++)p[i]=(e[i+1]-e[i])/c[i]-c[i]*(f[i+1][0]+2*f[i][0])/3,h[i]=(f[i+1][0]-f[i][0])/(3*c[i]);for(i=0;i<u&&!(n[i]>t);i++);return e[i-=1]+(t-n[i])*p[i]+r.sq(t-n[i])*f[i]+(t-n[i])*r.sq(t-n[i])*h[i]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(n){var e,t,i=n.length,u=n[0].length,o=0,a=[],s=[],l=[],f=[],c=[],p=[],h=[],d=[],v=[],g=[];for(o=0;o<i;o++)a[o]=r.sum(n[o])/u;for(o=0;o<u;o++)for(h[o]=[],e=0;e<i;e++)h[o][e]=n[e][o]-a[e];for(h=r.transpose(h),o=0;o<i;o++)for(d[o]=[],e=0;e<i;e++)d[o][e]=r.dot([h[o]],[h[e]])/(u-1);for(v=(l=r.jacobi(d))[0],s=l[1],g=r.transpose(v),o=0;o<s.length;o++)for(e=o;e<s.length;e++)s[o]<s[e]&&(t=s[o],s[o]=s[e],s[e]=t,f=g[o],g[o]=g[e],g[e]=f);for(p=r.transpose(h),o=0;o<i;o++)for(c[o]=[],e=0;e<p.length;e++)c[o][e]=r.dot([g[o]],[p[e]]);return[n,s,g,c]}}),function(n){for(var e=0;e<n.length;e++)!function(n){r.fn[n]=function(e,t){var i=this;return t?(setTimeout((function(){t.call(i,r.fn[n].call(i,e))}),15),this):"number"==typeof r[n](this,e)?r[n](this,e):r(r[n](this,e))}}(n[e])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(r,Math),function(r,n){var e=[].slice,t=r.utils.isNumber,i=r.utils.isArray;function u(r,e,t,i){if(r>1||t>1||r<=0||t<=0)throw new Error("Proportions should be greater than 0 and less than 1");var u=(r*e+t*i)/(e+i);return(r-t)/n.sqrt(u*(1-u)*(1/e+1/i))}r.extend({zscore:function(){var n=e.call(arguments);return t(n[1])?(n[0]-n[1])/n[2]:(n[0]-r.mean(n[1]))/r.stdev(n[1],n[2])},ztest:function(){var t,u=e.call(arguments);return i(u[1])?(t=r.zscore(u[0],u[1],u[3]),1===u[2]?r.normal.cdf(-n.abs(t),0,1):2*r.normal.cdf(-n.abs(t),0,1)):u.length>2?(t=r.zscore(u[0],u[1],u[2]),1===u[3]?r.normal.cdf(-n.abs(t),0,1):2*r.normal.cdf(-n.abs(t),0,1)):(t=u[0],1===u[1]?r.normal.cdf(-n.abs(t),0,1):2*r.normal.cdf(-n.abs(t),0,1))}}),r.extend(r.fn,{zscore:function(r,n){return(r-this.mean())/this.stdev(n)},ztest:function(e,t,i){var u=n.abs(this.zscore(e,i));return 1===t?r.normal.cdf(-u,0,1):2*r.normal.cdf(-u,0,1)}}),r.extend({tscore:function(){var t=e.call(arguments);return 4===t.length?(t[0]-t[1])/(t[2]/n.sqrt(t[3])):(t[0]-r.mean(t[1]))/(r.stdev(t[1],!0)/n.sqrt(t[1].length))},ttest:function(){var i,u=e.call(arguments);return 5===u.length?(i=n.abs(r.tscore(u[0],u[1],u[2],u[3])),1===u[4]?r.studentt.cdf(-i,u[3]-1):2*r.studentt.cdf(-i,u[3]-1)):t(u[1])?(i=n.abs(u[0]),1==u[2]?r.studentt.cdf(-i,u[1]-1):2*r.studentt.cdf(-i,u[1]-1)):(i=n.abs(r.tscore(u[0],u[1])),1==u[2]?r.studentt.cdf(-i,u[1].length-1):2*r.studentt.cdf(-i,u[1].length-1))}}),r.extend(r.fn,{tscore:function(r){return(r-this.mean())/(this.stdev(!0)/n.sqrt(this.cols()))},ttest:function(e,t){return 1===t?1-r.studentt.cdf(n.abs(this.tscore(e)),this.cols()-1):2*r.studentt.cdf(-n.abs(this.tscore(e)),this.cols()-1)}}),r.extend({anovafscore:function(){var t,i,u,o,a,s,l,f,c=e.call(arguments);if(1===c.length){for(a=new Array(c[0].length),l=0;l<c[0].length;l++)a[l]=c[0][l];c=a}for(i=new Array,l=0;l<c.length;l++)i=i.concat(c[l]);for(u=r.mean(i),t=0,l=0;l<c.length;l++)t+=c[l].length*n.pow(r.mean(c[l])-u,2);for(t/=c.length-1,s=0,l=0;l<c.length;l++)for(o=r.mean(c[l]),f=0;f<c[l].length;f++)s+=n.pow(c[l][f]-o,2);return t/(s/=i.length-c.length)},anovaftest:function(){var n,i,u,o,a=e.call(arguments);if(t(a[0]))return 1-r.centralF.cdf(a[0],a[1],a[2]);var s=r.anovafscore(a);for(n=a.length-1,u=0,o=0;o<a.length;o++)u+=a[o].length;return i=u-n-1,1-r.centralF.cdf(s,n,i)},ftest:function(n,e,t){return 1-r.centralF.cdf(n,e,t)}}),r.extend(r.fn,{anovafscore:function(){return r.anovafscore(this.toArray())},anovaftes:function(){var n,e=0;for(n=0;n<this.length;n++)e+=this[n].length;return r.ftest(this.anovafscore(),this.length-1,e-this.length)}}),r.extend({qscore:function(){var i,u,o,a,s,l=e.call(arguments);return t(l[0])?(i=l[0],u=l[1],o=l[2],a=l[3],s=l[4]):(i=r.mean(l[0]),u=r.mean(l[1]),o=l[0].length,a=l[1].length,s=l[2]),n.abs(i-u)/(s*n.sqrt((1/o+1/a)/2))},qtest:function(){var n,t=e.call(arguments);3===t.length?(n=t[0],t=t.slice(1)):7===t.length?(n=r.qscore(t[0],t[1],t[2],t[3],t[4]),t=t.slice(5)):(n=r.qscore(t[0],t[1],t[2]),t=t.slice(3));var i=t[0],u=t[1];return 1-r.tukey.cdf(n,u,i-u)},tukeyhsd:function(n){for(var e=r.pooledstdev(n),t=n.map((function(n){return r.mean(n)})),i=n.reduce((function(r,n){return r+n.length}),0),u=[],o=0;o<n.length;++o)for(var a=o+1;a<n.length;++a){var s=r.qtest(t[o],t[a],n[o].length,n[a].length,e,i,n.length);u.push([[o,a],s])}return u}}),r.extend({normalci:function(){var t,i=e.call(arguments),u=new Array(2);return t=4===i.length?n.abs(r.normal.inv(i[1]/2,0,1)*i[2]/n.sqrt(i[3])):n.abs(r.normal.inv(i[1]/2,0,1)*r.stdev(i[2])/n.sqrt(i[2].length)),u[0]=i[0]-t,u[1]=i[0]+t,u},tci:function(){var t,i=e.call(arguments),u=new Array(2);return t=4===i.length?n.abs(r.studentt.inv(i[1]/2,i[3]-1)*i[2]/n.sqrt(i[3])):n.abs(r.studentt.inv(i[1]/2,i[2].length-1)*r.stdev(i[2],!0)/n.sqrt(i[2].length)),u[0]=i[0]-t,u[1]=i[0]+t,u},significant:function(r,n){return r<n}}),r.extend(r.fn,{normalci:function(n,e){return r.normalci(n,e,this.toArray())},tci:function(n,e){return r.tci(n,e,this.toArray())}}),r.extend(r.fn,{oneSidedDifferenceOfProportions:function(n,e,t,i){var o=u(n,e,t,i);return r.ztest(o,1)},twoSidedDifferenceOfProportions:function(n,e,t,i){var o=u(n,e,t,i);return r.ztest(o,2)}})}(r,Math),r.models=function(){function n(n){var t=n[0].length;return r.arange(t).map((function(i){var u=r.arange(t).filter((function(r){return r!==i}));return e(r.col(n,i).map((function(r){return r[0]})),r.col(n,u))}))}function e(n,e){var t=n.length,i=e[0].length-1,u=t-i-1,o=r.lstsq(e,n),a=r.multiply(e,o.map((function(r){return[r]}))).map((function(r){return r[0]})),s=r.subtract(n,a),l=r.mean(n),f=r.sum(a.map((function(r){return Math.pow(r-l,2)}))),c=r.sum(n.map((function(r,n){return Math.pow(r-a[n],2)}))),p=f+c;return{exog:e,endog:n,nobs:t,df_model:i,df_resid:u,coef:o,predict:a,resid:s,ybar:l,SST:p,SSE:f,SSR:c,R2:f/p}}function t(e){var t=n(e.exog),i=Math.sqrt(e.SSR/e.df_resid),u=t.map((function(r){var n=r.SST,e=r.R2;return i/Math.sqrt(n*(1-e))})),o=e.coef.map((function(r,n){return(r-0)/u[n]})),a=o.map((function(n){var t=r.studentt.cdf(n,e.df_resid);return 2*(t>.5?1-t:t)})),s=r.studentt.inv(.975,e.df_resid),l=e.coef.map((function(r,n){var e=s*u[n];return[r-e,r+e]}));return{se:u,t:o,p:a,sigmaHat:i,interval95:l}}function i(n){var e,t,i,u=n.R2/n.df_model/((1-n.R2)/n.df_resid);return{F_statistic:u,pvalue:1-(e=u,t=n.df_model,i=n.df_resid,r.beta.cdf(e/(i/t+e),t/2,i/2))}}function u(r,n){var u=e(r,n),o=t(u),a=i(u),s=1-(1-u.R2)*((u.nobs-1)/u.df_resid);return u.t=o,u.f=a,u.adjust_R2=s,u}return{ols:u}}(),r.extend({buildxmatrix:function(){for(var n=new Array(arguments.length),e=0;e<arguments.length;e++){var t=[1];n[e]=t.concat(arguments[e])}return r(n)},builddxmatrix:function(){for(var n=new Array(arguments[0].length),e=0;e<arguments[0].length;e++){var t=[1];n[e]=t.concat(arguments[0][e])}return r(n)},buildjxmatrix:function(n){for(var e=new Array(n.length),t=0;t<n.length;t++)e[t]=n[t];return r.builddxmatrix(e)},buildymatrix:function(n){return r(n).transpose()},buildjymatrix:function(r){return r.transpose()},matrixmult:function(n,e){var t,i,u,o,a;if(n.cols()==e.rows()){if(e.rows()>1){for(o=[],t=0;t<n.rows();t++)for(o[t]=[],i=0;i<e.cols();i++){for(a=0,u=0;u<n.cols();u++)a+=n.toArray()[t][u]*e.toArray()[u][i];o[t][i]=a}return r(o)}for(o=[],t=0;t<n.rows();t++)for(o[t]=[],i=0;i<e.cols();i++){for(a=0,u=0;u<n.cols();u++)a+=n.toArray()[t][u]*e.toArray()[i];o[t][i]=a}return r(o)}},regress:function(n,e){var t=r.xtranspxinv(n),i=n.transpose(),u=r.matrixmult(r(t),i);return r.matrixmult(u,e)},regresst:function(n,e,t){var i=r.regress(n,e),u={anova:{}},o=r.jMatYBar(n,i);u.yBar=o;var a=e.mean();u.anova.residuals=r.residuals(e,o),u.anova.ssr=r.ssr(o,a),u.anova.msr=u.anova.ssr/(n[0].length-1),u.anova.sse=r.sse(e,o),u.anova.mse=u.anova.sse/(e.length-(n[0].length-1)-1),u.anova.sst=r.sst(e,a),u.anova.mst=u.anova.sst/(e.length-1),u.anova.r2=1-u.anova.sse/u.anova.sst,u.anova.r2<0&&(u.anova.r2=0),u.anova.fratio=u.anova.msr/u.anova.mse,u.anova.pvalue=r.anovaftest(u.anova.fratio,n[0].length-1,e.length-(n[0].length-1)-1),u.anova.rmse=Math.sqrt(u.anova.mse),u.anova.r2adj=1-u.anova.mse/u.anova.mst,u.anova.r2adj<0&&(u.anova.r2adj=0),u.stats=new Array(n[0].length);for(var s,l,f,c=r.xtranspxinv(n),p=0;p<i.length;p++)s=Math.sqrt(u.anova.mse*Math.abs(c[p][p])),l=Math.abs(i[p]/s),f=r.ttest(l,e.length-n[0].length-1,t),u.stats[p]=[i[p],s,l,f];return u.regress=i,u},xtranspx:function(n){return r.matrixmult(n.transpose(),n)},xtranspxinv:function(n){var e=r.matrixmult(n.transpose(),n);return r.inv(e)},jMatYBar:function(n,e){var t=r.matrixmult(n,e);return new r(t)},residuals:function(n,e){return r.matrixsubtract(n,e)},ssr:function(r,n){for(var e=0,t=0;t<r.length;t++)e+=Math.pow(r[t]-n,2);return e},sse:function(r,n){for(var e=0,t=0;t<r.length;t++)e+=Math.pow(r[t]-n[t],2);return e},sst:function(r,n){for(var e=0,t=0;t<r.length;t++)e+=Math.pow(r[t]-n,2);return e},matrixsubtract:function(n,e){for(var t=new Array(n.length),i=0;i<n.length;i++){t[i]=new Array(n[i].length);for(var u=0;u<n[i].length;u++)t[i][u]=n[i][u]-e[i][u]}return r(t)}}),r.jStat=r,r}()}({get exports(){return Df},set exports(r){Df=r}});let Nf=Df.jStat,Cf={beta:{pdf:Nf.beta.pdf,cdf:Nf.beta.cdf,inv:Nf.beta.inv,sample:Nf.beta.sample},centralF:{pdf:Nf.centralF.pdf,cdf:Nf.centralF.cdf,inv:Nf.centralF.inv,sample:Nf.centralF.sample},cauchy:{pdf:Nf.cauchy.pdf,cdf:Nf.cauchy.cdf,inv:Nf.cauchy.inv,sample:Nf.cauchy.sample},chisquare:{pdf:Nf.chisquare.pdf,cdf:Nf.chisquare.cdf,inv:Nf.chisquare.inv,sample:Nf.chisquare.sample},exponential:{pdf:Nf.exponential.pdf,cdf:Nf.exponential.cdf,inv:Nf.exponential.inv,sample:Nf.exponential.sample},gamma:{pdf:Nf.gamma.pdf,cdf:Nf.gamma.cdf,inv:Nf.gamma.inv,sample:Nf.gamma.sample},invgamma:{pdf:Nf.invgamma.pdf,cdf:Nf.invgamma.cdf,inv:Nf.invgamma.inv,sample:Nf.invgamma.sample},kumaraswamy:{pdf:Nf.kumaraswamy.pdf,cdf:Nf.kumaraswamy.cdf,inv:Nf.kumaraswamy.inv,sample:Nf.kumaraswamy.sample},lognormal:{pdf:Nf.lognormal.pdf,cdf:Nf.lognormal.cdf,inv:Nf.lognormal.inv,sample:Nf.lognormal.sample},normal:{pdf:Nf.normal.pdf,cdf:Nf.normal.cdf,inv:Nf.normal.inv,sample:Nf.normal.sample},pareto:{pdf:Nf.pareto.pdf,cdf:Nf.pareto.cdf,inv:Nf.pareto.inv,sample:(r,n)=>{throw new Error("invalid pareto.sample")}},studentt:{pdf:Nf.studentt.pdf,cdf:Nf.studentt.cdf,inv:Nf.studentt.inv,sample:Nf.studentt.sample},tukey:{pdf:(r,n,e)=>{throw new Error("invalid tukey.pdf")},cdf:Nf.tukey.cdf,inv:Nf.tukey.inv,sample:(r,n)=>{throw new Error("invalid tukey.sample")}},weibull:{pdf:Nf.weibull.pdf,cdf:Nf.weibull.cdf,inv:Nf.weibull.inv,sample:Nf.weibull.sample},uniform:{pdf:Nf.uniform.pdf,cdf:Nf.uniform.cdf,inv:Nf.uniform.inv,sample:Nf.uniform.sample},binomial:{pdf:Nf.binomial.pdf,cdf:Nf.binomial.cdf,inv:(r,n,e)=>{throw new Error("invalid binomial.inv")},sample:(r,n)=>{throw new Error("invalid binomial.sample")}},negbin:{pdf:Nf.negbin.pdf,cdf:Nf.negbin.cdf,inv:(r,n,e)=>{throw new Error("invalid negbin.inv")},sample:(r,n)=>{throw new Error("invalid negbin.sample")}},hypgeom:{pdf:Nf.hypgeom.pdf,cdf:Nf.hypgeom.cdf,inv:(r,n,e,t)=>{throw new Error("invalid hypgeom.inv")},sample:(r,n,e)=>{throw new Error("invalid hypgeom.sample")}},poisson:{pdf:Nf.poisson.pdf,cdf:Nf.poisson.cdf,inv:(r,n)=>{throw new Error("invalid poisson.inv")},sample:Nf.poisson.sample},triangular:{pdf:Nf.triangular.pdf,cdf:Nf.triangular.cdf,inv:(r,n,e,t)=>{throw new Error("invalid triangular.inv")},sample:Nf.triangular.sample},arcsine:{pdf:Nf.arcsine.pdf,cdf:Nf.arcsine.cdf,inv:Nf.arcsine.inv,sample:Nf.arcsine.sample},std:r=>Nf.stdev(r,!1),sampleStd:r=>Nf.stdev(r,!0),emquantile:(r,n)=>Nf.quantiles(r,[n],.4,.4)[0],emquantiles:Nf.quantiles,percentile:Nf.percentile};var kf=Or;var Pf=function(r,n,e,t){for(var i=-1,u=null==r?0:r.length;++i<u;){var o=r[i];n(t,o,e(o),r)}return t},Af=function(r,n,e,t){return kf(r,(function(r,i,u){n(t,r,e(r),u)})),t},zf=tu,Ff=z;var Lf=vu,If=function(r,n){return function(e,t){var i=Ff(e)?Pf:Af,u=n?n():{};return i(e,r,zf(t),u)}},Uf=Object.prototype.hasOwnProperty,Tf=If((function(r,n,e){Uf.call(r,e)?r[e].push(n):Lf(r,e,[n])})),Gf=Array.prototype.reverse;var Bf=function(r){return null==r?r:Gf.call(r)};function Qf(r){if(!cs(r)&&!ps(r)&&!Xt(r))return"";let n="";try{n=String(r)}catch(r){}try{n=r.toString()}catch(r){}return n}function Vf(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),e.push.apply(e,t)}return e}function Zf(r){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Vf(Object(e),!0).forEach((function(n){t(r,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Vf(Object(e)).forEach((function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))}))}return r}function Hf(r,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(0===el(r))return[];if(!cs(n))return[];let t=Oi(e,"ranger.countHalf");wf(t)||(t=5),t=yf(t);let i=Oi(e,"ranger.depthHalf");ps(i)||(i=.25),i=_s(i);let u=Oi(e,"keyDepth");cs(u)||(u="depth");let o=Oi(e,"methodSmooth");"average"!==o&&"averageIn95"!==o&&"maxCount"!==o&&(o="average");let a=[];if(Fr(r,(r=>{let e=Oi(r,u),t=Oi(r,n);ps(e)&&(cs(t)||ps(t))&&(r[u]=_s(e),r[n]=t,a.push(r))})),0===el(a))return[];a=Tl(a,u);let s=el(a)-1,l=[];return Fr(a,((r,e)=>{let f=e,c=e;if(null!==t)f=Math.max(e-t,0),c=Math.min(e+t,s);else if(null!==i){for(let n=e;n>=0;n--){if(!(Math.abs(a[n][u]-r[u])<i))break;f=n}for(let n=e;n<=s;n++){if(!(Math.abs(a[n][u]-r[u])<i))break;c=n}}let p=function(r,n){let e,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!of(r))return[];if(!wf(n))return[];if(n=yf(n),uf(t)){if(n>=r.length)return[];e=ef(r,n)}else{if(!wf(t))return[];if(t=yf(t),n>=r.length||t>=r.length)return[];let i=Hl(n,t+1);e=ef(r,i)}return e}(a,f,c),h=null;if("average"===o){let r=Of(cu(p,n));h={[n]:r}}else if("averageIn95"===o){let r=cu(p,n),e=Of(r),t=function(r){return tf(r)?0===el(r)?null:(r=Rf(r,(r=>ps(r))),r=cu(r,_s),el(r)<=1?null:Cf.sampleStd(r)):null}(r),i=[];Fr(p,(r=>{let u=Oi(r,n);ps(u)&&(u=_s(u),u>=e-2*t&&u<=e+2*t&&i.push(u))}));let u=Of(i);h={[n]:u}}else if("maxCount"===o){let r=function(r){if(!tf(r))return[];if(0===el(r))return[];let n=[];if(Fr(r,(r=>{(ps(r)||cs(r))&&n.push(Qf(r))})),0===el(n))return[];n=cu(n,(r=>({v:r})));let e=Tf(n,"v");return e=cu(e,((r,n)=>({key:n,count:el(r)}))),e=Tl(e,"count"),e=Bf(e),e}(cu(p,n)),e=Oi(r,"0.key",""),t=Oi(r,"0.count","");h={[n]:e,count:t}}let d=Zf(Zf({},r),h);l.push(d)})),l}function Wf(r,n){return!!us(r)&&(!(!cs(n)&&!ps(n))&&n in r)}function Yf(r,n){if(!of(r))return null;if(!of(n))return null;let e=r[0],t=r[1],i=!1;for(let r=0,u=n.length-1;r<n.length;u=r++){let o=n[r][0],a=n[r][1],s=n[u][0],l=n[u][1];a>t!=l>t&&e<(s-o)*(t-a)/(l-a)+o&&(i=!i)}return i}function Kf(){return[{nameCht:"",nameEng:"Gravelly sand",color:"rgb(173, 215, 255)",colorLayer:"#467dec",min:0,max:1.31},{nameCht:"-",nameEng:"Sands-clean sand to silty sand",color:"rgb(193, 233, 247)",colorLayer:"linear-gradient(90deg, #dad74d 0%, #467dec 100%)",min:1.31,max:2.05},{nameCht:"-",nameEng:"Sand mixtures-silty sand to sandy silt",color:"rgb(223, 223, 247)",colorLayer:"linear-gradient(90deg, #467dec 0%, #dad74d 100%)",min:2.05,max:2.6},{nameCht:"-",nameEng:"Silt mixtures-clayey silt to silty clay",color:"rgb(253, 223, 225)",colorLayer:"linear-gradient(90deg, #ea4e2d 0%, #dad74d 100%)",min:2.6,max:2.95},{nameCht:"",nameEng:"Clays",color:"rgb(253, 203, 207)",colorLayer:"#ea4e2d",min:2.95,max:3.6},{nameCht:"",nameEng:"Organic soils",color:"rgb(255, 193, 227)",colorLayer:"#ea4e2d",min:3.6,max:99}]}let Jf={zone1:[[.8042788645514245,-1],[1.4,-1],[1.4,-.04961518419811251],[1.3360639947293758,.00515510285998122],[.8042788645514245,-1]],zone2:[[.22901013093819989,-1],[.7989205421525307,-1],[.535671,-.732631],[.267238,-.973016],[.22901013093819989,-1]],zone3:[[-.0827455,-.507509],[.19919261999759594,-1],[.22901013093819989,-1],[.267238,-.973016],[.535671,-.732631],[.7989205421525307,-1],[.8042788645514245,-1],[1.3360639947293758,.00515510285998122],[.7507188345305402,.5065865313087334],[.00899762,-.488431],[-.0798201488308562,-.39581841738701223],[-.0827455,-.507509]],zone4:[[-.0798201488308562,-.39581841738701223],[.00899762,-.488431],[.75071883453054,.5065865313087332],[.46563663689560464,.750800002787402],[.00559973,-.282387],[-.0748262901884575,-.20092818800278278],[-.0776487,-.312912],[-.0798201488308562,-.39581841738701223]],zone5:[[-.0748262901884575,-.20092818800278278],[.00559973,-.282387],[.4656366368956047,.7508000027874022],[.28177542293386015,.9083032972911816],[.00559973,-.0610806],[-.06726062655330566,.04677010378206706],[-.0725518,-.110684],[-.0748262901884575,-.20092818800278278]],zone6:[[-.06726062655330566,.04677010378206706],[.00559973,-.0610806],[.28177542293386015,.9083032972911816],[.219667,.961508],[.19999604525814957,1.0454031412933176],[.00220183,.247985],[-.06071692978405572,.34104143783205454],[-.0623581,.274695],[-.065756,.0915446],[-.06726062655330566,.04677010378206706]],zone7:[[-.06071692978405572,.34104143783205454],[.00220183,.247985],[.19999604525814962,1.0454031412933178],[.1466205435691607,1.2730456382928406],[.00390078,.522711],[-.053725768119182775,.6023554362478534],[-.0555624,.54942],[-.06071692978405572,.34104143783205454]],zone8:[[-.053725768119182775,.6023554362478534],[.00390078,.522711],[.1466205435691607,1.2730456382928403],[.09752669166574157,1.4824272212471161],[.00390078,.866117],[-.042929930936118785,.9237944636517381],[-.0453687,.843223],[-.053725768119182775,.6023554362478534]],zone9:[[0,.8709212639576908],[.00390078,.866117],[.09752669166574157,1.4824272212471163],[.055798348065744074,1.6603954657070483],[.00390078,1.36215],[0,1.3672038510406228],[0,.8709212639576908]],zone10:[[0,1.3672038510406228],[.00390078,1.36215],[.055798348065744074,1.6603954657070483],[.0514713,1.67885],[.05300885596731013,2],[0,2],[0,1.3672038510406228]],"zone9,10,11,12":[[-.042929930936118785,.9237944636517381],[0,.8709212639576908],[0,2],[-.029975073717927975,2],[-.0283792,1.41938],[-.035175,1.18],[-.042929930936118785,.9237944636517381]]},Xf={zone1:[[0,-1],[2.599004449,-.910151233],[2.59819,-.9033989],[2.47734,-.785331],[2.38066,-.683363],[2.22356,-.592129],[2.06647,-.479428],[1.90937,-.382826],[1.75227,-.307692],[1.51057,-.216458],[1.26888,-.152057],[.954683,-.103757],[.628399,-.0554559999999999],[.302115,-.0232560000000001],[0,.00770169199999993],[0,-1]],zone2:[[0,-1],[8,-1],[8,-.312420334],[7.98792,-.313059],[4.03625,-.860465],[0,-1]],zone3:[[1.91607919296796,-.386951534430881],[2.06647,-.479428],[2.22356,-.592129],[2.38066,-.683363],[2.47734,-.785331],[2.59819,-.9033989],[2.59900444877071,-.910151233011032],[4.03625,-.860465],[7.98792,-.313059],[8,-.312420334410403],[8,.73886157340706],[5.21686256331027,.74843976095338],[5.20846,.74419],[5.0997,.67442],[5.00302,.60465],[4.84592,.50805],[4.65257,.41682],[4.4713,.33095],[4.27795,.25045],[4.07251,.17531],[3.86707,.0948100000000001],[3.67372,.0357799999999999],[3.49245,-.012522],[3.29909,-.08229],[3.08157,-.13059],[2.87613,-.184258],[2.67069,-.243292],[2.429,-.291592],[2.1994,-.334526],[1.91607919296796,-.386951534430881]],zone4:[[1.51477387839753,-.218044829299632],[1.75227,-.307692],[1.90937,-.382826],[1.91607919296796,-.386951534430881],[2.1994,-.334526],[2.429,-.291592],[2.67069,-.243292],[2.87613,-.184258],[3.08157,-.13059],[3.29909,-.08229],[3.49245,-.012522],[3.67372,.0357799999999999],[3.86707,.0948100000000001],[4.07251,.17531],[4.27795,.25045],[4.4713,.33095],[4.65257,.41682],[4.84592,.50805],[5.00302,.60465],[5.0997,.67442],[5.20846,.74419],[5.21686256331027,.74843976095338],[4.89426,.74955],[4.59943743716958,.84244763970655],[4.59215,.84079],[4.41088,.72272],[4.29003,.63148],[4.14502,.56172],[4.01208,.48122],[3.87915,.41682],[3.72205,.35242],[3.56495,.28801],[3.40785,.23435],[3.19033,.16995],[2.97281,.11091],[2.7432,.04114],[2.50151,-.012522],[2.22356,-.08229],[1.98187,-.135957],[1.7281,-.189624],[1.51477387839753,-.218044829299632]],zone5:[[.60423,-.0500890000000001],[.604258597461038,-.053073655288784],[.628399,-.0554559999999999],[.954683,-.103757],[1.26888,-.152057],[1.51057,-.216458],[1.51477387839753,-.218044829299632],[1.7281,-.189624],[1.98187,-.135957],[2.22356,-.08229],[2.50151,-.012522],[2.7432,.04114],[2.97281,.11091],[3.19033,.16995],[3.40785,.23435],[3.56495,.28801],[3.72205,.35242],[3.87915,.41682],[4.01208,.48122],[4.14502,.56172],[4.29003,.63148],[4.41088,.72272],[4.59215,.84079],[4.59943743716958,.84244763970655],[3.89979234877181,1.06290355298692],[3.80665,.98569],[3.66163,.89982],[3.48036,.78712],[3.29909,.68515],[3.08157,.59392],[2.88822,.50805],[2.67069,.42218],[2.34441,.32021],[2.09063,.25581],[1.81269,.18068],[1.4864,.10555],[1.22054,.0518799999999999],[.89426,-.012522],[.60423,-.0500890000000001]],zone6:[[0,.00770169230769002],[.302115,-.0232560000000001],[.604258597461038,-.053073655288784],[.60423,-.0500890000000001],[.89426,-.012522],[1.22054,.0518799999999999],[1.4864,.10555],[1.81269,.18068],[2.09063,.25581],[2.34441,.32021],[2.67069,.42218],[2.88822,.50805],[3.08157,.59392],[3.29909,.68515],[3.48036,.78712],[3.66163,.89982],[3.80665,.98569],[3.89979234877181,1.06290355298692],[3.22606294765238,1.27519351669947],[3.04532,1.17352],[2.83988,1.05546],[2.62236,.95349],[2.429,.85152],[2.18731,.76029],[1.9577,.66905],[1.71601,.58318],[1.42598,.48122],[1.12387,.38998],[.809668,.32021],[.422961,.23435],[.0120846,.17531],[0,.17356],[0,.00770169230769002]],zone7:[[0,.17356],[.0120846,.17531],[.422961,.23435],[.809668,.32021],[1.12387,.38998],[1.42598,.48122],[1.71601,.58318],[1.9577,.66905],[2.18731,.76029],[2.429,.85152],[2.62236,.95349],[2.83988,1.05546],[3.04532,1.17352],[3.22606294765237,1.27519351669947],[2.42760757719909,1.52678423151461],[2.22356,1.38819],[2.07855,1.27549],[1.89728,1.16279],[1.69184,1.05009],[1.43807,.92129],[1.20846,.81932],[.930514,.72809],[.640483,.63685],[.314199,.54025],[0,.48856778143308],[0,.17356]],zone8:[[0,.48856778143308],[.314199,.54025],[.640483,.63685],[.930514,.72809],[1.20846,.81932],[1.43807,.92129],[1.69184,1.05009],[1.89728,1.16279],[2.07855,1.27549],[2.22356,1.38819],[2.42760757719909,1.52678423151461],[2.3565,1.54919],[2.18731,1.60823],[2.06647,1.6458],[1.98187,1.7102],[1.92145,1.78533],[1.84894,1.87657],[1.83686,2],[1.78852,1.86047],[1.71601,1.72093],[1.60725,1.5653],[1.4864,1.44723],[1.34139,1.33989],[1.22054,1.24866],[1.06344,1.14669],[.89426,1.07692],[.712991,.99642],[.386707,.91592],[0,.85689],[0,.48856778143308]],zone9:[[0,.85689],[.386707,.91592],[.712991,.99642],[.89426,1.07692],[1.06344,1.14669],[1.22054,1.24866],[1.34139,1.33989],[1.4864,1.44723],[1.60725,1.5653],[1.71601,1.72093],[1.78852,1.86047],[1.83686,2],[1.22054,2],[1.22054,1.99463],[1.11178,1.8229],[.990937,1.68873],[.845921,1.54919],[.652568,1.44723],[.386707,1.35063],[0,1.25175000154968],[0,.85689]],zone10:[[0,1.25175000154968],[.386707,1.35063],[.652568,1.44723],[.845921,1.54919],[.990937,1.68873],[1.11178,1.8229],[1.22054,1.99463],[1.22054,2],[0,2],[0,1.25175000154968]],zone11:[[3.89979234877181,1.06290355298692],[4.89426,.74955],[8,.73886157340706],[8,2],[4.70091,2],[4.59215,1.65116],[4.41088,1.50626],[4.25378,1.38283],[4.13293,1.26476],[3.98792,1.13596],[3.89979234877181,1.06290355298692]],zone12:[[1.83686,2],[1.84894,1.87657],[1.92145,1.78533],[1.98187,1.7102],[2.06647,1.6458],[2.18731,1.60823],[2.3565,1.54919],[3.89979234877181,1.06290355298692],[3.98792,1.13596],[4.13293,1.26476],[4.25378,1.38283],[4.41088,1.50626],[4.59215,1.65116],[4.70091,2],[1.83686,2]]},rc={zone1:[[.814956350795433,0],[1.4,0],[1.4,1.0444774529587604],[.814956350795433,0]],zone2:[[.15755797913451555,0],[.8081353465726996,0],[.803677,.00955108],[.542358,.411052],[.163577,.00955108],[.15755797913451555,0]],zone3:[[-.557635,1.27767],[.135961,.0225141],[.14709816115300722,0],[.15755797913451555,0],[.163577,.00955108],[.542358,.411052],[.803677,.00955108],[.8081353465726996,0],[.8159217107198008,0],[.824794,.015206],[1.38835,1.02178],[1.3952840233278456,1.0277257015798282],[.6051580468079697,1.6769417299522127],[.0144398,.684374],[-.389417,1.78897],[-.3965860167997673,1.8080830326156345],[-.557635,1.27767]],zone4:[[-.3965860167997673,1.8080830326156345],[-.389417,1.78897],[.0144398,.684374],[.6051580468079698,1.6769417299522127],[.4233286829382924,1.8263439024676476],[.01312,1.05006],[-.3126662899731374,2.0844717183302555],[-.3965860167997673,1.8080830326156345]],zone5:[[-.3126662899731374,2.0844717183302555],[.01312,1.05006],[.4233286829382924,1.8263439024676478],[.23050362977173397,1.9847808086162937],[.01312,1.46853],[-.24501712858513175,2.307273477973186],[-.3126662899731374,2.0844717183302555]],zone6:[[-.24501712858513178,2.307273477973186],[.01312,1.46853],[.23050362977173397,1.9847808086162937],[.182054,2.02459],[.14155632003411384,2.4608700593991886],[.0157596,2.2376],[-.15640870819128455,2.5991043237348594],[-.24501712858513178,2.307273477973186]],zone7:[[-.15640870819128455,2.5991043237348594],[.0157596,2.2376],[.14155632003411384,2.4608700593991886],[.091511603746722,3],[-.0346850003225585,3],[-.15640870819128455,2.5991043237348594]]},nc={zone1:[[-1,0],[.214255,0],[.214255,.0100411],[.20255,.0539655],[.183822,.106126],[.165093,.155541],[.139342,.213191],[.113591,.276333],[.0808163,.328493],[.0574059,.386144],[.0269725,.438304],[-.00814305,.484973],[-.0385765,.520662],[-.0690099,.567332],[-.104125,.605766],[-.143923,.644199],[-.183721,.677143],[-.223518,.712831],[-.260975,.74852],[-.300772,.770482],[-.338229,.797935],[-.375685,.819897],[-.420165,.84735],[-.459963,.869312],[-.509124,.894019],[-.555945,.915981],[-.609789,.932453],[-.651928,.943434],[-.70343,.959906],[-.754933,.973632],[-.8158,.984613],[-.871985,.990104],[-.935193,.998],[-.982013,.995594],[-1,.9964730699272073],[-1,0]],zone2:[[.2064750618712659,.039236240054828495],[.214255,.0100411],[.214255,0],[1,0],[1,.8318045794934391],[.99382,.819897],[.965727,.762246],[.930612,.704595],[.897837,.638709],[.860381,.592039],[.827606,.55086],[.797173,.50419],[.748011,.441049],[.715237,.391634],[.682462,.344965],[.645006,.306531],[.60989,.279078],[.56541,.243389],[.516249,.213191],[.471769,.174758],[.417925,.14456],[.366422,.114362],[.310238,.0814182],[.261076,.059456],[.2064750618712659,.039236240054828495]],zone3:[[-.1691945840894161,.6651183192180945],[-.143923,.644199],[-.104125,.605766],[-.0690099,.567332],[-.0385765,.520662],[-.00814305,.484973],[.0269725,.438304],[.0574059,.386144],[.0808163,.328493],[.113591,.276333],[.139342,.213191],[.165093,.155541],[.183822,.106126],[.20255,.0539655],[.2064750618712659,.039236240054828495],[.261076,.059456],[.310238,.0814182],[.366422,.114362],[.417925,.14456],[.471769,.174758],[.516249,.213191],[.56541,.243389],[.60989,.279078],[.645006,.306531],[.682462,.344965],[.715237,.391634],[.748011,.441049],[.797173,.50419],[.827606,.55086],[.860381,.592039],[.897837,.638709],[.930612,.704595],[.965727,.762246],[.99382,.819897],[1,.8318045794934391],[1,1.743385534886701],[.965727,1.73133],[.911883,1.73682],[.839311,1.76153],[.7838498913648442,1.785615676370634],[.778445,1.75604],[.762057,1.69015],[.743329,1.62426],[.717578,1.56387],[.689485,1.49523],[.652029,1.43209],[.619254,1.36895],[.577116,1.30032],[.530295,1.23992],[.495179,1.18227],[.453041,1.13286],[.40622,1.07521],[.366422,1.03677],[.29385,.965396],[.237666,.918727],[.174458,.866567],[.106568,.819897],[.0410187,.773227],[-.0268713,.732048],[-.0994434,.690869],[-.1691945840894161,.6651183192180945]],zone4:[[-.5572591210207868,.9163830169648318],[-.555945,.915981],[-.509124,.894019],[-.459963,.869312],[-.420165,.84735],[-.375685,.819897],[-.338229,.797935],[-.300772,.770482],[-.260975,.74852],[-.223518,.712831],[-.183721,.677143],[-.1691945840894161,.6651183192180945],[-.0994434,.690869],[-.0268713,.732048],[.0410187,.773227],[.106568,.819897],[.174458,.866567],[.237666,.918727],[.29385,.965396],[.366422,1.03677],[.40622,1.07521],[.453041,1.13286],[.495179,1.18227],[.530295,1.23992],[.577116,1.30032],[.619254,1.36895],[.652029,1.43209],[.689485,1.49523],[.717578,1.56387],[.743329,1.62426],[.762057,1.69015],[.778445,1.75604],[.7838498913648442,1.785615676370634],[.776103,1.78898],[.733965,1.81918],[.689485,1.8631],[.652029,1.90428],[.614572,1.9482],[.5812671176412162,1.992142954030625],[.556046,1.91252],[.525613,1.83016],[.492838,1.74505],[.453041,1.6627],[.422607,1.6023],[.373446,1.54739],[.324284,1.48425],[.277463,1.44582],[.22596,1.3964],[.146365,1.33052],[.0714521,1.27012],[.00590315,1.20973],[-.0690099,1.15757],[-.134559,1.12188],[-.209472,1.07521],[-.293749,1.03128],[-.36398,1.00108],[-.445916,.965396],[-.523171,.929708],[-.5572591210207868,.9163830169648318]],zone5:[[-1,.9964730699272073],[-.982013,.995594],[-.935193,.998],[-.871985,.990104],[-.8158,.984613],[-.754933,.973632],[-.70343,.959906],[-.651928,.943434],[-.609789,.932453],[-.5572591210207868,.9163830169648318],[-.523171,.929708],[-.445916,.965396],[-.36398,1.00108],[-.293749,1.03128],[-.209472,1.07521],[-.134559,1.12188],[-.0690099,1.15757],[.00590315,1.20973],[.0714521,1.27012],[.146365,1.33052],[.22596,1.3964],[.277463,1.44582],[.324284,1.48425],[.373446,1.54739],[.422607,1.6023],[.453041,1.6627],[.492838,1.74505],[.525613,1.83016],[.556046,1.91252],[.5812671176412162,1.992142954030625],[.577116,1.99762],[.544341,2.0388],[.516249,2.10194],[.478792,2.14861],[.453041,2.20901],[.420266,2.2694],[.392174,2.3298],[.3884063655271938,2.33783211915801],[.375787,2.31607],[.343012,2.25018],[.305556,2.17332],[.263417,2.11018],[.223619,2.04429],[.165093,1.97291],[.113591,1.91526],[.062088,1.8631],[.00356212,1.8082],[-.0502817,1.76976],[-.111149,1.72584],[-.179039,1.67917],[-.230541,1.64348],[-.312478,1.59681],[-.40846,1.56387],[-.488055,1.53092],[-.58872,1.49798],[-.672997,1.47876],[-.773661,1.45955],[-.864962,1.44856],[-.944557,1.44307],[-1,1.4377631547427059],[-1,.9964730699272073]],zone6:[[-1,1.4377631547427059],[-.944557,1.44307],[-.864962,1.44856],[-.773661,1.45955],[-.672997,1.47876],[-.58872,1.49798],[-.488055,1.53092],[-.40846,1.56387],[-.312478,1.59681],[-.230541,1.64348],[-.179039,1.67917],[-.111149,1.72584],[-.0502817,1.76976],[.00356212,1.8082],[.062088,1.8631],[.113591,1.91526],[.165093,1.97291],[.223619,2.04429],[.263417,2.11018],[.305556,2.17332],[.343012,2.25018],[.375787,2.31607],[.3884063655271938,2.33783211915801],[.366422,2.3847],[.347694,2.42314],[.328966,2.47255],[.303215,2.51922],[.289168,2.56864],[.263417,2.62354],[.24703,2.66747],[.232983,2.71688],[.216596,2.75531],[.200209,2.81022],[.186163,2.85689],[.169776,2.9118],[.148706,2.95847],[.1412503458588957,3],[-.001459668032786902,3],[-.00346099,2.98592],[-.0385765,2.90356],[-.073692,2.83218],[-.118172,2.75531],[-.16031,2.68394],[-.200108,2.62354],[-.244588,2.57687],[-.29609,2.53295],[-.352275,2.48902],[-.403778,2.44784],[-.471668,2.40941],[-.527853,2.36823],[-.586379,2.33529],[-.649586,2.30509],[-.726841,2.27215],[-.804095,2.24744],[-.881349,2.21999],[-.956262,2.20077],[-1,2.1949642579667628],[-1,1.4377631547427059]],zone7:[[-1,2.1949642579667628],[-.956262,2.20077],[-.881349,2.21999],[-.804095,2.24744],[-.726841,2.27215],[-.649586,2.30509],[-.586379,2.33529],[-.527853,2.36823],[-.471668,2.40941],[-.403778,2.44784],[-.352275,2.48902],[-.29609,2.53295],[-.244588,2.57687],[-.200108,2.62354],[-.16031,2.68394],[-.118172,2.75531],[-.073692,2.83218],[-.0385765,2.90356],[-.00346099,2.98592],[-.001459668032786902,3],[-1,3],[-1,2.1949642579667628]],zone8:[[.1412503458588957,3],[.148706,2.95847],[.169776,2.9118],[.186163,2.85689],[.200209,2.81022],[.216596,2.75531],[.232983,2.71688],[.24703,2.66747],[.263417,2.62354],[.289168,2.56864],[.303215,2.51922],[.328966,2.47255],[.347694,2.42314],[.366422,2.3847],[.392174,2.3298],[.420266,2.2694],[.453041,2.20901],[.478792,2.14861],[.516249,2.10194],[.544341,2.0388],[.577116,1.99762],[.5812671176412162,1.992142954030625],[.58648,2.0086],[.607549,2.08821],[.628618,2.17881],[.647347,2.26666],[.661393,2.36549],[.670757,2.45883],[.67778,2.54393],[.682462,2.63727],[.689485,2.74159],[.689485,2.84591],[.687144,2.93925],[.6855251525327263,3],[.1412503458588957,3]],zone9:[[.5812671176412162,1.992142954030625],[.614572,1.9482],[.652029,1.90428],[.689485,1.8631],[.733965,1.81918],[.776103,1.78898],[.839311,1.76153],[.911883,1.73682],[.965727,1.73133],[1,1.743385534886701],[1,3],[.6855251525327263,3],[.687144,2.93925],[.689485,2.84591],[.689485,2.74159],[.682462,2.63727],[.67778,2.54393],[.670757,2.45883],[.661393,2.36549],[.647347,2.26666],[.628618,2.17881],[.607549,2.08821],[.58648,2.0086],[.5812671176412162,1.992142954030625]]},ec={zone1:[[1.40104,0],[1.40104,1],[.801704,0],[1.40104,0]],zone2:[[.801704,0],[.539905,.442651],[.141125,0],[.801704,0]],zone3:[[1.40104,1],[.8,1.60253],[.0303888,1.20246],[.0310289,1],[-.0304203,1],[-.0291401,1.20408],[-.6,1.39605],[.141125,0],[.539905,.442651],[.801704,0],[1.40104,1]],zone4a:[[-.1,3.78518],[-.6,1.39605],[-.0291401,1.20408],[-.1,3.78518]],zone4b:[[.0617535,3.78356],[.0303888,1.20246],[.8,1.60253],[.4,2],[.0617535,3.78356]],zone5a:[[-.0304203,3.78518],[-.1,3.78518],[-.0291401,1.20408],[-.0297802,1.31539],[-.0297802,1.70094],[-.0291401,2.2591],[-.0304203,3.78518]],zone5b:[[.0617535,3.78356],[.0297487,3.78679],[.0297487,2.28169],[.0297487,1.72352],[.031669,1.32184],[.0303888,1.20246],[.0617535,3.78356]],zone6:[[0,1.59285],[-.0297802,1.31539],[-.0291401,1.20408],[-.0304203,1],[.0310289,1],[.0303888,1.20246],[.031669,1.32184],[0,1.59285]],zone7:[[0,1.94937],[-.0297802,1.70094],[-.0297802,1.31539],[0,1.59285],[.031669,1.32184],[.0297487,1.72352],[0,1.94937]],zone8:[[0,2.48656],[-.0291401,2.2591],[-.0297802,1.70094],[0,1.94937],[.0297487,1.72352],[.0297487,2.28169],[0,2.48656]],zone9:[[.0297487,3.78679],[-.0304203,3.78518],[-.0291401,2.2591],[0,2.48656],[.0297487,2.28169],[.0297487,3.78679]]},tc={zone1:[[.170602,0],[0,.477345],[-.220456,.755759],[-.382872,.855193],[-1,1],[-1,0],[.170602,0]],zone2:[[1,0],[1,.413708],[.170602,0],[1,0]],zone3:[[1,1.53134],[.285712,1.19327],[.148527,1.17338],[-1,1],[-.382872,.855193],[-.220456,.755759],[0,.477345],[.170602,0],[1,.413708],[1,1.53134]],zone4:[[1,3.77456],[.143796,3.77456],[.285712,1.19327],[1,1.53134],[1,3.77456]],zone5:[[.143796,3.77456],[-.0265037,3.77456],[.0570693,2.49386],[.09176,1.98078],[.11699,1.60293],[.148527,1.17338],[.285712,1.19327],[.143796,3.77456]],zone6:[[.11699,1.60293],[-1,1.30066],[-1,1],[.148527,1.17338],[.11699,1.60293]],zone7:[[.09176,1.98078],[-1,1.69839],[-1,1.30066],[.11699,1.60293],[.09176,1.98078]],zone8:[[.0570693,2.49386],[-1,2.17567],[-1,1.69839],[.09176,1.98078],[.0570693,2.49386]],zone9:[[-.0265037,3.77456],[-1,3.77456],[-1,2.17567],[.0570693,2.49386],[-.0265037,3.77456]]},ic={1:"Sensitive fine grained",2:"Organic material",3:"Clay",4:"Silty clay to clay",5:"Clayey silt to silty clay",6:"Sandy silt to clayey silt",7:"Silty sand to sandy silt",8:"Sand to silty sand",9:"Sand",10:"Gravelly sand to sand",11:"Very stiff find grained(overconsolidated or cemented)",12:"Sand to clayer sand(overconsolidated or cemented)",13:"9,10,11,12"},uc={1:"Sensitive fine grained",2:"Organic soils - peats",3:"Clays - clay to silty clay",4:"Silt mixtures - clayey silt to silty clay",5:"Sand mixtures - silty sand to sandy silt",6:"Sands - clean sand to silty sand",7:"Gravelly sand to sand",8:"Very stiff sand to clayey sand(heavily overconsolidated or cemented)",9:"Very stiff fine grained(heavily overconsolidated or cemented)"},oc={1:"Extra sensitibe clay",2:"Organic clay and peat",3:"Clay(su/p0'<=1)",4:"Clay(su/p0'>1)",5:"Clayey sand",6:"Sandy very clayey silt",7:"Sandy silt",8:"Silty sand",9:"Clean to slightly silty sand"};function ac(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=Oi(n,"numOfType");3!==e&&4!==e&&5!==e&&6!==e&&(console.log(`invalid numOfType[${e}]`),e=3);let t=Oi(n,"funAdjust");if(!ps(r))return"";let i="",u=yf(r);if(3===e){let r={1:"clay",2:"clay",3:"clay",4:"silt",5:"silt",6:"silt",7:"silt",8:"sand",9:"sand",10:"sand",11:"sand",12:"sand",13:"sand"};Wf(r,u)&&(is(t)&&(u=t(u,r,n)),i=r[u])}else if(4===e){let r={1:"clay",2:"clay",3:"clay",4:"silt",5:"clayey-silt",6:"clayey-silt",7:"sandy-silt",8:"sandy-silt",9:"sand",10:"sand",11:"sand",12:"sand",13:"sand"};Wf(r,u)&&(is(t)&&(u=t(u,r,n)),i=r[u])}else if(5===e){let r={1:"clay",2:"clay",3:"clay",4:"silt",5:"clayey-silt",6:"clayey-silt",7:"sandy-silt",8:"silty-sand",9:"sand",10:"sand",11:"silty-sand",12:"sand",13:"sand"};Wf(r,u)&&(is(t)&&(u=t(u,r,n)),i=r[u])}else if(6===e){let r={1:"clay",2:"clay",3:"clay",4:"silt",5:"clayey-silt",6:"clayey-silt",7:"sandy-silt",8:"silty-sand",9:"sand",10:"sand",11:"clayey-sand",12:"sand",13:"sand"};Wf(r,u)&&(is(t)&&(u=t(u,r,n)),i=r[u])}return i}function sc(r,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Oi(e,"returnZone");fs(t)||(t=!1),r=ps(r)?yf(r):null,n=ps(n)?yf(n):null;let i=ac(r,e),u=ac(n,e);if(null===r&&null===n)return"";if(null!==r&&null===n)return t?r:i;if(null===r&&null!==n)return t?n:u;if(i!==u){let e=r>=6,o=n>=6;return e&&o?t?n:u:e||o?"":t?r:i}return t?r:i}function lc(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=Oi(n,"numOfType");3!==e&&4!==e&&5!==e&&6!==e&&(console.log(`invalid numOfType[${e}]`),e=3);let t=Oi(n,"funAdjust");if(!ps(r))return"";let i="",u=yf(r);if(3===e){let r={1:"clay",2:"clay",3:"clay",4:"silt",5:"silt",6:"sand",7:"sand",8:"sand",9:"sand"};Wf(r,u)&&(is(t)&&(u=t(u,r,n)),i=r[u])}else if(4===e){let r={1:"clay",2:"clay",3:"clay",4:"clayey-silt",5:"sandy-silt",6:"sand",7:"sand",8:"sand",9:"sand"};Wf(r,u)&&(is(t)&&(u=t(u,r,n)),i=r[u])}else if(5===e){let r={1:"clay",2:"clay",3:"clay",4:"clayey-silt",5:"sandy-silt",6:"silty-sand",7:"sand",8:"silty-sand",9:"sand"};Wf(r,u)&&(is(t)&&(u=t(u,r,n)),i=r[u])}else if(6===e){let r={1:"clay",2:"clay",3:"clay",4:"clayey-silt",5:"sandy-silt",6:"silty-sand",7:"sand",8:"clayey-sand",9:"sand"};Wf(r,u)&&(is(t)&&(u=t(u,r,n)),i=r[u])}return i}function fc(r,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Oi(e,"returnZone");fs(t)||(t=!1),r=ps(r)?yf(r):null,n=ps(n)?yf(n):null;let i=lc(r,e),u=lc(n,e);if(null===r&&null===n)return"";if(null!==r&&null===n)return t?r:i;if(null===r&&null!==n)return t?n:u;if(i!==u){let e=r>=6,o=n>=6;return e&&o?t?n:u:e||o?"":t?r:i}return t?r:i}function cc(r){let n=Oi(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"numOfType");if(3!==n&&4!==n&&5!==n&&6!==n&&(console.log(`invalid numOfType[${n}]`),n=3),!ps(r))return"";let e=yf(r);if(3===n){let r={1:"clay",2:"clay",3:"clay",4:"clay",6:"silt",7:"silt",5:"sand",8:"sand",9:"sand"};if(Wf(r,e))return r[e]}else if(4===n){let r={1:"clay",2:"clay",3:"clay",4:"clay",5:"sand",6:"clayey-silt",7:"sandy-silt",8:"sand",9:"sand"};if(Wf(r,e))return r[e]}else if(5===n){let r={1:"clay",2:"clay",3:"clay",4:"clay",5:"silty-sand",6:"clayey-silt",7:"sandy-silt",8:"silty-sand",9:"sand"};if(Wf(r,e))return r[e]}else if(6===n){let r={1:"clay",2:"clay",3:"clay",4:"clay",5:"clayey-sand",6:"clayey-silt",7:"sandy-silt",8:"silty-sand",9:"sand"};if(Wf(r,e))return r[e]}return""}let pc={csfIc:function(r){let n=null,e="",t=null,i=null;return da(r)?(Fr([{nameCht:"",nameEng:"Gravelly sand",color:"rgb(173, 215, 255)",colorLayer:"#467dec",min:0,max:1.31},{nameCht:"-",nameEng:"Sands-clean sand to silty sand",color:"rgb(193, 233, 247)",colorLayer:"linear-gradient(90deg, #dad74d 0%, #467dec 100%)",min:1.31,max:2.05},{nameCht:"-",nameEng:"Sand mixtures-silty sand to sandy silt",color:"rgb(223, 223, 247)",colorLayer:"linear-gradient(90deg, #467dec 0%, #dad74d 100%)",min:2.05,max:2.6},{nameCht:"-",nameEng:"Silt mixtures-clayey silt to silty clay",color:"rgb(253, 223, 225)",colorLayer:"linear-gradient(90deg, #ea4e2d 0%, #dad74d 100%)",min:2.6,max:2.95},{nameCht:"",nameEng:"Clays",color:"rgb(253, 203, 207)",colorLayer:"#ea4e2d",min:2.95,max:3.6},{nameCht:"",nameEng:"Organic soils",color:"rgb(255, 193, 227)",colorLayer:"#ea4e2d",min:3.6,max:99}],((u,o)=>{if(r>=u.min&&r<u.max)return n=o+1,e=`${u.min}~${u.max}`,t=u.nameCht,i=u.nameEng,!1})),null===t||null===i?{error:"invalid Ic"}:{success:{int:n,rang:e,cht:t,eng:i}}):{error:"invalid Ic"}},csfRobRfqt:function(r,n){if(!da(r))return{error:"invalid Rf"};if(!da(n))return{error:"invalid qt"};if(r<0||r>8)return{error:"Rf < 0 or Rf > 8"};if(n<.1||n>100)return{error:"qt < 0.1 or qt > 100"};let e=[r,Math.log10(n)],t="";if(Fr(Xf,((r,n)=>{if(Yf(e,r))return t=n,!1})),""===t)return{error:"no zone"};let i=t.replace("zone",""),u=null;return cf(i)&&(u=yf(i),i=`${u}: ${ic[u]}`),{success:{int:u,msg:i}}},csfRobBqqt:function(r,n){if(!da(r))return{error:"invalid Bq"};if(!da(n))return{error:"invalid qt"};if(r<-.2||r>1.4)return{error:"Bq < -0.2 or Bq > 1.4"};if(n<.1||n>100)return{error:"qt < 0.1 or qt > 100"};let e=[r,Math.log10(n)],t="";if(Fr(Jf,((r,n)=>{if(Yf(e,r))return t=n,!1})),""===t)return{error:"no zone"};let i=t.replace("zone",""),u=null;return"9,10,11,12"===i&&(i="13"),cf(i)&&(u=yf(i),i=`${u}: ${ic[u]}`),{success:{int:u,msg:i}}},csfRobBqQt:function(r,n){if(!da(r))return{error:"invalid Bq"};if(!da(n))return{error:"invalid Qt"};if(r<-.6||r>1.4)return{error:"Bq < -0.6 or Bq > 1.4"};if(n<1||n>1e3)return{error:"Qt < 1 or Qt > 1000"};let e=[r,Math.log10(n)],t="";if(Fr(rc,((r,n)=>{if(Yf(e,r))return t=n,!1})),""===t)return{error:"no zone"};let i=t.replace("zone",""),u=null;return cf(i)&&(u=yf(i),i=`${u}: ${uc[u]}`),{success:{int:u,msg:i}}},csfRobFrQt:function(r,n){if(!da(r))return{error:"invalid Fr"};if(!da(n))return{error:"invalid Qt"};if(r<.1||r>10)return{error:"Fr < 0.1 or Fr > 10"};if(n<1||n>1e3)return{error:"Qt < 1 or Qt > 1000"};let e=[Math.log10(r),Math.log10(n)],t="";if(Fr(nc,((r,n)=>{if(Yf(e,r))return t=n,!1})),""===t)return{error:"no zone"};let i=t.replace("zone",""),u=null;return cf(i)&&(u=yf(i),i=`${u}: ${uc[u]}`),{success:{int:u,msg:i}}},csfRamBqQt:function(r,n){if(!da(r))return{error:"invalid Bq"};if(!da(n))return{error:"invalid Qt"};if(r<-.6||r>1.4)return{error:"Bq < -0.6 or Bq > 1.4"};if(n<1||n>6097.895815)return{error:"Qt < 1 or Qt > 6097.895815"};let e=[r,Math.log10(n)],t="";if(Fr(ec,((r,n)=>{if(Yf(e,r))return t=n,!1})),""===t)return{error:"no zone"};let i=t.replace("zone","");i=i.replace("a",""),i=i.replace("b","");let u=null;return cf(i)&&(u=yf(i),i=`${u}: ${oc[u]}`),{success:{int:u,msg:i}}},csfRamFrQt:function(r,n){if(!da(r))return{error:"invalid Fr"};if(!da(n))return{error:"invalid Qt"};if(r<.1||r>10)return{error:"Fr < 0.1 or Fr > 10"};if(n<1||n>5950.589615)return{error:"Qt < 1 or Qt > 5950.589615"};let e=[Math.log10(r),Math.log10(n)],t="";if(Fr(tc,((r,n)=>{if(Yf(e,r))return t=n,!1})),""===t)return{error:"no zone"};let i=t.replace("zone",""),u=null;return cf(i)&&(u=yf(i),i=`${u}: ${oc[u]}`),{success:{int:u,msg:i}}}};var hc={kpCPTClassForRobBqRfqt:ic,kpCPTClassForRobBqFrQt:uc,kpCPTClassForRamQt:oc,getIcInfor:Kf,cptClassifyBond:{inforRobBqqt:{zones:Jf,markers:{zone1:{p:[1.19678,-.727798566],text:"1"},zone2:{p:[.535691,-.855211033],text:"2"},zone3:{p:[.633441,-.444014891],text:"3"},zone4:{p:[.368489,.303088011],text:"4"},zone5:{p:[.255305,.511582591],text:"5"},zone6:{p:[.18328,.760617721],text:"6"},zone7:{p:[.136977,1.015443588],text:"7"},zone8:{p:[.0983923,1.229730464],text:"8"},zone9:{p:[.0495177,1.403475708],text:"9"},zone10:{p:[.0186495,1.75096559],text:"10"},"zone9,10,11,12":{p:[[-.014791,1.60617707],[-.0122186,1.189189825]],text:"9,<br>10,<br>11,<br>12"}}},inforRobRfqt:{zones:Xf,markers:{zone1:{p:[.866142,-.534722],text:"1"},zone2:{p:[6.61417,-.833333],text:"2"},zone3:{p:[5.03937,-.083333],text:"3"},zone4:{p:[3.66929,.17361],text:"4"},zone5:{p:[2.97638,.3125],text:"5"},zone6:{p:[2.31496,.54861],text:"6"},zone7:{p:[1.65354,.8125],text:"7"},zone8:{p:[1.24409,1.05556],text:"8"},zone9:{p:[.866142,1.32639],text:"9"},zone10:{p:[.393701,1.76389],text:"10"},zone11:{p:[6.48819,1.48611],text:"11"},zone12:{p:[3.51181,1.72917],text:"12"}}},inforRobBqQt:{zones:rc,markers:{zone1:{p:[1.21905,.455696],text:"1"},zone2:{p:[.491429,.211573],text:"2"},zone3:{p:[.529524,.922242],text:"3"},zone4:{p:[.346667,1.48101],text:"4"},zone5:{p:[.198095,1.67631],text:"5"},zone6:{p:[.0761905,2.03436],text:"6"},zone7:{p:[.0609524,2.60398],text:"7"}}},inforRobFrQt:{zones:nc,znoeNC:[[-.642563,2.38745],[.577116,.24888],[.607549,.218682],[.626277,.207701],[.649688,.204956],[.673098,.207701],[.682462,.229663],[.680121,.259861],[.666075,.292804],[.656711,.309276],[-.345252,2.64001],[-.642563,2.38745]],markers:{zone1:{p:[-.716937,.259459],text:"1"},zone2:{p:[.763341,.232432],text:"2"},zone3:{p:[.206497,.427027],text:"3"},zone4:{p:[-.141531,.951351],text:"4"},zone5:{p:[-.443155,1.2973],text:"5"},zone6:{p:[-.712297,1.85405],text:"6"},zone7:{p:[-.62877,2.77297],text:"7"},zone8:{p:[.419954,2.77297],text:"8"},zone9:{p:[.726218,2.18919],text:"9"},zoneNC:{p:[-.0719,1.679],text:"(Normally consolidated)"}}},inforRamBqQt:{zones:ec,markers:{zone1:{p:[1.3078,.298266],text:"1"},zone2:{p:[.504128,.17341],text:"2"},zone3:{p:[.795872,.991908],text:"3"},zone4a:{p:[-.302294,2.00462],text:"4"},zone4b:{p:[.201376,1.99769],text:"4"},zone5a:{p:[-.0573394,3.60694],text:"5"},zone5b:{p:[.0472477,3.60694],text:"5"},zone6:{p:[.0059633,1.17225],text:"6"},zone7:{p:[.0059633,1.66474],text:"7"},zone8:{p:[458716e-9,2.15723],text:"8"},zone9:{p:[.0059633,3.00347],text:"9"}}},inforRamFrQt:{zones:tc,markers:{zone1:{p:[-.520058,.477345],text:"1"},zone2:{p:[.903837,.179044],text:"2"},zone3:{p:[.298327,.696099],text:"3"},zone4:{p:[.694116,2.00862],text:"4"},zone5:{p:[.129604,2.62113],text:"5"},zone6:{p:[-.521634,1.28475],text:"6"},zone7:{p:[-.521634,1.65862],text:"7"},zone8:{p:[-.521634,2.14385],text:"8"},zone9:{p:[-.524788,2.99898],text:"9"}}}},cptClassify:pc,simplifyRobertson1986:sc,simplifyRobertson1990:fc,simplifyRobertson2009:function(r,n){return fc(r,n,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})},simplifyRamsey:function(r,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Oi(e,"returnZone");fs(t)||(t=!1),r=ps(r)?yf(r):null,n=ps(n)?yf(n):null;let i=cc(r,e),u=cc(n,e);if(null===r&&null===n)return"";if(null!==r&&null===n)return t?r:i;if(null===r&&null!==n)return t?r:u;if(i!==u){let e=5===r||8===r||9===r,o=5===n||8===n||9===n;return e&&o?t?r:u:e||o?"":t?r:i}return t?r:i}};function dc(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),e.push.apply(e,t)}return e}function vc(r){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?dc(Object(e),!0).forEach((function(n){t(r,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):dc(Object(e)).forEach((function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))}))}return r}function gc(r){let n=[];return Fr(r,(r=>{let e={};Fr(r,((r,n)=>{ts(r)&&(r=es(r)),e[n]=r}));let t=js(r=e,"depth"),i=js(r,"qc"),u=js(r,"fs"),o=js(r,"u2");n.push(vc(vc({},r),{},{depth:t,qc:i,fs:u,u2:o}))})),n}function mc(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=Oi(n,"ranger");os(e)||(e={depthHalf:.25});let t=Oi(n,"methodSmooth");return"none"!==t&&"average"!==t&&"averageIn95"!==t&&(t="none"),"none"!==t&&(r=Hf(r,"qc",{ranger:e,methodSmooth:t}),r=Hf(r,"fs",{ranger:e,methodSmooth:t}),r=Hf(r,"u2",{ranger:e,methodSmooth:t})),r}function yc(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=Oi(n,"intrpSvSvp");is(e)||(e=Rs);let t=Oi(n,"intrpU0");is(t)||(t=qs);let i=[];return Fr(r,((n,u)=>{let o=js(n,"depth"),a=e(o,u,n,r).sv/1e3,s=t(o,u,n,r);s/=1e3;let l=js(n,"u2");if(null!==l&&l>10)return!0;let f=null;da(a)&&da(s)&&(f=a-s,f=Math.max(f,0)),i.push(vc(vc({},n),{},{sv:a,svp:f,u0:s}))})),i}function wc(r,n,e){let t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=null,u=Ms.Pa,o=Oi(t,"useCnLeq");if(fs(o)||(o=!1),e<=0)return{Qtn:null,Icn:null,err:"svp <= 0"};let a=t=>{let i=(u/e)**t;o&&(i=Math.min(i,1.7));let a=i*r/u,s=Math.sqrt((3.47-Math.log10(a))**2+(Math.log10(n)+1.22)**2);return{n:t,Cn:i,Qtn:a,Icn:s,nn:.381*s+e/u*.05-.15}},s=r=>{let n=a(r);return Math.abs(n.n-n.nn)},l=null,f=null;try{let r=function(r,n,e){let t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!is(r))throw new Error("invalid fun");if(!ps(n))throw new Error("xMin is not a number");if(n=_s(n),!ps(e))throw new Error("xMax is not a number");e=_s(e);let i=Oi(t,"delta");ps(i)||(i=.1),i=_s(i);let u=Oi(t,"maxIterations");ps(u)||(u=100),u=_s(u);let o=r(n),a=r(e),s=(n+e)/2,l=r(s),f=0,c=null;for(;;){if(f++,f>u)return null;if(o<=a&&o<=l){c={y:o,x:n};break}if(a<=o&&a<=l){c={y:a,x:e};break}a>=o?(a=l,a=r(e=s)):(o=l,o=r(n=s)),s=(n+e)/2,l=r(s)}return c}(s,0,1),n=r.x,e=a(n);if(e.nn>1)throw new Error("");l=Oi(e,"Qtn",null),f=Oi(e,"Icn",null)}catch(r){i=r.toString()}return{Qtn:l,Icn:f,err:i}}function bc(r,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=(r,n)=>Oi(r,`success.${n}`,null),i=Oi(r,"sv");i=ps(i)?_s(i):null;let u=Oi(r,"svp");u=ps(u)?_s(u):null;let o=Oi(r,"qc");o=ps(o)?_s(o):null;let a=Oi(r,"fs");a=ps(a)?_s(a):null;let s=Oi(r,"u0");s=ps(s)?_s(s):null;let l=Oi(r,"u2");if(l=ps(l)?_s(l):null,!ps(n))throw new Error(`coe_a[${n}] is not a number`);n=_s(n);let f=Oi(e,"useCnLeq");fs(f)||(f=!1);let c=null;da(o)&&da(s)&&da(l)&&(c=o+l*(1-n),c=Math.max(c,0));let p=null;da(c)&&da(i)&&(p=c-i,p=Math.max(p,0));let h=null;da(p)&&da(l)&&p>0&&(h=(l-s)/p);let d=null;da(c)&&da(a)&&c>0&&(d=a/c*100,d=Math.max(d,0));let v=null;da(p)&&da(u)&&u>0&&(v=p/u,v=Math.max(v,0));let g=null;da(p)&&da(a)&&p>0&&(g=a/p*100,g=Math.max(g,0));let m=null;da(v)&&da(g)&&v>0&&g>0&&(m=Math.sqrt((3.47-Math.log10(v))**2+(Math.log10(g)+1.22)**2));let y=wc(p,g,u,{useCnLeq:f}),w=Oi(y,"Icn",null),b=Oi(y,"Qtn",null),$=pc.csfIc(m),x=pc.csfIc(w),S=pc.csfRobBqqt(h,c),_=pc.csfRobRfqt(d,c),j=pc.csfRobBqQt(h,v),E=pc.csfRobFrQt(g,v),M=pc.csfRobBqQt(h,b),q=pc.csfRobFrQt(g,b),R=pc.csfRamBqQt(h,v),O=pc.csfRamFrQt(g,v),D=t($,"int"),N=t(x,"int"),C=t(S,"int"),k=t(_,"int"),P=t(j,"int"),A=t(E,"int"),z=t(M,"int"),F=t(q,"int"),L=t(R,"int"),I=t(O,"int");return vc(vc({},r),{},{sv:i,svp:u,qc:o,fs:a,u0:s,u2:l,qt:c,qnet:p,Bq:h,Qt:v,Qtn:b,Rf:d,Fr:g,Ic:m,Icn:w,iIc:D,iIcn:N,iRobBqqt:C,iRobRfqt:k,iRobBqQt:P,iRobFrQt:A,iRobBqQtn:z,iRobFrQtn:F,iRamBqQt:L,iRamFrQt:I})}var $c={basic:gc,smooth:mc,stress:yc,calcCpt:function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=Oi(n,"coe_a");return ps(e)||(e=.8),e=_s(e),r=yc(r=mc(r=gc(r=ca(r)),n),n),r=cu(r,(r=>bc(r,e)))},calcCptCore:bc};var xc=Array.prototype.join;var Sc,_c,jc=function(r,n){return null==r?"":xc.call(r,n)},Ec=9e15,Mc=1e9,qc="0123456789abcdef",Rc="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Oc="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Dc={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Ec,maxE:Ec,crypto:!1},Nc=!0,Cc="[DecimalError] ",kc=Cc+"Invalid argument: ",Pc=Cc+"Precision limit exceeded",Ac=Cc+"crypto unavailable",zc="[object Decimal]",Fc=Math.floor,Lc=Math.pow,Ic=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Uc=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Tc=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Gc=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bc=1e7,Qc=7,Vc=Rc.length-1,Zc=Oc.length-1,Hc={toStringTag:zc};
/*!
   *  decimal.js v10.4.3
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   */function Wc(r){var n,e,t,i=r.length-1,u="",o=r[0];if(i>0){for(u+=o,n=1;n<i;n++)t=r[n]+"",(e=Qc-t.length)&&(u+=op(e)),u+=t;o=r[n],(e=Qc-(t=o+"").length)&&(u+=op(e))}else if(0===o)return"0";for(;o%10==0;)o/=10;return u+o}function Yc(r,n,e){if(r!==~~r||r<n||r>e)throw Error(kc+r)}function Kc(r,n,e,t){var i,u,o,a;for(u=r[0];u>=10;u/=10)--n;return--n<0?(n+=Qc,i=0):(i=Math.ceil((n+1)/Qc),n%=Qc),u=Lc(10,Qc-n),a=r[i]%u|0,null==t?n<3?(0==n?a=a/100|0:1==n&&(a=a/10|0),o=e<4&&99999==a||e>3&&49999==a||5e4==a||0==a):o=(e<4&&a+1==u||e>3&&a+1==u/2)&&(r[i+1]/u/100|0)==Lc(10,n-2)-1||(a==u/2||0==a)&&0==(r[i+1]/u/100|0):n<4?(0==n?a=a/1e3|0:1==n?a=a/100|0:2==n&&(a=a/10|0),o=(t||e<4)&&9999==a||!t&&e>3&&4999==a):o=((t||e<4)&&a+1==u||!t&&e>3&&a+1==u/2)&&(r[i+1]/u/1e3|0)==Lc(10,n-3)-1,o}function Jc(r,n,e){for(var t,i,u=[0],o=0,a=r.length;o<a;){for(i=u.length;i--;)u[i]*=n;for(u[0]+=qc.indexOf(r.charAt(o++)),t=0;t<u.length;t++)u[t]>e-1&&(void 0===u[t+1]&&(u[t+1]=0),u[t+1]+=u[t]/e|0,u[t]%=e)}return u.reverse()}Hc.absoluteValue=Hc.abs=function(){var r=new this.constructor(this);return r.s<0&&(r.s=1),rp(r)},Hc.ceil=function(){return rp(new this.constructor(this),this.e+1,2)},Hc.clampedTo=Hc.clamp=function(r,n){var e=this,t=e.constructor;if(r=new t(r),n=new t(n),!r.s||!n.s)return new t(NaN);if(r.gt(n))throw Error(kc+n);return e.cmp(r)<0?r:e.cmp(n)>0?n:new t(e)},Hc.comparedTo=Hc.cmp=function(r){var n,e,t,i,u=this,o=u.d,a=(r=new u.constructor(r)).d,s=u.s,l=r.s;if(!o||!a)return s&&l?s!==l?s:o===a?0:!o^s<0?1:-1:NaN;if(!o[0]||!a[0])return o[0]?s:a[0]?-l:0;if(s!==l)return s;if(u.e!==r.e)return u.e>r.e^s<0?1:-1;for(n=0,e=(t=o.length)<(i=a.length)?t:i;n<e;++n)if(o[n]!==a[n])return o[n]>a[n]^s<0?1:-1;return t===i?0:t>i^s<0?1:-1},Hc.cosine=Hc.cos=function(){var r,n,e=this,t=e.constructor;return e.d?e.d[0]?(r=t.precision,n=t.rounding,t.precision=r+Math.max(e.e,e.sd())+Qc,t.rounding=1,e=function(r,n){var e,t,i;if(n.isZero())return n;t=n.d.length,t<32?i=(1/gp(4,e=Math.ceil(t/3))).toString():(e=16,i="2.3283064365386962890625e-10");r.precision+=e,n=vp(r,1,n.times(i),new r(1));for(var u=e;u--;){var o=n.times(n);n=o.times(o).minus(o).times(8).plus(1)}return r.precision-=e,n}(t,mp(t,e)),t.precision=r,t.rounding=n,rp(2==_c||3==_c?e.neg():e,r,n,!0)):new t(1):new t(NaN)},Hc.cubeRoot=Hc.cbrt=function(){var r,n,e,t,i,u,o,a,s,l,f=this,c=f.constructor;if(!f.isFinite()||f.isZero())return new c(f);for(Nc=!1,(u=f.s*Lc(f.s*f,1/3))&&Math.abs(u)!=1/0?t=new c(u.toString()):(e=Wc(f.d),(u=((r=f.e)-e.length+1)%3)&&(e+=1==u||-2==u?"0":"00"),u=Lc(e,1/3),r=Fc((r+1)/3)-(r%3==(r<0?-1:2)),(t=new c(e=u==1/0?"5e"+r:(e=u.toExponential()).slice(0,e.indexOf("e")+1)+r)).s=f.s),o=(r=c.precision)+3;;)if(l=(s=(a=t).times(a).times(a)).plus(f),t=Xc(l.plus(f).times(a),l.plus(s),o+2,1),Wc(a.d).slice(0,o)===(e=Wc(t.d)).slice(0,o)){if("9999"!=(e=e.slice(o-3,o+1))&&(i||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(rp(t,r+1,1),n=!t.times(t).times(t).eq(f));break}if(!i&&(rp(a,r+1,0),a.times(a).times(a).eq(f))){t=a;break}o+=4,i=1}return Nc=!0,rp(t,r,c.rounding,n)},Hc.decimalPlaces=Hc.dp=function(){var r,n=this.d,e=NaN;if(n){if(e=((r=n.length-1)-Fc(this.e/Qc))*Qc,r=n[r])for(;r%10==0;r/=10)e--;e<0&&(e=0)}return e},Hc.dividedBy=Hc.div=function(r){return Xc(this,new this.constructor(r))},Hc.dividedToIntegerBy=Hc.divToInt=function(r){var n=this.constructor;return rp(Xc(this,new n(r),0,1,1),n.precision,n.rounding)},Hc.equals=Hc.eq=function(r){return 0===this.cmp(r)},Hc.floor=function(){return rp(new this.constructor(this),this.e+1,3)},Hc.greaterThan=Hc.gt=function(r){return this.cmp(r)>0},Hc.greaterThanOrEqualTo=Hc.gte=function(r){var n=this.cmp(r);return 1==n||0===n},Hc.hyperbolicCosine=Hc.cosh=function(){var r,n,e,t,i,u=this,o=u.constructor,a=new o(1);if(!u.isFinite())return new o(u.s?1/0:NaN);if(u.isZero())return a;e=o.precision,t=o.rounding,o.precision=e+Math.max(u.e,u.sd())+4,o.rounding=1,(i=u.d.length)<32?n=(1/gp(4,r=Math.ceil(i/3))).toString():(r=16,n="2.3283064365386962890625e-10"),u=vp(o,1,u.times(n),new o(1),!0);for(var s,l=r,f=new o(8);l--;)s=u.times(u),u=a.minus(s.times(f.minus(s.times(f))));return rp(u,o.precision=e,o.rounding=t,!0)},Hc.hyperbolicSine=Hc.sinh=function(){var r,n,e,t,i=this,u=i.constructor;if(!i.isFinite()||i.isZero())return new u(i);if(n=u.precision,e=u.rounding,u.precision=n+Math.max(i.e,i.sd())+4,u.rounding=1,(t=i.d.length)<3)i=vp(u,2,i,i,!0);else{r=(r=1.4*Math.sqrt(t))>16?16:0|r,i=vp(u,2,i=i.times(1/gp(5,r)),i,!0);for(var o,a=new u(5),s=new u(16),l=new u(20);r--;)o=i.times(i),i=i.times(a.plus(o.times(s.times(o).plus(l))))}return u.precision=n,u.rounding=e,rp(i,n,e,!0)},Hc.hyperbolicTangent=Hc.tanh=function(){var r,n,e=this,t=e.constructor;return e.isFinite()?e.isZero()?new t(e):(r=t.precision,n=t.rounding,t.precision=r+7,t.rounding=1,Xc(e.sinh(),e.cosh(),t.precision=r,t.rounding=n)):new t(e.s)},Hc.inverseCosine=Hc.acos=function(){var r,n=this,e=n.constructor,t=n.abs().cmp(1),i=e.precision,u=e.rounding;return-1!==t?0===t?n.isNeg()?ip(e,i,u):new e(0):new e(NaN):n.isZero()?ip(e,i+4,u).times(.5):(e.precision=i+6,e.rounding=1,n=n.asin(),r=ip(e,i+4,u).times(.5),e.precision=i,e.rounding=u,r.minus(n))},Hc.inverseHyperbolicCosine=Hc.acosh=function(){var r,n,e=this,t=e.constructor;return e.lte(1)?new t(e.eq(1)?0:NaN):e.isFinite()?(r=t.precision,n=t.rounding,t.precision=r+Math.max(Math.abs(e.e),e.sd())+4,t.rounding=1,Nc=!1,e=e.times(e).minus(1).sqrt().plus(e),Nc=!0,t.precision=r,t.rounding=n,e.ln()):new t(e)},Hc.inverseHyperbolicSine=Hc.asinh=function(){var r,n,e=this,t=e.constructor;return!e.isFinite()||e.isZero()?new t(e):(r=t.precision,n=t.rounding,t.precision=r+2*Math.max(Math.abs(e.e),e.sd())+6,t.rounding=1,Nc=!1,e=e.times(e).plus(1).sqrt().plus(e),Nc=!0,t.precision=r,t.rounding=n,e.ln())},Hc.inverseHyperbolicTangent=Hc.atanh=function(){var r,n,e,t,i=this,u=i.constructor;return i.isFinite()?i.e>=0?new u(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(r=u.precision,n=u.rounding,t=i.sd(),Math.max(t,r)<2*-i.e-1?rp(new u(i),r,n,!0):(u.precision=e=t-i.e,i=Xc(i.plus(1),new u(1).minus(i),e+r,1),u.precision=r+4,u.rounding=1,i=i.ln(),u.precision=r,u.rounding=n,i.times(.5))):new u(NaN)},Hc.inverseSine=Hc.asin=function(){var r,n,e,t,i=this,u=i.constructor;return i.isZero()?new u(i):(n=i.abs().cmp(1),e=u.precision,t=u.rounding,-1!==n?0===n?((r=ip(u,e+4,t).times(.5)).s=i.s,r):new u(NaN):(u.precision=e+6,u.rounding=1,i=i.div(new u(1).minus(i.times(i)).sqrt().plus(1)).atan(),u.precision=e,u.rounding=t,i.times(2)))},Hc.inverseTangent=Hc.atan=function(){var r,n,e,t,i,u,o,a,s,l=this,f=l.constructor,c=f.precision,p=f.rounding;if(l.isFinite()){if(l.isZero())return new f(l);if(l.abs().eq(1)&&c+4<=Zc)return(o=ip(f,c+4,p).times(.25)).s=l.s,o}else{if(!l.s)return new f(NaN);if(c+4<=Zc)return(o=ip(f,c+4,p).times(.5)).s=l.s,o}for(f.precision=a=c+10,f.rounding=1,r=e=Math.min(28,a/Qc+2|0);r;--r)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(Nc=!1,n=Math.ceil(a/Qc),t=1,s=l.times(l),o=new f(l),i=l;-1!==r;)if(i=i.times(s),u=o.minus(i.div(t+=2)),i=i.times(s),void 0!==(o=u.plus(i.div(t+=2))).d[n])for(r=n;o.d[r]===u.d[r]&&r--;);return e&&(o=o.times(2<<e-1)),Nc=!0,rp(o,f.precision=c,f.rounding=p,!0)},Hc.isFinite=function(){return!!this.d},Hc.isInteger=Hc.isInt=function(){return!!this.d&&Fc(this.e/Qc)>this.d.length-2},Hc.isNaN=function(){return!this.s},Hc.isNegative=Hc.isNeg=function(){return this.s<0},Hc.isPositive=Hc.isPos=function(){return this.s>0},Hc.isZero=function(){return!!this.d&&0===this.d[0]},Hc.lessThan=Hc.lt=function(r){return this.cmp(r)<0},Hc.lessThanOrEqualTo=Hc.lte=function(r){return this.cmp(r)<1},Hc.logarithm=Hc.log=function(r){var n,e,t,i,u,o,a,s,l=this,f=l.constructor,c=f.precision,p=f.rounding;if(null==r)r=new f(10),n=!0;else{if(e=(r=new f(r)).d,r.s<0||!e||!e[0]||r.eq(1))return new f(NaN);n=r.eq(10)}if(e=l.d,l.s<0||!e||!e[0]||l.eq(1))return new f(e&&!e[0]?-1/0:1!=l.s?NaN:e?0:1/0);if(n)if(e.length>1)u=!0;else{for(i=e[0];i%10==0;)i/=10;u=1!==i}if(Nc=!1,o=cp(l,a=c+5),t=n?tp(f,a+10):cp(r,a),Kc((s=Xc(o,t,a,1)).d,i=c,p))do{if(o=cp(l,a+=10),t=n?tp(f,a+10):cp(r,a),s=Xc(o,t,a,1),!u){+Wc(s.d).slice(i+1,i+15)+1==1e14&&(s=rp(s,c+1,0));break}}while(Kc(s.d,i+=10,p));return Nc=!0,rp(s,c,p)},Hc.minus=Hc.sub=function(r){var n,e,t,i,u,o,a,s,l,f,c,p,h=this,d=h.constructor;if(r=new d(r),!h.d||!r.d)return h.s&&r.s?h.d?r.s=-r.s:r=new d(r.d||h.s!==r.s?h:NaN):r=new d(NaN),r;if(h.s!=r.s)return r.s=-r.s,h.plus(r);if(l=h.d,p=r.d,a=d.precision,s=d.rounding,!l[0]||!p[0]){if(p[0])r.s=-r.s;else{if(!l[0])return new d(3===s?-0:0);r=new d(h)}return Nc?rp(r,a,s):r}if(e=Fc(r.e/Qc),f=Fc(h.e/Qc),l=l.slice(),u=f-e){for((c=u<0)?(n=l,u=-u,o=p.length):(n=p,e=f,o=l.length),u>(t=Math.max(Math.ceil(a/Qc),o)+2)&&(u=t,n.length=1),n.reverse(),t=u;t--;)n.push(0);n.reverse()}else{for((c=(t=l.length)<(o=p.length))&&(o=t),t=0;t<o;t++)if(l[t]!=p[t]){c=l[t]<p[t];break}u=0}for(c&&(n=l,l=p,p=n,r.s=-r.s),o=l.length,t=p.length-o;t>0;--t)l[o++]=0;for(t=p.length;t>u;){if(l[--t]<p[t]){for(i=t;i&&0===l[--i];)l[i]=Bc-1;--l[i],l[t]+=Bc}l[t]-=p[t]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--e;return l[0]?(r.d=l,r.e=ep(l,e),Nc?rp(r,a,s):r):new d(3===s?-0:0)},Hc.modulo=Hc.mod=function(r){var n,e=this,t=e.constructor;return r=new t(r),!e.d||!r.s||r.d&&!r.d[0]?new t(NaN):!r.d||e.d&&!e.d[0]?rp(new t(e),t.precision,t.rounding):(Nc=!1,9==t.modulo?(n=Xc(e,r.abs(),0,3,1)).s*=r.s:n=Xc(e,r,0,t.modulo,1),n=n.times(r),Nc=!0,e.minus(n))},Hc.naturalExponential=Hc.exp=function(){return fp(this)},Hc.naturalLogarithm=Hc.ln=function(){return cp(this)},Hc.negated=Hc.neg=function(){var r=new this.constructor(this);return r.s=-r.s,rp(r)},Hc.plus=Hc.add=function(r){var n,e,t,i,u,o,a,s,l,f,c=this,p=c.constructor;if(r=new p(r),!c.d||!r.d)return c.s&&r.s?c.d||(r=new p(r.d||c.s===r.s?c:NaN)):r=new p(NaN),r;if(c.s!=r.s)return r.s=-r.s,c.minus(r);if(l=c.d,f=r.d,a=p.precision,s=p.rounding,!l[0]||!f[0])return f[0]||(r=new p(c)),Nc?rp(r,a,s):r;if(u=Fc(c.e/Qc),t=Fc(r.e/Qc),l=l.slice(),i=u-t){for(i<0?(e=l,i=-i,o=f.length):(e=f,t=u,o=l.length),i>(o=(u=Math.ceil(a/Qc))>o?u+1:o+1)&&(i=o,e.length=1),e.reverse();i--;)e.push(0);e.reverse()}for((o=l.length)-(i=f.length)<0&&(i=o,e=f,f=l,l=e),n=0;i;)n=(l[--i]=l[i]+f[i]+n)/Bc|0,l[i]%=Bc;for(n&&(l.unshift(n),++t),o=l.length;0==l[--o];)l.pop();return r.d=l,r.e=ep(l,t),Nc?rp(r,a,s):r},Hc.precision=Hc.sd=function(r){var n,e=this;if(void 0!==r&&r!==!!r&&1!==r&&0!==r)throw Error(kc+r);return e.d?(n=up(e.d),r&&e.e+1>n&&(n=e.e+1)):n=NaN,n},Hc.round=function(){var r=this,n=r.constructor;return rp(new n(r),r.e+1,n.rounding)},Hc.sine=Hc.sin=function(){var r,n,e=this,t=e.constructor;return e.isFinite()?e.isZero()?new t(e):(r=t.precision,n=t.rounding,t.precision=r+Math.max(e.e,e.sd())+Qc,t.rounding=1,e=function(r,n){var e,t=n.d.length;if(t<3)return n.isZero()?n:vp(r,2,n,n);e=(e=1.4*Math.sqrt(t))>16?16:0|e,n=n.times(1/gp(5,e)),n=vp(r,2,n,n);for(var i,u=new r(5),o=new r(16),a=new r(20);e--;)i=n.times(n),n=n.times(u.plus(i.times(o.times(i).minus(a))));return n}(t,mp(t,e)),t.precision=r,t.rounding=n,rp(_c>2?e.neg():e,r,n,!0)):new t(NaN)},Hc.squareRoot=Hc.sqrt=function(){var r,n,e,t,i,u,o=this,a=o.d,s=o.e,l=o.s,f=o.constructor;if(1!==l||!a||!a[0])return new f(!l||l<0&&(!a||a[0])?NaN:a?o:1/0);for(Nc=!1,0==(l=Math.sqrt(+o))||l==1/0?(((n=Wc(a)).length+s)%2==0&&(n+="0"),l=Math.sqrt(n),s=Fc((s+1)/2)-(s<0||s%2),t=new f(n=l==1/0?"5e"+s:(n=l.toExponential()).slice(0,n.indexOf("e")+1)+s)):t=new f(l.toString()),e=(s=f.precision)+3;;)if(t=(u=t).plus(Xc(o,u,e+2,1)).times(.5),Wc(u.d).slice(0,e)===(n=Wc(t.d)).slice(0,e)){if("9999"!=(n=n.slice(e-3,e+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(rp(t,s+1,1),r=!t.times(t).eq(o));break}if(!i&&(rp(u,s+1,0),u.times(u).eq(o))){t=u;break}e+=4,i=1}return Nc=!0,rp(t,s,f.rounding,r)},Hc.tangent=Hc.tan=function(){var r,n,e=this,t=e.constructor;return e.isFinite()?e.isZero()?new t(e):(r=t.precision,n=t.rounding,t.precision=r+10,t.rounding=1,(e=e.sin()).s=1,e=Xc(e,new t(1).minus(e.times(e)).sqrt(),r+10,0),t.precision=r,t.rounding=n,rp(2==_c||4==_c?e.neg():e,r,n,!0)):new t(NaN)},Hc.times=Hc.mul=function(r){var n,e,t,i,u,o,a,s,l,f=this,c=f.constructor,p=f.d,h=(r=new c(r)).d;if(r.s*=f.s,!(p&&p[0]&&h&&h[0]))return new c(!r.s||p&&!p[0]&&!h||h&&!h[0]&&!p?NaN:p&&h?0*r.s:r.s/0);for(e=Fc(f.e/Qc)+Fc(r.e/Qc),(s=p.length)<(l=h.length)&&(u=p,p=h,h=u,o=s,s=l,l=o),u=[],t=o=s+l;t--;)u.push(0);for(t=l;--t>=0;){for(n=0,i=s+t;i>t;)a=u[i]+h[t]*p[i-t-1]+n,u[i--]=a%Bc|0,n=a/Bc|0;u[i]=(u[i]+n)%Bc|0}for(;!u[--o];)u.pop();return n?++e:u.shift(),r.d=u,r.e=ep(u,e),Nc?rp(r,c.precision,c.rounding):r},Hc.toBinary=function(r,n){return yp(this,2,r,n)},Hc.toDecimalPlaces=Hc.toDP=function(r,n){var e=this,t=e.constructor;return e=new t(e),void 0===r?e:(Yc(r,0,Mc),void 0===n?n=t.rounding:Yc(n,0,8),rp(e,r+e.e+1,n))},Hc.toExponential=function(r,n){var e,t=this,i=t.constructor;return void 0===r?e=np(t,!0):(Yc(r,0,Mc),void 0===n?n=i.rounding:Yc(n,0,8),e=np(t=rp(new i(t),r+1,n),!0,r+1)),t.isNeg()&&!t.isZero()?"-"+e:e},Hc.toFixed=function(r,n){var e,t,i=this,u=i.constructor;return void 0===r?e=np(i):(Yc(r,0,Mc),void 0===n?n=u.rounding:Yc(n,0,8),e=np(t=rp(new u(i),r+i.e+1,n),!1,r+t.e+1)),i.isNeg()&&!i.isZero()?"-"+e:e},Hc.toFraction=function(r){var n,e,t,i,u,o,a,s,l,f,c,p,h=this,d=h.d,v=h.constructor;if(!d)return new v(h);if(l=e=new v(1),t=s=new v(0),o=(u=(n=new v(t)).e=up(d)-h.e-1)%Qc,n.d[0]=Lc(10,o<0?Qc+o:o),null==r)r=u>0?n:l;else{if(!(a=new v(r)).isInt()||a.lt(l))throw Error(kc+a);r=a.gt(n)?u>0?n:l:a}for(Nc=!1,a=new v(Wc(d)),f=v.precision,v.precision=u=d.length*Qc*2;c=Xc(a,n,0,1,1),1!=(i=e.plus(c.times(t))).cmp(r);)e=t,t=i,i=l,l=s.plus(c.times(i)),s=i,i=n,n=a.minus(c.times(i)),a=i;return i=Xc(r.minus(e),t,0,1,1),s=s.plus(i.times(l)),e=e.plus(i.times(t)),s.s=l.s=h.s,p=Xc(l,t,u,1).minus(h).abs().cmp(Xc(s,e,u,1).minus(h).abs())<1?[l,t]:[s,e],v.precision=f,Nc=!0,p},Hc.toHexadecimal=Hc.toHex=function(r,n){return yp(this,16,r,n)},Hc.toNearest=function(r,n){var e=this,t=e.constructor;if(e=new t(e),null==r){if(!e.d)return e;r=new t(1),n=t.rounding}else{if(r=new t(r),void 0===n?n=t.rounding:Yc(n,0,8),!e.d)return r.s?e:r;if(!r.d)return r.s&&(r.s=e.s),r}return r.d[0]?(Nc=!1,e=Xc(e,r,0,n,1).times(r),Nc=!0,rp(e)):(r.s=e.s,e=r),e},Hc.toNumber=function(){return+this},Hc.toOctal=function(r,n){return yp(this,8,r,n)},Hc.toPower=Hc.pow=function(r){var n,e,t,i,u,o,a=this,s=a.constructor,l=+(r=new s(r));if(!(a.d&&r.d&&a.d[0]&&r.d[0]))return new s(Lc(+a,l));if((a=new s(a)).eq(1))return a;if(t=s.precision,u=s.rounding,r.eq(1))return rp(a,t,u);if((n=Fc(r.e/Qc))>=r.d.length-1&&(e=l<0?-l:l)<=9007199254740991)return i=ap(s,a,e,t),r.s<0?new s(1).div(i):rp(i,t,u);if((o=a.s)<0){if(n<r.d.length-1)return new s(NaN);if(0==(1&r.d[n])&&(o=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=o,a}return(n=0!=(e=Lc(+a,l))&&isFinite(e)?new s(e+"").e:Fc(l*(Math.log("0."+Wc(a.d))/Math.LN10+a.e+1)))>s.maxE+1||n<s.minE-1?new s(n>0?o/0:0):(Nc=!1,s.rounding=a.s=1,e=Math.min(12,(n+"").length),(i=fp(r.times(cp(a,t+e)),t)).d&&Kc((i=rp(i,t+5,1)).d,t,u)&&(n=t+10,+Wc((i=rp(fp(r.times(cp(a,n+e)),n),n+5,1)).d).slice(t+1,t+15)+1==1e14&&(i=rp(i,t+1,0))),i.s=o,Nc=!0,s.rounding=u,rp(i,t,u))},Hc.toPrecision=function(r,n){var e,t=this,i=t.constructor;return void 0===r?e=np(t,t.e<=i.toExpNeg||t.e>=i.toExpPos):(Yc(r,1,Mc),void 0===n?n=i.rounding:Yc(n,0,8),e=np(t=rp(new i(t),r,n),r<=t.e||t.e<=i.toExpNeg,r)),t.isNeg()&&!t.isZero()?"-"+e:e},Hc.toSignificantDigits=Hc.toSD=function(r,n){var e=this.constructor;return void 0===r?(r=e.precision,n=e.rounding):(Yc(r,1,Mc),void 0===n?n=e.rounding:Yc(n,0,8)),rp(new e(this),r,n)},Hc.toString=function(){var r=this,n=r.constructor,e=np(r,r.e<=n.toExpNeg||r.e>=n.toExpPos);return r.isNeg()&&!r.isZero()?"-"+e:e},Hc.truncated=Hc.trunc=function(){return rp(new this.constructor(this),this.e+1,1)},Hc.valueOf=Hc.toJSON=function(){var r=this,n=r.constructor,e=np(r,r.e<=n.toExpNeg||r.e>=n.toExpPos);return r.isNeg()?"-"+e:e};var Xc=function(){function r(r,n,e){var t,i=0,u=r.length;for(r=r.slice();u--;)t=r[u]*n+i,r[u]=t%e|0,i=t/e|0;return i&&r.unshift(i),r}function n(r,n,e,t){var i,u;if(e!=t)u=e>t?1:-1;else for(i=u=0;i<e;i++)if(r[i]!=n[i]){u=r[i]>n[i]?1:-1;break}return u}function e(r,n,e,t){for(var i=0;e--;)r[e]-=i,i=r[e]<n[e]?1:0,r[e]=i*t+r[e]-n[e];for(;!r[0]&&r.length>1;)r.shift()}return function(t,i,u,o,a,s){var l,f,c,p,h,d,v,g,m,y,w,b,$,x,S,_,j,E,M,q,R=t.constructor,O=t.s==i.s?1:-1,D=t.d,N=i.d;if(!(D&&D[0]&&N&&N[0]))return new R(t.s&&i.s&&(D?!N||D[0]!=N[0]:N)?D&&0==D[0]||!N?0*O:O/0:NaN);for(s?(h=1,f=t.e-i.e):(s=Bc,h=Qc,f=Fc(t.e/h)-Fc(i.e/h)),M=N.length,j=D.length,y=(m=new R(O)).d=[],c=0;N[c]==(D[c]||0);c++);if(N[c]>(D[c]||0)&&f--,null==u?(x=u=R.precision,o=R.rounding):x=a?u+(t.e-i.e)+1:u,x<0)y.push(1),d=!0;else{if(x=x/h+2|0,c=0,1==M){for(p=0,N=N[0],x++;(c<j||p)&&x--;c++)S=p*s+(D[c]||0),y[c]=S/N|0,p=S%N|0;d=p||c<j}else{for((p=s/(N[0]+1)|0)>1&&(N=r(N,p,s),D=r(D,p,s),M=N.length,j=D.length),_=M,b=(w=D.slice(0,M)).length;b<M;)w[b++]=0;(q=N.slice()).unshift(0),E=N[0],N[1]>=s/2&&++E;do{p=0,(l=n(N,w,M,b))<0?($=w[0],M!=b&&($=$*s+(w[1]||0)),(p=$/E|0)>1?(p>=s&&(p=s-1),1==(l=n(v=r(N,p,s),w,g=v.length,b=w.length))&&(p--,e(v,M<g?q:N,g,s))):(0==p&&(l=p=1),v=N.slice()),(g=v.length)<b&&v.unshift(0),e(w,v,b,s),-1==l&&(l=n(N,w,M,b=w.length))<1&&(p++,e(w,M<b?q:N,b,s)),b=w.length):0===l&&(p++,w=[0]),y[c++]=p,l&&w[0]?w[b++]=D[_]||0:(w=[D[_]],b=1)}while((_++<j||void 0!==w[0])&&x--);d=void 0!==w[0]}y[0]||y.shift()}if(1==h)m.e=f,Sc=d;else{for(c=1,p=y[0];p>=10;p/=10)c++;m.e=c+f*h-1,rp(m,a?u+m.e+1:u,o,d)}return m}}();function rp(r,n,e,t){var i,u,o,a,s,l,f,c,p,h=r.constructor;r:if(null!=n){if(!(c=r.d))return r;for(i=1,a=c[0];a>=10;a/=10)i++;if((u=n-i)<0)u+=Qc,o=n,s=(f=c[p=0])/Lc(10,i-o-1)%10|0;else if((p=Math.ceil((u+1)/Qc))>=(a=c.length)){if(!t)break r;for(;a++<=p;)c.push(0);f=s=0,i=1,o=(u%=Qc)-Qc+1}else{for(f=a=c[p],i=1;a>=10;a/=10)i++;s=(o=(u%=Qc)-Qc+i)<0?0:f/Lc(10,i-o-1)%10|0}if(t=t||n<0||void 0!==c[p+1]||(o<0?f:f%Lc(10,i-o-1)),l=e<4?(s||t)&&(0==e||e==(r.s<0?3:2)):s>5||5==s&&(4==e||t||6==e&&(u>0?o>0?f/Lc(10,i-o):0:c[p-1])%10&1||e==(r.s<0?8:7)),n<1||!c[0])return c.length=0,l?(n-=r.e+1,c[0]=Lc(10,(Qc-n%Qc)%Qc),r.e=-n||0):c[0]=r.e=0,r;if(0==u?(c.length=p,a=1,p--):(c.length=p+1,a=Lc(10,Qc-u),c[p]=o>0?(f/Lc(10,i-o)%Lc(10,o)|0)*a:0),l)for(;;){if(0==p){for(u=1,o=c[0];o>=10;o/=10)u++;for(o=c[0]+=a,a=1;o>=10;o/=10)a++;u!=a&&(r.e++,c[0]==Bc&&(c[0]=1));break}if(c[p]+=a,c[p]!=Bc)break;c[p--]=0,a=1}for(u=c.length;0===c[--u];)c.pop()}return Nc&&(r.e>h.maxE?(r.d=null,r.e=NaN):r.e<h.minE&&(r.e=0,r.d=[0])),r}function np(r,n,e){if(!r.isFinite())return pp(r);var t,i=r.e,u=Wc(r.d),o=u.length;return n?(e&&(t=e-o)>0?u=u.charAt(0)+"."+u.slice(1)+op(t):o>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(r.e<0?"e":"e+")+r.e):i<0?(u="0."+op(-i-1)+u,e&&(t=e-o)>0&&(u+=op(t))):i>=o?(u+=op(i+1-o),e&&(t=e-i-1)>0&&(u=u+"."+op(t))):((t=i+1)<o&&(u=u.slice(0,t)+"."+u.slice(t)),e&&(t=e-o)>0&&(i+1===o&&(u+="."),u+=op(t))),u}function ep(r,n){var e=r[0];for(n*=Qc;e>=10;e/=10)n++;return n}function tp(r,n,e){if(n>Vc)throw Nc=!0,e&&(r.precision=e),Error(Pc);return rp(new r(Rc),n,1,!0)}function ip(r,n,e){if(n>Zc)throw Error(Pc);return rp(new r(Oc),n,e,!0)}function up(r){var n=r.length-1,e=n*Qc+1;if(n=r[n]){for(;n%10==0;n/=10)e--;for(n=r[0];n>=10;n/=10)e++}return e}function op(r){for(var n="";r--;)n+="0";return n}function ap(r,n,e,t){var i,u=new r(1),o=Math.ceil(t/Qc+4);for(Nc=!1;;){if(e%2&&wp((u=u.times(n)).d,o)&&(i=!0),0===(e=Fc(e/2))){e=u.d.length-1,i&&0===u.d[e]&&++u.d[e];break}wp((n=n.times(n)).d,o)}return Nc=!0,u}function sp(r){return 1&r.d[r.d.length-1]}function lp(r,n,e){for(var t,i=new r(n[0]),u=0;++u<n.length;){if(!(t=new r(n[u])).s){i=t;break}i[e](t)&&(i=t)}return i}function fp(r,n){var e,t,i,u,o,a,s,l=0,f=0,c=0,p=r.constructor,h=p.rounding,d=p.precision;if(!r.d||!r.d[0]||r.e>17)return new p(r.d?r.d[0]?r.s<0?0:1/0:1:r.s?r.s<0?0:r:NaN);for(null==n?(Nc=!1,s=d):s=n,a=new p(.03125);r.e>-2;)r=r.times(a),c+=5;for(s+=t=Math.log(Lc(2,c))/Math.LN10*2+5|0,e=u=o=new p(1),p.precision=s;;){if(u=rp(u.times(r),s,1),e=e.times(++f),Wc((a=o.plus(Xc(u,e,s,1))).d).slice(0,s)===Wc(o.d).slice(0,s)){for(i=c;i--;)o=rp(o.times(o),s,1);if(null!=n)return p.precision=d,o;if(!(l<3&&Kc(o.d,s-t,h,l)))return rp(o,p.precision=d,h,Nc=!0);p.precision=s+=10,e=u=a=new p(1),f=0,l++}o=a}}function cp(r,n){var e,t,i,u,o,a,s,l,f,c,p,h=1,d=r,v=d.d,g=d.constructor,m=g.rounding,y=g.precision;if(d.s<0||!v||!v[0]||!d.e&&1==v[0]&&1==v.length)return new g(v&&!v[0]?-1/0:1!=d.s?NaN:v?0:d);if(null==n?(Nc=!1,f=y):f=n,g.precision=f+=10,t=(e=Wc(v)).charAt(0),!(Math.abs(u=d.e)<15e14))return l=tp(g,f+2,y).times(u+""),d=cp(new g(t+"."+e.slice(1)),f-10).plus(l),g.precision=y,null==n?rp(d,y,m,Nc=!0):d;for(;t<7&&1!=t||1==t&&e.charAt(1)>3;)t=(e=Wc((d=d.times(r)).d)).charAt(0),h++;for(u=d.e,t>1?(d=new g("0."+e),u++):d=new g(t+"."+e.slice(1)),c=d,s=o=d=Xc(d.minus(1),d.plus(1),f,1),p=rp(d.times(d),f,1),i=3;;){if(o=rp(o.times(p),f,1),Wc((l=s.plus(Xc(o,new g(i),f,1))).d).slice(0,f)===Wc(s.d).slice(0,f)){if(s=s.times(2),0!==u&&(s=s.plus(tp(g,f+2,y).times(u+""))),s=Xc(s,new g(h),f,1),null!=n)return g.precision=y,s;if(!Kc(s.d,f-10,m,a))return rp(s,g.precision=y,m,Nc=!0);g.precision=f+=10,l=o=d=Xc(c.minus(1),c.plus(1),f,1),p=rp(d.times(d),f,1),i=a=1}s=l,i+=2}}function pp(r){return String(r.s*r.s/0)}function hp(r,n){var e,t,i;for((e=n.indexOf("."))>-1&&(n=n.replace(".","")),(t=n.search(/e/i))>0?(e<0&&(e=t),e+=+n.slice(t+1),n=n.substring(0,t)):e<0&&(e=n.length),t=0;48===n.charCodeAt(t);t++);for(i=n.length;48===n.charCodeAt(i-1);--i);if(n=n.slice(t,i)){if(i-=t,r.e=e=e-t-1,r.d=[],t=(e+1)%Qc,e<0&&(t+=Qc),t<i){for(t&&r.d.push(+n.slice(0,t)),i-=Qc;t<i;)r.d.push(+n.slice(t,t+=Qc));n=n.slice(t),t=Qc-n.length}else t-=i;for(;t--;)n+="0";r.d.push(+n),Nc&&(r.e>r.constructor.maxE?(r.d=null,r.e=NaN):r.e<r.constructor.minE&&(r.e=0,r.d=[0]))}else r.e=0,r.d=[0];return r}function dp(r,n){var e,t,i,u,o,a,s,l,f;if(n.indexOf("_")>-1){if(n=n.replace(/(\d)_(?=\d)/g,"$1"),Gc.test(n))return hp(r,n)}else if("Infinity"===n||"NaN"===n)return+n||(r.s=NaN),r.e=NaN,r.d=null,r;if(Uc.test(n))e=16,n=n.toLowerCase();else if(Ic.test(n))e=2;else{if(!Tc.test(n))throw Error(kc+n);e=8}for((u=n.search(/p/i))>0?(s=+n.slice(u+1),n=n.substring(2,u)):n=n.slice(2),o=(u=n.indexOf("."))>=0,t=r.constructor,o&&(u=(a=(n=n.replace(".","")).length)-u,i=ap(t,new t(e),u,2*u)),u=f=(l=Jc(n,e,Bc)).length-1;0===l[u];--u)l.pop();return u<0?new t(0*r.s):(r.e=ep(l,f),r.d=l,Nc=!1,o&&(r=Xc(r,i,4*a)),s&&(r=r.times(Math.abs(s)<54?Lc(2,s):oh.pow(2,s))),Nc=!0,r)}function vp(r,n,e,t,i){var u,o,a,s,l=r.precision,f=Math.ceil(l/Qc);for(Nc=!1,s=e.times(e),a=new r(t);;){if(o=Xc(a.times(s),new r(n++*n++),l,1),a=i?t.plus(o):t.minus(o),t=Xc(o.times(s),new r(n++*n++),l,1),void 0!==(o=a.plus(t)).d[f]){for(u=f;o.d[u]===a.d[u]&&u--;);if(-1==u)break}u=a,a=t,t=o,o=u}return Nc=!0,o.d.length=f+1,o}function gp(r,n){for(var e=r;--n;)e*=r;return e}function mp(r,n){var e,t=n.s<0,i=ip(r,r.precision,1),u=i.times(.5);if((n=n.abs()).lte(u))return _c=t?4:1,n;if((e=n.divToInt(i)).isZero())_c=t?3:2;else{if((n=n.minus(e.times(i))).lte(u))return _c=sp(e)?t?2:3:t?4:1,n;_c=sp(e)?t?1:4:t?3:2}return n.minus(i).abs()}function yp(r,n,e,t){var i,u,o,a,s,l,f,c,p,h=r.constructor,d=void 0!==e;if(d?(Yc(e,1,Mc),void 0===t?t=h.rounding:Yc(t,0,8)):(e=h.precision,t=h.rounding),r.isFinite()){for(d?(i=2,16==n?e=4*e-3:8==n&&(e=3*e-2)):i=n,(o=(f=np(r)).indexOf("."))>=0&&(f=f.replace(".",""),(p=new h(1)).e=f.length-o,p.d=Jc(np(p),10,i),p.e=p.d.length),u=s=(c=Jc(f,10,i)).length;0==c[--s];)c.pop();if(c[0]){if(o<0?u--:((r=new h(r)).d=c,r.e=u,c=(r=Xc(r,p,e,t,0,i)).d,u=r.e,l=Sc),o=c[e],a=i/2,l=l||void 0!==c[e+1],l=t<4?(void 0!==o||l)&&(0===t||t===(r.s<0?3:2)):o>a||o===a&&(4===t||l||6===t&&1&c[e-1]||t===(r.s<0?8:7)),c.length=e,l)for(;++c[--e]>i-1;)c[e]=0,e||(++u,c.unshift(1));for(s=c.length;!c[s-1];--s);for(o=0,f="";o<s;o++)f+=qc.charAt(c[o]);if(d){if(s>1)if(16==n||8==n){for(o=16==n?4:3,--s;s%o;s++)f+="0";for(s=(c=Jc(f,i,n)).length;!c[s-1];--s);for(o=1,f="1.";o<s;o++)f+=qc.charAt(c[o])}else f=f.charAt(0)+"."+f.slice(1);f=f+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)f="0"+f;f="0."+f}else if(++u>s)for(u-=s;u--;)f+="0";else u<s&&(f=f.slice(0,u)+"."+f.slice(u))}else f=d?"0p+0":"0";f=(16==n?"0x":2==n?"0b":8==n?"0o":"")+f}else f=pp(r);return r.s<0?"-"+f:f}function wp(r,n){if(r.length>n)return r.length=n,!0}function bp(r){return new this(r).abs()}function $p(r){return new this(r).acos()}function xp(r){return new this(r).acosh()}function Sp(r,n){return new this(r).plus(n)}function _p(r){return new this(r).asin()}function jp(r){return new this(r).asinh()}function Ep(r){return new this(r).atan()}function Mp(r){return new this(r).atanh()}function qp(r,n){r=new this(r),n=new this(n);var e,t=this.precision,i=this.rounding,u=t+4;return r.s&&n.s?r.d||n.d?!n.d||r.isZero()?(e=n.s<0?ip(this,t,i):new this(0)).s=r.s:!r.d||n.isZero()?(e=ip(this,u,1).times(.5)).s=r.s:n.s<0?(this.precision=u,this.rounding=1,e=this.atan(Xc(r,n,u,1)),n=ip(this,u,1),this.precision=t,this.rounding=i,e=r.s<0?e.minus(n):e.plus(n)):e=this.atan(Xc(r,n,u,1)):(e=ip(this,u,1).times(n.s>0?.25:.75)).s=r.s:e=new this(NaN),e}function Rp(r){return new this(r).cbrt()}function Op(r){return rp(r=new this(r),r.e+1,2)}function Dp(r,n,e){return new this(r).clamp(n,e)}function Np(r){if(!r||"object"!=typeof r)throw Error(Cc+"Object expected");var n,e,t,i=!0===r.defaults,u=["precision",1,Mc,"rounding",0,8,"toExpNeg",-Ec,0,"toExpPos",0,Ec,"maxE",0,Ec,"minE",-Ec,0,"modulo",0,9];for(n=0;n<u.length;n+=3)if(e=u[n],i&&(this[e]=Dc[e]),void 0!==(t=r[e])){if(!(Fc(t)===t&&t>=u[n+1]&&t<=u[n+2]))throw Error(kc+e+": "+t);this[e]=t}if(e="crypto",i&&(this[e]=Dc[e]),void 0!==(t=r[e])){if(!0!==t&&!1!==t&&0!==t&&1!==t)throw Error(kc+e+": "+t);if(t){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(Ac);this[e]=!0}else this[e]=!1}return this}function Cp(r){return new this(r).cos()}function kp(r){return new this(r).cosh()}function Pp(r,n){return new this(r).div(n)}function Ap(r){return new this(r).exp()}function zp(r){return rp(r=new this(r),r.e+1,3)}function Fp(){var r,n,e=new this(0);for(Nc=!1,r=0;r<arguments.length;)if((n=new this(arguments[r++])).d)e.d&&(e=e.plus(n.times(n)));else{if(n.s)return Nc=!0,new this(1/0);e=n}return Nc=!0,e.sqrt()}function Lp(r){return r instanceof oh||r&&r.toStringTag===zc||!1}function Ip(r){return new this(r).ln()}function Up(r,n){return new this(r).log(n)}function Tp(r){return new this(r).log(2)}function Gp(r){return new this(r).log(10)}function Bp(){return lp(this,arguments,"lt")}function Qp(){return lp(this,arguments,"gt")}function Vp(r,n){return new this(r).mod(n)}function Zp(r,n){return new this(r).mul(n)}function Hp(r,n){return new this(r).pow(n)}function Wp(r){var n,e,t,i,u=0,o=new this(1),a=[];if(void 0===r?r=this.precision:Yc(r,1,Mc),t=Math.ceil(r/Qc),this.crypto)if(crypto.getRandomValues)for(n=crypto.getRandomValues(new Uint32Array(t));u<t;)(i=n[u])>=429e7?n[u]=crypto.getRandomValues(new Uint32Array(1))[0]:a[u++]=i%1e7;else{if(!crypto.randomBytes)throw Error(Ac);for(n=crypto.randomBytes(t*=4);u<t;)(i=n[u]+(n[u+1]<<8)+(n[u+2]<<16)+((127&n[u+3])<<24))>=214e7?crypto.randomBytes(4).copy(n,u):(a.push(i%1e7),u+=4);u=t/4}else for(;u<t;)a[u++]=1e7*Math.random()|0;for(t=a[--u],r%=Qc,t&&r&&(i=Lc(10,Qc-r),a[u]=(t/i|0)*i);0===a[u];u--)a.pop();if(u<0)e=0,a=[0];else{for(e=-1;0===a[0];e-=Qc)a.shift();for(t=1,i=a[0];i>=10;i/=10)t++;t<Qc&&(e-=Qc-t)}return o.e=e,o.d=a,o}function Yp(r){return rp(r=new this(r),r.e+1,this.rounding)}function Kp(r){return(r=new this(r)).d?r.d[0]?r.s:0*r.s:r.s||NaN}function Jp(r){return new this(r).sin()}function Xp(r){return new this(r).sinh()}function rh(r){return new this(r).sqrt()}function nh(r,n){return new this(r).sub(n)}function eh(){var r=0,n=arguments,e=new this(n[r]);for(Nc=!1;e.s&&++r<n.length;)e=e.plus(n[r]);return Nc=!0,rp(e,this.precision,this.rounding)}function th(r){return new this(r).tan()}function ih(r){return new this(r).tanh()}function uh(r){return rp(r=new this(r),r.e+1,1)}Hc[Symbol.for("nodejs.util.inspect.custom")]=Hc.toString,Hc[Symbol.toStringTag]="Decimal";var oh=Hc.constructor=function r(n){var e,t,i;function u(r){var n,e,t,i=this;if(!(i instanceof u))return new u(r);if(i.constructor=u,Lp(r))return i.s=r.s,void(Nc?!r.d||r.e>u.maxE?(i.e=NaN,i.d=null):r.e<u.minE?(i.e=0,i.d=[0]):(i.e=r.e,i.d=r.d.slice()):(i.e=r.e,i.d=r.d?r.d.slice():r.d));if("number"===(t=typeof r)){if(0===r)return i.s=1/r<0?-1:1,i.e=0,void(i.d=[0]);if(r<0?(r=-r,i.s=-1):i.s=1,r===~~r&&r<1e7){for(n=0,e=r;e>=10;e/=10)n++;return void(Nc?n>u.maxE?(i.e=NaN,i.d=null):n<u.minE?(i.e=0,i.d=[0]):(i.e=n,i.d=[r]):(i.e=n,i.d=[r]))}return 0*r!=0?(r||(i.s=NaN),i.e=NaN,void(i.d=null)):hp(i,r.toString())}if("string"!==t)throw Error(kc+r);return 45===(e=r.charCodeAt(0))?(r=r.slice(1),i.s=-1):(43===e&&(r=r.slice(1)),i.s=1),Gc.test(r)?hp(i,r):dp(i,r)}if(u.prototype=Hc,u.ROUND_UP=0,u.ROUND_DOWN=1,u.ROUND_CEIL=2,u.ROUND_FLOOR=3,u.ROUND_HALF_UP=4,u.ROUND_HALF_DOWN=5,u.ROUND_HALF_EVEN=6,u.ROUND_HALF_CEIL=7,u.ROUND_HALF_FLOOR=8,u.EUCLID=9,u.config=u.set=Np,u.clone=r,u.isDecimal=Lp,u.abs=bp,u.acos=$p,u.acosh=xp,u.add=Sp,u.asin=_p,u.asinh=jp,u.atan=Ep,u.atanh=Mp,u.atan2=qp,u.cbrt=Rp,u.ceil=Op,u.clamp=Dp,u.cos=Cp,u.cosh=kp,u.div=Pp,u.exp=Ap,u.floor=zp,u.hypot=Fp,u.ln=Ip,u.log=Up,u.log10=Gp,u.log2=Tp,u.max=Bp,u.min=Qp,u.mod=Vp,u.mul=Zp,u.pow=Hp,u.random=Wp,u.round=Yp,u.sign=Kp,u.sin=Jp,u.sinh=Xp,u.sqrt=rh,u.sub=nh,u.sum=eh,u.tan=th,u.tanh=ih,u.trunc=uh,void 0===n&&(n={}),n&&!0!==n.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<i.length;)n.hasOwnProperty(t=i[e++])||(n[t]=this[t]);return u.config(n),u}(Dc);function ah(r,n){return new oh(r).eq(n)}function sh(r,n,e){if("==="===n)return ah(r,e);if("!=="===n)return function(r,n){return!ah(r,n)}(r,e);if(">="===n)return function(r,n){return new oh(r).gte(n)}(r,e);if(">"===n)return function(r,n){return new oh(r).gt(n)}(r,e);if("<="===n)return function(r,n){return new oh(r).lte(n)}(r,e);if("<"===n)return function(r,n){return new oh(r).lt(n)}(r,e);throw console.log(n),new Error("invalid op")}function lh(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=[];if(!of(r))return e;let t=Oi(n,"keyDepthStart");cs(t)||(t="depthStart");let i=Oi(n,"keyDepthEnd");cs(i)||(i="depthEnd");let u=Oi(n,"stateConn");return"conn"!==u&&"overlap"!==u&&(u="conn"),Fr(r,((r,n)=>{let u=Oi(r,t,null),o=Oi(r,i,null);ps(u)||e.push(` ${n} ${t}[${u}]`),ps(o)||e.push(` ${n} ${i}[${o}]`)})),r=Tl(r,(r=>_s(r[t]))),Fr(r,((n,o)=>{let a=Oi(n,t,null),s=Oi(n,i,null);if(a=_s(a),s=_s(s),sh(a,">",s)&&e.push(` ${o} ${t}[${a}]${i}[${s}]`),0===o)return!0;let l=Oi(r,o-1),f=Oi(l,i,null);f=_s(f),"conn"===u?sh(f,"!==",a)&&e.push(` ${o} ${i}[${f}] ${o+1} ${t}[${a}]`):"overlap"===u&&sh(f,">",a)&&e.push(` ${o} ${i}[${f}] ${o+1} ${t}[${a}]`)})),e}Rc=new oh(Rc),Oc=new oh(Oc);let fh=Ms.rw;function ch(r,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Oi(e,"keyDepth");cs(t)||(t="depth");let i=Oi(e,"keyDepthStart");cs(i)||(i="depthStart");let u=Oi(e,"keyDepthEnd");cs(u)||(u="depthEnd"),r=ca(r);let o=0;return r=cu(r,((r,e)=>{let a=Oi(r,"err",""),s=Oi(r,i,null),l=Oi(r,u,null);try{if(!ps(s))throw new Error(` ${e} (${i}): ${s}`);if(!ps(l))throw new Error(` ${e} (${u}): ${l}`);s=_s(s),l=_s(l),r[t]=(l+s)/2;let a=null;if(s<n&&l>n){let t=Oi(r,"rsat",null);if(!ps(t))throw new Error(` ${e} (rsat): ${t}`);let i=Oi(r,"rd",null);if(!ps(i))throw new Error(` ${e} (rd): ${i}`);i=_s(i);let u=n-s,o=l-n;a=(u*i+o*t)/(u+o)}else if(l<=n){let n=Oi(r,"rd",null);if(!ps(n))throw new Error(` ${e} (rd): ${n}`);a=n}else{if(!(s>=n))throw new Error("");{let n=Oi(r,"rsat",null);if(!ps(n))throw new Error(` ${e} (rsat): ${n}`);a=n}}0===o&&s>0&&(o=s*a);let f=(l-s)*a,c=o+f/2;r.sv=c,o+=f;let p=Math.max((s+l)/2-n,0)*fh;r.svp=Math.max(c-p,0)}catch(n){let e=n.toString();""===a?a=e:a.indexOf(e)<0&&(a+=`, ${e}`),r.sv="",r.svp="",r.err=a}return r})),r}function ph(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!of(r))throw new Error("");let e=Oi(n,"keyDepth");cs(e)||(e="depth");let t=Oi(n,"keyDepthStart");cs(t)||(t="depthStart");let i=Oi(n,"keyDepthEnd");cs(i)||(i="depthEnd");let u=lh(r=ca(r),n);if(el(u)>0)throw new Error(jc(u,"; "));r=Tl(r,(r=>_s(r[t])));let o=Oi(n,"waterLevelUsual");ps(o)||(o=0),o=_s(o);let a=Oi(n,"waterLevelDesign");ps(a)||(a=0),a=_s(a);let s=ch(r,o,{keyDepth:e,keyDepthStart:t,keyDepthEnd:i}),l=ch(r,a,{keyDepth:e,keyDepthStart:t,keyDepthEnd:i});return r=cu(r,((r,n)=>{r.waterLevelUsual=o,r.waterLevelDesign=a;let t=s[n],i=l[n];return r.sv=t.sv,r.svpUsual=t.svp,r.svpDesign=i.svp,r[e]=t[e],r}))}function hh(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=[];if(!of(r))throw new Error("");let t=Oi(n,"keyDepth");cs(t)||(t="depth");let i=Oi(n,"keyDepthStart");cs(i)||(i="depthStart");let u=Oi(n,"keyDepthEnd");cs(u)||(u="depthEnd");let o=Oi(n,"depthEndMax");if(o=ps(o)?_s(o):null,r=ca(r),Fr(r,((r,n)=>{let i=Oi(r,t,null);ps(i)||e.push(` ${n} ${t}[${i}]`)})),el(e)>0)throw new Error(jc(e,"; "));if(r=Tl(r,(r=>_s(r[t]))),Fr(r,((n,i)=>{if(0===i)return!0;let u=Oi(r,`${i-1}.${t}`,null),o=Oi(n,t,null);u=_s(u),o=_s(o),sh(u,">=",o)&&e.push(` ${i-1} ${t}[${u}] ${i} ${t}[${o}]`)})),el(e)>0)throw new Error(jc(e,"; "));let a=el(r)-1;if(r=cu(r,((n,e)=>{let o=Oi(r,e-1),s=n,l=Oi(r,e+1),f=Oi(o,t,null),c=Oi(s,t,null),p=Oi(l,t,null),h=null;if(0===e){if(h=0,!ps(c))throw new Error("dc1 is not a number");c=_s(c),h=Math.min(h,c)}else{if(!ps(f)||!ps(c))throw new Error("unexpected error: invalid ds");f=_s(f),c=_s(c),h=(f+c)/2}let d=null;if(e===a){if(!ps(c))throw new Error("dc1 is not a number");d=_s(c)}else{if(!ps(c)||!ps(p))throw new Error("unexpected error: invalid de");c=_s(c),p=_s(p),d=(c+p)/2}return n[i]=h,n[u]=d,n})),da(o)){sh(r[a][u],"<",o)&&(r[a][u]=o)}return r}function dh(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),e.push.apply(e,t)}return e}function vh(r){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?dh(Object(e),!0).forEach((function(n){t(r,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):dh(Object(e)).forEach((function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))}))}return r}let gh=19.5,mh={1:17.5,2:12.5,3:17.5,4:18,5:18,6:18,7:18.5,8:19,9:19.5,10:20,11:20.5,12:19,13:79/4};function yh(r,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Oi(e,"rdiff");ps(t)||(t=3),t=_s(t);let i=Oi(e,"ratio");if(ps(i)||(i=.8),i=_s(i),i<=0)throw new Error(`ratio[${i}]<=0`);if(i>1)throw new Error(`ratio[${i}]>1`);let u=r=>{let n=function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return ps(r)&&wf(n)?(r=_s(r),mf(r,n).toFixed(n)):""}(r,2);return{vi:n,vd:_s(n)}},o=1-i,a=i;r=cu(r,(r=>bc(r,n)));let s=!1;return r=cu(r,((r,n)=>{if(!ps(r.rsat))throw console.log("estUnitWeight",n,r),new Error("estUnitWeight: rsat");let e=null;cf(r.iRobFrQt)&&cf(r.iRobBqQt)&&(e=sc(r.iRobFrQt,r.iRobBqQt,{numOfType:3,returnZone:!0})),cf(e)||(cf(r.iRobBqQt)?e=r.iRobBqQt:cf(r.iRobFrQt)&&(e=r.iRobFrQt));let i=null;if(cf(e)&&(e=yf(e),i=Oi(mh,e,null),!ps(i)))throw new Error(`kpCPTClassForRobBqRfqtizone[${e}]`);ps(i)||(i=gh);let l=_s(r.rsat),f=i,c=u(l),p=u(f),h=c.vi,d=p.vi;if(l=c.vd,f=p.vd,h!==d){s=!0;let n=l*o+f*a;r.rsat=u(n).vd;let e=n-t;r.rd=u(e).vd}return r})),{bUpdate:s,ltdt:r}}var wh=qi,bh=wa;var $h=Si,xh=function(r){var n=null==r?0:r.length;return n?r[n-1]:void 0},Sh=function(r,n){return n.length<2?r:wh(r,bh(n,0,-1))},_h=ji;var jh=function(r,n){return n=$h(n,r),null==(r=Sh(r,n))||delete r[_h(xh(n))]},Eh=U,Mh=Array.prototype.splice;var qh=Lr,Rh=Yl,Oh=function(r,n){for(var e=r?n.length:0,t=e-1;e--;){var i=n[e];if(e==t||i!==u){var u=i;Eh(i)?Mh.call(r,i,1):jh(r,i)}}return r},Dh=fl,Nh=U,Ch=nf((function(r,n){var e=null==r?0:r.length,t=Rh(r,n);return Oh(r,qh(n,(function(r){return Nh(r,e)?+r:r})).sort(Dh)),t}));var kh=Xt;var Ph=function(r,n,e){for(var t=-1,i=r.length;++t<i;){var u=r[t],o=n(u);if(null!=o&&(void 0===a?o==o&&!kh(o):e(o,a)))var a=o,s=u}return s};var Ah=Ph,zh=function(r,n){return r<n},Fh=Dr;var Lh=function(r){return r&&r.length?Ah(r,Fh,zh):void 0};var Ih=Ph,Uh=function(r,n){return r>n},Th=Dr;var Gh=function(r){return r&&r.length?Ih(r,Th,Uh):void 0},Bh=yi;var Qh=function(r){return Bh(r).toLowerCase()},Vh=E,Zh=M;var Hh=function(r){return Zh(r)&&"[object RegExp]"==Vh(r)},Wh=H,Yh=W&&W.isRegExp,Kh=Yh?Wh(Yh):Hh,Jh=gi,Xh=$a,rd=Na,nd=Fl,ed=Kh,td=Ha,id=yi;var ud=function(r,n,e){return e&&"number"!=typeof e&&nd(r,n,e)&&(n=e=void 0),(e=void 0===e?4294967295:e>>>0)?(r=id(r))&&("string"==typeof n||null!=n&&!ed(n))&&!(n=Jh(n))&&rd(r)?Xh(td(r),0,e):r.split(n,e):[]};function od(r,n){return cs(r)&&wf(n)?0===(n=yf(n))?"":r.substring(0,n):""}let ad="in x-range",sd="out of x-range",ld="order list",fd="reverse order list";function cd(r,n){let e=null,t=null;return e=r[0].x,t=r[el(r)-1].x,n<e?{err:sd,msg:`x[${n}] less than lower limit[${e}]`,data:{ps:r,x:n,xmin:e,xmax:t}}:n>t?{err:sd,msg:`x[${n}] greater than upper limit[${t}]`,data:{ps:r,x:n,xmin:e,xmax:t}}:ad}function pd(r,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!tf(r))return{err:"ps is not an array"};if(!da(n))return{err:"x is not a number"};let t=function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(el(r)<=0)return[];let e=Oi(n,"keyX");cs(e)||(e="x");let t=Oi(n,"keyY");cs(t)||(t="y");let i=[];return Fr(r,(r=>{let n=null,u=null;tf(r)&&el(r)>=2?(n=Oi(r,0),u=Oi(r,1)):(n=Oi(r,e,null),u=Oi(r,t,null)),ps(n)&&ps(u)&&(n=bs(n),u=bs(u),i.push({x:n,y:u}))})),i}(r,e);if(Oi(t,"err"))return Oi(t,"err");if(0===el(t))return{err:"ps(length=0) is not an effective array",ps:r,psEff:t};if(1===el(t))return{err:"ps(length=1) is one point only",ps:r,psEff:t};let i=function(r){let n=!0,e=!0;for(let t=1;t<el(r);t++){let i=r[t-1],u=r[t];if(n&&i.x>u.x&&(n=!1),e&&i.x<u.x&&(e=!1),i.x===u.x)return{err:`x can not be equal: i=${t}, x=${i.x}`}}return n?ld:e?fd:"no"}(t);if("no"===i)return{err:"psEff is not increasing or decreasing"};i===fd&&(i=ld,t=Bf(t));let u=Oi(e,"mode");"linear"!==u&&"stairs"!==u&&"blocks"!==u&&(u="linear");try{if("linear"===u)return function(r,n){let e=cd(r,n);if(e!==ad)return e;let t=null;for(let e=1;e<el(r);e++){let i=r[e-1],u=r[e];if(i.x<=n&&n<=u.x){t=((n-i.x)*u.y+(u.x-n)*i.y)/(u.x-i.x);break}}return null===t?{err:sd}:t}(t,n);if("blocks"===u)return function(r,n){let e=cd(r,n);if(e!==ad)return e;let t=null;for(let e=1;e<el(r);e++){let i=r[e-1],u=r[e],o=i.x,a=u.x;if(o<=n&&n<=a){t=u.y;break}}return null===t?{err:sd}:t}(t,n);if("stairs"===u)return function(r,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Oi(e,"xMin");if(da(t)){if(t>r[0].x)return{err:`xMin=${t} > ps[0].x=${r[0].x}`};t===r[0].x||(r=[{x:t,y:r[0].y},...r])}let i=Oi(e,"xMax");if(da(i)){if(i<r[el(r)-1].x)return{err:`xMax=${i} < ps[size(ps)-1].x=${r[el(r)-1].x}`};if(i===r[el(r)-1].x);else{let n={x:i,y:r[el(r)-1].y};r=[...r,n]}}let u=cd(r,n);if(u!==ad)return u;let o=null;for(let e=0;e<el(r);e++){let t=Oi(r,e-1,null),i=Oi(r,e,null),u=Oi(r,e+1,null),a=i.x;t&&(a=(t.x+i.x)/2);let s=i.x;if(u&&(s=(u.x+i.x)/2),a<=n&&n<=s){o=i.y;break}}return null===o?{err:sd}:o}(t,n,e)}catch(r){return{err:r.toString()}}}var hd=Lr;var dd=function(r,n){return hd(n,(function(n){return r[n]}))},vd=Er;var gd=function(r){return null==r?[]:dd(r,vd(r))};let md=Ms.rw;function yd(r,n){return r*md/(1+n)}function wd(r,n){return r-n*md/(1+n)}function bd(r,n){return(r-md)*n/(n-1)}function $d(r,n){return(r+n)*md/(1+n)}function xd(r,n){return r+n*md/(1+n)}function Sd(r,n){return r*(n-1)/n+md}function _d(r,n){return(r*md-n)/n}function jd(r,n){return(r-n)/(n-md-r)}function Ed(r,n){return(r*md-n)/(n-md)}function Md(r,n){return r*(1+n)/md}function qd(r,n){return r/(r-(n-md))}function Rd(r,n){return(r+r*n-n*md)/md}function Od(r,n,e,t){let i={},u=Oi(arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},"returnFuncs");function o(){let u,o,a,s,l=!1;return!da(u)&&da(e)&&da(t)&&(u=yd(e,t)),!da(u)&&da(n)&&da(t)&&(u=wd(n,t)),!da(u)&&da(n)&&da(e)&&1!==e&&(u=bd(n,e)),da(r)?Math.abs(r-u)>u/100*5&&(i.ck_rd=`[${r}][${u}]`):(r=u,l=!0),!da(o)&&da(e)&&da(t)&&(o=$d(e,t)),!da(o)&&da(r)&&da(t)&&(o=xd(r,t)),!da(o)&&da(r)&&da(e)&&(o=Sd(r,e)),da(n)?Math.abs(n-o)>o/100*5&&(i.ck_rsat=`[${n}][${o}]`):(n=o,l=!0),!da(a)&&da(e)&&da(r)&&(a=_d(e,r)),!da(a)&&da(n)&&da(r)&&n-md-r!=0&&(a=jd(r,n)),!da(a)&&da(n)&&da(e)&&n-md!=0&&(a=Ed(e,n)),da(t)?Math.abs(t-a)>a/100*5&&(i.ck_e=`[${t}][${a}]`):(t=a,l=!0),!da(s)&&da(r)&&da(t)&&(s=Md(r,t)),!da(s)&&da(r)&&da(n)&&r-(n-md)!=0&&(s=qd(r,n)),!da(s)&&da(n)&&da(t)&&(s=Rd(n,t)),da(e)?Math.abs(e-s)>s/100*5&&(i.ck_GS=`[${e}][${s}]`):(e=s,l=!0),l}fs(u)||(u=!1),ps(r)?((r=_s(r))<=0&&(i.rd=`[${r}]<=0`),r<=md&&(i.rd=`[${r}]<=[${md}]`)):r=null,ps(n)?((n=_s(n))<=0&&(i.rsat=`[${n}]<=0`),n<=md&&(i.rsat=`[${n}]<=[${md}]`)):n=null,ps(e)?(e=_s(e))<=0&&(i.GS=`[${e}]<=0`):e=null,ps(t)?(t=_s(t))<=0&&(i.e=`[${t}]<=0`):t=null;let a=0;if(a+=ps(r)?1:0,a+=ps(n)?1:0,a+=ps(e)?1:0,a+=ps(t)?1:0,a>=2){let r=o();for(;r;)r=o()}let s={rd:r,rsat:n,GS:e,e:t};if(os(i)){let r=jc(gd(i),", ");s.err=r}return u&&(s.coreFuncs={get_rd_from_GS_e:yd,get_rd_from_rsat_e:wd,get_rd_from_rsat_GS:bd,get_rsat_from_GS_e:$d,get_rsat_from_rd_e:xd,get_rsat_from_rd_GS:Sd,get_e_from_GS_rd:_d,get_e_from_rd_rsat:jd,get_e_from_GS_rsat:Ed,get_GS_from_rd_e:Md,get_GS_from_rd_rsat:qd,get_GS_from_rsat_e:Rd}),s}function Dd(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),e.push.apply(e,t)}return e}function Nd(r){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Dd(Object(e),!0).forEach((function(n){t(r,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):Dd(Object(e)).forEach((function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))}))}return r}let Cd=1/Ms.g*1e3/1e4;function kd(r){let n=es(Qf(r));return""!==n?`[${n}]`:""}function Pd(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"new",e=od(r,1),t=od(r,2);if("new"===n)return"C"===e||"O"===e||"P"===e||"M"===e&&"ML"!==t&&"MH"!==t;if("classic"===n)return"S"!==e&&"G"!==e;throw new Error(`invalid mode[${n}]`)}function Ad(r,n,e){if(el(r)<=0)return{err:"invalid vx"};if(el(n)<=0)return{err:"invalid vy"};if(el(r)!==el(n))return{err:"size of vx is not equal to size of vy"};let t=pd(cu(r,((e,t)=>({x:r[t],y:n[t]}))),e);return t.err&&"ps is not effective array"===t.err&&(t.err=""),t}function zd(r,n,e){return((e-r.x)*n.y+(n.x-e)*r.y)/(n.x-r.x)}function Fd(r,n){let e=[],t=[{volumetricStrain:10,data:[[1.15304,.6],[1.10234,.0413661],[1.10234,.0348459],[1.04383,.0253621],[.956072,.0161746],[.722041,.0093581],[0,0]]},{volumetricStrain:5,data:[[3.00384,.6],[2.97459,.0591482],[2.94533,.0523317],[2.82832,.0431443],[2.56503,.0348459],[2.12623,.0253621],[1.21936,.0126182],[0,0]]},{volumetricStrain:4,data:[[5.11012,.6],[5.11012,.111606],[5.05161,.103604],[5.02236,.0947126],[4.87609,.0849324],[4.72982,.0754486],[4.52504,.0656684],[4.20325,.0579628],[3.82295,.0499608],[3.32563,.0407733],[2.53578,.0286221],[1.5704,.0161746],[0,0]]},{volumetricStrain:3,data:[[7.68446,.6],[7.53819,.234896],[7.53819,.212964],[7.50893,.191033],[7.39192,.165249],[7.33341,.142428],[7.24565,.125831],[7.07012,.111013],[6.8946,.09738],[6.66057,.0887852],[6.45579,.0804869],[6.07549,.0730776],[5.66594,.0665575],[5.28564,.0606301],[4.75907,.0523317],[4.08623,.043737],[0,0]]},{volumetricStrain:2,data:[[14.1203,.6],[14.091,.248529],[13.974,.231043],[13.7985,.216521],[13.6815,.201702],[13.3597,.184513],[13.2134,.173843],[13.0087,.16347],[12.7161,.152208],[12.131,.139168],[11.546,.12761],[10.8439,.116644],[0,0]]},{volumetricStrain:1,data:[[27.5771,.6],[27.5771,.541935],[27.6063,.507852],[27.5478,.485625],[27.5186,.465471],[27.5186,.445022],[27.4893,.424869],[27.3723,.41005],[27.1675,.392268],[26.9335,.376264],[26.5532,.357889],[26.2021,.339514],[25.7048,.324399],[25.1783,.311655],[24.6224,.298022],[23.9496,.282908],[23.2182,.269571],[22.4576,.256531],[21.7556,.244676],[20.8779,.232525],[19.9126,.218892],[0,0]]},{volumetricStrain:.5,data:[[33.0183,.6],[33.0183,.570979],[32.9598,.554086],[32.9013,.536007],[32.6965,.516743],[32.5502,.500147],[32.3747,.482068],[32.0529,.464582],[31.6726,.445022],[31.3216,.425461],[30.9998,.410939],[30.5025,.394935],[29.9466,.376264],[29.3908,.356704],[28.3962,.335958],[27.1383,.313137],[25.5586,.287057],[23.7156,.261865],[21.8141,.238452],[19.7078,.212964],[0,0]]},{volumetricStrain:.2,data:[[35.4,.6],[35.3,.574535],[35.1,.555864],[34.9,.539267],[34.6,.515558],[34.3,.497183],[34,.477919],[33.4544,.455691],[33,.434353],[32.6087,.415385],[31.8774,.397306],[30.8242,.369151],[30.0051,.348998],[29.069,.327067],[28.1329,.308099],[27.1383,.291799],[25.8218,.271349],[24.3884,.252974],[23.2768,.237859],[21.8726,.220373],[19.9711,.200517],[18.5961,.186291],[17.1627,.170583],[15.583,.154876],[14.3543,.14065],[12.8331,.124942],[10.7269,.103307],[8.59132,.081376],[6.39729,.0612228],[4.17399,.0389951],[2.15548,.0188419],[0,0]]},{volumetricStrain:.1,data:[[36.7,.6],[36.5,.571572],[36.2,.544602],[35.8,.520596],[35.4,.490366],[35,.466657],[34.6,.446207],[34.2,.424869],[33.5,.404419],[32.7,.379228],[32,.358482],[30.9998,.331809],[29.5956,.305432],[28.0159,.278758],[26.9335,.262162],[25.266,.238156],[23.2768,.214446],[21.2875,.192515],[19.0642,.170583],[16.8117,.149541],[14.5006,.129684],[12.2481,.108938],[10.0248,.0881925],[7.77222,.0671502],[5.63669,.0472934],[4.70056,.038106],[3.23787,.0259548],[2.38951,.0194347],[.926818,.00669077],[0,0]]}];t=cu(t,(r=>{let n=cu(r.data,(r=>r[1])),e=cu(r.data,(r=>r[0]));return r.vx=n,r.vy=e,r}));let i=cu(t,"volumetricStrain"),u=cu(t,(r=>{let e=Ad(r.vx,r.vy,n);return Oi(e,"err")?e.err:e})),o=u[0],a=[u[0]],s=[i[0]];Fr(u,((r,n)=>{n>0&&u[n]>=o&&(o=u[n],a.push(u[n]),s.push(i[n]))})),u=a,i=s;let l=Ad(u,i,r);if(Oi(l,"err"))if("out of x-range"===l.err){let t=l.data.ps,i=Gh(u),o=Lh(u);if(r>i){let u=t[el(t)-1].y;e.push(` N160=${r} > N160Max=${i}CSR=${n}vstr=${u}%`),l=u}else if(r<o){let i=zd(t[0],t[1],r);e.push(` N160=${r} < N160Min=${o}CSR=${n}2vstr=${i}%`),l=i}else e.push(""),l=""}else e.push(l.err),l="";return{err:e,vstr:l}}function Ld(r,n){let e=[],t=[{N172:3,data:[[0,5.48516],[.791714,5.48516],[.889946,5.48274],[.957602,5.47549],[.972564,5.43681],[.981021,5.37154],[.982973,4.71396],[.984274,4.17243],[.985575,3.45201],[.988177,2.61312],[.992081,2.25532],[.996634,1.94104],[1.00379,1.68961],[1.01095,1.54214],[1.02981,1.32698],[1.04347,1.16501],[1.06624,1.00303],[1.09096,.879735],[1.11503,.773363],[1.1391,.703254],[1.17944,.616222],[1.23018,.529191],[1.28873,.444576],[1.35378,.384138],[1.41558,.333369],[1.48064,.275348],[1.5548,.231832],[2,0]]},{N172:6,data:[[0,4.51524],[.789554,4.51524],[.890726,4.51176],[.938502,4.49784],[.957238,4.45954],[.960985,4.31681],[.962858,3.76677],[.964732,3.36294],[.966605,2.92778],[.971289,2.57618],[.97691,2.27679],[.980657,2.07487],[.990962,1.85903],[1.00314,1.57705],[1.01813,1.35773],[1.03686,1.18367],[1.05935,1.02005],[1.08089,.88428],[1.09401,.818136],[1.13148,.696291],[1.17082,.60926],[1.22367,.517103],[1.28287,.437324],[1.34597,.376885],[1.40778,.323699],[1.47673,.268096],[1.55154,.222162],[2,0]]},{N172:10,data:[[0,3.50567],[.738969,3.50567],[.841077,3.50219],[.896347,3.49523],[.912272,3.43953],[.919767,3.34206],[.928198,3.02874],[.938502,2.64928],[.94787,2.29419],[.961922,1.9774],[.972226,1.74763],[.989088,1.50743],[1.00876,1.28811],[1.03031,1.11404],[1.05466,.953905],[1.08745,.807692],[1.12398,.682366],[1.16333,.584891],[1.21673,.50134],[1.27762,.421271],[1.33757,.358608],[1.39752,.306389],[1.46966,.25417],[1.54366,.205433],[2,0]]},{N172:14,data:[[0,2.77461],[.693066,2.77461],[.763325,2.77113],[.797049,2.73283],[.815784,2.68061],[.831709,2.57966],[.867307,2.26634],[.88979,2.01221],[.915083,1.74763],[.936629,1.54224],[.960985,1.34729],[.991898,1.12797],[1.01532,.978274],[1.04248,.852949],[1.0734,.731104],[1.10712,.623185],[1.14834,.539634],[1.18206,.480453],[1.22797,.414309],[1.28417,.36209],[1.34975,.299427],[1.4275,.240245],[1.51368,.184545],[2,0]]},{N172:20,data:[[0,2.17235],[.511332,2.17235],[.605009,2.16539],[.660279,2.13406],[.69213,2.1062],[.722107,2.0505],[.751147,1.95999],[.794238,1.75808],[.825152,1.6049],[.865433,1.40299],[.901968,1.24285],[.939439,1.06182],[.994709,.859911],[1.04717,.689329],[1.09869,.550078],[1.15021,.459565],[1.20267,.386459],[1.25888,.327277],[1.31228,.271577],[1.38441,.22632],[1.46403,.177583],[2,0]]},{N172:25,data:[[0,1.73371],[.396108,1.73371],[.49447,1.71978],[.544119,1.69542],[.579716,1.65712],[.619998,1.58053],[.660279,1.48306],[.703371,1.37862],[.734285,1.28463],[.775503,1.17671],[.816721,1.06182],[.865433,.93998],[.910399,.82858],[.956301,.724142],[1.00595,.602297],[1.0556,.508303],[1.11743,.403865],[1.16989,.337721],[1.22703,.285502],[1.27855,.247208],[1.33663,.208914],[1.4172,.167139],[1.49963,.132326],[2,0]]},{N172:30,data:[[0,1.30203],[.264959,1.30203],[.388614,1.29159],[.476671,1.26026],[.527257,1.20108],[.588147,1.11056],[.647164,1.01657],[.694003,.919093],[.759578,.804211],[.821405,.689329],[.884169,.591853],[.964732,.47349],[1.02469,.386459],[1.09963,.309871],[1.16895,.25417],[1.24764,.19847],[1.32726,.156695],[1.40876,.125364],[1.48558,.100995],[1.55303,.0870696],[1.63453,.0627007],[2,0]]}];t=cu(t,(r=>{let n=cu(r.data,(r=>r[0])),e=cu(r.data,(r=>r[1]));return r.vx=n,r.vy=e,r}));let i=cu(t,"N172"),u=cu(t,(r=>{let e=Ad(r.vx,r.vy,n);return Oi(e,"err")?e.err:e})),o=u[0],a=[u[0]],s=[i[0]];Fr(u,((r,n)=>{n>0&&u[n]<=o&&(o=u[n],a.push(u[n]),s.push(i[n]))})),u=a,i=s;let l=Ad(i,u,r);if(Oi(l,"err"))if("out of x-range"===l.err){let t=l.data.ps,u=Gh(i),o=Lh(i);if(r>u){let i=t[el(t)-1].y;e.push(` N172=${r} > N172Max=${u}FS=${n}vstr=${i}%`),l=i}else if(r<o){let i=zd(t[0],t[1],r);e.push(` N172=${r} < N172Min=${o}FS=${n}2vstr=${i}%`),l=i}else e.push(""),l=""}else e.push(l.err),l="";return{err:e,vstr:l}}function Id(r,n,e,t){let i=[],u=0;!function(){if(e<0)return i.push(`Volumetric Strain(Tokimatsu And Seed): CSR${kd(e)}<0`),void(u="");e>.6&&(i.push("Volumetric Strain(Tokimatsu And Seed): CSR0.60.6"),e=.6),u=Fd(r,e),el(u.err)>0&&Fr(u.err,(r=>{i.push(`Volumetric Strain(Tokimatsu And Seed): ${r}`)})),u=u.vstr}();let o=0;return function(){if(t<0)return i.push(`Volumetric Strain(Ishihara And Yoshimine): FS${kd(t)}<0`),void(o="");t>=2&&(t=2),o=Ld(n,t),el(o.err)>0&&Fr(o.err,(r=>{i.push(`Volumetric Strain(Ishihara And Yoshimine): ${r}`)})),o=o.vstr}(),{err:i,vstrTS:u,vstrIY:o}}function Ud(r){let{ver:n="2012",noLiqueMode:e="new",waterLevelDesign:t,soilClassification:i,depth:u,N60:o,FC:a,PI:s,sv:l,svpUsual:f,svpDesign:c,PGA:p,Mw:h}=r,d=[],v="",g="",m="",y="",w="",b="",$="",x="",S="",_="",j="",E="",M="";function q(){let r={rrd:g,ks:m,CN:y,N160:w,N160cs:b,N172:$,CRR75:x,CRR:S,CSR:_,FS:j,vstrTS:E,vstrIY:M,err:jc(d,"; ")};return Fr(r,((n,e)=>{cs(n)||ps(n)||(r[e]="")})),r}let R=!1,O=!1;for(;;){if("2012"!==n&&"2017"!==n)return d.push(`ver${kd(n)}20122017`),q();if(!ps(u))return d.push(`depth${kd(u)}`),q();if(u=_s(u),u<0)return d.push(`depth${kd(u)}<0`),q();if("new"!==e&&"classic"!==e&&(d.push(`noLiqueMode${kd(e)}'new''classic''new'`),e="new"),ps(t)?(t=_s(t),t<0&&(d.push(`waterLevelDesign${kd(t)}<00(m)`),t=0)):(d.push(`waterLevelDesign${kd(t)}0(m)`),t=0),cs(i)||(d.push(`soilClassification${kd(i)}SW`),i="SW"),(u<t||Pd(i,e))&&(R=!0),u>20&&(R=!0),"NP"===es(Qf(s))&&(s=0),ps(s)?_s(s)>7&&(R=!0):d.push(`PI${kd(s)}NP`),ps(o)?(o=_s(o),o<0&&(d.push(`N60${kd(o)}<0`),O=!0),o>=50&&(R=!0)):(d.push(`N60${kd(o)}`),O=!0),ps(a)?(a=_s(a),a<0&&(d.push(`FC${kd(a)}<0`),O=!0)):(d.push(`FC${kd(a)}`),O=!0),!ps(f))return d.push(`svpUsual${kd(f)}`),q();if(f=_s(f),f<0)return d.push(`svpUsual${kd(f)}<0`),q();if(!ps(c))return d.push(`svpDesign${kd(c)}`),q();if(c=_s(c),c<0)return d.push(`svpDesign${kd(c)}<0`),q();if(!ps(l))return d.push(`sv${kd(l)}`),q();if(l=_s(l),l<0)return d.push(`sv${kd(l)}<0`),q();if(!ps(p))return d.push(`PGA${kd(p)}`),q();if(p=_s(p),p<0)return d.push(`PGA${kd(p)}<0`),q();if(!ps(h))return d.push(`Mw${kd(h)}`),q();if(h=_s(h),h<0)return d.push(`Mw${kd(h)}<0`),q();break}if(!0===R)return d=[],S="-",_="-",j=10,q();if(!0===O)return q();let D=null;"2012"===n?D=-3.3:"2017"===n&&(D=-1.8),v=(h/7.5)**D,g=u<=10?1-.01*u:1.2-.03*u,m=a<=10?1:1+.07*Math.sqrt(a-10);let N=1e3*Ms.Pa;if(y=Math.min(Math.sqrt(N/f),1.7),w=y*o,b=m*w,b>=39)return S="-",_="-",j=10,q();x=.08+.0035*b/(1-b/39),S=x*v,_=null,_=c>0?l/c*.65*p*g:1e20,da(_)&&_>0&&(j=S/_),da(j)&&j>10&&(j=10),S<0&&d.push(`CRR${kd(S)}<0`),_<=0&&d.push(`CSR${kd(_)}<=0`),j<0&&(d.push(`FS${kd(j)}<00`),j=0),$=w/1.2;let C=Id(w,$,_,j);return d=[...d,...C.err],E=C.vstrTS,M=C.vstrIY,q()}function Td(r){let{ver:n="1996",noLiqueMode:e="new",waterLevelDesign:t,soilClassification:i,vibrationType:u,depth:o,N60:a,FC:s,PI:l,D50:f,D10:c,sv:p,svpUsual:h,svpDesign:d,PGA:v}=r,g=[],m="",y="",w="",b="",$="",x="",S="",_="",j="",E="",M="",q="",R="",O="",D="",N="";function C(){let r={rrd:m,N160:M,N172:w,c1:b,c2:$,cFC:x,Na:S,RL:_,cw:j,CN:E,CRR75:"",CRR:q,CSR:R,FS:O,vstrTS:D,vstrIY:N,err:jc(g,"; ")};return Fr(r,((n,e)=>{cs(n)||ps(n)||(r[e]="")})),r}let k=!1,P=!1;for(;;){if("1996"!==n&&"2017"!==n)return g.push(`ver${kd(n)} 19962017`),C();if(!ps(o))return g.push(`depth${kd(o)}`),C();if(o=_s(o),o<0)return g.push(`depth${kd(o)}<0`),C();if("new"!==e&&"classic"!==e&&(g.push(`noLiqueMode${kd(e)}'new''classic''new'`),e="new"),ps(t)?(t=_s(t),t<0&&(g.push(`waterLevelDesign${kd(t)}<00(m)`),t=0)):(g.push(`waterLevelDesign${kd(t)}0(m)`),t=0),cs(i)||(g.push(`soilClassification${kd(i)}SW`),i="SW"),Pd(i,e)&&(k=!0),o>20&&(k=!0),ps(a)?(a=_s(a),a<0&&(g.push(`N60${kd(a)}<0`),P=!0),a>=50&&(k=!0)):(g.push(`N60${kd(a)}`),P=!0),(o<t||t>10)&&(k=!0),ps(s)?(s=_s(s),s<0?(g.push(`FC${kd(s)}<0`),P=!0):s<=35||("NP"===es(Qf(l))&&(l=0),ps(l)?(l=_s(l),l<15||(k=!0)):g.push(`PI${kd(l)}NP`))):(g.push(`FC${kd(s)}`),P=!0),ps(f)||g.push(`D50${kd(f)}`),ps(c)||g.push(`D10${kd(c)}`),ps(f)&&ps(c)&&(f=_s(f),c=_s(c),f>10&&(k=!0),c>1&&(k=!0)),ps(u)?(u=yf(u),1!==u&&2!==u&&(g.push(`vibrationType${kd(u)}121`),u=1)):(g.push(`vibrationType${kd(u)}1`),u=1),!ps(h))return g.push(`svpUsual${kd(h)}`),C();if(h=_s(h),h<0)return g.push(`svpUsual${kd(h)}<0`),C();if(!ps(d))return g.push(`svpDesign${kd(d)}`),C();if(d=_s(d),d<0)return g.push(`svpDesign${kd(d)}<0`),C();if(!ps(p))return g.push(`sv${kd(p)}`),C();if(p=_s(p),p<0)return g.push(`sv${kd(p)}<0`),C();if(!ps(v))return g.push(`PGA${kd(v)}`),C();if(v=_s(v),v<0)return g.push(`PGA${kd(v)}<0`),C();break}if(!0===k)return g=[],q="-",R="-",O=10,C();if(!0===P)return C();m=1-.015*o,y=a/1.2,E=170/(h+70),w=E*y;S=(()=>{let r=0,e="";return ps(f)?e=_s(f)<2?"sand":"gravel":!function(r){let n=od(r,1),e=od(r,2);return"S"===n||"ML"===e||"MH"===e}(i)?function(r){return"G"===od(r,1)}(i)&&(e="gravel"):e="sand","sand"!==e&&"gravel"!==e&&(g.push(`D50${kd(f)}${kd(i)}`),e="sand"),"sand"===e?"1996"===n?r=(()=>{let r=0;return b=s<10?1:s<60?(s+40)/50:s/20-1,$=s<10?0:(s-10)/18,r=b*w+$,r})():"2017"===n&&(r=(()=>{let r=0;return x=s<10?1:s<40?(s+20)/30:(s-16)/12,r=x*(w+2.47)-2.47,r})()):"gravel"===e&&(ps(f)||(g.push(`D50${kd(f)}D50D5010(mm)`),f=10),f=_s(f),r=(1-.361*Math.log10(f/2))*w),r})(),S<14?"1996"===n?_=.0882*Math.sqrt(S/1.7):"2017"===n&&(_=.0882*Math.sqrt((.85*S+2.1)/1.7)):_=.0882*Math.sqrt(S/1.7)+16e-7*(S-14)**4.5,j=2===u?_<=.1?1:_<=.4?3.3*_+.67:2:1,q=j*_,R=null,R=d>0?m*v*p/d:1e20,da(R)&&R>0&&(O=q/R),da(O)&&O>10&&(O=10),q<0&&g.push(`CRR${kd(q)}<0`),R<=0&&g.push(`CSR${kd(R)}<=0`),O<0&&(g.push(`FS${kd(O)}<00`),O=0),M=w/(60/72);let A=Id(M,w,R,O);return g=[...g,...A.err],D=A.vstrTS,N=A.vstrIY,C()}function Gd(r){let{ver:n="2012",waterLevelDesign:e,depth:t,coe_a:i,qc:u,fs:o,u2:a,svp:s,svpUsual:l,svpDesign:f,sv:c,PGA:p,Mw:h}=r,d=[],v="",g="",m="",y="",w="",b="",$="",x="",S="",_="",j="",E="";function M(){ps(w)&&(w/=Cd),ps(x)&&(x/=Cd);let r={rrd:g,Ic:m,Icn:y,qc1N:w,Rf:b,Kc:$,qc1Ncs:x,CRR75:S,CRR:_,CSR:j,FS:E,err:jc(d,"; ")};return Fr(r,((n,e)=>{cs(n)||ps(n)||(r[e]="")})),r}let q=!1,R=!1;for(;;){if("2012"!==n&&"2017"!==n&&"2021"!==n)return d.push(`ver${kd(n)}201220172021`),M();if(!ps(t))return d.push(`depth${kd(t)}`),M();if(t=_s(t),t<0)return d.push(`depth${kd(t)}<0`),M();if("2021"===n&&(ps(i)?(i=_s(i),i<0&&(d.push(`coe_a${kd(i)}<00.8`),i=.8)):(d.push(`coe_a${kd(i)}0.8`),i=.8)),ps(e)?(e=_s(e),e<0&&(d.push(`waterLevelDesign${kd(e)}<00(m)`),e=0)):(d.push(`waterLevelDesign${kd(e)}0(m)`),e=0),t<e&&(q=!0),t>20&&(q=!0),ps(u)?(u=_s(u),u<0&&(d.push(`qc${kd(u)}<0`),R=!0)):(d.push(`qc${kd(u)}`),R=!0),ps(o)?(o=_s(o),o<0&&(d.push(`fs${kd(o)}<0`),R=!0)):(d.push(`fs${kd(o)}`),R=!0),ps(a)?a=_s(a):(d.push(`u2${kd(a)}`),R=!0),ps(s)&&(s=_s(s),l=s,f=s),!ps(l))return d.push(`svpUsual${kd(l)}`),M();if(l=_s(l),l<0)return d.push(`svpUsual${kd(l)}<0`),M();if(!ps(f))return d.push(`svpDesign${kd(f)}`),M();if(f=_s(f),f<0)return d.push(`svpDesign${kd(f)}<0`),M();if(!ps(c))return d.push(`sv${kd(c)}`),M();if(c=_s(c),c<0)return d.push(`sv${kd(c)}<0`),M();if(!ps(p))return d.push(`PGA${kd(p)}`),M();if(p=_s(p),p<0)return d.push(`PGA${kd(p)}<0`),M();if(!ps(h))return d.push(`Mw${kd(h)}`),M();if(h=_s(h),h<0)return d.push(`Mw${kd(h)}<0`),M();break}if(!0===q)return d=[],_="-",j="-",E=10,M();if(!0===R)return M();let O=qs(t);if(O/=1e3,"2021"===n){let r=bc({sv:c/1e3,svp:l/1e3,qc:u,fs:o,u0:O,u2:a},i,{useCnLeq:!0});m=Oi(r,"Ic",null),y=Oi(r,"Icn",null);let n=null;if(null===n&&da(y)&&(n=y),null===n&&da(m)&&(d.push("IcnIc"),n=m),n>2.6)return _="-",j="-",E=10,M()}c*=Cd,l*=Cd,f*=Cd,u=1e3*u*Cd,o=1e3*o*Cd,a=1e3*a*Cd,O=1e3*O*Cd;let D=null;return"2012"===n?D=-3.3:"2017"!==n&&"2021"!==n||(D=-1.8),v=(h/7.5)**D,g=t<=10?1-.01*t:1.2-.03*t,w=1.7/(l+.7)*u,b=null,b=u>0?o/u*100:1e20,$=b<=.1?1:.4*b**2-.08*b+1.004,x=$*w,x>=180?(_="-",j="-",E=10,M()):(S=.09+28e-5*x/(1-x/180),_=S*v,j=null,j=f>0?.65*p*(c/f)*g:1e20,da(j)&&j>0&&(E=_/j),da(E)&&E>10&&(E=10),_<0&&d.push(`CRR${kd(_)}<0`),j<=0&&d.push(`CSR${kd(j)}<=0`),E<0&&(d.push(`FS${kd(E)}<00`),E=0),M())}let Bd={SPT:{sptSeed:function(r){let{noLiqueMode:n="new",waterLevelDesign:e,soilClassification:t,depth:i,N60:u,FC:o,sv:a,svpUsual:s,svpDesign:l,PGA:f,Mw:c}=r,p=[],h="",d="",v="",g="",m="",y="",w="",b="",$="",x="",S="";function _(){let r={rrd:d,CN:v,N160:g,N172:m,CRR75:y,CRR:w,CSR:b,FS:$,vstrTS:x,vstrIY:S,err:jc(p,"; ")};return Fr(r,((n,e)=>{cs(n)||ps(n)||(r[e]="")})),r}let j=!1,E=!1;for(;;){if(!ps(i))return p.push(`depth${kd(i)}`),_();if(i=_s(i),i<0)return p.push(`depth${kd(i)}<0`),_();if("new"!==n&&"classic"!==n&&(p.push(`noLiqueMode${kd(n)}'new''classic''new'`),n="new"),ps(e)?(e=_s(e),e<0&&(p.push(`waterLevelDesign${kd(e)}<00(m)`),e=0)):(p.push(`waterLevelDesign${kd(e)}0(m)`),e=0),cs(t)||(p.push(`soilClassification${kd(t)}SW`),t="SW"),(i<e||Pd(t,n))&&(j=!0),i>20&&(j=!0),ps(u)?(u=_s(u),u<0&&(p.push(`N60${kd(u)}<0`),E=!0),u>=50&&(j=!0)):(p.push(`N60${kd(u)}`),E=!0),ps(o)?(o=_s(o),o<0&&(p.push(`FC${kd(o)}<0`),E=!0)):(p.push(`FC${kd(o)}`),E=!0),!ps(s))return p.push(`svpUsual${kd(s)}`),_();if(s=_s(s),s<0)return p.push(`svpUsual${kd(s)}<0`),_();if(!ps(l))return p.push(`svpDesign${kd(l)}`),_();if(l=_s(l),l<0)return p.push(`svpDesign${kd(l)}<0`),_();if(!ps(a))return p.push(`sv${kd(a)}`),_();if(a=_s(a),a<0)return p.push(`sv${kd(a)}<0`),_();if(!ps(f))return p.push(`PGA${kd(f)}`),_();if(f=_s(f),f<0)return p.push(`PGA${kd(f)}<0`),_();if(!ps(c))return p.push(`Mw${kd(c)}`),_();if(c=_s(c),c<0)return p.push(`Mw${kd(c)}<0`),_();break}if(!0===j)return p=[],w="-",b="-",$=10,_();if(!0===E)return _();h=(c/7.5)**-1.11,d=(1-.4113*i**.5+.04052*i+.001753*i**1.5)/(1-.4177*i**.5+.05729*i-.006205*i**1.5+.00121*i**2);let M=1e3*Ms.Pa;v=Math.min(Math.sqrt(M/s),1.7),g=v*u;let q=[{FC:5,data:[[0,.0496622],[2.65306,.0547297],[4.38776,.0628378],[6.02041,.0719595],[7.55102,.0831081],[8.97959,.100338],[10.5102,.114527],[12.2449,.131757],[13.5714,.146959],[14.7959,.161149],[16.1224,.177365],[17.7551,.193581],[19.1837,.211824],[20.7143,.232095],[22.0408,.248311],[23.2653,.265541],[24.5918,.285811],[25.6122,.307095],[26.4286,.327365],[27.2449,.347635],[27.9592,.372973],[28.3673,.398311],[28.7755,.423649],[28.9796,.444932],[29.2857,.473311],[29.3,.6],[100,100]]},{FC:15,data:[[0,.065],[1.63265,.068],[2.85714,.074],[3.87755,.082],[5.10204,.0932432],[6.22449,.110473],[7.44898,.123649],[8.57143,.136824],[9.69388,.151014],[10.9184,.164189],[11.9388,.178378],[13.0612,.192568],[13.8776,.203716],[14.6939,.214865],[16.1224,.232095],[17.551,.251351],[18.5714,.270608],[19.898,.288851],[20.7143,.308108],[21.4286,.327365],[22.0408,.347635],[22.449,.370946],[22.8571,.393243],[23.2653,.417568],[23.6735,.439865],[23.9796,.460135],[24.05,.483446],[24.0816,.515878],[24.1,.6],[100,101]]},{FC:35,data:[[0,.075],[1.32653,.082],[2.44898,.09],[3.26531,.0962838],[4.79592,.116554],[6.22449,.134797],[7.34694,.152027],[8.87755,.171284],[10.102,.185473],[11.4286,.20777],[13.2653,.228041],[14.5918,.247297],[15.7143,.267568],[16.7347,.287838],[17.7551,.313176],[18.6735,.343581],[19.1837,.364865],[19.6939,.382095],[20.102,.410473],[20.4082,.433784],[20.5102,.464189],[20.7143,.490541],[20.9184,.519932],[20.92,.6],[100,102]]}],R=cu(q,"FC");q=cu(q,(r=>{let n=cu(r.data,(r=>r[0])),e=cu(r.data,(r=>r[1]));return r.vx=n,r.vy=e,r}));let O=cu(q,(r=>{let n=Ad(r.vx,r.vy,g);return Oi(n,"err")?n.err:n}));if(y=Ad(R,O,o),Oi(y,"err")){if("out of x-range"!==y.err)return p.push(y.err),y="",_();{let r=y.data.ps,n=Gh(R),e=Lh(R);if(o>n)y=zd(r[el(r)-2],r[el(r)-1],o),p.push(` FC=${o} > FCMax=${n}2CRR75=${y}`);else{if(!(o<e))return p.push(""),y="",_();y=zd(r[0],r[1],o),y=Math.max(y,0),p.push(` FC=${o} < FCMin=${e}2CRR75=${y}`)}}}if(!da(y))return p.push(`CRR75${kd(y)}`),_();y>.6&&(p.push(`CRR75${kd(y)}0.60.6`),y=.6),w=y*h,b=null,b=l>0?a/l*.65*f*d:1e20,da(b)&&b>0&&($=w/b),da($)&&$>10&&($=10),w<0&&p.push(`CRR${kd(w)}<0`),b<=0&&p.push(`CSR${kd(b)}<=0`),$<0&&(p.push(`FS${kd($)}<00`),$=0),m=g/1.2;let D=Id(g,m,b,$);return p=[...p,...D.err],x=D.vstrTS,S=D.vstrIY,_()},sptHBF2012:r=>Ud(r=Nd(Nd({},r),{},{ver:"2012"})),sptHBF2017:r=>Ud(r=Nd(Nd({},r),{},{ver:"2017"})),sptNCEER:function(r){let{noLiqueMode:n="new",waterLevelDesign:e,soilClassification:t,depth:i,N60:u,FC:o,sv:a,svpUsual:s,svpDesign:l,PGA:f,Mw:c}=r,p=[],h="",d="",v="",g="",m="",y="",w="",b="",$="",x="",S="",_="",j="",E="";function M(){let r={rrd:d,alpha:v,beta:g,CN:m,N160:y,N160cs:w,N172:b,CRR75:$,CRR:x,CSR:S,FS:_,vstrTS:j,vstrIY:E,err:jc(p,"; ")};return Fr(r,((n,e)=>{cs(n)||ps(n)||(r[e]="")})),r}let q=!1,R=!1;for(;;){if(!ps(i))return p.push(`depth${kd(i)}`),M();if(i=_s(i),i<0)return p.push(`depth${kd(i)}<0`),M();if("new"!==n&&"classic"!==n&&(p.push(`noLiqueMode${kd(n)}'new''classic''new'`),n="new"),ps(e)?(e=_s(e),e<0&&(p.push(`waterLevelDesign${kd(e)}<00(m)`),e=0)):(p.push(`waterLevelDesign${kd(e)}0(m)`),e=0),cs(t)||(p.push(`soilClassification${kd(t)}SW`),t="SW"),(i<e||Pd(t,n))&&(q=!0),i>20&&(q=!0),ps(u)?(u=_s(u),u<0&&(p.push(`N60${kd(u)}<0`),R=!0),u>=50&&(q=!0)):(p.push(`N60${kd(u)}`),R=!0),ps(o)?(o=_s(o),o<0&&(p.push(`FC${kd(o)}<0`),R=!0)):(p.push(`FC${kd(o)}`),R=!0),!ps(s))return p.push(`svpUsual${kd(s)}`),M();if(s=_s(s),s<0)return p.push(`svpUsual${kd(s)}<0`),M();if(!ps(l))return p.push(`svpDesign${kd(l)}`),M();if(l=_s(l),l<0)return p.push(`svpDesign${kd(l)}<0`),M();if(!ps(a))return p.push(`sv${kd(a)}`),M();if(a=_s(a),a<0)return p.push(`sv${kd(a)}<0`),M();if(!ps(f))return p.push(`PGA${kd(f)}`),M();if(f=_s(f),f<0)return p.push(`PGA${kd(f)}<0`),M();if(!ps(c))return p.push(`Mw${kd(c)}`),M();if(c=_s(c),c<0)return p.push(`Mw${kd(c)}<0`),M();break}if(!0===q)return p=[],x="-",S="-",_=10,M();if(!0===R)return M();h=(c/7.5)**-2.56,d=(1-.4113*i**.5+.04052*i+.001753*i**1.5)/(1-.4177*i**.5+.05729*i-.006205*i**1.5+.00121*i**2),v=o<=5?0:o<=35?Math.exp(1.76-190/o**2):5,g=o<=5?1:o<=35?.99+o**1.5/1e3:1.2;let O=1e3*Ms.Pa;if(m=Math.min(Math.sqrt(O/s),1.7),y=m*u,w=v+g*y,w>=30)return x="-",S="-",_=10,M();$=(.04844+-.004721*w+6136e-7*w**2+-1673e-8*w**3)/(1+-.1248*w+.009578*w**2+-3285e-7*w**3+3714e-9*w**4),x=$*h,S=null,S=l>0?a/l*.65*f*d:1e20,da(S)&&S>0&&(_=x/S),da(_)&&_>10&&(_=10),x<0&&p.push(`CRR${kd(x)}<0`),S<=0&&p.push(`CSR${kd(S)}<=0`),_<0&&(p.push(`FS${kd(_)}<00`),_=0),b=y/1.2;let D=Id(y,b,S,_);return p=[...p,...D.err],j=D.vstrTS,E=D.vstrIY,M()},sptNJRA1996:r=>Td(r=Nd(Nd({},r),{},{ver:"1996"})),sptNJRA2017:r=>Td(r=Nd(Nd({},r),{},{ver:"2017"})),sptTY:function(r){let{noLiqueMode:n="new",waterLevelDesign:e,soilClassification:t,depth:i,a:u,n:o,Cr:a,Cs:s,N60:l,FC:f,sv:c,svpUsual:p,svpDesign:h,PGA:d,Mw:v}=r,g=[],m="",y="",w="",b="",$="",x="",S="",_="",j="",E="",M="",q="";function R(){let r={rrd:m,N160:S,N172:w,dNf:b,Na:$,CN:x,CRR75:"",CRR:_,CSR:j,FS:E,vstrTS:M,vstrIY:q,err:jc(g,"; ")};return Fr(r,((n,e)=>{cs(n)||ps(n)||(r[e]="")})),r}let O=!1,D=!1;for(;;){if(!ps(i))return g.push(`depth${kd(i)}`),R();if(i=_s(i),i<0)return g.push(`depth${kd(i)}<0`),R();if("new"!==n&&"classic"!==n&&(g.push(`noLiqueMode${kd(n)}'new''classic''new'`),n="new"),ps(e)?(e=_s(e),e<0&&(g.push(`waterLevelDesign${kd(e)}<00(m)`),e=0)):(g.push(`waterLevelDesign${kd(e)}0(m)`),e=0),cs(t)||(g.push(`soilClassification${kd(t)}SW`),t="SW"),(i<e||Pd(t,n))&&(O=!0),i>20&&(O=!0),ps(l)?(l=_s(l),l<0&&(g.push(`N60${kd(l)}<0`),D=!0),l>=50&&(O=!0)):(g.push(`N60${kd(l)}`),D=!0),ps(f)?(f=_s(f),f<0&&(g.push(`FC${kd(f)}<0`),D=!0)):(g.push(`FC${kd(f)}`),D=!0),!ps(p))return g.push(`svpUsual${kd(p)}`),R();if(p=_s(p),p<0)return g.push(`svpUsual${kd(p)}<0`),R();if(!ps(h))return g.push(`svpDesign${kd(h)}`),R();if(h=_s(h),h<0)return g.push(`svpDesign${kd(h)}<0`),R();if(!ps(c))return g.push(`sv${kd(c)}`),R();if(c=_s(c),c<0)return g.push(`sv${kd(c)}<0`),R();if(!ps(d))return g.push(`PGA${kd(d)}`),R();if(d=_s(d),d<0)return g.push(`PGA${kd(d)}<0`),R();if(!ps(v))return g.push(`Mw${kd(v)}`),R();if(v=_s(v),v<0)return g.push(`Mw${kd(v)}<0`),R();break}if(!0===O)return g=[],_="-",j="-",E=10,R();if(!0===D)return R();ps(u)||(u=.45),u=_s(u),ps(o)||(o=14),o=_s(o),ps(a)||(a=.57),a=_s(a),ps(s)||(s=85),s=_s(s),m=1-.015*i,y=l/1.2,x=170/(p+70),w=x*y,b=f<=5?0:f<=10?f-5:.1*f+4,$=w+b,_=u*a*(16*Math.sqrt($)/100+(16*Math.sqrt($)/s)**o),j=null,j=h>0?.1*(v-1)*d*(c/h)*m:1e20,da(j)&&j>0&&(E=_/j),da(E)&&E>10&&(E=10),_<0&&g.push(`CRR${kd(_)}<0`),j<=0&&g.push(`CSR${kd(j)}<=0`),E<0&&(g.push(`FS${kd(E)}<00`),E=0),S=w/(60/72);let N=Id(S,w,j,E);return g=[...g,...N.err],M=N.vstrTS,q=N.vstrIY,R()}},CPT:{cptHBF2012:r=>Gd(r=Nd(Nd({},r),{},{ver:"2012"})),cptHBF2017:r=>Gd(r=Nd(Nd({},r),{},{ver:"2017"})),cptHBF2021:r=>Gd(r=Nd(Nd({},r),{},{ver:"2021"})),cptNCEER1997:r=>function(r){let{ver:n="1997",waterLevelDesign:e,depth:t,qc:i,fs:u,u2:o,svp:a,svpUsual:s,svpDesign:l,sv:f,PGA:c,Mw:p}=r,h=[],d="",v="",g="",m="",y="",w="",b="",$="",x="",S="";function _(){ps(g)&&(g/=Cd),ps(w)&&(w/=Cd);let r={rrd:v,Qt1n:g,Ic:m,Kc:y,Qt1ncs:w,CRR75:b,CRR:$,CSR:x,FS:S,err:jc(h,"; ")};return Fr(r,((n,e)=>{cs(n)||ps(n)||(r[e]="")})),r}let j=!1,E=!1;for(;;){if("1997"!==n)return h.push(`ver${kd(n)}1997`),_();if(!ps(t))return h.push(`depth${kd(t)}`),_();if(t=_s(t),t<0)return h.push(`depth${kd(t)}<0`),_();if(ps(e)?(e=_s(e),e<0&&(h.push(`waterLevelDesign${kd(e)}<00(m)`),e=0)):(h.push(`waterLevelDesign${kd(e)}0(m)`),e=0),t<e&&(j=!0),t>20&&(j=!0),ps(i)?(i=_s(i),i<0&&(h.push(`qc${kd(i)}<0`),E=!0)):(h.push(`qc${kd(i)}`),E=!0),ps(u)?(u=_s(u),u<0&&(h.push(`fs${kd(u)}<0`),E=!0)):(h.push(`fs${kd(u)}`),E=!0),ps(o)?o=_s(o):(h.push(`u2${kd(o)}`),E=!0),ps(a)&&(a=_s(a),s=a,l=a),!ps(s))return h.push(`svpUsual${kd(s)}`),_();if(s=_s(s),s<0)return h.push(`svpUsual${kd(s)}<0`),_();if(!ps(l))return h.push(`svpDesign${kd(l)}`),_();if(l=_s(l),l<0)return h.push(`svpDesign${kd(l)}<0`),_();if(!ps(f))return h.push(`sv${kd(f)}`),_();if(f=_s(f),f<0)return h.push(`sv${kd(f)}<0`),_();if(!ps(c))return h.push(`PGA${kd(c)}`),_();if(c=_s(c),c<0)return h.push(`PGA${kd(c)}<0`),_();if(!ps(p))return h.push(`Mw${kd(p)}`),_();if(p=_s(p),p<0)return h.push(`Mw${kd(p)}<0`),_();break}if(!0===j)return h=[],$="-",x="-",S=10,_();if(!0===E)return _();f*=Cd,s*=Cd,l*=Cd,i=1e3*i*Cd,u=1e3*u*Cd,o=1e3*o*Cd,d=(p/7.5)**-2.56,v=(1-.4113*t**.5+.04052*t+.001753*t**1.5)/(1-.4177*t**.5+.05729*t-.006205*t**1.5+.00121*t**2);let M=null;M=s>0?(i-f)/s:1e20;let q=u/(i-f)*100,R=Math.sqrt((3.47-Math.log10(M))**2+(Math.log10(q)+1.22)**2);if(R<=2.6){let r=1e3*Ms.Pa;r*=Cd,g=s>0?i/r*(r/s)**.5:1e20;let n=Math.sqrt((3.47-Math.log10(g))**2+(Math.log10(q)+1.22)**2);n<=2.6?m=n:(g=s>0?i/r*(r/s)**.75:1e20,m=Math.sqrt((3.47-Math.log10(g))**2+(Math.log10(q)+1.22)**2))}else g=M,m=R;return m>=2.6?($="-",x="-",S=10,_()):(m<=1.64?y=1:(y=-.403*m**4+5.581*m**3-21.63*m**2+33.75*m-17.88,m<2.36&&q<.5&&(y=1)),w=y*g,w>=160?($="-",x="-",S=10,_()):(b=null,b=w<50?w/1e3*.833+.05:93*(w/1e3)**3+.08,$=b*d,x=null,x=l>0?.65*c*(f/l)*v:1e20,da(x)&&x>0&&(S=$/x),da(S)&&S>10&&(S=10),$<0&&h.push(`CRR${kd($)}<0`),x<=0&&h.push(`CSR${kd(x)}<=0`),S<0&&(h.push(`FS${kd(S)}<00`),S=0),_()))}(r=Nd(Nd({},r),{},{ver:"1997"})),cptRobertson2009:r=>function(r){let{ver:n="2009",waterLevelDesign:e,depth:t,coe_a:i,qc:u,fs:o,u2:a,svp:s,svpUsual:l,svpDesign:f,sv:c,tou_s:p,su:h,PGA:d,Mw:v}=r,g=[],m="",y="",w="",b="",$="",x="",S="",_="",j="",E="",M="",q="",R="",O="";function D(){let r={rrd:y,Kc:w,Kalpha:b,Fr:$,Ic:x,Icn:S,Qt:_,Qtn:j,Qtncs:E,CRR75:M,CRR:q,CSR:R,FS:O,err:jc(g,"; ")};return Fr(r,((n,e)=>{cs(n)||ps(n)||(r[e]="")})),r}let N=!1,C=!1;for(;;){if("2009"!==n)return g.push(`ver${kd(n)}2009`),D();if(!ps(t))return g.push(`depth${kd(t)}`),D();if(t=_s(t),t<0)return g.push(`depth${kd(t)}<0`),D();if(ps(i)?(i=_s(i),i<0&&(g.push(`coe_a${kd(i)}<00.8`),i=.8)):(g.push(`coe_a${kd(i)}0.8`),i=.8),ps(e)?(e=_s(e),e<0&&(g.push(`waterLevelDesign${kd(e)}<00(m)`),e=0)):(g.push(`waterLevelDesign${kd(e)}0(m)`),e=0),t<e&&(N=!0),t>20&&(N=!0),ps(u)?(u=_s(u),u<0&&(g.push(`qc${kd(u)}<0`),C=!0)):(g.push(`qc${kd(u)}`),C=!0),ps(o)?(o=_s(o),o<0&&(g.push(`fs${kd(o)}<0`),C=!0)):(g.push(`fs${kd(o)}`),C=!0),ps(a)?a=_s(a):(g.push(`u2${kd(a)}`),C=!0),ps(s)&&(s=_s(s),l=s,f=s),!ps(l))return g.push(`svpUsual${kd(l)}`),D();if(l=_s(l),l<0)return g.push(`svpUsual${kd(l)}<0`),D();if(!ps(f))return g.push(`svpDesign${kd(f)}`),D();if(f=_s(f),f<0)return g.push(`svpDesign${kd(f)}<0`),D();if(!ps(c))return g.push(`sv${kd(c)}`),D();if(c=_s(c),c<0)return g.push(`sv${kd(c)}<0`),D();if(!ps(p))return g.push(`tou_s${kd(p)}`),D();if(p=_s(p),p<0)return g.push(`tou_s${kd(p)}<0`),D();if(!ps(h))return g.push(`su${kd(h)}`),D();if(h=_s(h),h<0)return g.push(`su${kd(h)}<0`),D();if(!ps(d))return g.push(`PGA${kd(d)}`),D();if(d=_s(d),d<0)return g.push(`PGA${kd(d)}<0`),D();if(!ps(v))return g.push(`Mw${kd(v)}`),D();if(v=_s(v),v<0)return g.push(`Mw${kd(v)}<0`),D();break}if(!0===N)return g=[],q="-",R="-",O=10,D();if(!0===C)return D();let k=qs(t);k/=1e3;let P=bc({sv:c/1e3,svp:l/1e3,qc:u,fs:o,u0:k,u2:a},i,{useCnLeq:!1});$=Oi(P,"Fr",null),x=Oi(P,"Ic",null),S=Oi(P,"Icn",null),_=Oi(P,"Qt",null),j=Oi(P,"Qtn",null);let A=null;null===A&&da(S)&&(A=S),null===A&&da(x)&&(g.push("IcnIc"),A=x);let z=null;return null===z&&da(j)&&(z=j),null===z&&da(_)&&(g.push("QtnQt"),z=_),c*=Cd,l*=Cd,f*=Cd,u=1e3*u*Cd,o=1e3*o*Cd,a=1e3*a*Cd,m=(v/7.5)**-2.56,y=(1-.4113*t**.5+.04052*t+.001753*t**1.5)/(1-.4177*t**.5+.05729*t-.006205*t**1.5+.00121*t**2),E=null,M=null,A<=2.5?(A<=1.64?w=1:(w=-.403*A**4+5.581*A**3-21.63*A**2+33.75*A-17.88,A<2.36&&$<.5&&(w=1)),E=w*z,M=E<50?E/1e3*.833+.05:93*(E/1e3)**3+.08):A<2.7?(w=6e-7*A**16.76,E=w*z,M=E<50?E/1e3*.833+.05:93*(E/1e3)**3+.08):(b=1.344-.344/(1-p/h)**.638,E=b*z,M=.053*E),q=M*m,R=null,R=f>0?.65*d*(c/f)*y:1e20,da(R)&&R>0&&(O=q/R),da(O)&&O>10&&(O=10),q<0&&g.push(`CRR${kd(q)}<0`),R<=0&&g.push(`CSR${kd(R)}<=0`),O<0&&(g.push(`FS${kd(O)}<00`),O=0),D()}(r=Nd(Nd({},r),{},{ver:"2009"})),cptJuang2002:r=>function(r){let{ver:n="2002",waterLevelDesign:e,depth:t,qc:i,fs:u,u2:o,svp:a,svpUsual:s,svpDesign:l,sv:f,PGA:c,Mw:p}=r,h=[],d="",v="",g="",m="",y="",w="",b="",$="",x="";function S(){ps(g)&&(g/=Cd),ps(y)&&(y/=Cd);let r={rrd:v,qc1N:g,Ic:m,qc1Ncs:y,CRR75:w,CRR:b,CSR:$,FS:x,err:jc(h,"; ")};return Fr(r,((n,e)=>{cs(n)||ps(n)||(r[e]="")})),r}let _=!1,j=!1;for(;;){if("2002"!==n)return h.push(`ver${kd(n)}2002`),S();if(!ps(t))return h.push(`depth${kd(t)}`),S();if(t=_s(t),t<0)return h.push(`depth${kd(t)}<0`),S();if(ps(e)?(e=_s(e),e<0&&(h.push(`waterLevelDesign${kd(e)}<00(m)`),e=0)):(h.push(`waterLevelDesign${kd(e)}0(m)`),e=0),t<e&&(_=!0),t>20&&(_=!0),ps(i)?(i=_s(i),i<0&&(h.push(`qc${kd(i)}<0`),j=!0)):(h.push(`qc${kd(i)}`),j=!0),ps(u)?(u=_s(u),u<0&&(h.push(`fs${kd(u)}<0`),j=!0)):(h.push(`fs${kd(u)}`),j=!0),ps(o)?o=_s(o):(h.push(`u2${kd(o)}`),j=!0),ps(a)&&(a=_s(a),s=a,l=a),!ps(s))return h.push(`svpUsual${kd(s)}`),S();if(s=_s(s),s<0)return h.push(`svpUsual${kd(s)}<0`),S();if(!ps(l))return h.push(`svpDesign${kd(l)}`),S();if(l=_s(l),l<0)return h.push(`svpDesign${kd(l)}<0`),S();if(!ps(f))return h.push(`sv${kd(f)}`),S();if(f=_s(f),f<0)return h.push(`sv${kd(f)}<0`),S();if(!ps(c))return h.push(`PGA${kd(c)}`),S();if(c=_s(c),c<0)return h.push(`PGA${kd(c)}<0`),S();if(!ps(p))return h.push(`Mw${kd(p)}`),S();if(p=_s(p),p<0)return h.push(`Mw${kd(p)}<0`),S();break}if(!0===_)return h=[],b="-",$="-",x=10,S();if(!0===j)return S();f*=Cd,s*=Cd,l*=Cd,i=1e3*i*Cd,u=1e3*u*Cd,o=1e3*o*Cd,d=(p/7.5)**-2.56,v=(1-.4113*t**.5+.04052*t+.001753*t**1.5)/(1-.4177*t**.5+.05729*t-.006205*t**1.5+.00121*t**2);let E=null;i-f>0&&(E=u/(i-f)*100),g=null,s>0&&(g=i/Math.sqrt(s)),m=null,da(g)&&da(E)&&(m=Math.sqrt((3.47-Math.log10(g))**2+(Math.log10(E)+1.22)**2)),y=null,da(g)&&da(m)&&(y=g*(2.429*m**4-16.943*m**3+44.551*m**2-51.497*m+22.802));let M=-.016*(s/100)**3+.178*(s/100)**2-s/100*.063+.903;return w=null,da(M)&&da(y)&&(w=M*Math.exp(1.264*(y/100)**1.25-2.957)),b=null,da(w)&&da(d)&&(b=w*d),$=null,$=l>0?.65*c*(f/l)*v:1e20,da($)&&$>0&&(x=b/$),da(x)&&x>10&&(x=10),b<0&&h.push(`CRR${kd(b)}<0`),$<=0&&h.push(`CSR${kd($)}<=0`),x<0&&(h.push(`FS${kd(x)}<00`),x=0),S()}(r=Nd(Nd({},r),{},{ver:"2002"})),cptKuAndJuang2012:r=>function(r){let{ver:n="2012",waterLevelDesign:e,depth:t,coe_a:i,qc:u,fs:o,u2:a,svp:s,svpUsual:l,svpDesign:f,sv:c,PGA:p,Mw:h}=r,d=[],v="",g="",m="",y="",w="",b="",$="",x="",S="",_="",j="",E="",M="",q="",R="";function O(){let r={rrd:g,Fr:m,Bq:y,Ic:w,Icn:b,Qt:$,Qtn:x,Icbj:S,Csigma:_,Ksigma:j,CRR75:E,CRR:M,CSR:q,FS:R,err:jc(d,"; ")};return Fr(r,((n,e)=>{cs(n)||ps(n)||(r[e]="")})),r}let D=!1,N=!1;for(;;){if("2012"!==n)return d.push(`ver${kd(n)}2012`),O();if(!ps(t))return d.push(`depth${kd(t)}`),O();if(t=_s(t),t<0)return d.push(`depth${kd(t)}<0`),O();if(ps(i)?(i=_s(i),i<0&&(d.push(`coe_a${kd(i)}<00.8`),i=.8)):(d.push(`coe_a${kd(i)}0.8`),i=.8),ps(e)?(e=_s(e),e<0&&(d.push(`waterLevelDesign${kd(e)}<00(m)`),e=0)):(d.push(`waterLevelDesign${kd(e)}0(m)`),e=0),t<e&&(D=!0),t>20&&(D=!0),ps(u)?(u=_s(u),u<0&&(d.push(`qc${kd(u)}<0`),N=!0)):(d.push(`qc${kd(u)}`),N=!0),ps(o)?(o=_s(o),o<0&&(d.push(`fs${kd(o)}<0`),N=!0)):(d.push(`fs${kd(o)}`),N=!0),ps(a)?a=_s(a):(d.push(`u2${kd(a)}`),N=!0),ps(s)&&(s=_s(s),l=s,f=s),!ps(l))return d.push(`svpUsual${kd(l)}`),O();if(l=_s(l),l<0)return d.push(`svpUsual${kd(l)}<0`),O();if(!ps(f))return d.push(`svpDesign${kd(f)}`),O();if(f=_s(f),f<0)return d.push(`svpDesign${kd(f)}<0`),O();if(!ps(c))return d.push(`sv${kd(c)}`),O();if(c=_s(c),c<0)return d.push(`sv${kd(c)}<0`),O();if(!ps(p))return d.push(`PGA${kd(p)}`),O();if(p=_s(p),p<0)return d.push(`PGA${kd(p)}<0`),O();if(!ps(h))return d.push(`Mw${kd(h)}`),O();if(h=_s(h),h<0)return d.push(`Mw${kd(h)}<0`),O();break}if(!0===D)return d=[],M="-",q="-",R=10,O();if(!0===N)return O();let C=qs(t);C/=1e3;let k=bc({sv:c/1e3,svp:l/1e3,qc:u,fs:o,u0:C,u2:a},i,{useCnLeq:!0});m=Oi(k,"Fr",null),y=Oi(k,"Bq",null),w=Oi(k,"Ic",null),b=Oi(k,"Icn",null),$=Oi(k,"Qt",null),x=Oi(k,"Qtn",null);let P=null;null===P&&da(b)&&(P=b),null===P&&da(w)&&(d.push("IcnIc"),P=w);let A=null;null===A&&da(x)&&(A=x),null===A&&da($)&&(d.push("QtnQt"),A=$),c*=Cd,l*=Cd,f*=Cd,u=1e3*u*Cd,o=1e3*o*Cd,a=1e3*a*Cd,v=6.9*Math.exp(-h/4)-.058,v=Math.min(v,1.8);let z=-1.012-1.126*Math.sin(t/11.73+5.133),F=.106+.118*Math.sin(t/11.28+5.142);if(g=Math.exp(z+F*h),g=Math.min(g,1),S=null,!(da($)&&da(y)&&da(m)))return d.push("Ic(BJ)"),O();S=Math.sqrt((3-Math.log10($*(1-y)+1))**2+(Math.log10(m)+1.22)**2);let L=S*(A/100)-14.7,I=.909*S**3-7.47*S+19.28,U=.059+.015*S**2;E=.05+Math.exp(L+I*(A/100)**U),_=null,_=x<=37?.063:x<211?1/(37.3-8.27*x**.264):.3,_=Math.min(_,.3);let T=1e3*Ms.Pa;return T*=Cd,j=1-_*Math.log(l/T),j=Math.min(j,1),M=E*v*j,q=null,q=f>0?.65*p*(c/f)*g:1e20,da(q)&&q>0&&(R=M/q),da(R)&&R>10&&(R=10),M<0&&d.push(`CRR${kd(M)}<0`),q<=0&&d.push(`CSR${kd(q)}<=0`),R<0&&(d.push(`FS${kd(R)}<00`),R=0),O()}(r=Nd(Nd({},r),{},{ver:"2012"})),cptOlsen1997:r=>function(r){let{ver:n="1997",waterLevelDesign:e,depth:t,qc:i,fs:u,u2:o,svp:a,svpUsual:s,svpDesign:l,sv:f,PGA:c,Mw:p}=r,h=[],d="",v="",g="",m="",y="",w="",b="",$="";function x(){ps(g)&&(g/=Cd);let r={rrd:v,qc1:g,Rf:m,CRR75:y,CRR:w,CSR:b,FS:$,err:jc(h,"; ")};return Fr(r,((n,e)=>{cs(n)||ps(n)||(r[e]="")})),r}let S=!1,_=!1;for(;;){if("1997"!==n)return h.push(`ver${kd(n)}1997`),x();if(!ps(t))return h.push(`depth${kd(t)}`),x();if(t=_s(t),t<0)return h.push(`depth${kd(t)}<0`),x();if(ps(e)?(e=_s(e),e<0&&(h.push(`waterLevelDesign${kd(e)}<00(m)`),e=0)):(h.push(`waterLevelDesign${kd(e)}0(m)`),e=0),t<e&&(S=!0),t>20&&(S=!0),ps(i)?(i=_s(i),i<0&&(h.push(`qc${kd(i)}<0`),_=!0)):(h.push(`qc${kd(i)}`),_=!0),ps(u)?(u=_s(u),u<0&&(h.push(`fs${kd(u)}<0`),_=!0)):(h.push(`fs${kd(u)}`),_=!0),ps(o)?o=_s(o):(h.push(`u2${kd(o)}`),_=!0),ps(a)&&(a=_s(a),s=a,l=a),!ps(s))return h.push(`svpUsual${kd(s)}`),x();if(s=_s(s),s<0)return h.push(`svpUsual${kd(s)}<0`),x();if(!ps(l))return h.push(`svpDesign${kd(l)}`),x();if(l=_s(l),l<0)return h.push(`svpDesign${kd(l)}<0`),x();if(!ps(f))return h.push(`sv${kd(f)}`),x();if(f=_s(f),f<0)return h.push(`sv${kd(f)}<0`),x();if(!ps(c))return h.push(`PGA${kd(c)}`),x();if(c=_s(c),c<0)return h.push(`PGA${kd(c)}<0`),x();if(!ps(p))return h.push(`Mw${kd(p)}`),x();if(p=_s(p),p<0)return h.push(`Mw${kd(p)}<0`),x();break}return!0===S?(h=[],w="-",b="-",$=10,x()):(!0===_||(f*=Cd,s*=Cd,l*=Cd,i=1e3*i*Cd,u=1e3*u*Cd,o=1e3*o*Cd,d=(p/7.5)**-2.56,v=(1-.4113*t**.5+.04052*t+.001753*t**1.5)/(1-.4177*t**.5+.05729*t-.006205*t**1.5+.00121*t**2),g=s>0?i/s**.7:1e20,m=null,m=i>0?u/i*100:1e20,y=.00128*g-.025+.17*m-.028*m**2+.0016*m**3,w=y*d,b=null,b=l>0?.65*c*(f/l)*v:1e20,da(b)&&b>0&&($=w/b),da($)&&$>10&&($=10),w<0&&h.push(`CRR${kd(w)}<0`),b<=0&&h.push(`CSR${kd(b)}<=0`),$<0&&(h.push(`FS${kd($)}<00`),$=0)),x())}(r=Nd(Nd({},r),{},{ver:"1997"})),cptShibata1988:r=>function(r){let{ver:n="1988",waterLevelDesign:e,depth:t,qc:i,fs:u,u2:o,svp:a,svpUsual:s,svpDesign:l,sv:f,PGA:c,Mw:p,D50:h}=r,d=[],v="",g="",m="",y="",w="",b="",$="";function x(){ps(m)&&(m/=Cd),ps(y)&&(y/=Cd);let r={rrd:g,qc1:m,qc1cr:y,CRR75:"",CRR:w,CSR:b,FS:$,err:jc(d,"; ")};return Fr(r,((n,e)=>{cs(n)||ps(n)||(r[e]="")})),r}let S,_=!1,j=!1;for(;;){if("1988"!==n)return d.push(`ver${kd(n)}1988`),x();if(!ps(t))return d.push(`depth${kd(t)}`),x();if(t=_s(t),t<0)return d.push(`depth${kd(t)}<0`),x();if(ps(e)?(e=_s(e),e<0&&(d.push(`waterLevelDesign${kd(e)}<00(m)`),e=0)):(d.push(`waterLevelDesign${kd(e)}0(m)`),e=0),t<e&&(_=!0),t>20&&(_=!0),ps(i)?(i=_s(i),i<0&&(d.push(`qc${kd(i)}<0`),j=!0)):(d.push(`qc${kd(i)}`),j=!0),ps(u)?(u=_s(u),u<0&&(d.push(`fs${kd(u)}<0`),j=!0)):(d.push(`fs${kd(u)}`),j=!0),ps(o)?o=_s(o):(d.push(`u2${kd(o)}`),j=!0),ps(h)?(h=_s(h),h<0&&(d.push(`D50${kd(h)}<0`),j=!0)):(d.push(`D50${kd(h)}`),j=!0),ps(a)&&(a=_s(a),s=a,l=a),!ps(s))return d.push(`svpUsual${kd(s)}`),x();if(s=_s(s),s<0)return d.push(`svpUsual${kd(s)}<0`),x();if(!ps(l))return d.push(`svpDesign${kd(l)}`),x();if(l=_s(l),l<0)return d.push(`svpDesign${kd(l)}<0`),x();if(!ps(f))return d.push(`sv${kd(f)}`),x();if(f=_s(f),f<0)return d.push(`sv${kd(f)}<0`),x();if(!ps(c))return d.push(`PGA${kd(c)}`),x();if(c=_s(c),c<0)return d.push(`PGA${kd(c)}<0`),x();if(!ps(p))return d.push(`Mw${kd(p)}`),x();if(p=_s(p),p<0)return d.push(`Mw${kd(p)}<0`),x();break}if(!0===_)return d=[],w="-",b="-",$=10,x();if(!0===j)return x();f*=Cd,s*=Cd,l*=Cd,i=1e3*i*Cd,u=1e3*u*Cd,o=1e3*o*Cd,v=(p/7.5)**-2.56,g=1-.015*t,m=1.7/(s+.7)*i,S=h>=.25?1:h/.25;let E=null;E=l>0?.1*(v-1)*c*(f/l)*g:1e20;let M=null;return M=-.1!==E?(E-.1)/(E+.1):1e20,y=S*(50+200*M),y=Gh(y),w=m,b=y,da(b)&&b>0&&($=w/b),da($)&&$>10&&($=10),w<0&&d.push(`CRR${kd(w)}<0`),b<=0&&d.push(`CSR${kd(b)}<=0`),$<0&&(d.push(`FS${kd($)}<00`),$=0),x()}(r=Nd(Nd({},r),{},{ver:"1988"}))},VS:{vsHBF:function(r){let{waterLevelDesign:n,depth:e,Vs:t,FC:i,svpDesign:u,sv:o,PGA:a,Mw:s}=r,l=[],f="",c="",p="",h="",d="";function v(){let r={CRR75:c,CRR:p,CSR:h,FS:d,err:jc(l,"; ")};return Fr(r,((n,e)=>{cs(n)||ps(n)||(r[e]="")})),r}if(ps(n)||(l.push(`waterLevelDesign${kd(n)}0(m)`),n=0),n=_s(n),n<0&&(l.push(`waterLevelDesign${kd(n)}<00(m)`),n=0),!ps(e))return l.push(`depth${kd(e)}`),v();if(e=_s(e),e<0)return l.push(`depth${kd(e)}<0`),v();if(!ps(t))return l.push(`Vs${kd(t)}`),v();if(t=_s(t),t<0)return l.push(`Vs${kd(t)}<0`),v();if(!ps(i))return l.push(`FC${kd(i)}`),v();if(i=_s(i),i<0)return l.push(`FC${kd(i)}<0`),v();if(!ps(u))return l.push(`svpDesign${kd(u)}`),v();if(u=_s(u),u<0)return l.push(`svpDesign${kd(u)}<0`),v();if(!ps(o))return l.push(`sv${kd(o)}`),v();if(o=_s(o),o<0)return l.push(`sv${kd(o)}<0`),v();if(!ps(a))return l.push(`PGA${kd(a)}`),v();if(a=_s(a),a<0)return l.push(`PGA${kd(a)}<0`),v();if(!ps(s))return l.push(`Mw${kd(s)}`),v();if(s=_s(s),s<0)return l.push(`Mw${kd(s)}<0`),v();f=(s/7.5)**-3.3;let g,m=(1-.4113*e**.5+.04052*e+.001753*e**1.5)/(1-.4177*e**.5+.05729*e-.006205*e**1.5+.00121*e**2),y=1/Math.sqrt(u)*t;console.log("svpDesign,Vs"),g=i<=10?1:29e-5*i**2-.00355*i+1.00651;let w=g*(y-100);return w=Math.min(w,134.5),c=null,c=y<=100?.09:.09+22e-5*w/(1-w/135),p=c*f,h=null,h=u>0?.65*a*(o/u)*m:1e20,da(h)&&h>0&&(d=p/h),da(d)&&d>10&&(d=10),e>20?(p="-",h="-",d=10,v()):(p<0&&l.push(`CRR${kd(p)}<0`),h<=0&&l.push(`CSR${kd(h)}<=0`),d<0&&(l.push(`FS${kd(d)}<00`),d=0),v())},vsAndrus:function(r){let{waterLevelDesign:n,depth:e,Vs:t,FC:i,svpDesign:u,sv:o,PGA:a,Mw:s}=r,l=[],f="",c="",p="",h="";function d(){let r={CRR75:f,CRR:c,CSR:p,FS:h,err:jc(l,"; ")};return Fr(r,((n,e)=>{cs(n)||ps(n)||(r[e]="")})),r}if(ps(n)||(l.push(`waterLevelDesign${kd(n)}0(m)`),n=0),n=_s(n),n<0&&(l.push(`waterLevelDesign${kd(n)}<00(m)`),n=0),!ps(e))return l.push(`depth${kd(e)}`),d();if(e=_s(e),e<0)return l.push(`depth${kd(e)}<0`),d();if(!ps(t))return l.push(`Vs${kd(t)}`),d();if(t=_s(t),t<0)return l.push(`Vs${kd(t)}<0`),d();if(!ps(i))return l.push(`FC${kd(i)}`),d();if(i=_s(i),i<0)return l.push(`FC${kd(i)}<0`),d();if(!ps(u))return l.push(`svpDesign${kd(u)}`),d();if(u=_s(u),u<0)return l.push(`svpDesign${kd(u)}<0`),d();if(!ps(o))return l.push(`sv${kd(o)}`),d();if(o=_s(o),o<0)return l.push(`sv${kd(o)}<0`),d();if(!ps(a))return l.push(`PGA${kd(a)}`),d();if(a=_s(a),a<0)return l.push(`PGA${kd(a)}<0`),d();if(!ps(s))return l.push(`Mw${kd(s)}`),d();if(s=_s(s),s<0)return l.push(`Mw${kd(s)}<0`),d();let v,g=(s/7.5)**-3.3,m=(1-.4113*e**.5+.04052*e+.001753*e**1.5)/(1-.4177*e**.5+.05729*e-.006205*e**1.5+.00121*e**2),y=1/Math.sqrt(u)*t;return console.log("svpDesign,Vs"),v=i<=5?215:i<=35?215-.5*(i-5):200,f=.022*(y/100)**2+2.8*(1/(v-y)-1/v),f=Gh(f),c=f*g,p=null,p=u>0?.65*a*(o/u)*m:1e20,da(p)&&p>0&&(h=c/p),da(h)&&h>10&&(h=10),e>20?(c="-",p="-",h=10,d()):(c<0&&l.push(`CRR${kd(c)}<0`),p<=0&&l.push(`CSR${kd(p)}<=0`),h<0&&(l.push(`FS${kd(h)}<00`),h=0),d())},vsNCEER:function(r){let{waterLevelDesign:n,depth:e,Vs:t,FC:i,svpDesign:u,sv:o,PGA:a,Mw:s}=r,l=[],f="",c="",p="",h="";function d(){let r={CRR75:f,CRR:c,CSR:p,FS:h,err:jc(l,"; ")};return Fr(r,((n,e)=>{cs(n)||ps(n)||(r[e]="")})),r}if(ps(n)||(l.push(`waterLevelDesign${kd(n)}0(m)`),n=0),n=_s(n),n<0&&(l.push(`waterLevelDesign${kd(n)}<00(m)`),n=0),!ps(e))return l.push(`depth${kd(e)}`),d();if(e=_s(e),e<0)return l.push(`depth${kd(e)}<0`),d();if(!ps(t))return l.push(`Vs${kd(t)}`),d();if(t=_s(t),t<0)return l.push(`Vs${kd(t)}<0`),d();if(!ps(i))return l.push(`FC${kd(i)}`),d();if(i=_s(i),i<0)return l.push(`FC${kd(i)}<0`),d();if(!ps(u))return l.push(`svpDesign${kd(u)}`),d();if(u=_s(u),u<0)return l.push(`svpDesign${kd(u)}<0`),d();if(!ps(o))return l.push(`sv${kd(o)}`),d();if(o=_s(o),o<0)return l.push(`sv${kd(o)}<0`),d();if(!ps(a))return l.push(`PGA${kd(a)}`),d();if(a=_s(a),a<0)return l.push(`PGA${kd(a)}<0`),d();if(!ps(s))return l.push(`Mw${kd(s)}`),d();if(s=_s(s),s<0)return l.push(`Mw${kd(s)}<0`),d();let v,g=(s/7.5)**-3.3,m=(1-.4113*e**.5+.04052*e+.001753*e**1.5)/(1-.4177*e**.5+.05729*e-.006205*e**1.5+.00121*e**2),y=1/Math.sqrt(u)*t;return console.log("svpDesign"),v=i<=5?220:i<=35?210:200,f=.03*(y/100)**2+.9*(1/(v-y)-1/v),f=Gh(f),c=f*g,p=null,p=u>0?.65*a*(o/u)*m:1e20,da(p)&&p>0&&(h=c/p),da(h)&&h>10&&(h=10),e>20?(c="-",p="-",h=10,d()):(c<0&&l.push(`CRR${kd(c)}<0`),p<=0&&l.push(`CSR${kd(p)}<=0`),h<0&&(l.push(`FS${kd(h)}<00`),h=0),d())}}};let Qd={mLiques:Bd,mSettls:{SPT:{sptVolumetricStrainTokimatsuAndSeed:Fd,sptVolumetricStrainIshiharaAndYoshimine:Ld}},calc:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",n=arguments.length>1?arguments[1]:void 0;function e(r){let n=Oi(r,0,[]);return Er(n)}if(!of(n))throw new Error("");if(!cs(r))throw new Error("kind()");if("SPT"!==r&&"CPT"!==r&&"VS"!==r)throw new Error(`kind()${kd(r)}: SPT, CPT, VS`);n=ca(n);let t=lh(n);if(el(t)>0)throw new Error(jc(t,", "));n=Tl(n,(r=>_s(r.depthStart)));let i=Oi(n,"0.waterLevelUsual",0),u=Oi(n,"0.waterLevelDesign",0),o=Oi(n,"0.Mw",""),a=Oi(n,"0.PGA",""),s=Oi(n,"0.vibrationType","");return n=function(r,n,e,t,i,u,o){o=cu(o,((r,n)=>(r.Mw=t,r.PGA=i,r.vibrationType=u,r))),n=_s(n),e=_s(e),o=function(r,n,e,t){return e=_s(e),t=_s(t),cu(r,((r,n)=>{let i=Oi(r,"err","");r.waterLevelUsual=e,r.waterLevelDesign=t;let u=Oi(r,"depthStart",null),o=Oi(r,"depthEnd",null);if(ps(u)&&ps(o)){u=_s(u),o=_s(o);let n=(u+o)/2;r.depth=n}else r.depth="";let a=Oi(r,"e",null),s=Oi(r,"GS",null),l=Od(Oi(r,"rd",null),Oi(r,"rsat",null),s,a);return Oi(l,"err")&&(""===i?i=l.err:i.indexOf(l.err)<0&&(i+=`, ${l.err}`),r.err=i),da(l.rd)?r.rd=l.rd:r.rd="",da(l.rsat)?r.rsat=l.rsat:r.rsat="",da(l.GS)?r.GS=l.GS:r.GS="",da(l.e)?r.e=l.e:r.e="",r}))}(o,0,n,e);let a=!0;return Fr(o,(r=>{let n=ps(r.sv),e=ps(r.svp),t=ps(r.svpUsual)&&ps(r.svpDesign);if(!(n&&(e||t)))return a=!1,!1})),o=a?cu(o,((r,t)=>{r.waterLevelUsual=n,r.waterLevelDesign=e;let i=Oi(r,"depthStart",null),u=Oi(r,"depthEnd",null);if(!ps(i))throw new Error(` ${t} (depthStart): ${i}`);if(!ps(u))throw new Error(` ${t} (depthEnd): ${u}`);return i=_s(i),u=_s(u),r.depth=(u+i)/2,r})):ph(o,{waterLevelUsual:n,waterLevelDesign:e})}(0,i,u,o,a,s,n),n=cu(n,((n,e)=>function(r,n){return n=ca(n),Fr(Bd[r],((r,e)=>{let t=r(n);Fr(t,((r,t)=>{n[`${e}-${t}`]=r}))})),n}(r,n))),"SPT"===r&&(n=function(r){let n=e(r=ca(r));return Fr(n,(n=>{if(n.indexOf("-FS")>=0){let e=n.replace("-FS",""),t=0;r=cu(r,((r,i)=>{if(ps(r.depthStart)&&ps(r.depthEnd)&&ps(r.depth)&&ps(r[n])){let e=_s(r.depthStart),i=_s(r.depthEnd),u=_s(r.depth),o=_s(r[n]),a=1-Math.min(Math.max(o,0),1);t+=a*(10-.5*u)*(i-e)}return r[`${e}-PL`]=t,r}))}})),r}(n)),"SPT"===r&&(n=function(r){let n=e(r=ca(r));return Fr(n,(n=>{if(n.indexOf("-vstr")>=0){let e=ud(n,"-vstr"),t=Oi(e,0,""),i=Oi(e,1,""),u=0;r=cu(r,((r,e)=>{if(ps(r.depthStart)&&ps(r.depthEnd)&&ps(r[n])){let e=_s(r.depthStart),t=_s(r.depthEnd),i=_s(r[n])/100;u+=i*(t-e)}return r[`${t}-stl${i}`]=u,r}))}})),r}(n)),n=cu(n,(n=>{let e={},t=Qh(r),i=el(t);return Fr(n,((r,n)=>{od(n,i)!==t&&(e[n]=r)})),Fr(Bd[r],((r,t)=>{let i=el(t),u="",o="";Fr(n,((r,n)=>{od(n,i)===t&&("-err"===function(r,n){if(!cs(r))return"";if(!wf(n))return"";if(0===(n=yf(n)))return"";let e=r.length-n;return e<0&&(e=0),r.substr(e,n)}(n,4)?(u=n,o=r):e[n]=r)})),""!==u&&(e[u]=o)})),e})),Fr(n,((r,e)=>{Fr(r,((r,t)=>{cs(r)||ps(r)||(n[e][t]="")}))})),n}};function Vd(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=[];if(!of(r))return e;let t=Oi(n,"keyDepth");return cs(t)||(t="depth"),r=ca(r),Fr(r,((r,n)=>{let i=Oi(r,t,null);ps(i)||e.push(` ${n} ${t}[${i}]`)})),el(e)>0||(r=Tl(r,(r=>_s(r[t]))),Fr(r,((n,i)=>{if(0===i)return!0;let u=Oi(r,`${i-1}.${t}`,null),o=Oi(n,t,null);u=_s(u),o=_s(o),sh(u,">=",o)&&e.push(` ${i-1} ${t}[${u}] ${i} ${t}[${o}]`)}))),e}var Zd=wu,Hd=Si,Wd=U,Yd=gr,Kd=ji;var Jd=function(r,n,e,t){if(!Yd(r))return r;for(var i=-1,u=(n=Hd(n,r)).length,o=u-1,a=r;null!=a&&++i<u;){var s=Kd(n[i]),l=e;if("__proto__"===s||"constructor"===s||"prototype"===s)return r;if(i!=o){var f=a[s];void 0===(l=t?t(f,s,a):void 0)&&(l=Yd(f)?f:Wd(n[i+1])?[]:{})}Zd(a,s,l),a=a[s]}return r};var Xd=function(r,n,e){return null==r?r:Jd(r,n,e)};function rv(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),e.push.apply(e,t)}return e}function nv(r){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?rv(Object(e),!0).forEach((function(n){t(r,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):rv(Object(e)).forEach((function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))}))}return r}function ev(r,n,e){let t=Oi(r,`${e}.${n}`);return t=ps(t)?_s(t):null,t}function tv(r,n,e,t,i,u){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=Oi(o,"dir");"before"!==a&&"after"!==a&&(a="after");let s=Oi(o,"searchMode");if("all"!==s&&"no"!==s&&"peak"!==s&&"half-closed-value"!==s&&"double-closed-value"!==s&&"closed-value"!==s&&(s="all"),0===el(r))return null;if("no"===s)return{k:t,depth:Oi(r,`${t}.${n}`),value:Oi(r,`${t}.${e}`)};if(!ps(u))return{k:t,depth:Oi(r,`${t}.${n}`),value:Oi(r,`${t}.${e}`)};let l=ev(r,n,t),f=[];if("after"===a)for(let u=t+1;u<el(r)-1;u++){let t=ev(r,n,u),o=ev(r,e,u),a=Math.abs(t-l)>i;f.push({k:u,depth:t,value:o,outRange:a})}else for(let u=t-1;u>0;u--){let t=ev(r,n,u),o=ev(r,e,u),a=Math.abs(t-l)>i;f.push({k:u,depth:t,value:o,outRange:a})}let c=[];for(let r=0;r<f.length;r++){let n=f[r];if(da(n.depth)){if(n.outRange&&el(c)>0)break;da(n.value)&&c.push(n)}}if(0===el(c))return null;if("all"===s||"peak"===s)for(let r=1;r<c.length-1;r++){let n=c[r-1],e=c[r+0],t=c[r+1],i=1;if(0!==u&&(i=e.value/u),e.value>=n.value&&e.value>=t.value&&n.value!==t.value&&i>.5&&i<2)return{k:e.k,depth:e.depth,value:e.value}}if("all"===s||"closed-value"===s){let r=1e20,n=null;for(let e=0;e<c.length;e++){let t=c[e+0];if(t.outRange)break;let i=Math.abs(t.value-u);r>i&&(r=i,n={k:t.k,depth:t.depth,value:t.value})}if(null!==n)return n}let p=null;if("all"===s||"half-closed-value"===s){let r=1e20,n=null;for(let e=0;e<c.length;e++){let t=c[e+0],i=Math.abs(t.value-u/2);r>i&&(r=i,n={diff:r,k:t.k,depth:t.depth,value:t.value})}null!==n&&(p=n)}let h=null;if("all"===s||"double-closed-value"===s){let r=1e20,n=null;for(let e=0;e<c.length;e++){let t=c[e+0],i=Math.abs(t.value-1.5*u);r>i&&(r=i,n={diff:r,k:t.k,depth:t.depth,value:t.value})}null!==n&&(h=n)}if(null!==p&&null===h)return delete p.diff,p;if(null===p&&null!==h)return delete h.diff,h;if(null===p&&null===h){let r=null;return r=p.diff<=h.diff?p:h,delete r.diff,r}return null}function iv(r,n){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),e.push.apply(e,t)}return e}function uv(r){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?iv(Object(e),!0).forEach((function(n){t(r,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):iv(Object(e)).forEach((function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))}))}return r}var ov=ja;var av=function(r,n){return!!(null==r?0:r.length)&&ov(r,n,0)>-1};var sv=function(r,n,e){for(var t=-1,i=null==r?0:r.length;++t<i;)if(e(n,r[t]))return!0;return!1};var lv=ut,fv=function(){},cv=lv&&1/Oe(new lv([,-0]))[1]==1/0?function(r){return new lv(r)}:fv,pv=xe,hv=av,dv=sv,vv=Se,gv=cv,mv=Oe;var yv=function(r,n,e){var t=-1,i=hv,u=r.length,o=!0,a=[],s=a;if(e)o=!1,i=dv;else if(u>=200){var l=n?null:gv(r);if(l)return mv(l);o=!1,i=vv,s=new pv}else s=n?[]:a;r:for(;++t<u;){var f=r[t],c=n?n(f):f;if(f=e||0!==f?f:0,o&&c==c){for(var p=s.length;p--;)if(s[p]===c)continue r;n&&s.push(c),a.push(f)}else i(s,c,e)||(s!==a&&s.push(c),a.push(f))}return a},wv=yv;var bv=function(r){return r&&r.length?wv(r):[]};r._share=Es,r.calcCpt=$c,r.calcCptClassify=hc,r.calcCptUnitWeight=function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(ps(n)||(n=gh),n=_s(n),n<=0)throw new Error(`rsatIni[${n}]<=0`);let t=Oi(e,"keyDepth");cs(t)||(t="depth");let i=Oi(e,"keyDepthStart");cs(i)||(i="depthStart");let u=Oi(e,"keyDepthEnd");cs(u)||(u="depthEnd");let o=Oi(e,"coe_a");ps(o)||(o=.8),o=_s(o),r=gc(r=ca(r));let a=Oi(r,`0.${t}`),s=Oi(r,`0.${i}`),l=Oi(r,`0.${u}`);return!ps(a)||ps(s)||ps(l)?!ps(a)&&ps(s)&&ps(l)&&(r=cu(r,((r,n)=>{let e=Oi(r,i),o=Oi(r,u);if(!ps(e)||!ps(o))throw console.log(n,r),new Error(` ${n} (${i})(${u})`);{e=_s(e),o=_s(o);let n=(e+o)/2;r[t]=n}return r}))):r=hh(r,e),r=cu(r,(r=>(r.rsat=n,r))),r=function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=Oi(n,"waterLevel");ps(e)||(e=0),e=_s(e);let t=Oi(n,"rdiff");ps(t)||(t=3),t=_s(t);let i=e,u=e;return r=ca(r),r=cu(r,((r,n)=>{let e=Oi(r,"rsat");if(!ps(e))throw console.log("stress",n,r),new Error("stress: rsat");e=_s(e);let i=e-t;return r.rsat=e,r.rd=i,r})),r=ph(r,vh(vh({},n),{},{waterLevelUsual:i,waterLevelDesign:u})),cu(r,(r=>{let n=Oi(r,"svpUsual");return r.svp=n,r.sv/=1e3,r.svp/=1e3,delete r.svpUsual,delete r.svpDesign,delete r.waterLevelUsual,delete r.waterLevelDesign,r}))}(r=cu(r,(r=>{let n=qs(r.depth);return n/=1e3,r.u0=n,r})),e),r=function(r,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Oi(e,"countMax");cf(t)||(t=100),t=yf(t);let i=-1,u=!0,o=r;for(;u;){i++;let r=yh(o,n,e);if(u=r.bUpdate,o=r.ltdt,i>=t)break}return o}(r,o,e),r},r.calcDepthStartEndByConnect=function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=[];if(!of(r))throw new Error("");let t=Oi(n,"keyDepthStart");cs(t)||(t="depthStart");let i=Oi(n,"keyDepthEnd");cs(i)||(i="depthEnd");let u=Oi(n,"depthEndMax");if(u=ps(u)?_s(u):null,r=ca(r),Fr(r,((r,n)=>{let u=Oi(r,t,null),o=Oi(r,i,null);ps(u)||e.push(` ${n} ${t}[${u}]`),ps(o)||e.push(` ${n} ${i}[${o}]`)})),el(e)>0)throw new Error(jc(e,", "));if(r=Tl(r,(r=>_s(r[t]))),Fr(r,((n,u)=>{if(0===u)return!0;let o=Oi(r,`${u-1}.${i}`,null),a=Oi(n,t,null);o=_s(o),a=_s(a),sh(o,">",a)&&e.push(` ${u-1} ${i}[${o}] ${u} ${t}[${a}]`)})),el(e)>0)throw new Error(jc(e,", "));if(Fr(r,((n,e)=>{if(0===e)return!0;let u=Oi(r,`${e-1}.${i}`,null),o=Oi(n,t,null);if(u=_s(u),o=_s(o),sh(u,"<",o)){let n=(u+o)/2;r[e-1][i]=n,r[e+0][t]=n}})),da(u)){let n=el(r)-1;sh(r[n][i],"<",u)&&(r[n][i]=u)}return r},r.calcDepthStartEndByGroup=function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=[];if(!of(r))throw new Error("");let t=Oi(n,"keyDepth");cs(t)||(t="depth");let i=Oi(n,"keyGroup");cs(i)||(i="group");let u=Oi(n,"keyDepthStart");cs(u)||(u="depthStart");let o=Oi(n,"keyDepthEnd");cs(o)||(o="depthEnd");let a=Oi(n,"depthEndMax");if(a=ps(a)?_s(a):null,r=ca(r),Fr(r,((r,n)=>{let u=Oi(r,t,null);ps(u)||e.push(` ${n} ${t}[${u}]`);let o=Oi(r,i,"");cs(o)||ps(o)||e.push(` ${n} ${i}[${o}]`)})),el(e)>0)throw new Error(jc(e,"; "));if(r=Tl(r,(r=>_s(r[t]))),Fr(r,((n,i)=>{if(0===i)return!0;let u=Oi(r,`${i-1}.${t}`,null),o=Oi(n,t,null);u=_s(u),o=_s(o),sh(u,">=",o)&&e.push(` ${i-1} ${t}[${u}] ${i} ${t}[${o}]`)})),el(e)>0)throw new Error(jc(e,"; "));let s={};Fr(r,(r=>{let n=r[i];s[n]=!0}));let l=Er(s);if(0===el(l))throw new Error("");r=hh(r,{keyDepth:t,keyDepthStart:u,keyDepthEnd:o,depthEndMax:a});let f=ca(r),c=-1;for(;c++,!(c>=el(r)-1);){let n=Oi(r,c),e=Oi(r,c+1);Oi(n,i,"g1")===Oi(e,i,"g2")&&(r[c][o]=r[c+1][o],Ch(r,c+1),c--)}let p=cu(r,(r=>({[i]:r[i],[u]:r[u],[o]:r[o]})));return p=cu(p,(r=>{let n=r[u],e=r[o],i=[],a=[];return Fr(f,((r,u)=>{let o=r[t];if(sh(o,">=",n)&&sh(o,"<=",e)&&(i.push(u),a.push(r)),sh(o,">",e))return!1})),r.rows=ca(a),Ch(f,i),r})),p},r.calcDepthStartEndFromCenter=hh,r.calcLiquefaction=Qd,r.calcVerticalStress=ph,r.checkDepth=Vd,r.checkDepthStartEnd=lh,r.cnst=Ms,r.complementDepthData=function(r,n,e,t){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!cs(n))throw new Error("invalid keyDepth");if(!cs(e))throw new Error("invalid keyValue");if(!of(t))throw new Error("invalid keysValueCmp");r=ca(r);let u=Oi(i,"searchLen");ps(u)||(u=.5);let o=Oi(i,"beforeSearchMode");"all"!==o&&"no"!==o&&"peak"!==o&&"half-closed-value"!==o&&"double-closed-value"!==o&&"closed-value"!==o&&(o="no");let a=Oi(i,"afterSearchMode");"all"!==a&&"no"!==a&&"peak"!==a&&"half-closed-value"!==a&&"double-closed-value"!==a&&"closed-value"!==a&&(a="all");let s=Oi(i,"cmpMode");"linear-fill"!==s&&"cut"!==s&&(s="linear-fill");let l=function(r,n,e){let t=[];return Fr(r,((i,u)=>{if(0===u)return!0;let o=ev(r,n,u-1),a=ev(r,e,u-1),s=ev(r,e,u);ps(a)&&!ps(s)&&t.push({k:u-1,depth:o,value:a})})),t}(r,n,e);return Fr(l,(i=>{let l=null;if(l=function(r,n,e,t,i,u){return tv(r,n,e,t,i,u,nv({dir:"before"},arguments.length>6&&void 0!==arguments[6]?arguments[6]:{}))}(r,n,e,i.k,u,Oi(i,"value"),{searchMode:o}),null===l)return!0;let f=null;if(f=function(r,n,e,t,i,u){return tv(r,n,e,t,i,u,nv({dir:"after"},arguments.length>6&&void 0!==arguments[6]?arguments[6]:{}))}(r,n,e,i.k,u,Oi(l,"value")||Oi(i,"value"),{searchMode:a}),null===f)return!0;"linear-fill"===s?r=function(r,n,e,t){if(e===t)return;if(e>t)throw new Error("k0 > k1");let i=ca(r);return Fr(n,(n=>{let u=ev(r,n,e),o=ev(r,n,t),a=t-e;for(let r=e;r<=t;r++)Xd(i,`${r}.${n}`,(t-r)/a*u+(r-e)/a*o)})),i}(r,t,l.k,f.k):"cut"===s&&(r=function(r,n,e,t){if(e===t)return;if(e>t)throw new Error("k0 > k1");let i=ca(r);return Fr(n,(r=>{for(let n=e;n<=t;n++)Xd(i,`${n}.${r}`,"")})),i}(r,t,l.k,f.k))})),r},r.groupByDepthStartEnd=function(r,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=[];if(!of(r))throw new Error("");if(!of(n)&&!os(n))throw new Error("");let i=Oi(e,"keyDepth");cs(i)||(i="depth");let u=Oi(e,"keyDepthStart");cs(u)||(u="depthStart");let o=Oi(e,"keyDepthEnd");if(cs(o)||(o="depthEnd"),r=ca(r),Fr(r,((r,n)=>{let e=Oi(r,i,null);ps(e)||t.push(` ${n} ${i}[${e}]`)})),el(t)>0)throw new Error(jc(t,"; "));let a=Vd(r=Tl(r,(r=>_s(r[i]))),{keyDepth:i});if(el(a)>0)throw new Error(jc(a,", "));if(os(n)&&(n=[n]),Fr(n,((r,n)=>{let e=Oi(r,u,null),i=Oi(r,o,null);ps(e)||t.push(` ${n} ${u}[${e}]`),ps(i)||t.push(` ${n} ${o}[${i}]`)})),el(t)>0)throw new Error(jc(t,"; "));if(Fr(n,((r,e)=>{let i=Oi(r,u,null),a=Oi(r,o,null);if(i=_s(i),a=_s(a),sh(i,">",a)&&t.push(` ${e} ${u}[${i}]${o}[${a}]`),0===e)return!0;let s=Oi(n,e-1),l=Oi(s,o,null);l=_s(l),sh(l,">",i)&&t.push(` ${e} ${o}[${l}] ${e+1} ${u}[${i}]`)})),el(t)>0)throw new Error(jc(t,"; "));let s=ca(r),l=ca(n);return l=cu(l,((r,n)=>{let e=Oi(r,u,null),t=Oi(r,o,null);e=_s(e),t=_s(t);let a=[],l=[];return Fr(s,((r,n)=>{let u=r[i];if(sh(u,">=",e)&&sh(u,"<=",t)&&(a.push(n),l.push(r)),sh(u,">",t))return!1})),r.rows=ca(l),Ch(s,a),r})),l},r.intrpDefParam=Os,r.judge=sh,r.mergeByDepthStartEnd=function(r){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!of(r))throw new Error("");let e=Oi(n,"keyDepthStart");cs(e)||(e="depthStart");let t=Oi(n,"keyDepthEnd");cs(t)||(t="depthEnd");let i=Oi(n,"keyValue");cs(i)||(i="value");let u=Oi(n,"funMerge"),o=Oi(n,"typeMerge");"up"!==o&&"down"!==o&&(o="down");let a=lh(r=ca(r),{keyDepthStart:e,keyDepthEnd:t});if(el(a)>0)throw new Error(jc(a,", "));let s=r=>{let n=!1;for(let a=1;a<el(r);a++){let s=r[a-1],l=r[a],f=Oi(s,e,null),c=Oi(s,i,null),p=Oi(l,t,null),h=Oi(l,i,null);if(null!==c&&null!==h&&c===h){let i=null;if(is(u)){if(i=u(s,l),!os(i))throw new Error(`funMerge[${i}]`)}else"up"===o?i=uv(uv({},l),s):"down"===o&&(i=uv(uv({},s),l));i[e]=f,i[t]=p,(r=ca(r))[a-1]=i,Ch(r,a),n=!0;break}}return{merge:n,rows:r}},l=s(r=Tl(r,(r=>_s(r[e]))));for(;l.merge;)l=s(r),r=l.rows;return r},r.relaPlasticityParams=function(r,n,e){let t={};function i(){let i,u,o,a=!1;return da(r)&&da(e)&&r<=e&&(t.ck_LL_PL=`[${r}]<=[${e}]`),da(r)&&da(n)&&(i=r-n),da(i)&&(da(e)?i<=0?t.ck_PL=`[${i}]<=0`:i>=100?t.ck_PL=`[${i}]>=100`:Math.abs(e-i)>i/100*5&&(t.ck_PL=`[${e}][${i}]`):(e=i,a=!0)),da(r)&&da(e)&&(u=r-e),da(u)&&(da(n)?u<=0?t.ck_PI=`[${u}]<=0`:u>=100?t.ck_PI=`[${u}]>=100`:Math.abs(n-u)>u/100*5&&(t.ck_PI=`[${n}][${u}]`):(n=u,a=!0)),da(e)&&da(n)&&(o=e+n),da(o)&&(da(r)?o<=0?t.ck_LL=`[${o}]<=0`:o>=100?t.ck_LL=`[${o}]>=100`:Math.abs(r-o)>o/100*5&&(t.ck_LL=`[${r}][${o}]`):(r=o,a=!0)),a}ps(r)?(r=_s(r))<=0&&(t.LL=`[${r}]<=0`):r=null,ps(e)?(e=_s(e))<=0&&(t.PL=`[${e}]<=0`):e=null,ps(n)?(n=_s(n))<=0&&(t.PI=`[${n}]<=0`):n=null;let u=0;if(u+=ps(r)?1:0,u+=ps(e)?1:0,u+=ps(n)?1:0,u>=2){let r=i();for(;r;)r=i()}let o={LL:r,PL:e,PI:n};if(os(t)){let r=jc(gd(t),", ");o.err=r}return o},r.relaPorousParams=Od,r.sepDepthStartEndByDepth=function(r,n){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!of(r))throw new Error("");if(!of(n))return r;let t=Oi(e,"keyDepthStart");cs(t)||(t="depthStart");let i=Oi(e,"keyDepthEnd");cs(i)||(i="depthEnd");let u=Oi(e,"keyDepth");cs(u)||(u="depth");let o=lh(r=ca(r),{keyDepthStart:t,keyDepthEnd:i});if(el(o)>0)throw new Error(jc(o,", "));r=Tl(r,(r=>_s(r[t])));let a=Vd(n,{keyDepth:u});if(el(a)>0)throw new Error(jc(a,", "));let s=cu(n,(r=>r[u]));s=bv(s);let l=(r,n)=>(r=ca(r),Fr(r,((e,u)=>{let o=Oi(e,t,null),a=Oi(e,i,null);if(o=_s(o),a=_s(a),sh(n,">",o)&&sh(n,"<",a)){let o=ca(e),a=ca(e);return o[i]=n,a[t]=n,Ch(r,u),r=function(r,n,e){if(!tf(r))return[];if(tf(e)||(e=[e]),!wf(n))return r;if((n=yf(n))>el(r))return r;let t=r;try{t=[...r.slice(0,n),...e,...r.slice(n)]}catch(r){}return t}(r,u,[o,a]),!1}})),r);return Fr(s,(n=>{r=l(r,n)})),r},r.smoothDepthByKey=Hf}));
//# sourceMappingURL=w-geo.umd.js.map
