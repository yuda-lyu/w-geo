/*!
 * w-geo v1.0.45
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((t="undefined"!=typeof globalThis?globalThis:t||self)["w-geo"]={})}(this,(function(t){"use strict";var r=function(t,r){for(var n=-1,e=null==t?0:t.length;++n<e&&!1!==r(t[n],n,t););return t};var n=function(t){return function(r,n,e){for(var i=-1,a=Object(r),s=e(r),o=s.length;o--;){var h=s[t?o:++i];if(!1===n(a[h],h,a))break}return r}}();var e=function(t,r){for(var n=-1,e=Array(t);++n<t;)e[n]=r(n);return e};function i(t){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(t){var r={exports:{}};return t(r,r.exports),r.exports}var o="object"==i(a)&&a&&a.Object===Object&&a,h="object"==("undefined"==typeof self?"undefined":i(self))&&self&&self.Object===Object&&self,u=o||h||Function("return this")(),c=u.Symbol,l=Object.prototype,f=l.hasOwnProperty,p=l.toString,v=c?c.toStringTag:void 0;var d=function(t){var r=f.call(t,v),n=t[v];try{t[v]=void 0;var e=!0}catch(t){}var i=p.call(t);return e&&(r?t[v]=n:delete t[v]),i},M=Object.prototype.toString;var g=function(t){return M.call(t)},m=c?c.toStringTag:void 0;var y=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":m&&m in Object(t)?d(t):g(t)};var w=function(t){return null!=t&&"object"==i(t)};var _=function(t){return w(t)&&"[object Arguments]"==y(t)},b=Object.prototype,x=b.hasOwnProperty,S=b.propertyIsEnumerable,N=_(function(){return arguments}())?_:function(t){return w(t)&&x.call(t,"callee")&&!S.call(t,"callee")},C=N,E=Array.isArray;var j=function(){return!1},P=s((function(t,r){var n=r&&!r.nodeType&&r,e=n&&t&&!t.nodeType&&t,i=e&&e.exports===n?u.Buffer:void 0,a=(i?i.isBuffer:void 0)||j;t.exports=a})),O=/^(?:0|[1-9]\d*)$/;var A=function(t,r){var n=i(t);return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&O.test(t))&&t>-1&&t%1==0&&t<r};var k=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},D={};D["[object Float32Array]"]=D["[object Float64Array]"]=D["[object Int8Array]"]=D["[object Int16Array]"]=D["[object Int32Array]"]=D["[object Uint8Array]"]=D["[object Uint8ClampedArray]"]=D["[object Uint16Array]"]=D["[object Uint32Array]"]=!0,D["[object Arguments]"]=D["[object Array]"]=D["[object ArrayBuffer]"]=D["[object Boolean]"]=D["[object DataView]"]=D["[object Date]"]=D["[object Error]"]=D["[object Function]"]=D["[object Map]"]=D["[object Number]"]=D["[object Object]"]=D["[object RegExp]"]=D["[object Set]"]=D["[object String]"]=D["[object WeakMap]"]=!1;var q=function(t){return w(t)&&k(t.length)&&!!D[y(t)]};var R=function(t){return function(r){return t(r)}},I=s((function(t,r){var n=r&&!r.nodeType&&r,e=n&&t&&!t.nodeType&&t,i=e&&e.exports===n&&o.process,a=function(){try{var t=e&&e.require&&e.require("util").types;return t||i&&i.binding&&i.binding("util")}catch(t){}}();t.exports=a})),L=I&&I.isTypedArray,G=L?R(L):q,F=Object.prototype.hasOwnProperty;var T=function(t,r){var n=E(t),i=!n&&C(t),a=!n&&!i&&P(t),s=!n&&!i&&!a&&G(t),o=n||i||a||s,h=o?e(t.length,String):[],u=h.length;for(var c in t)!r&&!F.call(t,c)||o&&("length"==c||a&&("offset"==c||"parent"==c)||s&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||A(c,u))||h.push(c);return h},z=Object.prototype;var B=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||z)};var U=function(t,r){return function(n){return t(r(n))}},W=U(Object.keys,Object),V=Object.prototype.hasOwnProperty;var Q=function(t){if(!B(t))return W(t);var r=[];for(var n in Object(t))V.call(t,n)&&"constructor"!=n&&r.push(n);return r};var H=function(t){var r=i(t);return null!=t&&("object"==r||"function"==r)};var Z=function(t){if(!H(t))return!1;var r=y(t);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r};var J=function(t){return null!=t&&k(t.length)&&!Z(t)};var X=function(t){return J(t)?T(t):Q(t)};var $=function(t,r){return function(n,e){if(null==n)return n;if(!J(n))return t(n,e);for(var i=n.length,a=r?i:-1,s=Object(n);(r?a--:++a<i)&&!1!==e(s[a],a,s););return n}}((function(t,r){return t&&n(t,r,X)}));var Y=function(t){return t};var K=function(t){return"function"==typeof t?t:Y};var tt=function(t,n){return(E(t)?r:$)(t,K(n))};var rt=function(t){return"symbol"==i(t)||w(t)&&"[object Symbol]"==y(t)},nt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,et=/^\w*$/;var it,at=function(t,r){if(E(t))return!1;var n=i(t);return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!rt(t))||(et.test(t)||!nt.test(t)||null!=r&&t in Object(r))},st=u["__core-js_shared__"],ot=(it=/[^.]+$/.exec(st&&st.keys&&st.keys.IE_PROTO||""))?"Symbol(src)_1."+it:"";var ht=function(t){return!!ot&&ot in t},ut=Function.prototype.toString;var ct=function(t){if(null!=t){try{return ut.call(t)}catch(t){}try{return t+""}catch(t){}}return""},lt=/^\[object .+?Constructor\]$/,ft=Function.prototype,pt=Object.prototype,vt=ft.toString,dt=pt.hasOwnProperty,Mt=RegExp("^"+vt.call(dt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var gt=function(t){return!(!H(t)||ht(t))&&(Z(t)?Mt:lt).test(ct(t))};var mt=function(t,r){return null==t?void 0:t[r]};var yt=function(t,r){var n=mt(t,r);return gt(n)?n:void 0},wt=yt(Object,"create");var _t=function(){this.__data__=wt?wt(null):{},this.size=0};var bt=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},xt=Object.prototype.hasOwnProperty;var St=function(t){var r=this.__data__;if(wt){var n=r[t];return"__lodash_hash_undefined__"===n?void 0:n}return xt.call(r,t)?r[t]:void 0},Nt=Object.prototype.hasOwnProperty;var Ct=function(t){var r=this.__data__;return wt?void 0!==r[t]:Nt.call(r,t)};var Et=function(t,r){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=wt&&void 0===r?"__lodash_hash_undefined__":r,this};function jt(t){var r=-1,n=null==t?0:t.length;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}jt.prototype.clear=_t,jt.prototype.delete=bt,jt.prototype.get=St,jt.prototype.has=Ct,jt.prototype.set=Et;var Pt=jt;var Ot=function(){this.__data__=[],this.size=0};var At=function(t,r){return t===r||t!=t&&r!=r};var kt=function(t,r){for(var n=t.length;n--;)if(At(t[n][0],r))return n;return-1},Dt=Array.prototype.splice;var qt=function(t){var r=this.__data__,n=kt(r,t);return!(n<0)&&(n==r.length-1?r.pop():Dt.call(r,n,1),--this.size,!0)};var Rt=function(t){var r=this.__data__,n=kt(r,t);return n<0?void 0:r[n][1]};var It=function(t){return kt(this.__data__,t)>-1};var Lt=function(t,r){var n=this.__data__,e=kt(n,t);return e<0?(++this.size,n.push([t,r])):n[e][1]=r,this};function Gt(t){var r=-1,n=null==t?0:t.length;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}Gt.prototype.clear=Ot,Gt.prototype.delete=qt,Gt.prototype.get=Rt,Gt.prototype.has=It,Gt.prototype.set=Lt;var Ft=Gt,Tt=yt(u,"Map");var zt=function(){this.size=0,this.__data__={hash:new Pt,map:new(Tt||Ft),string:new Pt}};var Bt=function(t){var r=i(t);return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t};var Ut=function(t,r){var n=t.__data__;return Bt(r)?n["string"==typeof r?"string":"hash"]:n.map};var Wt=function(t){var r=Ut(this,t).delete(t);return this.size-=r?1:0,r};var Vt=function(t){return Ut(this,t).get(t)};var Qt=function(t){return Ut(this,t).has(t)};var Ht=function(t,r){var n=Ut(this,t),e=n.size;return n.set(t,r),this.size+=n.size==e?0:1,this};function Zt(t){var r=-1,n=null==t?0:t.length;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}Zt.prototype.clear=zt,Zt.prototype.delete=Wt,Zt.prototype.get=Vt,Zt.prototype.has=Qt,Zt.prototype.set=Ht;var Jt=Zt;function Xt(t,r){if("function"!=typeof t||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var n=function n(){var e=arguments,i=r?r.apply(this,e):e[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,e);return n.cache=a.set(i,s)||a,s};return n.cache=new(Xt.Cache||Jt),n}Xt.Cache=Jt;var $t=Xt;var Yt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Kt=/\\(\\)?/g,tr=function(t){var r=$t(t,(function(t){return 500===n.size&&n.clear(),t})),n=r.cache;return r}((function(t){var r=[];return 46===t.charCodeAt(0)&&r.push(""),t.replace(Yt,(function(t,n,e,i){r.push(e?i.replace(Kt,"$1"):n||t)})),r})),rr=tr;var nr=function(t,r){for(var n=-1,e=null==t?0:t.length,i=Array(e);++n<e;)i[n]=r(t[n],n,t);return i},er=c?c.prototype:void 0,ir=er?er.toString:void 0;var ar=function t(r){if("string"==typeof r)return r;if(E(r))return nr(r,t)+"";if(rt(r))return ir?ir.call(r):"";var n=r+"";return"0"==n&&1/r==-Infinity?"-0":n};var sr=function(t){return null==t?"":ar(t)};var or=function(t,r){return E(t)?t:at(t,r)?[t]:rr(sr(t))};var hr=function(t){if("string"==typeof t||rt(t))return t;var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r};var ur=function(t,r){for(var n=0,e=(r=or(r,t)).length;null!=t&&n<e;)t=t[hr(r[n++])];return n&&n==e?t:void 0};var cr=function(t,r,n){var e=null==t?void 0:ur(t,r);return void 0===e?n:e},lr=yt(u,"DataView"),fr=yt(u,"Promise"),pr=yt(u,"Set"),vr=yt(u,"WeakMap"),dr="[object Map]",Mr="[object Promise]",gr="[object Set]",mr="[object WeakMap]",yr="[object DataView]",wr=ct(lr),_r=ct(Tt),br=ct(fr),xr=ct(pr),Sr=ct(vr),Nr=y;(lr&&Nr(new lr(new ArrayBuffer(1)))!=yr||Tt&&Nr(new Tt)!=dr||fr&&Nr(fr.resolve())!=Mr||pr&&Nr(new pr)!=gr||vr&&Nr(new vr)!=mr)&&(Nr=function(t){var r=y(t),n="[object Object]"==r?t.constructor:void 0,e=n?ct(n):"";if(e)switch(e){case wr:return yr;case _r:return dr;case br:return Mr;case xr:return gr;case Sr:return mr}return r});var Cr=Nr;var Er=function(t){return"string"==typeof t||!E(t)&&w(t)&&"[object String]"==y(t)};var jr=function(t){return function(r){return null==r?void 0:r[t]}},Pr=jr("length"),Or=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Ar=function(t){return Or.test(t)},kr="[\\ud800-\\udfff]",Dr="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",qr="\\ud83c[\\udffb-\\udfff]",Rr="[^\\ud800-\\udfff]",Ir="(?:\\ud83c[\\udde6-\\uddff]){2}",Lr="[\\ud800-\\udbff][\\udc00-\\udfff]",Gr="(?:"+Dr+"|"+qr+")"+"?",Fr="[\\ufe0e\\ufe0f]?",Tr=Fr+Gr+("(?:\\u200d(?:"+[Rr,Ir,Lr].join("|")+")"+Fr+Gr+")*"),zr="(?:"+[Rr+Dr+"?",Dr,Ir,Lr,kr].join("|")+")",Br=RegExp(qr+"(?="+qr+")|"+zr+Tr,"g");var Ur=function(t){for(var r=Br.lastIndex=0;Br.test(t);)++r;return r};var Wr=function(t){return Ar(t)?Ur(t):Pr(t)};var Vr=function(t){if(null==t)return 0;if(J(t))return Er(t)?Wr(t):t.length;var r=Cr(t);return"[object Map]"==r||"[object Set]"==r?t.size:Q(t).length},Qr=Array.prototype.join;var Hr=function(t,r){return null==t?"":Qr.call(t,r)};var Zr=function(t){return"number"==typeof t||w(t)&&"[object Number]"==y(t)};var Jr=function(t,r){for(var n=-1,e=r.length,i=t.length;++n<e;)t[i+n]=r[n];return t},Xr=c?c.isConcatSpreadable:void 0;var $r=function(t){return E(t)||C(t)||!!(Xr&&t&&t[Xr])};var Yr=function t(r,n,e,i,a){var s=-1,o=r.length;for(e||(e=$r),a||(a=[]);++s<o;){var h=r[s];n>0&&e(h)?n>1?t(h,n-1,e,i,a):Jr(a,h):i||(a[a.length]=h)}return a};var Kr=function(){this.__data__=new Ft,this.size=0};var tn=function(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n};var rn=function(t){return this.__data__.get(t)};var nn=function(t){return this.__data__.has(t)};var en=function(t,r){var n=this.__data__;if(n instanceof Ft){var e=n.__data__;if(!Tt||e.length<199)return e.push([t,r]),this.size=++n.size,this;n=this.__data__=new Jt(e)}return n.set(t,r),this.size=n.size,this};function an(t){var r=this.__data__=new Ft(t);this.size=r.size}an.prototype.clear=Kr,an.prototype.delete=tn,an.prototype.get=rn,an.prototype.has=nn,an.prototype.set=en;var sn=an;var on=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var hn=function(t){return this.__data__.has(t)};function un(t){var r=-1,n=null==t?0:t.length;for(this.__data__=new Jt;++r<n;)this.add(t[r])}un.prototype.add=un.prototype.push=on,un.prototype.has=hn;var cn=un;var ln=function(t,r){for(var n=-1,e=null==t?0:t.length;++n<e;)if(r(t[n],n,t))return!0;return!1};var fn=function(t,r){return t.has(r)};var pn=function(t,r,n,e,i,a){var s=1&n,o=t.length,h=r.length;if(o!=h&&!(s&&h>o))return!1;var u=a.get(t),c=a.get(r);if(u&&c)return u==r&&c==t;var l=-1,f=!0,p=2&n?new cn:void 0;for(a.set(t,r),a.set(r,t);++l<o;){var v=t[l],d=r[l];if(e)var M=s?e(d,v,l,r,t,a):e(v,d,l,t,r,a);if(void 0!==M){if(M)continue;f=!1;break}if(p){if(!ln(r,(function(t,r){if(!fn(p,r)&&(v===t||i(v,t,n,e,a)))return p.push(r)}))){f=!1;break}}else if(v!==d&&!i(v,d,n,e,a)){f=!1;break}}return a.delete(t),a.delete(r),f},vn=u.Uint8Array;var dn=function(t){var r=-1,n=Array(t.size);return t.forEach((function(t,e){n[++r]=[e,t]})),n};var Mn=function(t){var r=-1,n=Array(t.size);return t.forEach((function(t){n[++r]=t})),n},gn=c?c.prototype:void 0,mn=gn?gn.valueOf:void 0;var yn=function(t,r,n,e,i,a,s){switch(n){case"[object DataView]":if(t.byteLength!=r.byteLength||t.byteOffset!=r.byteOffset)return!1;t=t.buffer,r=r.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=r.byteLength||!a(new vn(t),new vn(r)));case"[object Boolean]":case"[object Date]":case"[object Number]":return At(+t,+r);case"[object Error]":return t.name==r.name&&t.message==r.message;case"[object RegExp]":case"[object String]":return t==r+"";case"[object Map]":var o=dn;case"[object Set]":var h=1&e;if(o||(o=Mn),t.size!=r.size&&!h)return!1;var u=s.get(t);if(u)return u==r;e|=2,s.set(t,r);var c=pn(o(t),o(r),e,i,a,s);return s.delete(t),c;case"[object Symbol]":if(mn)return mn.call(t)==mn.call(r)}return!1};var wn=function(t,r,n){var e=r(t);return E(t)?e:Jr(e,n(t))};var _n=function(t,r){for(var n=-1,e=null==t?0:t.length,i=0,a=[];++n<e;){var s=t[n];r(s,n,t)&&(a[i++]=s)}return a};var bn=function(){return[]},xn=Object.prototype.propertyIsEnumerable,Sn=Object.getOwnPropertySymbols,Nn=Sn?function(t){return null==t?[]:(t=Object(t),_n(Sn(t),(function(r){return xn.call(t,r)})))}:bn;var Cn=function(t){return wn(t,X,Nn)},En=Object.prototype.hasOwnProperty;var jn=function(t,r,n,e,i,a){var s=1&n,o=Cn(t),h=o.length;if(h!=Cn(r).length&&!s)return!1;for(var u=h;u--;){var c=o[u];if(!(s?c in r:En.call(r,c)))return!1}var l=a.get(t),f=a.get(r);if(l&&f)return l==r&&f==t;var p=!0;a.set(t,r),a.set(r,t);for(var v=s;++u<h;){var d=t[c=o[u]],M=r[c];if(e)var g=s?e(M,d,c,r,t,a):e(d,M,c,t,r,a);if(!(void 0===g?d===M||i(d,M,n,e,a):g)){p=!1;break}v||(v="constructor"==c)}if(p&&!v){var m=t.constructor,y=r.constructor;m==y||!("constructor"in t)||!("constructor"in r)||"function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y||(p=!1)}return a.delete(t),a.delete(r),p},Pn="[object Arguments]",On="[object Array]",An="[object Object]",kn=Object.prototype.hasOwnProperty;var Dn=function(t,r,n,e,i,a){var s=E(t),o=E(r),h=s?On:Cr(t),u=o?On:Cr(r),c=(h=h==Pn?An:h)==An,l=(u=u==Pn?An:u)==An,f=h==u;if(f&&P(t)){if(!P(r))return!1;s=!0,c=!1}if(f&&!c)return a||(a=new sn),s||G(t)?pn(t,r,n,e,i,a):yn(t,r,h,n,e,i,a);if(!(1&n)){var p=c&&kn.call(t,"__wrapped__"),v=l&&kn.call(r,"__wrapped__");if(p||v){var d=p?t.value():t,M=v?r.value():r;return a||(a=new sn),i(d,M,n,e,a)}}return!!f&&(a||(a=new sn),jn(t,r,n,e,i,a))};var qn=function t(r,n,e,i,a){return r===n||(null==r||null==n||!w(r)&&!w(n)?r!=r&&n!=n:Dn(r,n,e,i,t,a))};var Rn=function(t,r,n,e){var i=n.length,a=i,s=!e;if(null==t)return!a;for(t=Object(t);i--;){var o=n[i];if(s&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){var h=(o=n[i])[0],u=t[h],c=o[1];if(s&&o[2]){if(void 0===u&&!(h in t))return!1}else{var l=new sn;if(e)var f=e(u,c,h,t,r,l);if(!(void 0===f?qn(c,u,3,e,l):f))return!1}}return!0};var In=function(t){return t==t&&!H(t)};var Ln=function(t){for(var r=X(t),n=r.length;n--;){var e=r[n],i=t[e];r[n]=[e,i,In(i)]}return r};var Gn=function(t,r){return function(n){return null!=n&&(n[t]===r&&(void 0!==r||t in Object(n)))}};var Fn=function(t){var r=Ln(t);return 1==r.length&&r[0][2]?Gn(r[0][0],r[0][1]):function(n){return n===t||Rn(n,t,r)}};var Tn=function(t,r){return null!=t&&r in Object(t)};var zn=function(t,r,n){for(var e=-1,i=(r=or(r,t)).length,a=!1;++e<i;){var s=hr(r[e]);if(!(a=null!=t&&n(t,s)))break;t=t[s]}return a||++e!=i?a:!!(i=null==t?0:t.length)&&k(i)&&A(s,i)&&(E(t)||C(t))};var Bn=function(t,r){return null!=t&&zn(t,r,Tn)};var Un=function(t,r){return at(t)&&In(r)?Gn(hr(t),r):function(n){var e=cr(n,t);return void 0===e&&e===r?Bn(n,t):qn(r,e,3)}};var Wn=function(t){return function(r){return ur(r,t)}};var Vn=function(t){return at(t)?jr(hr(t)):Wn(t)};var Qn=function(t){return"function"==typeof t?t:null==t?Y:"object"==i(t)?E(t)?Un(t[0],t[1]):Fn(t):Vn(t)};var Hn=function(t,r){var n=-1,e=J(t)?Array(t.length):[];return $(t,(function(t,i,a){e[++n]=r(t,i,a)})),e};var Zn=function(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t};var Jn=function(t,r){if(t!==r){var n=void 0!==t,e=null===t,i=t==t,a=rt(t),s=void 0!==r,o=null===r,h=r==r,u=rt(r);if(!o&&!u&&!a&&t>r||a&&s&&h&&!o&&!u||e&&s&&h||!n&&h||!i)return 1;if(!e&&!a&&!u&&t<r||u&&n&&i&&!e&&!a||o&&n&&i||!s&&i||!h)return-1}return 0};var Xn=function(t,r,n){for(var e=-1,i=t.criteria,a=r.criteria,s=i.length,o=n.length;++e<s;){var h=Jn(i[e],a[e]);if(h)return e>=o?h:h*("desc"==n[e]?-1:1)}return t.index-r.index};var $n=function(t,r,n){r=r.length?nr(r,(function(t){return E(t)?function(r){return ur(r,1===t.length?t[0]:t)}:t})):[Y];var e=-1;r=nr(r,R(Qn));var i=Hn(t,(function(t,n,i){return{criteria:nr(r,(function(r){return r(t)})),index:++e,value:t}}));return Zn(i,(function(t,r){return Xn(t,r,n)}))};var Yn=function(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)},Kn=Math.max;var te=function(t,r,n){return r=Kn(void 0===r?t.length-1:r,0),function(){for(var e=arguments,i=-1,a=Kn(e.length-r,0),s=Array(a);++i<a;)s[i]=e[r+i];i=-1;for(var o=Array(r+1);++i<r;)o[i]=e[i];return o[r]=n(s),Yn(t,this,o)}};var re=function(t){return function(){return t}},ne=function(){try{var t=yt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),ee=ne?function(t,r){return ne(t,"toString",{configurable:!0,enumerable:!1,value:re(r),writable:!0})}:Y,ie=Date.now;var ae=function(t){var r=0,n=0;return function(){var e=ie(),i=16-(e-n);if(n=e,i>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}},se=ae(ee);var oe=function(t,r){return se(te(t,r,Y),t+"")};var he=function(t,r,n){if(!H(n))return!1;var e=i(r);return!!("number"==e?J(n)&&A(r,n.length):"string"==e&&r in n)&&At(n[r],t)},ue=oe((function(t,r){if(null==t)return[];var n=r.length;return n>1&&he(t,r[0],r[1])?r=[]:n>2&&he(r[0],r[1],r[2])&&(r=[r[0]]),$n(t,Yr(r,1),[])}));var ce=function(t,r,n){"__proto__"==r&&ne?ne(t,r,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[r]=n},le=Object.prototype.hasOwnProperty;var fe=function(t,r,n){var e=t[r];le.call(t,r)&&At(e,n)&&(void 0!==n||r in t)||ce(t,r,n)};var pe=function(t,r,n,e){var i=!n;n||(n={});for(var a=-1,s=r.length;++a<s;){var o=r[a],h=e?e(n[o],t[o],o,n,t):void 0;void 0===h&&(h=t[o]),i?ce(n,o,h):fe(n,o,h)}return n};var ve=function(t,r){return t&&pe(r,X(r),t)};var de=function(t){var r=[];if(null!=t)for(var n in Object(t))r.push(n);return r},Me=Object.prototype.hasOwnProperty;var ge=function(t){if(!H(t))return de(t);var r=B(t),n=[];for(var e in t)("constructor"!=e||!r&&Me.call(t,e))&&n.push(e);return n};var me=function(t){return J(t)?T(t,!0):ge(t)};var ye=function(t,r){return t&&pe(r,me(r),t)},we=s((function(t,r){var n=r&&!r.nodeType&&r,e=n&&t&&!t.nodeType&&t,i=e&&e.exports===n?u.Buffer:void 0,a=i?i.allocUnsafe:void 0;t.exports=function(t,r){if(r)return t.slice();var n=t.length,e=a?a(n):new t.constructor(n);return t.copy(e),e}}));var _e=function(t,r){var n=-1,e=t.length;for(r||(r=Array(e));++n<e;)r[n]=t[n];return r};var be=function(t,r){return pe(t,Nn(t),r)},xe=U(Object.getPrototypeOf,Object),Se=Object.getOwnPropertySymbols?function(t){for(var r=[];t;)Jr(r,Nn(t)),t=xe(t);return r}:bn;var Ne=function(t,r){return pe(t,Se(t),r)};var Ce=function(t){return wn(t,me,Se)},Ee=Object.prototype.hasOwnProperty;var je=function(t){var r=t.length,n=new t.constructor(r);return r&&"string"==typeof t[0]&&Ee.call(t,"index")&&(n.index=t.index,n.input=t.input),n};var Pe=function(t){var r=new t.constructor(t.byteLength);return new vn(r).set(new vn(t)),r};var Oe=function(t,r){var n=r?Pe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Ae=/\w*$/;var ke=function(t){var r=new t.constructor(t.source,Ae.exec(t));return r.lastIndex=t.lastIndex,r},De=c?c.prototype:void 0,qe=De?De.valueOf:void 0;var Re=function(t){return qe?Object(qe.call(t)):{}};var Ie=function(t,r){var n=r?Pe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)};var Le=function(t,r,n){var e=t.constructor;switch(r){case"[object ArrayBuffer]":return Pe(t);case"[object Boolean]":case"[object Date]":return new e(+t);case"[object DataView]":return Oe(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ie(t,n);case"[object Map]":case"[object Set]":return new e;case"[object Number]":case"[object String]":return new e(t);case"[object RegExp]":return ke(t);case"[object Symbol]":return Re(t)}},Ge=Object.create,Fe=function(){function t(){}return function(r){if(!H(r))return{};if(Ge)return Ge(r);t.prototype=r;var n=new t;return t.prototype=void 0,n}}();var Te=function(t){return"function"!=typeof t.constructor||B(t)?{}:Fe(xe(t))};var ze=function(t){return w(t)&&"[object Map]"==Cr(t)},Be=I&&I.isMap,Ue=Be?R(Be):ze;var We=function(t){return w(t)&&"[object Set]"==Cr(t)},Ve=I&&I.isSet,Qe=Ve?R(Ve):We,He="[object Arguments]",Ze="[object Function]",Je="[object Object]",Xe={};Xe[He]=Xe["[object Array]"]=Xe["[object ArrayBuffer]"]=Xe["[object DataView]"]=Xe["[object Boolean]"]=Xe["[object Date]"]=Xe["[object Float32Array]"]=Xe["[object Float64Array]"]=Xe["[object Int8Array]"]=Xe["[object Int16Array]"]=Xe["[object Int32Array]"]=Xe["[object Map]"]=Xe["[object Number]"]=Xe[Je]=Xe["[object RegExp]"]=Xe["[object Set]"]=Xe["[object String]"]=Xe["[object Symbol]"]=Xe["[object Uint8Array]"]=Xe["[object Uint8ClampedArray]"]=Xe["[object Uint16Array]"]=Xe["[object Uint32Array]"]=!0,Xe["[object Error]"]=Xe[Ze]=Xe["[object WeakMap]"]=!1;var $e=function t(n,e,i,a,s,o){var h,u=1&e,c=2&e,l=4&e;if(i&&(h=s?i(n,a,s,o):i(n)),void 0!==h)return h;if(!H(n))return n;var f=E(n);if(f){if(h=je(n),!u)return _e(n,h)}else{var p=Cr(n),v=p==Ze||"[object GeneratorFunction]"==p;if(P(n))return we(n,u);if(p==Je||p==He||v&&!s){if(h=c||v?{}:Te(n),!u)return c?Ne(n,ye(h,n)):be(n,ve(h,n))}else{if(!Xe[p])return s?n:{};h=Le(n,p,u)}}o||(o=new sn);var d=o.get(n);if(d)return d;o.set(n,h),Qe(n)?n.forEach((function(r){h.add(t(r,e,i,r,n,o))})):Ue(n)&&n.forEach((function(r,a){h.set(a,t(r,e,i,a,n,o))}));var M=f?void 0:(l?c?Ce:Cn:c?me:X)(n);return r(M||n,(function(r,a){M&&(r=n[a=r]),fe(h,a,t(r,e,i,a,n,o))})),h};var Ye=function(t){return $e(t,5)},Ke=/\s/;var ti=function(t){for(var r=t.length;r--&&Ke.test(t.charAt(r)););return r},ri=/^\s+/;var ni=function(t){return t?t.slice(0,ti(t)+1).replace(ri,""):t},ei=/^[-+]0x[0-9a-f]+$/i,ii=/^0b[01]+$/i,ai=/^0o[0-7]+$/i,si=parseInt;var oi=function(t){if("number"==typeof t)return t;if(rt(t))return NaN;if(H(t)){var r="function"==typeof t.valueOf?t.valueOf():t;t=H(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=ni(t);var n=ii.test(t);return n||ai.test(t)?si(t.slice(2),n?2:8):ei.test(t)?NaN:+t},hi=1/0;var ui=function(t){return t?(t=oi(t))===hi||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0};function ci(t){return"[object String]"===Object.prototype.toString.call(t)}function li(t){return!(!ci(t)||""===t)}function fi(t){var r=!1;return li(t)?r=!isNaN(Number(t)):function(t){return"[object Number]"===Object.prototype.toString.call(t)}(t)&&(r=!0),r}function pi(t){return fi(t)?ui(t):0}function vi(t){return"[object Array]"===Object.prototype.toString.call(t)}function di(t){return"[object Object]"===Object.prototype.toString.call(t)}function Mi(t){return!!function(t){return"[object Undefined]"===Object.prototype.toString.call(t)}(t)||(!!function(t){return"[object Null]"===Object.prototype.toString.call(t)}(t)||(!!function(t){if(di(t)){for(var r in t)return!1;return!0}return!1}(t)||(!!function(t){return!(!ci(t)||""!==t)}(t)||!!function(t){return!!vi(t)&&0===t.length}(t))))}function gi(t){return!!vi(t)&&(0!==t.length&&(1!==t.length||!Mi(t[0])))}var mi=s((function(t){!function(r){var n,e,a,s,o=9e15,h=1e9,u="0123456789abcdef",c="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",l="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",f={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-o,maxE:o,crypto:!1},p=!0,v="[DecimalError] ",d=v+"Invalid argument: ",M=v+"Precision limit exceeded",g=v+"crypto unavailable",m="[object Decimal]",y=Math.floor,w=Math.pow,_=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,b=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,x=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,S=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,N=1e7,C=c.length-1,E=l.length-1,j={toStringTag:m};function P(t){var r,n,e,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,r=1;r<i;r++)(n=7-(e=t[r]+"").length)&&(a+=T(n)),a+=e;(n=7-(e=(s=t[r])+"").length)&&(a+=T(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return a+s}function O(t,r,n){if(t!==~~t||t<r||t>n)throw Error(d+t)}function A(t,r,n,e){var i,a,s,o;for(a=t[0];a>=10;a/=10)--r;return--r<0?(r+=7,i=0):(i=Math.ceil((r+1)/7),r%=7),a=w(10,7-r),o=t[i]%a|0,null==e?r<3?(0==r?o=o/100|0:1==r&&(o=o/10|0),s=n<4&&99999==o||n>3&&49999==o||5e4==o||0==o):s=(n<4&&o+1==a||n>3&&o+1==a/2)&&(t[i+1]/a/100|0)==w(10,r-2)-1||(o==a/2||0==o)&&0==(t[i+1]/a/100|0):r<4?(0==r?o=o/1e3|0:1==r?o=o/100|0:2==r&&(o=o/10|0),s=(e||n<4)&&9999==o||!e&&n>3&&4999==o):s=((e||n<4)&&o+1==a||!e&&n>3&&o+1==a/2)&&(t[i+1]/a/1e3|0)==w(10,r-3)-1,s}function k(t,r,n){for(var e,i,a=[0],s=0,o=t.length;s<o;){for(i=a.length;i--;)a[i]*=r;for(a[0]+=u.indexOf(t.charAt(s++)),e=0;e<a.length;e++)a[e]>n-1&&(void 0===a[e+1]&&(a[e+1]=0),a[e+1]+=a[e]/n|0,a[e]%=n)}return a.reverse()}j.absoluteValue=j.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),q(t)},j.ceil=function(){return q(new this.constructor(this),this.e+1,2)},j.clampedTo=j.clamp=function(t,r){var n=this,e=n.constructor;if(t=new e(t),r=new e(r),!t.s||!r.s)return new e(NaN);if(t.gt(r))throw Error(d+r);return n.cmp(t)<0?t:n.cmp(r)>0?r:new e(n)},j.comparedTo=j.cmp=function(t){var r,n,e,i,a=this,s=a.d,o=(t=new a.constructor(t)).d,h=a.s,u=t.s;if(!s||!o)return h&&u?h!==u?h:s===o?0:!s^h<0?1:-1:NaN;if(!s[0]||!o[0])return s[0]?h:o[0]?-u:0;if(h!==u)return h;if(a.e!==t.e)return a.e>t.e^h<0?1:-1;for(r=0,n=(e=s.length)<(i=o.length)?e:i;r<n;++r)if(s[r]!==o[r])return s[r]>o[r]^h<0?1:-1;return e===i?0:e>i^h<0?1:-1},j.cosine=j.cos=function(){var t,r,n=this,e=n.constructor;return n.d?n.d[0]?(t=e.precision,r=e.rounding,e.precision=t+Math.max(n.e,n.sd())+7,e.rounding=1,n=function(t,r){var n,e,i;if(r.isZero())return r;(e=r.d.length)<32?i=(1/X(4,n=Math.ceil(e/3))).toString():(n=16,i="2.3283064365386962890625e-10");t.precision+=n,r=J(t,1,r.times(i),new t(1));for(var a=n;a--;){var s=r.times(r);r=s.times(s).minus(s).times(8).plus(1)}return t.precision-=n,r}(e,$(e,n)),e.precision=t,e.rounding=r,q(2==s||3==s?n.neg():n,t,r,!0)):new e(1):new e(NaN)},j.cubeRoot=j.cbrt=function(){var t,r,n,e,i,a,s,o,h,u,c=this,l=c.constructor;if(!c.isFinite()||c.isZero())return new l(c);for(p=!1,(a=c.s*w(c.s*c,1/3))&&Math.abs(a)!=1/0?e=new l(a.toString()):(n=P(c.d),(a=((t=c.e)-n.length+1)%3)&&(n+=1==a||-2==a?"0":"00"),a=w(n,1/3),t=y((t+1)/3)-(t%3==(t<0?-1:2)),(e=new l(n=a==1/0?"5e"+t:(n=a.toExponential()).slice(0,n.indexOf("e")+1)+t)).s=c.s),s=(t=l.precision)+3;;)if(u=(h=(o=e).times(o).times(o)).plus(c),e=D(u.plus(c).times(o),u.plus(h),s+2,1),P(o.d).slice(0,s)===(n=P(e.d)).slice(0,s)){if("9999"!=(n=n.slice(s-3,s+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(q(e,t+1,1),r=!e.times(e).times(e).eq(c));break}if(!i&&(q(o,t+1,0),o.times(o).times(o).eq(c))){e=o;break}s+=4,i=1}return p=!0,q(e,t,l.rounding,r)},j.decimalPlaces=j.dp=function(){var t,r=this.d,n=NaN;if(r){if(n=7*((t=r.length-1)-y(this.e/7)),t=r[t])for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n},j.dividedBy=j.div=function(t){return D(this,new this.constructor(t))},j.dividedToIntegerBy=j.divToInt=function(t){var r=this.constructor;return q(D(this,new r(t),0,1,1),r.precision,r.rounding)},j.equals=j.eq=function(t){return 0===this.cmp(t)},j.floor=function(){return q(new this.constructor(this),this.e+1,3)},j.greaterThan=j.gt=function(t){return this.cmp(t)>0},j.greaterThanOrEqualTo=j.gte=function(t){var r=this.cmp(t);return 1==r||0===r},j.hyperbolicCosine=j.cosh=function(){var t,r,n,e,i,a=this,s=a.constructor,o=new s(1);if(!a.isFinite())return new s(a.s?1/0:NaN);if(a.isZero())return o;n=s.precision,e=s.rounding,s.precision=n+Math.max(a.e,a.sd())+4,s.rounding=1,(i=a.d.length)<32?r=(1/X(4,t=Math.ceil(i/3))).toString():(t=16,r="2.3283064365386962890625e-10"),a=J(s,1,a.times(r),new s(1),!0);for(var h,u=t,c=new s(8);u--;)h=a.times(a),a=o.minus(h.times(c.minus(h.times(c))));return q(a,s.precision=n,s.rounding=e,!0)},j.hyperbolicSine=j.sinh=function(){var t,r,n,e,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(r=a.precision,n=a.rounding,a.precision=r+Math.max(i.e,i.sd())+4,a.rounding=1,(e=i.d.length)<3)i=J(a,2,i,i,!0);else{t=(t=1.4*Math.sqrt(e))>16?16:0|t,i=J(a,2,i=i.times(1/X(5,t)),i,!0);for(var s,o=new a(5),h=new a(16),u=new a(20);t--;)s=i.times(i),i=i.times(o.plus(s.times(h.times(s).plus(u))))}return a.precision=r,a.rounding=n,q(i,r,n,!0)},j.hyperbolicTangent=j.tanh=function(){var t,r,n=this,e=n.constructor;return n.isFinite()?n.isZero()?new e(n):(t=e.precision,r=e.rounding,e.precision=t+7,e.rounding=1,D(n.sinh(),n.cosh(),e.precision=t,e.rounding=r)):new e(n.s)},j.inverseCosine=j.acos=function(){var t,r=this,n=r.constructor,e=r.abs().cmp(1),i=n.precision,a=n.rounding;return-1!==e?0===e?r.isNeg()?G(n,i,a):new n(0):new n(NaN):r.isZero()?G(n,i+4,a).times(.5):(n.precision=i+6,n.rounding=1,r=r.asin(),t=G(n,i+4,a).times(.5),n.precision=i,n.rounding=a,t.minus(r))},j.inverseHyperbolicCosine=j.acosh=function(){var t,r,n=this,e=n.constructor;return n.lte(1)?new e(n.eq(1)?0:NaN):n.isFinite()?(t=e.precision,r=e.rounding,e.precision=t+Math.max(Math.abs(n.e),n.sd())+4,e.rounding=1,p=!1,n=n.times(n).minus(1).sqrt().plus(n),p=!0,e.precision=t,e.rounding=r,n.ln()):new e(n)},j.inverseHyperbolicSine=j.asinh=function(){var t,r,n=this,e=n.constructor;return!n.isFinite()||n.isZero()?new e(n):(t=e.precision,r=e.rounding,e.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,e.rounding=1,p=!1,n=n.times(n).plus(1).sqrt().plus(n),p=!0,e.precision=t,e.rounding=r,n.ln())},j.inverseHyperbolicTangent=j.atanh=function(){var t,r,n,e,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=a.precision,r=a.rounding,e=i.sd(),Math.max(e,t)<2*-i.e-1?q(new a(i),t,r,!0):(a.precision=n=e-i.e,i=D(i.plus(1),new a(1).minus(i),n+t,1),a.precision=t+4,a.rounding=1,i=i.ln(),a.precision=t,a.rounding=r,i.times(.5))):new a(NaN)},j.inverseSine=j.asin=function(){var t,r,n,e,i=this,a=i.constructor;return i.isZero()?new a(i):(r=i.abs().cmp(1),n=a.precision,e=a.rounding,-1!==r?0===r?((t=G(a,n+4,e).times(.5)).s=i.s,t):new a(NaN):(a.precision=n+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=n,a.rounding=e,i.times(2)))},j.inverseTangent=j.atan=function(){var t,r,n,e,i,a,s,o,h,u=this,c=u.constructor,l=c.precision,f=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&l+4<=E)return(s=G(c,l+4,f).times(.25)).s=u.s,s}else{if(!u.s)return new c(NaN);if(l+4<=E)return(s=G(c,l+4,f).times(.5)).s=u.s,s}for(c.precision=o=l+10,c.rounding=1,t=n=Math.min(28,o/7+2|0);t;--t)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(p=!1,r=Math.ceil(o/7),e=1,h=u.times(u),s=new c(u),i=u;-1!==t;)if(i=i.times(h),a=s.minus(i.div(e+=2)),i=i.times(h),void 0!==(s=a.plus(i.div(e+=2))).d[r])for(t=r;s.d[t]===a.d[t]&&t--;);return n&&(s=s.times(2<<n-1)),p=!0,q(s,c.precision=l,c.rounding=f,!0)},j.isFinite=function(){return!!this.d},j.isInteger=j.isInt=function(){return!!this.d&&y(this.e/7)>this.d.length-2},j.isNaN=function(){return!this.s},j.isNegative=j.isNeg=function(){return this.s<0},j.isPositive=j.isPos=function(){return this.s>0},j.isZero=function(){return!!this.d&&0===this.d[0]},j.lessThan=j.lt=function(t){return this.cmp(t)<0},j.lessThanOrEqualTo=j.lte=function(t){return this.cmp(t)<1},j.logarithm=j.log=function(t){var r,n,e,i,a,s,o,h,u=this,c=u.constructor,l=c.precision,f=c.rounding;if(null==t)t=new c(10),r=!0;else{if(n=(t=new c(t)).d,t.s<0||!n||!n[0]||t.eq(1))return new c(NaN);r=t.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new c(n&&!n[0]?-1/0:1!=u.s?NaN:n?0:1/0);if(r)if(n.length>1)a=!0;else{for(i=n[0];i%10==0;)i/=10;a=1!==i}if(p=!1,s=V(u,o=l+5),e=r?L(c,o+10):V(t,o),A((h=D(s,e,o,1)).d,i=l,f))do{if(s=V(u,o+=10),e=r?L(c,o+10):V(t,o),h=D(s,e,o,1),!a){+P(h.d).slice(i+1,i+15)+1==1e14&&(h=q(h,l+1,0));break}}while(A(h.d,i+=10,f));return p=!0,q(h,l,f)},j.minus=j.sub=function(t){var r,n,e,i,a,s,o,h,u,c,l,f,v=this,d=v.constructor;if(t=new d(t),!v.d||!t.d)return v.s&&t.s?v.d?t.s=-t.s:t=new d(t.d||v.s!==t.s?v:NaN):t=new d(NaN),t;if(v.s!=t.s)return t.s=-t.s,v.plus(t);if(u=v.d,f=t.d,o=d.precision,h=d.rounding,!u[0]||!f[0]){if(f[0])t.s=-t.s;else{if(!u[0])return new d(3===h?-0:0);t=new d(v)}return p?q(t,o,h):t}if(n=y(t.e/7),c=y(v.e/7),u=u.slice(),a=c-n){for((l=a<0)?(r=u,a=-a,s=f.length):(r=f,n=c,s=u.length),a>(e=Math.max(Math.ceil(o/7),s)+2)&&(a=e,r.length=1),r.reverse(),e=a;e--;)r.push(0);r.reverse()}else{for((l=(e=u.length)<(s=f.length))&&(s=e),e=0;e<s;e++)if(u[e]!=f[e]){l=u[e]<f[e];break}a=0}for(l&&(r=u,u=f,f=r,t.s=-t.s),s=u.length,e=f.length-s;e>0;--e)u[s++]=0;for(e=f.length;e>a;){if(u[--e]<f[e]){for(i=e;i&&0===u[--i];)u[i]=N-1;--u[i],u[e]+=N}u[e]-=f[e]}for(;0===u[--s];)u.pop();for(;0===u[0];u.shift())--n;return u[0]?(t.d=u,t.e=I(u,n),p?q(t,o,h):t):new d(3===h?-0:0)},j.modulo=j.mod=function(t){var r,n=this,e=n.constructor;return t=new e(t),!n.d||!t.s||t.d&&!t.d[0]?new e(NaN):!t.d||n.d&&!n.d[0]?q(new e(n),e.precision,e.rounding):(p=!1,9==e.modulo?(r=D(n,t.abs(),0,3,1)).s*=t.s:r=D(n,t,0,e.modulo,1),r=r.times(t),p=!0,n.minus(r))},j.naturalExponential=j.exp=function(){return W(this)},j.naturalLogarithm=j.ln=function(){return V(this)},j.negated=j.neg=function(){var t=new this.constructor(this);return t.s=-t.s,q(t)},j.plus=j.add=function(t){var r,n,e,i,a,s,o,h,u,c,l=this,f=l.constructor;if(t=new f(t),!l.d||!t.d)return l.s&&t.s?l.d||(t=new f(t.d||l.s===t.s?l:NaN)):t=new f(NaN),t;if(l.s!=t.s)return t.s=-t.s,l.minus(t);if(u=l.d,c=t.d,o=f.precision,h=f.rounding,!u[0]||!c[0])return c[0]||(t=new f(l)),p?q(t,o,h):t;if(a=y(l.e/7),e=y(t.e/7),u=u.slice(),i=a-e){for(i<0?(n=u,i=-i,s=c.length):(n=c,e=a,s=u.length),i>(s=(a=Math.ceil(o/7))>s?a+1:s+1)&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((s=u.length)-(i=c.length)<0&&(i=s,n=c,c=u,u=n),r=0;i;)r=(u[--i]=u[i]+c[i]+r)/N|0,u[i]%=N;for(r&&(u.unshift(r),++e),s=u.length;0==u[--s];)u.pop();return t.d=u,t.e=I(u,e),p?q(t,o,h):t},j.precision=j.sd=function(t){var r,n=this;if(void 0!==t&&t!==!!t&&1!==t&&0!==t)throw Error(d+t);return n.d?(r=F(n.d),t&&n.e+1>r&&(r=n.e+1)):r=NaN,r},j.round=function(){var t=this,r=t.constructor;return q(new r(t),t.e+1,r.rounding)},j.sine=j.sin=function(){var t,r,n=this,e=n.constructor;return n.isFinite()?n.isZero()?new e(n):(t=e.precision,r=e.rounding,e.precision=t+Math.max(n.e,n.sd())+7,e.rounding=1,n=function(t,r){var n,e=r.d.length;if(e<3)return r.isZero()?r:J(t,2,r,r);n=(n=1.4*Math.sqrt(e))>16?16:0|n,r=r.times(1/X(5,n)),r=J(t,2,r,r);for(var i,a=new t(5),s=new t(16),o=new t(20);n--;)i=r.times(r),r=r.times(a.plus(i.times(s.times(i).minus(o))));return r}(e,$(e,n)),e.precision=t,e.rounding=r,q(s>2?n.neg():n,t,r,!0)):new e(NaN)},j.squareRoot=j.sqrt=function(){var t,r,n,e,i,a,s=this,o=s.d,h=s.e,u=s.s,c=s.constructor;if(1!==u||!o||!o[0])return new c(!u||u<0&&(!o||o[0])?NaN:o?s:1/0);for(p=!1,0==(u=Math.sqrt(+s))||u==1/0?(((r=P(o)).length+h)%2==0&&(r+="0"),u=Math.sqrt(r),h=y((h+1)/2)-(h<0||h%2),e=new c(r=u==1/0?"5e"+h:(r=u.toExponential()).slice(0,r.indexOf("e")+1)+h)):e=new c(u.toString()),n=(h=c.precision)+3;;)if(e=(a=e).plus(D(s,a,n+2,1)).times(.5),P(a.d).slice(0,n)===(r=P(e.d)).slice(0,n)){if("9999"!=(r=r.slice(n-3,n+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(q(e,h+1,1),t=!e.times(e).eq(s));break}if(!i&&(q(a,h+1,0),a.times(a).eq(s))){e=a;break}n+=4,i=1}return p=!0,q(e,h,c.rounding,t)},j.tangent=j.tan=function(){var t,r,n=this,e=n.constructor;return n.isFinite()?n.isZero()?new e(n):(t=e.precision,r=e.rounding,e.precision=t+10,e.rounding=1,(n=n.sin()).s=1,n=D(n,new e(1).minus(n.times(n)).sqrt(),t+10,0),e.precision=t,e.rounding=r,q(2==s||4==s?n.neg():n,t,r,!0)):new e(NaN)},j.times=j.mul=function(t){var r,n,e,i,a,s,o,h,u,c=this,l=c.constructor,f=c.d,v=(t=new l(t)).d;if(t.s*=c.s,!(f&&f[0]&&v&&v[0]))return new l(!t.s||f&&!f[0]&&!v||v&&!v[0]&&!f?NaN:f&&v?0*t.s:t.s/0);for(n=y(c.e/7)+y(t.e/7),(h=f.length)<(u=v.length)&&(a=f,f=v,v=a,s=h,h=u,u=s),a=[],e=s=h+u;e--;)a.push(0);for(e=u;--e>=0;){for(r=0,i=h+e;i>e;)o=a[i]+v[e]*f[i-e-1]+r,a[i--]=o%N|0,r=o/N|0;a[i]=(a[i]+r)%N|0}for(;!a[--s];)a.pop();return r?++n:a.shift(),t.d=a,t.e=I(a,n),p?q(t,l.precision,l.rounding):t},j.toBinary=function(t,r){return Y(this,2,t,r)},j.toDecimalPlaces=j.toDP=function(t,r){var n=this,e=n.constructor;return n=new e(n),void 0===t?n:(O(t,0,h),void 0===r?r=e.rounding:O(r,0,8),q(n,t+n.e+1,r))},j.toExponential=function(t,r){var n,e=this,i=e.constructor;return void 0===t?n=R(e,!0):(O(t,0,h),void 0===r?r=i.rounding:O(r,0,8),n=R(e=q(new i(e),t+1,r),!0,t+1)),e.isNeg()&&!e.isZero()?"-"+n:n},j.toFixed=function(t,r){var n,e,i=this,a=i.constructor;return void 0===t?n=R(i):(O(t,0,h),void 0===r?r=a.rounding:O(r,0,8),n=R(e=q(new a(i),t+i.e+1,r),!1,t+e.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},j.toFraction=function(t){var r,n,e,i,a,s,o,h,u,c,l,f,v=this,M=v.d,g=v.constructor;if(!M)return new g(v);if(u=n=new g(1),e=h=new g(0),s=(a=(r=new g(e)).e=F(M)-v.e-1)%7,r.d[0]=w(10,s<0?7+s:s),null==t)t=a>0?r:u;else{if(!(o=new g(t)).isInt()||o.lt(u))throw Error(d+o);t=o.gt(r)?a>0?r:u:o}for(p=!1,o=new g(P(M)),c=g.precision,g.precision=a=7*M.length*2;l=D(o,r,0,1,1),1!=(i=n.plus(l.times(e))).cmp(t);)n=e,e=i,i=u,u=h.plus(l.times(i)),h=i,i=r,r=o.minus(l.times(i)),o=i;return i=D(t.minus(n),e,0,1,1),h=h.plus(i.times(u)),n=n.plus(i.times(e)),h.s=u.s=v.s,f=D(u,e,a,1).minus(v).abs().cmp(D(h,n,a,1).minus(v).abs())<1?[u,e]:[h,n],g.precision=c,p=!0,f},j.toHexadecimal=j.toHex=function(t,r){return Y(this,16,t,r)},j.toNearest=function(t,r){var n=this,e=n.constructor;if(n=new e(n),null==t){if(!n.d)return n;t=new e(1),r=e.rounding}else{if(t=new e(t),void 0===r?r=e.rounding:O(r,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(p=!1,n=D(n,t,0,r,1).times(t),p=!0,q(n)):(t.s=n.s,n=t),n},j.toNumber=function(){return+this},j.toOctal=function(t,r){return Y(this,8,t,r)},j.toPower=j.pow=function(t){var r,n,e,i,a,s,o=this,h=o.constructor,u=+(t=new h(t));if(!(o.d&&t.d&&o.d[0]&&t.d[0]))return new h(w(+o,u));if((o=new h(o)).eq(1))return o;if(e=h.precision,a=h.rounding,t.eq(1))return q(o,e,a);if((r=y(t.e/7))>=t.d.length-1&&(n=u<0?-u:u)<=9007199254740991)return i=z(h,o,n,e),t.s<0?new h(1).div(i):q(i,e,a);if((s=o.s)<0){if(r<t.d.length-1)return new h(NaN);if(0==(1&t.d[r])&&(s=1),0==o.e&&1==o.d[0]&&1==o.d.length)return o.s=s,o}return(r=0!=(n=w(+o,u))&&isFinite(n)?new h(n+"").e:y(u*(Math.log("0."+P(o.d))/Math.LN10+o.e+1)))>h.maxE+1||r<h.minE-1?new h(r>0?s/0:0):(p=!1,h.rounding=o.s=1,n=Math.min(12,(r+"").length),(i=W(t.times(V(o,e+n)),e)).d&&A((i=q(i,e+5,1)).d,e,a)&&(r=e+10,+P((i=q(W(t.times(V(o,r+n)),r),r+5,1)).d).slice(e+1,e+15)+1==1e14&&(i=q(i,e+1,0))),i.s=s,p=!0,h.rounding=a,q(i,e,a))},j.toPrecision=function(t,r){var n,e=this,i=e.constructor;return void 0===t?n=R(e,e.e<=i.toExpNeg||e.e>=i.toExpPos):(O(t,1,h),void 0===r?r=i.rounding:O(r,0,8),n=R(e=q(new i(e),t,r),t<=e.e||e.e<=i.toExpNeg,t)),e.isNeg()&&!e.isZero()?"-"+n:n},j.toSignificantDigits=j.toSD=function(t,r){var n=this.constructor;return void 0===t?(t=n.precision,r=n.rounding):(O(t,1,h),void 0===r?r=n.rounding:O(r,0,8)),q(new n(this),t,r)},j.toString=function(){var t=this,r=t.constructor,n=R(t,t.e<=r.toExpNeg||t.e>=r.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n},j.truncated=j.trunc=function(){return q(new this.constructor(this),this.e+1,1)},j.valueOf=j.toJSON=function(){var t=this,r=t.constructor,n=R(t,t.e<=r.toExpNeg||t.e>=r.toExpPos);return t.isNeg()?"-"+n:n};var D=function(){function t(t,r,n){var e,i=0,a=t.length;for(t=t.slice();a--;)e=t[a]*r+i,t[a]=e%n|0,i=e/n|0;return i&&t.unshift(i),t}function r(t,r,n,e){var i,a;if(n!=e)a=n>e?1:-1;else for(i=a=0;i<n;i++)if(t[i]!=r[i]){a=t[i]>r[i]?1:-1;break}return a}function n(t,r,n,e){for(var i=0;n--;)t[n]-=i,i=t[n]<r[n]?1:0,t[n]=i*e+t[n]-r[n];for(;!t[0]&&t.length>1;)t.shift()}return function(i,a,s,o,h,u){var c,l,f,p,v,d,M,g,m,w,_,b,x,S,C,E,j,P,O,A,k=i.constructor,D=i.s==a.s?1:-1,R=i.d,I=a.d;if(!(R&&R[0]&&I&&I[0]))return new k(i.s&&a.s&&(R?!I||R[0]!=I[0]:I)?R&&0==R[0]||!I?0*D:D/0:NaN);for(u?(v=1,l=i.e-a.e):(u=N,v=7,l=y(i.e/v)-y(a.e/v)),O=I.length,j=R.length,w=(m=new k(D)).d=[],f=0;I[f]==(R[f]||0);f++);if(I[f]>(R[f]||0)&&l--,null==s?(S=s=k.precision,o=k.rounding):S=h?s+(i.e-a.e)+1:s,S<0)w.push(1),d=!0;else{if(S=S/v+2|0,f=0,1==O){for(p=0,I=I[0],S++;(f<j||p)&&S--;f++)C=p*u+(R[f]||0),w[f]=C/I|0,p=C%I|0;d=p||f<j}else{for((p=u/(I[0]+1)|0)>1&&(I=t(I,p,u),R=t(R,p,u),O=I.length,j=R.length),E=O,b=(_=R.slice(0,O)).length;b<O;)_[b++]=0;(A=I.slice()).unshift(0),P=I[0],I[1]>=u/2&&++P;do{p=0,(c=r(I,_,O,b))<0?(x=_[0],O!=b&&(x=x*u+(_[1]||0)),(p=x/P|0)>1?(p>=u&&(p=u-1),1==(c=r(M=t(I,p,u),_,g=M.length,b=_.length))&&(p--,n(M,O<g?A:I,g,u))):(0==p&&(c=p=1),M=I.slice()),(g=M.length)<b&&M.unshift(0),n(_,M,b,u),-1==c&&(c=r(I,_,O,b=_.length))<1&&(p++,n(_,O<b?A:I,b,u)),b=_.length):0===c&&(p++,_=[0]),w[f++]=p,c&&_[0]?_[b++]=R[E]||0:(_=[R[E]],b=1)}while((E++<j||void 0!==_[0])&&S--);d=void 0!==_[0]}w[0]||w.shift()}if(1==v)m.e=l,e=d;else{for(f=1,p=w[0];p>=10;p/=10)f++;m.e=f+l*v-1,q(m,h?s+m.e+1:s,o,d)}return m}}();function q(t,r,n,e){var i,a,s,o,h,u,c,l,f,v=t.constructor;t:if(null!=r){if(!(l=t.d))return t;for(i=1,o=l[0];o>=10;o/=10)i++;if((a=r-i)<0)a+=7,s=r,h=(c=l[f=0])/w(10,i-s-1)%10|0;else if((f=Math.ceil((a+1)/7))>=(o=l.length)){if(!e)break t;for(;o++<=f;)l.push(0);c=h=0,i=1,s=(a%=7)-7+1}else{for(c=o=l[f],i=1;o>=10;o/=10)i++;h=(s=(a%=7)-7+i)<0?0:c/w(10,i-s-1)%10|0}if(e=e||r<0||void 0!==l[f+1]||(s<0?c:c%w(10,i-s-1)),u=n<4?(h||e)&&(0==n||n==(t.s<0?3:2)):h>5||5==h&&(4==n||e||6==n&&(a>0?s>0?c/w(10,i-s):0:l[f-1])%10&1||n==(t.s<0?8:7)),r<1||!l[0])return l.length=0,u?(r-=t.e+1,l[0]=w(10,(7-r%7)%7),t.e=-r||0):l[0]=t.e=0,t;if(0==a?(l.length=f,o=1,f--):(l.length=f+1,o=w(10,7-a),l[f]=s>0?(c/w(10,i-s)%w(10,s)|0)*o:0),u)for(;;){if(0==f){for(a=1,s=l[0];s>=10;s/=10)a++;for(s=l[0]+=o,o=1;s>=10;s/=10)o++;a!=o&&(t.e++,l[0]==N&&(l[0]=1));break}if(l[f]+=o,l[f]!=N)break;l[f--]=0,o=1}for(a=l.length;0===l[--a];)l.pop()}return p&&(t.e>v.maxE?(t.d=null,t.e=NaN):t.e<v.minE&&(t.e=0,t.d=[0])),t}function R(t,r,n){if(!t.isFinite())return Q(t);var e,i=t.e,a=P(t.d),s=a.length;return r?(n&&(e=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+T(e):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(t.e<0?"e":"e+")+t.e):i<0?(a="0."+T(-i-1)+a,n&&(e=n-s)>0&&(a+=T(e))):i>=s?(a+=T(i+1-s),n&&(e=n-i-1)>0&&(a=a+"."+T(e))):((e=i+1)<s&&(a=a.slice(0,e)+"."+a.slice(e)),n&&(e=n-s)>0&&(i+1===s&&(a+="."),a+=T(e))),a}function I(t,r){var n=t[0];for(r*=7;n>=10;n/=10)r++;return r}function L(t,r,n){if(r>C)throw p=!0,n&&(t.precision=n),Error(M);return q(new t(c),r,1,!0)}function G(t,r,n){if(r>E)throw Error(M);return q(new t(l),r,n,!0)}function F(t){var r=t.length-1,n=7*r+1;if(r=t[r]){for(;r%10==0;r/=10)n--;for(r=t[0];r>=10;r/=10)n++}return n}function T(t){for(var r="";t--;)r+="0";return r}function z(t,r,n,e){var i,a=new t(1),s=Math.ceil(e/7+4);for(p=!1;;){if(n%2&&K((a=a.times(r)).d,s)&&(i=!0),0===(n=y(n/2))){n=a.d.length-1,i&&0===a.d[n]&&++a.d[n];break}K((r=r.times(r)).d,s)}return p=!0,a}function B(t){return 1&t.d[t.d.length-1]}function U(t,r,n){for(var e,i=new t(r[0]),a=0;++a<r.length;){if(!(e=new t(r[a])).s){i=e;break}i[n](e)&&(i=e)}return i}function W(t,r){var n,e,i,a,s,o,h,u=0,c=0,l=0,f=t.constructor,v=f.rounding,d=f.precision;if(!t.d||!t.d[0]||t.e>17)return new f(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(null==r?(p=!1,h=d):h=r,o=new f(.03125);t.e>-2;)t=t.times(o),l+=5;for(h+=e=Math.log(w(2,l))/Math.LN10*2+5|0,n=a=s=new f(1),f.precision=h;;){if(a=q(a.times(t),h,1),n=n.times(++c),P((o=s.plus(D(a,n,h,1))).d).slice(0,h)===P(s.d).slice(0,h)){for(i=l;i--;)s=q(s.times(s),h,1);if(null!=r)return f.precision=d,s;if(!(u<3&&A(s.d,h-e,v,u)))return q(s,f.precision=d,v,p=!0);f.precision=h+=10,n=a=o=new f(1),c=0,u++}s=o}}function V(t,r){var n,e,i,a,s,o,h,u,c,l,f,v=1,d=t,M=d.d,g=d.constructor,m=g.rounding,y=g.precision;if(d.s<0||!M||!M[0]||!d.e&&1==M[0]&&1==M.length)return new g(M&&!M[0]?-1/0:1!=d.s?NaN:M?0:d);if(null==r?(p=!1,c=y):c=r,g.precision=c+=10,e=(n=P(M)).charAt(0),!(Math.abs(a=d.e)<15e14))return u=L(g,c+2,y).times(a+""),d=V(new g(e+"."+n.slice(1)),c-10).plus(u),g.precision=y,null==r?q(d,y,m,p=!0):d;for(;e<7&&1!=e||1==e&&n.charAt(1)>3;)e=(n=P((d=d.times(t)).d)).charAt(0),v++;for(a=d.e,e>1?(d=new g("0."+n),a++):d=new g(e+"."+n.slice(1)),l=d,h=s=d=D(d.minus(1),d.plus(1),c,1),f=q(d.times(d),c,1),i=3;;){if(s=q(s.times(f),c,1),P((u=h.plus(D(s,new g(i),c,1))).d).slice(0,c)===P(h.d).slice(0,c)){if(h=h.times(2),0!==a&&(h=h.plus(L(g,c+2,y).times(a+""))),h=D(h,new g(v),c,1),null!=r)return g.precision=y,h;if(!A(h.d,c-10,m,o))return q(h,g.precision=y,m,p=!0);g.precision=c+=10,u=s=d=D(l.minus(1),l.plus(1),c,1),f=q(d.times(d),c,1),i=o=1}h=u,i+=2}}function Q(t){return String(t.s*t.s/0)}function H(t,r){var n,e,i;for((n=r.indexOf("."))>-1&&(r=r.replace(".","")),(e=r.search(/e/i))>0?(n<0&&(n=e),n+=+r.slice(e+1),r=r.substring(0,e)):n<0&&(n=r.length),e=0;48===r.charCodeAt(e);e++);for(i=r.length;48===r.charCodeAt(i-1);--i);if(r=r.slice(e,i)){if(i-=e,t.e=n=n-e-1,t.d=[],e=(n+1)%7,n<0&&(e+=7),e<i){for(e&&t.d.push(+r.slice(0,e)),i-=7;e<i;)t.d.push(+r.slice(e,e+=7));e=7-(r=r.slice(e)).length}else e-=i;for(;e--;)r+="0";t.d.push(+r),p&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function Z(t,r){var e,i,a,s,o,h,u,c,l;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),S.test(r))return H(t,r)}else if("Infinity"===r||"NaN"===r)return+r||(t.s=NaN),t.e=NaN,t.d=null,t;if(b.test(r))e=16,r=r.toLowerCase();else if(_.test(r))e=2;else{if(!x.test(r))throw Error(d+r);e=8}for((s=r.search(/p/i))>0?(u=+r.slice(s+1),r=r.substring(2,s)):r=r.slice(2),o=(s=r.indexOf("."))>=0,i=t.constructor,o&&(s=(h=(r=r.replace(".","")).length)-s,a=z(i,new i(e),s,2*s)),s=l=(c=k(r,e,N)).length-1;0===c[s];--s)c.pop();return s<0?new i(0*t.s):(t.e=I(c,l),t.d=c,p=!1,o&&(t=D(t,a,4*h)),u&&(t=t.times(Math.abs(u)<54?w(2,u):n.pow(2,u))),p=!0,t)}function J(t,r,n,e,i){var a,s,o,h,u=t.precision,c=Math.ceil(u/7);for(p=!1,h=n.times(n),o=new t(e);;){if(s=D(o.times(h),new t(r++*r++),u,1),o=i?e.plus(s):e.minus(s),e=D(s.times(h),new t(r++*r++),u,1),void 0!==(s=o.plus(e)).d[c]){for(a=c;s.d[a]===o.d[a]&&a--;);if(-1==a)break}a=o,o=e,e=s,s=a}return p=!0,s.d.length=c+1,s}function X(t,r){for(var n=t;--r;)n*=t;return n}function $(t,r){var n,e=r.s<0,i=G(t,t.precision,1),a=i.times(.5);if((r=r.abs()).lte(a))return s=e?4:1,r;if((n=r.divToInt(i)).isZero())s=e?3:2;else{if((r=r.minus(n.times(i))).lte(a))return s=B(n)?e?2:3:e?4:1,r;s=B(n)?e?1:4:e?3:2}return r.minus(i).abs()}function Y(t,r,n,i){var a,s,o,c,l,f,p,v,d,M=t.constructor,g=void 0!==n;if(g?(O(n,1,h),void 0===i?i=M.rounding:O(i,0,8)):(n=M.precision,i=M.rounding),t.isFinite()){for(g?(a=2,16==r?n=4*n-3:8==r&&(n=3*n-2)):a=r,(o=(p=R(t)).indexOf("."))>=0&&(p=p.replace(".",""),(d=new M(1)).e=p.length-o,d.d=k(R(d),10,a),d.e=d.d.length),s=l=(v=k(p,10,a)).length;0==v[--l];)v.pop();if(v[0]){if(o<0?s--:((t=new M(t)).d=v,t.e=s,v=(t=D(t,d,n,i,0,a)).d,s=t.e,f=e),o=v[n],c=a/2,f=f||void 0!==v[n+1],f=i<4?(void 0!==o||f)&&(0===i||i===(t.s<0?3:2)):o>c||o===c&&(4===i||f||6===i&&1&v[n-1]||i===(t.s<0?8:7)),v.length=n,f)for(;++v[--n]>a-1;)v[n]=0,n||(++s,v.unshift(1));for(l=v.length;!v[l-1];--l);for(o=0,p="";o<l;o++)p+=u.charAt(v[o]);if(g){if(l>1)if(16==r||8==r){for(o=16==r?4:3,--l;l%o;l++)p+="0";for(l=(v=k(p,a,r)).length;!v[l-1];--l);for(o=1,p="1.";o<l;o++)p+=u.charAt(v[o])}else p=p.charAt(0)+"."+p.slice(1);p=p+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)p="0"+p;p="0."+p}else if(++s>l)for(s-=l;s--;)p+="0";else s<l&&(p=p.slice(0,s)+"."+p.slice(s))}else p=g?"0p+0":"0";p=(16==r?"0x":2==r?"0b":8==r?"0o":"")+p}else p=Q(t);return t.s<0?"-"+p:p}function K(t,r){if(t.length>r)return t.length=r,!0}function tt(t){return new this(t).abs()}function rt(t){return new this(t).acos()}function nt(t){return new this(t).acosh()}function et(t,r){return new this(t).plus(r)}function it(t){return new this(t).asin()}function at(t){return new this(t).asinh()}function st(t){return new this(t).atan()}function ot(t){return new this(t).atanh()}function ht(t,r){t=new this(t),r=new this(r);var n,e=this.precision,i=this.rounding,a=e+4;return t.s&&r.s?t.d||r.d?!r.d||t.isZero()?(n=r.s<0?G(this,e,i):new this(0)).s=t.s:!t.d||r.isZero()?(n=G(this,a,1).times(.5)).s=t.s:r.s<0?(this.precision=a,this.rounding=1,n=this.atan(D(t,r,a,1)),r=G(this,a,1),this.precision=e,this.rounding=i,n=t.s<0?n.minus(r):n.plus(r)):n=this.atan(D(t,r,a,1)):(n=G(this,a,1).times(r.s>0?.25:.75)).s=t.s:n=new this(NaN),n}function ut(t){return new this(t).cbrt()}function ct(t){return q(t=new this(t),t.e+1,2)}function lt(t,r,n){return new this(t).clamp(r,n)}function ft(t){if(!t||"object"!==i(t))throw Error(v+"Object expected");var r,n,e,a=!0===t.defaults,s=["precision",1,h,"rounding",0,8,"toExpNeg",-o,0,"toExpPos",0,o,"maxE",0,o,"minE",-o,0,"modulo",0,9];for(r=0;r<s.length;r+=3)if(n=s[r],a&&(this[n]=f[n]),void 0!==(e=t[n])){if(!(y(e)===e&&e>=s[r+1]&&e<=s[r+2]))throw Error(d+n+": "+e);this[n]=e}if(n="crypto",a&&(this[n]=f[n]),void 0!==(e=t[n])){if(!0!==e&&!1!==e&&0!==e&&1!==e)throw Error(d+n+": "+e);if(e){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(g);this[n]=!0}else this[n]=!1}return this}function pt(t){return new this(t).cos()}function vt(t){return new this(t).cosh()}function dt(t,r){return new this(t).div(r)}function Mt(t){return new this(t).exp()}function gt(t){return q(t=new this(t),t.e+1,3)}function mt(){var t,r,n=new this(0);for(p=!1,t=0;t<arguments.length;)if((r=new this(arguments[t++])).d)n.d&&(n=n.plus(r.times(r)));else{if(r.s)return p=!0,new this(1/0);n=r}return p=!0,n.sqrt()}function yt(t){return t instanceof n||t&&t.toStringTag===m||!1}function wt(t){return new this(t).ln()}function _t(t,r){return new this(t).log(r)}function bt(t){return new this(t).log(2)}function xt(t){return new this(t).log(10)}function St(){return U(this,arguments,"lt")}function Nt(){return U(this,arguments,"gt")}function Ct(t,r){return new this(t).mod(r)}function Et(t,r){return new this(t).mul(r)}function jt(t,r){return new this(t).pow(r)}function Pt(t){var r,n,e,i,a=0,s=new this(1),o=[];if(void 0===t?t=this.precision:O(t,1,h),e=Math.ceil(t/7),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(e));a<e;)(i=r[a])>=429e7?r[a]=crypto.getRandomValues(new Uint32Array(1))[0]:o[a++]=i%1e7;else{if(!crypto.randomBytes)throw Error(g);for(r=crypto.randomBytes(e*=4);a<e;)(i=r[a]+(r[a+1]<<8)+(r[a+2]<<16)+((127&r[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(r,a):(o.push(i%1e7),a+=4);a=e/4}else for(;a<e;)o[a++]=1e7*Math.random()|0;for(t%=7,(e=o[--a])&&t&&(i=w(10,7-t),o[a]=(e/i|0)*i);0===o[a];a--)o.pop();if(a<0)n=0,o=[0];else{for(n=-1;0===o[0];n-=7)o.shift();for(e=1,i=o[0];i>=10;i/=10)e++;e<7&&(n-=7-e)}return s.e=n,s.d=o,s}function Ot(t){return q(t=new this(t),t.e+1,this.rounding)}function At(t){return(t=new this(t)).d?t.d[0]?t.s:0*t.s:t.s||NaN}function kt(t){return new this(t).sin()}function Dt(t){return new this(t).sinh()}function qt(t){return new this(t).sqrt()}function Rt(t,r){return new this(t).sub(r)}function It(){var t=0,r=arguments,n=new this(r[t]);for(p=!1;n.s&&++t<r.length;)n=n.plus(r[t]);return p=!0,q(n,this.precision,this.rounding)}function Lt(t){return new this(t).tan()}function Gt(t){return new this(t).tanh()}function Ft(t){return q(t=new this(t),t.e+1,1)}n=function t(r){var n,e,a;function s(t){var r,n,e,a=this;if(!(a instanceof s))return new s(t);if(a.constructor=s,yt(t))return a.s=t.s,void(p?!t.d||t.e>s.maxE?(a.e=NaN,a.d=null):t.e<s.minE?(a.e=0,a.d=[0]):(a.e=t.e,a.d=t.d.slice()):(a.e=t.e,a.d=t.d?t.d.slice():t.d));if("number"===(e=i(t))){if(0===t)return a.s=1/t<0?-1:1,a.e=0,void(a.d=[0]);if(t<0?(t=-t,a.s=-1):a.s=1,t===~~t&&t<1e7){for(r=0,n=t;n>=10;n/=10)r++;return void(p?r>s.maxE?(a.e=NaN,a.d=null):r<s.minE?(a.e=0,a.d=[0]):(a.e=r,a.d=[t]):(a.e=r,a.d=[t]))}return 0*t!=0?(t||(a.s=NaN),a.e=NaN,void(a.d=null)):H(a,t.toString())}if("string"!==e)throw Error(d+t);return 45===(n=t.charCodeAt(0))?(t=t.slice(1),a.s=-1):(43===n&&(t=t.slice(1)),a.s=1),S.test(t)?H(a,t):Z(a,t)}if(s.prototype=j,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.EUCLID=9,s.config=s.set=ft,s.clone=t,s.isDecimal=yt,s.abs=tt,s.acos=rt,s.acosh=nt,s.add=et,s.asin=it,s.asinh=at,s.atan=st,s.atanh=ot,s.atan2=ht,s.cbrt=ut,s.ceil=ct,s.clamp=lt,s.cos=pt,s.cosh=vt,s.div=dt,s.exp=Mt,s.floor=gt,s.hypot=mt,s.ln=wt,s.log=_t,s.log10=xt,s.log2=bt,s.max=St,s.min=Nt,s.mod=Ct,s.mul=Et,s.pow=jt,s.random=Pt,s.round=Ot,s.sign=At,s.sin=kt,s.sinh=Dt,s.sqrt=qt,s.sub=Rt,s.sum=It,s.tan=Lt,s.tanh=Gt,s.trunc=Ft,void 0===r&&(r={}),r&&!0!==r.defaults)for(a=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<a.length;)r.hasOwnProperty(e=a[n++])||(r[e]=this[e]);return s.config(r),s}(f),n.prototype.constructor=n,n.default=n.Decimal=n,c=new n(c),l=new n(l),t.exports?("function"==typeof Symbol&&"symbol"==i(Symbol.iterator)&&(j[Symbol.for("nodejs.util.inspect.custom")]=j.toString,j[Symbol.toStringTag]="Decimal"),t.exports=n):(r||(r="undefined"!=typeof self&&self&&self.self==self?self:window),a=r.Decimal,n.noConflict=function(){return r.Decimal=a,n},r.Decimal=n)}(a)}));function yi(t,r){return new mi(t).eq(r)}function wi(t,r,n){if("==="===r)return yi(t,n);if("!=="===r)return function(t,r){return!yi(t,r)}(t,n);if(">="===r)return function(t,r){return new mi(t).gte(r)}(t,n);if(">"===r)return function(t,r){return new mi(t).gt(r)}(t,n);if("<="===r)return function(t,r){return new mi(t).lte(r)}(t,n);if("<"===r)return function(t,r){return new mi(t).lt(r)}(t,n);throw console.log(r),new Error("invalid op")}function _i(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}var bi=function(t,r){return(E(t)?nr:Hn)(t,Qn(r))};var xi=function(t,r){for(var n=-1,e=r.length,i=Array(e),a=null==t;++n<e;)i[n]=a?void 0:cr(t,r[n]);return i};var Si=function(t){var r=null==t?0:t.length;return r?t[r-1]:void 0};var Ni=function(t,r,n){var e=-1,i=t.length;r<0&&(r=-r>i?0:i+r),(n=n>i?i:n)<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var a=Array(i);++e<i;)a[e]=t[e+r];return a};var Ci=function(t,r){return r.length<2?t:ur(t,Ni(r,0,-1))};var Ei=function(t,r){return r=or(r,t),null==(t=Ci(t,r))||delete t[hr(Si(r))]},ji=Array.prototype.splice;var Pi=function(t,r){for(var n=t?r.length:0,e=n-1;n--;){var i=r[n];if(n==e||i!==a){var a=i;A(i)?ji.call(t,i,1):Ei(t,i)}}return t};var Oi=function(t){return(null==t?0:t.length)?Yr(t,1):[]};var Ai=function(t){return se(te(t,void 0,Oi),t+"")}((function(t,r){var n=null==t?0:t.length,e=xi(t,r);return Pi(t,nr(r,(function(t){return A(t,n)?+t:t})).sort(Jn)),e}));function ki(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(!gi(t))throw new Error("");var e=cr(r,"keyDepth");li(e)||(e="depth");var i=cr(r,"keyDepthStart");li(i)||(i="depthStart");var a=cr(r,"keyDepthEnd");li(a)||(a="depthEnd");var s=cr(r,"depthEndMax");if(s=fi(s)?pi(s):null,t=Ye(t),tt(t,(function(t,r){var i=cr(t,e,null);fi(i)||n.push(" ".concat(r," ").concat(e,"[").concat(i,"]"))})),Vr(n)>0)throw new Error(Hr(n,"; "));if(t=ue(t,(function(t){return pi(t[e])})),tt(t,(function(r,i){if(0===i)return!0;var a=cr(t,"".concat(i-1,".").concat(e),null),s=cr(r,e,null);wi(a=pi(a),">=",s=pi(s))&&n.push(" ".concat(i-1," ").concat(e,"[").concat(a,"] ").concat(i," ").concat(e,"[").concat(s,"]"))})),Vr(n)>0)throw new Error(Hr(n,"; "));var o=Vr(t)-1;if(t=bi(t,(function(r,n){var s=cr(t,n-1),h=r,u=cr(t,n+1),c=cr(s,e,null),l=cr(h,e,null),f=cr(u,e,null),p=null;if(0===n){if(p=0,!fi(l))throw new Error("dc1 is not a number");l=pi(l),p=Math.min(p,l)}else{if(!fi(c)||!fi(l))throw new Error("unexpected error: invalid ds");p=((c=pi(c))+(l=pi(l)))/2}var v=null;if(n===o){if(!fi(l))throw new Error("dc1 is not a number");v=pi(l)}else{if(!fi(l)||!fi(f))throw new Error("unexpected error: invalid de");v=((l=pi(l))+(f=pi(f)))/2}return r[i]=p,r[a]=v,r})),Zr(s)){var h=t[o],u=h[a];wi(u,"<",s)&&(t[o][a]=s)}return t}function Di(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,e=new Array(r);n<r;n++)e[n]=t[n];return e}function qi(t){return function(t){if(Array.isArray(t))return Di(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){if(t){if("string"==typeof t)return Di(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Di(t,r):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ri=function(t,r,n){for(var e=-1,i=t.length;++e<i;){var a=t[e],s=r(a);if(null!=s&&(void 0===o?s==s&&!rt(s):n(s,o)))var o=s,h=a}return h};var Ii=function(t,r){return t<r};var Li=function(t){return t&&t.length?Ri(t,Y,Ii):void 0};var Gi=function(t,r){return t>r};var Fi=function(t){return t&&t.length?Ri(t,Y,Gi):void 0};var Ti=function(t,r,n){var e=t.length;return n=void 0===n?e:n,!r&&n>=e?t:Ni(t,r,n)};var zi=function(t,r,n,e){for(var i=t.length,a=n+(e?1:-1);e?a--:++a<i;)if(r(t[a],a,t))return a;return-1};var Bi=function(t){return t!=t};var Ui=function(t,r,n){for(var e=n-1,i=t.length;++e<i;)if(t[e]===r)return e;return-1};var Wi=function(t,r,n){return r==r?Ui(t,r,n):zi(t,Bi,n)};var Vi=function(t,r){for(var n=t.length;n--&&Wi(r,t[n],0)>-1;);return n};var Qi=function(t,r){for(var n=-1,e=t.length;++n<e&&Wi(r,t[n],0)>-1;);return n};var Hi=function(t){return t.split("")},Zi="[\\ud800-\\udfff]",Ji="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Xi="\\ud83c[\\udffb-\\udfff]",$i="[^\\ud800-\\udfff]",Yi="(?:\\ud83c[\\udde6-\\uddff]){2}",Ki="[\\ud800-\\udbff][\\udc00-\\udfff]",ta="(?:"+Ji+"|"+Xi+")"+"?",ra="[\\ufe0e\\ufe0f]?",na=ra+ta+("(?:\\u200d(?:"+[$i,Yi,Ki].join("|")+")"+ra+ta+")*"),ea="(?:"+[$i+Ji+"?",Ji,Yi,Ki,Zi].join("|")+")",ia=RegExp(Xi+"(?="+Xi+")|"+ea+na,"g");var aa=function(t){return t.match(ia)||[]};var sa=function(t){return Ar(t)?aa(t):Hi(t)};var oa=function(t,r,n){if((t=sr(t))&&(n||void 0===r))return ni(t);if(!t||!(r=ar(r)))return t;var e=sa(t),i=sa(r),a=Qi(e,i),s=Vi(e,i)+1;return Ti(e,a,s).join("")};var ha=function(t){return sr(t).toLowerCase()};var ua=function(t){return w(t)&&"[object RegExp]"==y(t)},ca=I&&I.isRegExp,la=ca?R(ca):ua;var fa=function(t,r,n){return n&&"number"!=typeof n&&he(t,r,n)&&(r=n=void 0),(n=void 0===n?4294967295:n>>>0)?(t=sr(t))&&("string"==typeof r||null!=r&&!la(r))&&!(r=ar(r))&&Ar(t)?Ti(sa(t),0,n):t.split(r,n):[]};var pa=function(t){var r=ui(t),n=r%1;return r==r?n?r-n:r:0},va=u.isFinite,da=Math.min;var Ma=function(t){var r=Math[t];return function(t,n){if(t=oi(t),(n=null==n?0:da(pa(n),292))&&va(t)){var e=(sr(t)+"e").split("e"),i=r(e[0]+"e"+(+e[1]+n));return+((e=(sr(i)+"e").split("e"))[0]+"e"+(+e[1]-n))}return r(t)}}("round");function ga(t){if(!fi(t))return 0;t=pi(t);var r=Ma(t);return"0"===String(r)?0:r}var ma=function(t){return"number"==typeof t&&t==pa(t)};function ya(t){return!!fi(t)&&(t=pi(t),ma(t))}function wa(t){return!!ya(t)&&ga(t)>0}function _a(t,r){return li(t)&&wa(r)?t.substring(0,r):""}function ba(t,r){if(!li(t))return"";if(!wa(r))return"";var n=t.length-r;return n<0&&(n=0),t.substr(n,r)}function xa(t){if(!li(t)&&!fi(t)&&!rt(t))return"";var r="";try{r=String(t)}catch(t){}try{r=t.toString()}catch(t){}return r}var Sa=Array.prototype.reverse;var Na=function(t){return null==t?t:Sa.call(t)},Ca="in x-range",Ea="out of x-range",ja="order list",Pa="reverse order list";function Oa(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Vr(t)<=0)return[];var n=cr(r,"keyX");li(n)||(n="x");var e=cr(r,"keyY");li(e)||(e="y");var i=[];return tt(t,(function(t){var r=null,a=null;vi(t)&&Vr(t)>=2?(r=cr(t,0),a=cr(t,1)):(r=cr(t,n,null),a=cr(t,e,null)),fi(r)&&fi(a)&&(r=oi(r),a=oi(a),i.push({x:r,y:a}))})),i}function Aa(t){for(var r=!0,n=!0,e=1;e<Vr(t);e++){var i=t[e-1],a=t[e];if(r&&i.x>a.x&&(r=!1),n&&i.x<a.x&&(n=!1),i.x===a.x)return{err:"x can not be equal: i=".concat(e,", x=").concat(i.x)}}return r?ja:n?Pa:"no"}function ka(t,r){var n,e;return n=t[0].x,e=t[Vr(t)-1].x,r<n?{err:Ea,msg:"x[".concat(r,"] less than lower limit[").concat(n,"]"),data:{ps:t,x:r,xmin:n,xmax:e}}:r>e?{err:Ea,msg:"x[".concat(r,"] greater than upper limit[").concat(e,"]"),data:{ps:t,x:r,xmin:n,xmax:e}}:Ca}function Da(t,r){var n=ka(t,r);if(n!==Ca)return n;for(var e=null,i=1;i<Vr(t);i++){var a=t[i-1],s=t[i];if(a.x<=r&&r<=s.x){e=((r-a.x)*s.y+(s.x-r)*a.y)/(s.x-a.x);break}}return null===e?{err:Ea}:e}function qa(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=cr(n,"xMin");if(Zr(e)){if(e>t[0].x)return{err:"xMin=".concat(e," > ps[0].x=").concat(t[0].x)};if(e===t[0].x);else{var i={x:e,y:t[0].y};t=[i].concat(qi(t))}}var a=cr(n,"xMax");if(Zr(a)){if(a<t[Vr(t)-1].x)return{err:"xMax=".concat(a," < ps[size(ps)-1].x=").concat(t[Vr(t)-1].x)};if(a===t[Vr(t)-1].x);else{var s={x:a,y:t[Vr(t)-1].y};t=[].concat(qi(t),[s])}}var o=ka(t,r);if(o!==Ca)return o;for(var h=null,u=0;u<Vr(t);u++){var c=cr(t,u-1,null),l=cr(t,u,null),f=cr(t,u+1,null),p=l.x;c&&(p=(c.x+l.x)/2);var v=l.x;if(f&&(v=(f.x+l.x)/2),p<=r&&r<=v){h=l.y;break}}return null===h?{err:Ea}:h}function Ra(t,r){var n=ka(t,r);if(n!==Ca)return n;for(var e=null,i=1;i<Vr(t);i++){var a=t[i-1],s=t[i],o=a.x,h=s.x;if(o<=r&&r<=h){e=s.y;break}}return null===e?{err:Ea}:e}function Ia(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(!gi(t))return n;var e=cr(r,"keyDepthStart");li(e)||(e="depthStart");var i=cr(r,"keyDepthEnd");li(i)||(i="depthEnd");var a=cr(r,"stateConn");return"conn"!==a&&"overlap"!==a&&(a="conn"),tt(t,(function(t,r){var a=cr(t,e,null),s=cr(t,i,null);fi(a)||n.push(" ".concat(r," ").concat(e,"[").concat(a,"]")),fi(s)||n.push(" ".concat(r," ").concat(i,"[").concat(s,"]"))})),t=ue(t,(function(t){return pi(t[e])})),tt(t,(function(r,s){var o=cr(r,e,null),h=cr(r,i,null);if(wi(o=pi(o),">",h=pi(h))&&n.push(" ".concat(s," ").concat(e,"[").concat(o,"]").concat(i,"[").concat(h,"]")),0===s)return!0;var u=cr(t,s-1),c=cr(u,i,null);c=pi(c),"conn"===a?wi(c,"!==",o)&&n.push(" ".concat(s," ").concat(i,"[").concat(c,"] ").concat(s+1," ").concat(e,"[").concat(o,"]")):"overlap"===a&&wi(c,">",o)&&n.push(" ".concat(s," ").concat(i,"[").concat(c,"] ").concat(s+1," ").concat(e,"[").concat(o,"]"))})),n}var La=function(t,r){return nr(r,(function(r){return t[r]}))};var Ga=function(t){return null==t?[]:La(t,X(t))};var Fa=function(t){return!0===t||!1===t||w(t)&&"[object Boolean]"==y(t)};function Ta(t){return Fa(t)}function za(t){if(di(t)){for(var r in t)return!0;return!1}return!1}var Ba={eps:1e-6,rw:9.81},Ua=Ba.rw;function Wa(t,r){return t*Ua/(1+r)}function Va(t,r){return t-r*Ua/(1+r)}function Qa(t,r){return(t-Ua)*r/(r-1)}function Ha(t,r){return(t+r)*Ua/(1+r)}function Za(t,r){return t+r*Ua/(1+r)}function Ja(t,r){return t*(r-1)/r+Ua}function Xa(t,r){return(t*Ua-r)/r}function $a(t,r){return(t-r)/(r-Ua-t)}function Ya(t,r){return(t*Ua-r)/(r-Ua)}function Ka(t,r){return t*(1+r)/Ua}function ts(t,r){return t/(t-(r-Ua))}function rs(t,r){return(t+t*r-r*Ua)/Ua}function ns(t,r,n,e){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a={},s=cr(i,"returnFuncs");function o(){var i,s,o,h,u=!1;return!Zr(i)&&Zr(n)&&Zr(e)&&(i=Wa(n,e)),!Zr(i)&&Zr(r)&&Zr(e)&&(i=Va(r,e)),!Zr(i)&&Zr(r)&&Zr(n)&&1!==n&&(i=Qa(r,n)),Zr(t)?Math.abs(t-i)>i/100*5&&(a.ck_rd="[".concat(t,"][").concat(i,"]")):(t=i,u=!0),!Zr(s)&&Zr(n)&&Zr(e)&&(s=Ha(n,e)),!Zr(s)&&Zr(t)&&Zr(e)&&(s=Za(t,e)),!Zr(s)&&Zr(t)&&Zr(n)&&(s=Ja(t,n)),Zr(r)?Math.abs(r-s)>s/100*5&&(a.ck_rsat="[".concat(r,"][").concat(s,"]")):(r=s,u=!0),!Zr(o)&&Zr(n)&&Zr(t)&&(o=Xa(n,t)),!Zr(o)&&Zr(r)&&Zr(t)&&r-Ua-t!=0&&(o=$a(t,r)),!Zr(o)&&Zr(r)&&Zr(n)&&r-Ua!=0&&(o=Ya(n,r)),Zr(e)?Math.abs(e-o)>o/100*5&&(a.ck_e="[".concat(e,"][").concat(o,"]")):(e=o,u=!0),!Zr(h)&&Zr(t)&&Zr(e)&&(h=Ka(t,e)),!Zr(h)&&Zr(t)&&Zr(r)&&t-(r-Ua)!=0&&(h=ts(t,r)),!Zr(h)&&Zr(r)&&Zr(e)&&(h=rs(r,e)),Zr(n)?Math.abs(n-h)>h/100*5&&(a.ck_GS="[".concat(n,"][").concat(h,"]")):(n=h,u=!0),u}Ta(s)||(s=!1),fi(t)?((t=pi(t))<=0&&(a.rd="[".concat(t,"]<=0")),t<=Ua&&(a.rd="[".concat(t,"]<=[").concat(Ua,"]"))):t=null,fi(r)?((r=pi(r))<=0&&(a.rsat="[".concat(r,"]<=0")),r<=Ua&&(a.rsat="[".concat(r,"]<=[").concat(Ua,"]"))):r=null,fi(n)?(n=pi(n))<=0&&(a.GS="[".concat(n,"]<=0")):n=null,fi(e)?(e=pi(e))<=0&&(a.e="[".concat(e,"]<=0")):e=null;var h=0;if(h+=fi(t)?1:0,h+=fi(r)?1:0,h+=fi(n)?1:0,(h+=fi(e)?1:0)>=2)for(var u=o();u;)u=o();var c={rd:t,rsat:r,GS:n,e:e};if(za(a)){var l=Hr(Ga(a),", ");c.err=l}return s&&(c.coreFuncs={get_rd_from_GS_e:Wa,get_rd_from_rsat_e:Va,get_rd_from_rsat_GS:Qa,get_rsat_from_GS_e:Ha,get_rsat_from_rd_e:Za,get_rsat_from_rd_GS:Ja,get_e_from_GS_rd:Xa,get_e_from_rd_rsat:$a,get_e_from_GS_rsat:Ya,get_GS_from_rd_e:Ka,get_GS_from_rd_rsat:ts,get_GS_from_rsat_e:rs}),c}var es=Ba.rw;function is(t,r){t=Ye(t);var n=0;return t=bi(t,(function(t,e){var i=cr(t,"err",""),a=cr(t,"depthStart",null),s=cr(t,"depthEnd",null);try{if(!fi(a))throw new Error(" ".concat(e," (depthStart): ").concat(a));if(!fi(s))throw new Error(" ".concat(e," (depthEnd): ").concat(s));a=pi(a),s=pi(s),t.zsv=(s+a)/2;var o=null;if(a<r&&s>r){var h=cr(t,"rsat",null);if(!fi(h))throw new Error(" ".concat(e," (rsat): ").concat(h));var u=cr(t,"rd",null);if(!fi(u))throw new Error(" ".concat(e," (rd): ").concat(u));u=pi(u);var c=r-a,l=s-r;o=(c*u+l*h)/(c+l)}else if(s<=r){var f=cr(t,"rd",null);if(!fi(f))throw new Error(" ".concat(e," (rd): ").concat(f));o=f}else{if(!(a>=r))throw new Error("");var p=cr(t,"rsat",null);if(!fi(p))throw new Error(" ".concat(e," (rsat): ").concat(p));o=p}var v=o*(s-a),d=n+v/2;t.sv=d,n+=v;var M=Math.max((a+s)/2-r,0)*es;t.svp=Math.max(d-M,0)}catch(r){var g=r.toString();""===i?i=g:i.indexOf(g)<0&&(i+=", ".concat(g)),t.sv="",t.svp="",t.err=i}return t}))}function as(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!gi(t=Ye(t)))throw new Error("(rows)");var n=Ia(t);if(Vr(n)>0)throw new Error(Hr(n,"; "));var e=cr(r,"waterLevelUsual");fi(e)||(e=0),e=pi(e);var i=cr(r,"waterLevelDesign");fi(i)||(i=0),i=pi(i);var a=is(t,e),s=is(t,i);return t=bi(t,(function(t,r){t.waterLevelUsual=e,t.waterLevelDesign=i;var n=a[r],o=s[r];return t.sv=n.sv,t.svpUsual=n.svp,t.svpDesign=o.svp,t.zsv=n.zsv,t}))}function ss(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),n.push.apply(n,e)}return n}function os(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?ss(Object(n),!0).forEach((function(r){_i(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ss(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function hs(t){var r=oa(xa(t));return""!==r?"[".concat(r,"]"):""}function us(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"new",n=_a(t,1),e=_a(t,2);if("new"===r)return"C"===n||"O"===n||"P"===n||"M"===n&&"ML"!==e&&"MH"!==e;if("classic"===r)return"S"!==n&&"G"!==n;throw new Error("invalid mode[".concat(r,"]"))}function cs(t,r,n){if(Vr(t)<=0)return{err:"invalid vx"};if(Vr(r)<=0)return{err:"invalid vy"};if(Vr(t)!==Vr(r))return{err:"size of vx is not equal to size of vy"};var e=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!vi(t))return{err:"ps is not array"};if(!Zr(r))return{err:"x is not number"};var e=Oa(t,n);if(cr(e,"err"))return cr(e,"err");if(0===Vr(e))return{err:"ps(length=0) is not effective array",ps:t,psEff:e};if(1===Vr(e))return{err:"ps(length=1) is one point only",ps:t,psEff:e};var i=Aa(e);if("no"===i)return{err:"psEff is not increasing or decreasing"};i===Pa&&(i=ja,e=Na(e));var a=cr(n,"mode");"linear"!==a&&"stairs"!==a&&"blocks"!==a&&(a="linear");try{if("linear"===a)return Da(e,r);if("blocks"===a)return Ra(e,r);if("stairs"===a)return qa(e,r,n)}catch(t){return{err:t.toString()}}}(bi(t,(function(n,e){return{x:t[e],y:r[e]}})),n);return e.err&&"ps is not effective array"===e.err&&(e.err=""),e}function ls(t,r,n){return((n-t.x)*r.y+(r.x-n)*t.y)/(r.x-t.x)}function fs(t,r){var n=[],e=[{volumetricStrain:10,data:[[1.15304,.6],[1.10234,.0413661],[1.10234,.0348459],[1.04383,.0253621],[.956072,.0161746],[.722041,.0093581],[0,0]]},{volumetricStrain:5,data:[[3.00384,.6],[2.97459,.0591482],[2.94533,.0523317],[2.82832,.0431443],[2.56503,.0348459],[2.12623,.0253621],[1.21936,.0126182],[0,0]]},{volumetricStrain:4,data:[[5.11012,.6],[5.11012,.111606],[5.05161,.103604],[5.02236,.0947126],[4.87609,.0849324],[4.72982,.0754486],[4.52504,.0656684],[4.20325,.0579628],[3.82295,.0499608],[3.32563,.0407733],[2.53578,.0286221],[1.5704,.0161746],[0,0]]},{volumetricStrain:3,data:[[7.68446,.6],[7.53819,.234896],[7.53819,.212964],[7.50893,.191033],[7.39192,.165249],[7.33341,.142428],[7.24565,.125831],[7.07012,.111013],[6.8946,.09738],[6.66057,.0887852],[6.45579,.0804869],[6.07549,.0730776],[5.66594,.0665575],[5.28564,.0606301],[4.75907,.0523317],[4.08623,.043737],[0,0]]},{volumetricStrain:2,data:[[14.1203,.6],[14.091,.248529],[13.974,.231043],[13.7985,.216521],[13.6815,.201702],[13.3597,.184513],[13.2134,.173843],[13.0087,.16347],[12.7161,.152208],[12.131,.139168],[11.546,.12761],[10.8439,.116644],[0,0]]},{volumetricStrain:1,data:[[27.5771,.6],[27.5771,.541935],[27.6063,.507852],[27.5478,.485625],[27.5186,.465471],[27.5186,.445022],[27.4893,.424869],[27.3723,.41005],[27.1675,.392268],[26.9335,.376264],[26.5532,.357889],[26.2021,.339514],[25.7048,.324399],[25.1783,.311655],[24.6224,.298022],[23.9496,.282908],[23.2182,.269571],[22.4576,.256531],[21.7556,.244676],[20.8779,.232525],[19.9126,.218892],[0,0]]},{volumetricStrain:.5,data:[[33.0183,.6],[33.0183,.570979],[32.9598,.554086],[32.9013,.536007],[32.6965,.516743],[32.5502,.500147],[32.3747,.482068],[32.0529,.464582],[31.6726,.445022],[31.3216,.425461],[30.9998,.410939],[30.5025,.394935],[29.9466,.376264],[29.3908,.356704],[28.3962,.335958],[27.1383,.313137],[25.5586,.287057],[23.7156,.261865],[21.8141,.238452],[19.7078,.212964],[0,0]]},{volumetricStrain:.2,data:[[35.4,.6],[35.3,.574535],[35.1,.555864],[34.9,.539267],[34.6,.515558],[34.3,.497183],[34,.477919],[33.4544,.455691],[33,.434353],[32.6087,.415385],[31.8774,.397306],[30.8242,.369151],[30.0051,.348998],[29.069,.327067],[28.1329,.308099],[27.1383,.291799],[25.8218,.271349],[24.3884,.252974],[23.2768,.237859],[21.8726,.220373],[19.9711,.200517],[18.5961,.186291],[17.1627,.170583],[15.583,.154876],[14.3543,.14065],[12.8331,.124942],[10.7269,.103307],[8.59132,.081376],[6.39729,.0612228],[4.17399,.0389951],[2.15548,.0188419],[0,0]]},{volumetricStrain:.1,data:[[36.7,.6],[36.5,.571572],[36.2,.544602],[35.8,.520596],[35.4,.490366],[35,.466657],[34.6,.446207],[34.2,.424869],[33.5,.404419],[32.7,.379228],[32,.358482],[30.9998,.331809],[29.5956,.305432],[28.0159,.278758],[26.9335,.262162],[25.266,.238156],[23.2768,.214446],[21.2875,.192515],[19.0642,.170583],[16.8117,.149541],[14.5006,.129684],[12.2481,.108938],[10.0248,.0881925],[7.77222,.0671502],[5.63669,.0472934],[4.70056,.038106],[3.23787,.0259548],[2.38951,.0194347],[.926818,.00669077],[0,0]]}];e=bi(e,(function(t){var r=bi(t.data,(function(t){return t[1]})),n=bi(t.data,(function(t){return t[0]}));return t.vx=r,t.vy=n,t}));var i=bi(e,"volumetricStrain"),a=bi(e,(function(t){var n=cs(t.vx,t.vy,r);return cr(n,"err")?n.err:n})),s=a[0],o=[a[0]],h=[i[0]];tt(a,(function(t,r){r>0&&a[r]>=s&&(s=a[r],o.push(a[r]),h.push(i[r]))}));var u=cs(a=o,i=h,t);if(cr(u,"err"))if("out of x-range"===u.err){var c=u.data.ps,l=Fi(a),f=Li(a);if(t>l){var p=c[Vr(c)-1].y;n.push(" N160=".concat(t," > N160Max=").concat(l,"CSR=").concat(r,"vstr=").concat(p,"%")),u=p}else if(t<f){var v=ls(c[0],c[1],t);n.push(" N160=".concat(t," < N160Min=").concat(f,"CSR=").concat(r,"2vstr=").concat(v,"%")),u=v}else n.push(""),u=""}else n.push(u.err),u="";return{err:n,vstr:u}}function ps(t,r){var n=[],e=[{N172:3,data:[[0,5.48516],[.791714,5.48516],[.889946,5.48274],[.957602,5.47549],[.972564,5.43681],[.981021,5.37154],[.982973,4.71396],[.984274,4.17243],[.985575,3.45201],[.988177,2.61312],[.992081,2.25532],[.996634,1.94104],[1.00379,1.68961],[1.01095,1.54214],[1.02981,1.32698],[1.04347,1.16501],[1.06624,1.00303],[1.09096,.879735],[1.11503,.773363],[1.1391,.703254],[1.17944,.616222],[1.23018,.529191],[1.28873,.444576],[1.35378,.384138],[1.41558,.333369],[1.48064,.275348],[1.5548,.231832],[2,0]]},{N172:6,data:[[0,4.51524],[.789554,4.51524],[.890726,4.51176],[.938502,4.49784],[.957238,4.45954],[.960985,4.31681],[.962858,3.76677],[.964732,3.36294],[.966605,2.92778],[.971289,2.57618],[.97691,2.27679],[.980657,2.07487],[.990962,1.85903],[1.00314,1.57705],[1.01813,1.35773],[1.03686,1.18367],[1.05935,1.02005],[1.08089,.88428],[1.09401,.818136],[1.13148,.696291],[1.17082,.60926],[1.22367,.517103],[1.28287,.437324],[1.34597,.376885],[1.40778,.323699],[1.47673,.268096],[1.55154,.222162],[2,0]]},{N172:10,data:[[0,3.50567],[.738969,3.50567],[.841077,3.50219],[.896347,3.49523],[.912272,3.43953],[.919767,3.34206],[.928198,3.02874],[.938502,2.64928],[.94787,2.29419],[.961922,1.9774],[.972226,1.74763],[.989088,1.50743],[1.00876,1.28811],[1.03031,1.11404],[1.05466,.953905],[1.08745,.807692],[1.12398,.682366],[1.16333,.584891],[1.21673,.50134],[1.27762,.421271],[1.33757,.358608],[1.39752,.306389],[1.46966,.25417],[1.54366,.205433],[2,0]]},{N172:14,data:[[0,2.77461],[.693066,2.77461],[.763325,2.77113],[.797049,2.73283],[.815784,2.68061],[.831709,2.57966],[.867307,2.26634],[.88979,2.01221],[.915083,1.74763],[.936629,1.54224],[.960985,1.34729],[.991898,1.12797],[1.01532,.978274],[1.04248,.852949],[1.0734,.731104],[1.10712,.623185],[1.14834,.539634],[1.18206,.480453],[1.22797,.414309],[1.28417,.36209],[1.34975,.299427],[1.4275,.240245],[1.51368,.184545],[2,0]]},{N172:20,data:[[0,2.17235],[.511332,2.17235],[.605009,2.16539],[.660279,2.13406],[.69213,2.1062],[.722107,2.0505],[.751147,1.95999],[.794238,1.75808],[.825152,1.6049],[.865433,1.40299],[.901968,1.24285],[.939439,1.06182],[.994709,.859911],[1.04717,.689329],[1.09869,.550078],[1.15021,.459565],[1.20267,.386459],[1.25888,.327277],[1.31228,.271577],[1.38441,.22632],[1.46403,.177583],[2,0]]},{N172:25,data:[[0,1.73371],[.396108,1.73371],[.49447,1.71978],[.544119,1.69542],[.579716,1.65712],[.619998,1.58053],[.660279,1.48306],[.703371,1.37862],[.734285,1.28463],[.775503,1.17671],[.816721,1.06182],[.865433,.93998],[.910399,.82858],[.956301,.724142],[1.00595,.602297],[1.0556,.508303],[1.11743,.403865],[1.16989,.337721],[1.22703,.285502],[1.27855,.247208],[1.33663,.208914],[1.4172,.167139],[1.49963,.132326],[2,0]]},{N172:30,data:[[0,1.30203],[.264959,1.30203],[.388614,1.29159],[.476671,1.26026],[.527257,1.20108],[.588147,1.11056],[.647164,1.01657],[.694003,.919093],[.759578,.804211],[.821405,.689329],[.884169,.591853],[.964732,.47349],[1.02469,.386459],[1.09963,.309871],[1.16895,.25417],[1.24764,.19847],[1.32726,.156695],[1.40876,.125364],[1.48558,.100995],[1.55303,.0870696],[1.63453,.0627007],[2,0]]}];e=bi(e,(function(t){var r=bi(t.data,(function(t){return t[0]})),n=bi(t.data,(function(t){return t[1]}));return t.vx=r,t.vy=n,t}));var i=bi(e,"N172"),a=bi(e,(function(t){var n=cs(t.vx,t.vy,r);return cr(n,"err")?n.err:n})),s=a[0],o=[a[0]],h=[i[0]];tt(a,(function(t,r){r>0&&a[r]<=s&&(s=a[r],o.push(a[r]),h.push(i[r]))}));var u=cs(i=h,a=o,t);if(cr(u,"err"))if("out of x-range"===u.err){var c=u.data.ps,l=Fi(i),f=Li(i);if(t>l){var p=c[Vr(c)-1].y;n.push(" N172=".concat(t," > N172Max=").concat(l,"FS=").concat(r,"vstr=").concat(p,"%")),u=p}else if(t<f){var v=ls(c[0],c[1],t);n.push(" N172=".concat(t," < N172Min=").concat(f,"FS=").concat(r,"2vstr=").concat(v,"%")),u=v}else n.push(""),u=""}else n.push(u.err),u="";return{err:n,vstr:u}}function vs(t,r,n,e){var i=[],a=0;!function(){if(n<0)return i.push("Volumetric Strain(Tokimatsu And Seed): CSR".concat(hs(n),"<0")),void(a="");n>.6&&(i.push("Volumetric Strain(Tokimatsu And Seed): CSR0.60.6"),n=.6),a=fs(t,n),Vr(a.err)>0&&tt(a.err,(function(t){i.push("Volumetric Strain(Tokimatsu And Seed): ".concat(t))})),a=a.vstr}();var s=0;return function(){if(e<0)return i.push("Volumetric Strain(Ishihara And Yoshimine): FS".concat(hs(e),"<0")),void(s="");e>=2&&(e=2),s=ps(r,e),Vr(s.err)>0&&tt(s.err,(function(t){i.push("Volumetric Strain(Ishihara And Yoshimine): ".concat(t))})),s=s.vstr}(),{err:i,vstrTS:a,vstrIY:s}}function ds(t){var r,n=t.ver,e=void 0===n?"2012":n,i=t.noLiqueMode,a=void 0===i?"new":i,s=t.waterLevelDesign,o=t.soilClassification,h=t.depth,u=t.N60,c=t.FC,l=t.PI,f=t.sv,p=t.svpUsual,v=t.svpDesign,d=t.PGA,M=t.Mw,g=[],m="",y="",w="",_="",b="",x="",S="",N="",C="",E="",j="";function P(){return{rd:m,ks:y,CN:w,N160:_,N160cs:b,N172:x,CSR:N,CRR:S,FS:C,vstrTS:E,vstrIY:j,err:Hr(g,"; ")}}for(var O=!1,A=!1;;){if("2012"!==e&&"2017"!==e)return g.push("ver".concat(hs(e)," 20122017")),P();if(!fi(h))return g.push("depth".concat(hs(h),"")),P();if((h=pi(h))<0)return g.push("depth".concat(hs(h),"<0")),P();if("new"!==a&&"classic"!==a&&(g.push("noLiqueMode".concat(hs(a),"'new''classic''new'")),a="new"),fi(s)?(s=pi(s))<0&&(g.push("waterLevelDesign".concat(hs(s),"<00(m)")),s=0):(g.push("waterLevelDesign".concat(hs(s),"0(m)")),s=0),li(o)||(g.push("soilClassification".concat(hs(o),"SW")),o="SW"),(h<s||us(o,a))&&(O=!0),h>20&&(O=!0),"NP"===oa(xa(l))&&(l=0),fi(l)?pi(l)>7&&(O=!0):g.push("PI".concat(hs(l),"NP")),fi(u)?((u=pi(u))<0&&(g.push("N60".concat(hs(u),"<0")),A=!0),u>=50&&(O=!0)):(g.push("N60".concat(hs(u),"")),A=!0),fi(c)?(c=pi(c))<0&&(g.push("FC".concat(hs(c),"<0")),A=!0):(g.push("FC".concat(hs(c),"")),A=!0),!fi(p))return g.push("svpUsual".concat(hs(p),"")),P();if((p=pi(p))<0)return g.push("svpUsual".concat(hs(p),"<0")),P();if(!fi(v))return g.push("svpDesign".concat(hs(v),"")),P();if((v=pi(v))<0)return g.push("svpDesign".concat(hs(v),"<0")),P();if(!fi(f))return g.push("sv".concat(hs(f),"")),P();if((f=pi(f))<0)return g.push("sv".concat(hs(f),"<0")),P();if(!fi(d))return g.push("PGA".concat(hs(d),"")),P();if((d=pi(d))<0)return g.push("PGA".concat(hs(d),"<0")),P();if(!fi(M))return g.push("Mw".concat(hs(M),"")),P();if((M=pi(M))<0)return g.push("Mw".concat(hs(M),"<0")),P();break}if(!0===O)return g=[],S="-",N="-",C=10,P();if(!0===A)return P();var k=null;"2012"===e?k=-3.3:"2017"===e&&(k=-1.8),r=Math.pow(M/7.5,k),m=h<=10?1-.01*h:1.2-.03*h,y=c<=10?1:1+.07*Math.sqrt(c-10);if(w=Math.min(Math.sqrt(101.39616/p),1.7),(b=y*(_=w*u))>=39)return g=[],S="-",N="-",C=10,P();S=(.08+.0035*b/(1-b/39))*r,(N=f/v*.65*d*m)>0&&(C=S/N),C>10&&(C=10),S<0&&g.push("CRR".concat(hs(S),"<0")),N<=0&&g.push("CSR".concat(hs(N),"<=0")),C<0&&(g.push("FS".concat(hs(C),"<00")),C=0);var D=vs(_,x=_/1.2,N,C);return g=[].concat(qi(g),qi(D.err)),E=D.vstrTS,j=D.vstrIY,P()}function Ms(t){var r=t.ver,n=void 0===r?"1996":r,e=t.noLiqueMode,i=void 0===e?"new":e,a=t.waterLevelDesign,s=t.soilClassification,o=t.vibrationType,h=t.depth,u=t.N60,c=t.FC,l=t.PI,f=t.D50,p=t.D10,v=t.sv,d=t.svpUsual,M=t.svpDesign,g=t.PGA,m=[],y="",w="",_="",b="",x="",S="",N="",C="",E="",j="",P="",O="",A="",k="",D="";function q(){return{rd:y,N160:j,N172:w,c1:_,c2:b,cFC:x,Na:S,RL:N,cw:C,CN:E,CSR:O,CRR:P,FS:A,vstrTS:k,vstrIY:D,err:Hr(m,"; ")}}for(var R=!1,I=!1;;){if("1996"!==n&&"2017"!==n)return m.push("ver".concat(hs(n)," 19962017")),q();if(!fi(h))return m.push("depth".concat(hs(h),"")),q();if((h=pi(h))<0)return m.push("depth".concat(hs(h),"<0")),q();if("new"!==i&&"classic"!==i&&(m.push("noLiqueMode".concat(hs(i),"'new''classic''new'")),i="new"),fi(a)?(a=pi(a))<0&&(m.push("waterLevelDesign".concat(hs(a),"<00(m)")),a=0):(m.push("waterLevelDesign".concat(hs(a),"0(m)")),a=0),li(s)||(m.push("soilClassification".concat(hs(s),"SW")),s="SW"),us(s,i)&&(R=!0),h>20&&(R=!0),fi(u)?((u=pi(u))<0&&(m.push("N60".concat(hs(u),"<0")),I=!0),u>=50&&(R=!0)):(m.push("N60".concat(hs(u),"")),I=!0),(h<a||a>10)&&(R=!0),fi(c)?(c=pi(c))<0?(m.push("FC".concat(hs(c),"<0")),I=!0):c<=35||("NP"===oa(xa(l))&&(l=0),fi(l)?(l=pi(l))<15||(R=!0):m.push("PI".concat(hs(l),"NP"))):(m.push("FC".concat(hs(c),"")),I=!0),fi(f)||m.push("D50".concat(hs(f),"")),fi(p)||m.push("D10".concat(hs(p),"")),fi(f)&&fi(p)&&(f=pi(f),p=pi(p),f>10&&(R=!0),p>1&&(R=!0)),fi(o)?1!==(o=ga(o))&&2!==o&&(m.push("vibrationType".concat(hs(o),"121")),o=1):(m.push("vibrationType".concat(hs(o),"1")),o=1),!fi(d))return m.push("svpUsual".concat(hs(d),"")),q();if((d=pi(d))<0)return m.push("svpUsual".concat(hs(d),"<0")),q();if(!fi(M))return m.push("svpDesign".concat(hs(M),"")),q();if((M=pi(M))<0)return m.push("svpDesign".concat(hs(M),"<0")),q();if(!fi(v))return m.push("sv".concat(hs(v),"")),q();if((v=pi(v))<0)return m.push("sv".concat(hs(v),"<0")),q();if(!fi(g))return m.push("PGA".concat(hs(g),"")),q();if((g=pi(g))<0)return m.push("PGA".concat(hs(g),"<0")),q();break}if(!0===R)return m=[],P="-",O="-",A=10,q();if(!0===I)return q();y=1-.015*h,w=(E=170/(d+70))*(u/1.2);var L,G;L=0,G="",fi(f)?G=pi(f)<2?"sand":"gravel":function(t){var r=_a(t,1),n=_a(t,2);return"S"===r||"ML"===n||"MH"===n}(s)?G="sand":function(t){return"G"===_a(t,1)}(s)&&(G="gravel"),"sand"!==G&&"gravel"!==G&&(m.push("D50".concat(hs(f),"").concat(hs(s),"")),G="sand"),"sand"===G?"1996"===n?L=(_=c<10?1:c<60?(c+40)/50:c/20-1)*w+(b=c<10?0:(c-10)/18):"2017"===n&&(L=(x=c<10?1:c<40?(c+20)/30:(c-16)/12)*(w+2.47)-2.47):"gravel"===G&&(fi(f)||(m.push("D50".concat(hs(f),"D50D5010(mm)")),f=10),f=pi(f),L=(1-.361*Math.log10(f/2))*w),(S=L)<14?"1996"===n?N=.0882*Math.sqrt(S/1.7):"2017"===n&&(N=.0882*Math.sqrt((.85*S+2.1)/1.7)):N=.0882*Math.sqrt(S/1.7)+16e-7*Math.pow(S-14,4.5),P=(C=2===o?N<=.1?1:N<=.4?3.3*N+.67:2:1)*N,(O=y*g*v/M)>0&&(A=P/O),A>10&&(A=10),P<0&&m.push("CRR".concat(hs(P),"<0")),O<=0&&m.push("CSR".concat(hs(O),"<=0")),A<0&&(m.push("FS".concat(hs(A),"<00")),A=0);var F=vs(j=w/(60/72),w,O,A);return m=[].concat(qi(m),qi(F.err)),k=F.vstrTS,D=F.vstrIY,q()}var gs={SPT:{sptSeed:function(t){var r,n=t.noLiqueMode,e=void 0===n?"new":n,i=t.waterLevelDesign,a=t.soilClassification,s=t.depth,o=t.N60,h=t.FC,u=t.sv,c=t.svpUsual,l=t.svpDesign,f=t.PGA,p=t.Mw,v=[],d="",M="",g="",m="",y="",w="",_="",b="",x="";function S(){return{rd:d,CN:M,N160:g,N172:m,CSR:w,CRR:y,FS:_,vstrTS:b,vstrIY:x,err:Hr(v,"; ")}}for(var N=!1,C=!1;;){if(!fi(s))return v.push("depth".concat(hs(s),"")),S();if((s=pi(s))<0)return v.push("depth".concat(hs(s),"<0")),S();if("new"!==e&&"classic"!==e&&(v.push("noLiqueMode".concat(hs(e),"'new''classic''new'")),e="new"),fi(i)?(i=pi(i))<0&&(v.push("waterLevelDesign".concat(hs(i),"<00(m)")),i=0):(v.push("waterLevelDesign".concat(hs(i),"0(m)")),i=0),li(a)||(v.push("soilClassification".concat(hs(a),"SW")),a="SW"),(s<i||us(a,e))&&(N=!0),s>20&&(N=!0),fi(o)?((o=pi(o))<0&&(v.push("N60".concat(hs(o),"<0")),C=!0),o>=50&&(N=!0)):(v.push("N60".concat(hs(o),"")),C=!0),fi(h)?(h=pi(h))<0&&(v.push("FC".concat(hs(h),"<0")),C=!0):(v.push("FC".concat(hs(h),"")),C=!0),!fi(c))return v.push("svpUsual".concat(hs(c),"")),S();if((c=pi(c))<0)return v.push("svpUsual".concat(hs(c),"<0")),S();if(!fi(l))return v.push("svpDesign".concat(hs(l),"")),S();if((l=pi(l))<0)return v.push("svpDesign".concat(hs(l),"<0")),S();if(!fi(u))return v.push("sv".concat(hs(u),"")),S();if((u=pi(u))<0)return v.push("sv".concat(hs(u),"<0")),S();if(!fi(f))return v.push("PGA".concat(hs(f),"")),S();if((f=pi(f))<0)return v.push("PGA".concat(hs(f),"<0")),S();if(!fi(p))return v.push("Mw".concat(hs(p),"")),S();if((p=pi(p))<0)return v.push("Mw".concat(hs(p),"<0")),S();break}if(!0===N)return v=[],y="-",w="-",_=10,S();if(!0===C)return S();r=Math.pow(p/7.5,-1.11),d=(1-.4113*Math.pow(s,.5)+.04052*s+.001753*Math.pow(s,1.5))/(1-.4177*Math.pow(s,.5)+.05729*s-.006205*Math.pow(s,1.5)+.00121*Math.pow(s,2)),M=Math.min(Math.sqrt(101.39616/c),1.7),g=M*o;var E=[{FC:5,data:[[0,.0496622],[2.65306,.0547297],[4.38776,.0628378],[6.02041,.0719595],[7.55102,.0831081],[8.97959,.100338],[10.5102,.114527],[12.2449,.131757],[13.5714,.146959],[14.7959,.161149],[16.1224,.177365],[17.7551,.193581],[19.1837,.211824],[20.7143,.232095],[22.0408,.248311],[23.2653,.265541],[24.5918,.285811],[25.6122,.307095],[26.4286,.327365],[27.2449,.347635],[27.9592,.372973],[28.3673,.398311],[28.7755,.423649],[28.9796,.444932],[29.2857,.473311],[29.3,.6],[100,100]]},{FC:15,data:[[0,.065],[1.63265,.068],[2.85714,.074],[3.87755,.082],[5.10204,.0932432],[6.22449,.110473],[7.44898,.123649],[8.57143,.136824],[9.69388,.151014],[10.9184,.164189],[11.9388,.178378],[13.0612,.192568],[13.8776,.203716],[14.6939,.214865],[16.1224,.232095],[17.551,.251351],[18.5714,.270608],[19.898,.288851],[20.7143,.308108],[21.4286,.327365],[22.0408,.347635],[22.449,.370946],[22.8571,.393243],[23.2653,.417568],[23.6735,.439865],[23.9796,.460135],[24.05,.483446],[24.0816,.515878],[24.1,.6],[100,101]]},{FC:35,data:[[0,.075],[1.32653,.082],[2.44898,.09],[3.26531,.0962838],[4.79592,.116554],[6.22449,.134797],[7.34694,.152027],[8.87755,.171284],[10.102,.185473],[11.4286,.20777],[13.2653,.228041],[14.5918,.247297],[15.7143,.267568],[16.7347,.287838],[17.7551,.313176],[18.6735,.343581],[19.1837,.364865],[19.6939,.382095],[20.102,.410473],[20.4082,.433784],[20.5102,.464189],[20.7143,.490541],[20.9184,.519932],[20.92,.6],[100,102]]}],j=bi(E,"FC");E=bi(E,(function(t){var r=bi(t.data,(function(t){return t[0]})),n=bi(t.data,(function(t){return t[1]}));return t.vx=r,t.vy=n,t}));var P=bi(E,(function(t){var r=cs(t.vx,t.vy,g);return cr(r,"err")?r.err:r})),O=cs(j,P,h);if(cr(O,"err")){if("out of x-range"!==O.err)return v.push(O.err),O="",S();var A=O.data.ps,k=Fi(j),D=Li(j);if(h>k)O=ls(A[Vr(A)-2],A[Vr(A)-1],h),v.push(" FC=".concat(h," > FCMax=").concat(k,"2CRR75=").concat(O));else{if(!(h<D))return v.push(""),O="",S();O=ls(A[0],A[1],h),O=Math.max(O,0),v.push(" FC=".concat(h," < FCMin=").concat(D,"2CRR75=").concat(O))}}if(!Zr(O))return v.push("CRR75".concat(hs(O),"")),S();O>.6&&(v.push("CRR75".concat(hs(O),"0.60.6")),O=.6),y=O*r,(w=u/l*.65*f*d)>0&&(_=y/w),_>10&&(_=10),y<0&&v.push("CRR".concat(hs(y),"<0")),w<=0&&v.push("CSR".concat(hs(w),"<=0")),_<0&&(v.push("FS".concat(hs(_),"<00")),_=0);var q=vs(g,m=g/1.2,w,_);return v=[].concat(qi(v),qi(q.err)),b=q.vstrTS,x=q.vstrIY,S()},sptHBF2012:function(t){return ds(t=os(os({},t),{},{ver:"2012"}))},sptHBF2017:function(t){return ds(t=os(os({},t),{},{ver:"2017"}))},sptNCEER:function(t){var r,n=t.noLiqueMode,e=void 0===n?"new":n,i=t.waterLevelDesign,a=t.soilClassification,s=t.depth,o=t.N60,h=t.FC,u=t.sv,c=t.svpUsual,l=t.svpDesign,f=t.PGA,p=t.Mw,v=[],d="",M="",g="",m="",y="",w="",_="",b="",x="",S="",N="",C="";function E(){return{rd:d,alpha:M,beta:g,CN:m,N160:y,N160cs:w,N172:_,CSR:x,CRR:b,FS:S,vstrTS:N,vstrIY:C,err:Hr(v,"; ")}}for(var j=!1,P=!1;;){if(!fi(s))return v.push("depth".concat(hs(s),"")),E();if((s=pi(s))<0)return v.push("depth".concat(hs(s),"<0")),E();if("new"!==e&&"classic"!==e&&(v.push("noLiqueMode".concat(hs(e),"'new''classic''new'")),e="new"),fi(i)?(i=pi(i))<0&&(v.push("waterLevelDesign".concat(hs(i),"<00(m)")),i=0):(v.push("waterLevelDesign".concat(hs(i),"0(m)")),i=0),li(a)||(v.push("soilClassification".concat(hs(a),"SW")),a="SW"),(s<i||us(a,e))&&(j=!0),s>20&&(j=!0),fi(o)?((o=pi(o))<0&&(v.push("N60".concat(hs(o),"<0")),P=!0),o>=50&&(j=!0)):(v.push("N60".concat(hs(o),"")),P=!0),fi(h)?(h=pi(h))<0&&(v.push("FC".concat(hs(h),"<0")),P=!0):(v.push("FC".concat(hs(h),"")),P=!0),!fi(c))return v.push("svpUsual".concat(hs(c),"")),E();if((c=pi(c))<0)return v.push("svpUsual".concat(hs(c),"<0")),E();if(!fi(l))return v.push("svpDesign".concat(hs(l),"")),E();if((l=pi(l))<0)return v.push("svpDesign".concat(hs(l),"<0")),E();if(!fi(u))return v.push("sv".concat(hs(u),"")),E();if((u=pi(u))<0)return v.push("sv".concat(hs(u),"<0")),E();if(!fi(f))return v.push("PGA".concat(hs(f),"")),E();if((f=pi(f))<0)return v.push("PGA".concat(hs(f),"<0")),E();if(!fi(p))return v.push("Mw".concat(hs(p),"")),E();if((p=pi(p))<0)return v.push("Mw".concat(hs(p),"<0")),E();break}if(!0===j)return v=[],b="-",x="-",S=10,E();if(!0===P)return E();if(r=Math.pow(p/7.5,-2.56),d=(1-.4113*Math.pow(s,.5)+.04052*s+.001753*Math.pow(s,1.5))/(1-.4177*Math.pow(s,.5)+.05729*s-.006205*Math.pow(s,1.5)+.00121*Math.pow(s,2)),M=h<=5?0:h<=35?Math.exp(1.76-190/Math.pow(h,2)):5,g=h<=5?1:h<=35?.99+Math.pow(h,1.5)/1e3:1.2,m=Math.min(Math.sqrt(101.39616/c),1.7),(w=M+g*(y=m*o))>=30)return v=[],b="-",x="-",S=10,E();var O=(.04844+-.004721*w+6136e-7*Math.pow(w,2)+-1673e-8*Math.pow(w,3))/(1+-.1248*w+.009578*Math.pow(w,2)+-3285e-7*Math.pow(w,3)+3714e-9*Math.pow(w,4));b=O*r,(x=u/l*.65*f*d)>0&&(S=b/x),S>10&&(S=10),b<0&&v.push("CRR".concat(hs(b),"<0")),x<=0&&v.push("CSR".concat(hs(x),"<=0")),S<0&&(v.push("FS".concat(hs(S),"<00")),S=0);var A=vs(y,_=y/1.2,x,S);return v=[].concat(qi(v),qi(A.err)),N=A.vstrTS,C=A.vstrIY,E()},sptNJRA1996:function(t){return Ms(t=os(os({},t),{},{ver:"1996"}))},sptNJRA2017:function(t){return Ms(t=os(os({},t),{},{ver:"2017"}))},sptTY:function(t){var r=t.noLiqueMode,n=void 0===r?"new":r,e=t.waterLevelDesign,i=t.soilClassification,a=t.depth,s=t.a,o=t.n,h=t.Cr,u=t.Cs,c=t.N60,l=t.FC,f=t.sv,p=t.svpUsual,v=t.svpDesign,d=t.PGA,M=t.Mw,g=[],m="",y="",w="",_="",b="",x="",S="",N="",C="",E="",j="";function P(){return{rd:m,N160:x,N172:y,dNf:w,Na:_,CN:b,CSR:N,CRR:S,FS:C,vstrTS:E,vstrIY:j,err:Hr(g,"; ")}}for(var O=!1,A=!1;;){if(!fi(a))return g.push("depth".concat(hs(a),"")),P();if((a=pi(a))<0)return g.push("depth".concat(hs(a),"<0")),P();if("new"!==n&&"classic"!==n&&(g.push("noLiqueMode".concat(hs(n),"'new''classic''new'")),n="new"),fi(e)?(e=pi(e))<0&&(g.push("waterLevelDesign".concat(hs(e),"<00(m)")),e=0):(g.push("waterLevelDesign".concat(hs(e),"0(m)")),e=0),li(i)||(g.push("soilClassification".concat(hs(i),"SW")),i="SW"),(a<e||us(i,n))&&(O=!0),a>20&&(O=!0),fi(c)?((c=pi(c))<0&&(g.push("N60".concat(hs(c),"<0")),A=!0),c>=50&&(O=!0)):(g.push("N60".concat(hs(c),"")),A=!0),fi(l)?(l=pi(l))<0&&(g.push("FC".concat(hs(l),"<0")),A=!0):(g.push("FC".concat(hs(l),"")),A=!0),!fi(p))return g.push("svpUsual".concat(hs(p),"")),P();if((p=pi(p))<0)return g.push("svpUsual".concat(hs(p),"<0")),P();if(!fi(v))return g.push("svpDesign".concat(hs(v),"")),P();if((v=pi(v))<0)return g.push("svpDesign".concat(hs(v),"<0")),P();if(!fi(f))return g.push("sv".concat(hs(f),"")),P();if((f=pi(f))<0)return g.push("sv".concat(hs(f),"<0")),P();if(!fi(d))return g.push("PGA".concat(hs(d),"")),P();if((d=pi(d))<0)return g.push("PGA".concat(hs(d),"<0")),P();if(!fi(M))return g.push("Mw".concat(hs(M),"")),P();if((M=pi(M))<0)return g.push("Mw".concat(hs(M),"<0")),P();break}if(!0===O)return g=[],S="-",N="-",C=10,P();if(!0===A)return P();fi(s)||(s=.45),s=pi(s),fi(o)||(o=14),o=pi(o),fi(h)||(h=.57),h=pi(h),fi(u)||(u=85),u=pi(u),m=1-.015*a,_=(y=(b=170/(p+70))*(c/1.2))+(w=l<=5?0:l<=10?l-5:.1*l+4),S=s*h*(16*Math.sqrt(_)/100+Math.pow(16*Math.sqrt(_)/u,o)),(N=.1*(M-1)*d*(f/v)*m)>0&&(C=S/N),C>10&&(C=10),S<0&&g.push("CRR".concat(hs(S),"<0")),N<=0&&g.push("CSR".concat(hs(N),"<=0")),C<0&&(g.push("FS".concat(hs(C),"<00")),C=0);var k=vs(x=y/(60/72),y,N,C);return g=[].concat(qi(g),qi(k.err)),E=k.vstrTS,j=k.vstrIY,P()}},CPT:{cptJuang:function(t){var r=t.waterLevelDesign,n=t.depth,e=t.qc,i=t.fs,a=t.svpDesign,s=t.sv,o=t.PGA,h=t.Mw,u=[],c="",l="",f="";function p(){return{CSR:l,CRR:c,FS:f,err:Hr(u,"; ")}}if(fi(r)||(u.push("waterLevelDesign".concat(hs(r),"0(m)")),r=0),(r=pi(r))<0&&(u.push("waterLevelDesign".concat(hs(r),"<00(m)")),r=0),!fi(n))return u.push("depth".concat(hs(n),"")),p();if((n=pi(n))<0)return u.push("depth".concat(hs(n),"<0")),p();if(!fi(e))return u.push("qc".concat(hs(e),"")),p();if((e=pi(e))<0)return u.push("qc".concat(hs(e),"<0")),p();if(!fi(i))return u.push("fs".concat(hs(i),"")),p();if((i=pi(i))<0)return u.push("fs".concat(hs(i),"<0")),p();if(!fi(a))return u.push("svpDesign".concat(hs(a),"")),p();if((a=pi(a))<0)return u.push("svpDesign".concat(hs(a),"<0")),p();if(!fi(s))return u.push("sv".concat(hs(s),"")),p();if((s=pi(s))<0)return u.push("sv".concat(hs(s),"<0")),p();if(!fi(o))return u.push("PGA".concat(hs(o),"")),p();if((o=pi(o))<0)return u.push("PGA".concat(hs(o),"<0")),p();if(!fi(h))return u.push("Mw".concat(hs(h),"")),p();if((h=pi(h))<0)return u.push("Mw".concat(hs(h),"<0")),p();var v=Math.pow(h/7.5,-2.56),d=(1-.4113*Math.pow(n,.5)+.04052*n+.001753*Math.pow(n,1.5))/(1-.4177*Math.pow(n,.5)+.05729*n-.006205*Math.pow(n,1.5)+.00121*Math.pow(n,2)),M=i/(e-s)*100;console.log("fs,qc,svkg/cm2");var g=e/Math.sqrt(a);console.log("qc,svpDesignkg/cm2");var m=Math.sqrt(Math.pow(3.47-Math.log10(g),2)+Math.pow(Math.log10(M)+1.22,2)),y=-.016*Math.pow(a/100,3)+.178*Math.pow(a/100,2)-a/100*.063+.903;console.log("svpDesignkg/cm2");var w=g*(2.429*Math.pow(m,4)-16.943*Math.pow(m,3)+44.551*Math.pow(m,2)-51.497*m+22.802),_=y*Math.exp(1.264*Math.pow(w/100,1.25)-2.957);return c=_*v,(l=.65*o*(s/a)*d)>0&&(f=c/l),f>10&&(f=10),n>20?(c="-",l="-",f=10,p()):(c<0&&u.push("CRR".concat(hs(c),"<0")),l<=0&&u.push("CSR".concat(hs(l),"<=0")),f<0&&(u.push("FS".concat(hs(f),"<00")),f=0),p())},cptHBF:function(t){var r=t.waterLevelDesign,n=t.depth,e=t.qc,i=t.fs,a=t.svpDesign,s=t.sv,o=t.PGA,h=t.Mw,u=[],c="",l="",f="";function p(){return{CSR:l,CRR:c,FS:f,err:Hr(u,"; ")}}if(fi(r)||(u.push("waterLevelDesign".concat(hs(r),"0(m)")),r=0),(r=pi(r))<0&&(u.push("waterLevelDesign".concat(hs(r),"<00(m)")),r=0),!fi(n))return u.push("depth".concat(hs(n),"")),p();if((n=pi(n))<0)return u.push("depth".concat(hs(n),"<0")),p();if(!fi(e))return u.push("qc".concat(hs(e),"")),p();if((e=pi(e))<0)return u.push("qc".concat(hs(e),"<0")),p();if(!fi(i))return u.push("fs".concat(hs(i),"")),p();if((i=pi(i))<0)return u.push("fs".concat(hs(i),"<0")),p();if(!fi(a))return u.push("svpDesign".concat(hs(a),"")),p();if((a=pi(a))<0)return u.push("svpDesign".concat(hs(a),"<0")),p();if(!fi(s))return u.push("sv".concat(hs(s),"")),p();if((s=pi(s))<0)return u.push("sv".concat(hs(s),"<0")),p();if(!fi(o))return u.push("PGA".concat(hs(o),"")),p();if((o=pi(o))<0)return u.push("PGA".concat(hs(o),"<0")),p();if(!fi(h))return u.push("Mw".concat(hs(h),"")),p();if((h=pi(h))<0)return u.push("Mw".concat(hs(h),"<0")),p();var v=Math.pow(h/7.5,-3.3),d=(1-.4113*Math.pow(n,.5)+.04052*n+.001753*Math.pow(n,1.5))/(1-.4177*Math.pow(n,.5)+.05729*n-.006205*Math.pow(n,1.5)+.00121*Math.pow(n,2)),M=1.7/(a+.7)*e;console.log("svpDesignkg/cm2, kPa, 170=>1.770=>0.7r = 98.134256");var g=i/e*100,m=(g<=.1?1:.4*Math.pow(g,2)-.08*g+1.004)*M;return m=Math.min(m,179.5),c=(.09+28e-5*m/(1-m/180))*v,(l=.65*o*(s/a)*d)>0&&(f=c/l),f>10&&(f=10),n>20?(c="-",l="-",f=10,p()):(c<0&&u.push("CRR".concat(hs(c),"<0")),l<=0&&u.push("CSR".concat(hs(l),"<=0")),f<0&&(u.push("FS".concat(hs(f),"<00")),f=0),p())},cptOlsen:function(t){var r=t.waterLevelDesign,n=t.depth,e=t.qc,i=t.fs,a=t.svpDesign,s=t.sv,o=t.PGA,h=t.Mw,u=[],c="",l="",f="";function p(){return{CSR:l,CRR:c,FS:f,err:Hr(u,"; ")}}if(fi(r)||(u.push("waterLevelDesign".concat(hs(r),"0(m)")),r=0),(r=pi(r))<0&&(u.push("waterLevelDesign".concat(hs(r),"<00(m)")),r=0),!fi(n))return u.push("depth".concat(hs(n),"")),p();if((n=pi(n))<0)return u.push("depth".concat(hs(n),"<0")),p();if(!fi(e))return u.push("qc".concat(hs(e),"")),p();if((e=pi(e))<0)return u.push("qc".concat(hs(e),"<0")),p();if(!fi(i))return u.push("fs".concat(hs(i),"")),p();if((i=pi(i))<0)return u.push("fs".concat(hs(i),"<0")),p();if(!fi(a))return u.push("svpDesign".concat(hs(a),"")),p();if((a=pi(a))<0)return u.push("svpDesign".concat(hs(a),"<0")),p();if(!fi(s))return u.push("sv".concat(hs(s),"")),p();if((s=pi(s))<0)return u.push("sv".concat(hs(s),"<0")),p();if(!fi(o))return u.push("PGA".concat(hs(o),"")),p();if((o=pi(o))<0)return u.push("PGA".concat(hs(o),"<0")),p();if(!fi(h))return u.push("Mw".concat(hs(h),"")),p();if((h=pi(h))<0)return u.push("Mw".concat(hs(h),"<0")),p();var v=Math.pow(h/7.5,-2.56),d=(1-.4113*Math.pow(n,.5)+.04052*n+.001753*Math.pow(n,1.5))/(1-.4177*Math.pow(n,.5)+.05729*n-.006205*Math.pow(n,1.5)+.00121*Math.pow(n,2)),M=i/e*100,g=.00128*(e/Math.pow(a,.7))-.025+.17*M-.028*Math.pow(M,2)+.0016*Math.pow(M,3);return c=g*v,(l=.65*o*(s/a)*d)>0&&(f=c/l),f>10&&(f=10),n>20?(c="-",l="-",f=10,p()):(c<0&&u.push("CRR".concat(hs(c),"<0")),l<=0&&u.push("CSR".concat(hs(l),"<=0")),f<0&&(u.push("FS".concat(hs(f),"<00")),f=0),p())},cptShibata:function(t){var r=t.waterLevelDesign,n=t.depth,e=t.qc,i=t.fs,a=t.svpDesign,s=t.sv,o=t.PGA,h=t.Mw,u=t.D50,c=[],l="",f="",p="";function v(){return{CSR:f,CRR:l,FS:p,err:Hr(c,"; ")}}if(fi(r)||(c.push("waterLevelDesign".concat(hs(r),"0(m)")),r=0),(r=pi(r))<0&&(c.push("waterLevelDesign".concat(hs(r),"<00(m)")),r=0),!fi(n))return c.push("depth".concat(hs(n),"")),v();if((n=pi(n))<0)return c.push("depth".concat(hs(n),"<0")),v();if(!fi(e))return c.push("qc".concat(hs(e),"")),v();if((e=pi(e))<0)return c.push("qc".concat(hs(e),"<0")),v();if(!fi(i))return c.push("fs".concat(hs(i),"")),v();if((i=pi(i))<0)return c.push("fs".concat(hs(i),"<0")),v();if(!fi(a))return c.push("svpDesign".concat(hs(a),"")),v();if((a=pi(a))<0)return c.push("svpDesign".concat(hs(a),"<0")),v();if(!fi(s))return c.push("sv".concat(hs(s),"")),v();if((s=pi(s))<0)return c.push("sv".concat(hs(s),"<0")),v();if(!fi(o))return c.push("PGA".concat(hs(o),"")),v();if((o=pi(o))<0)return c.push("PGA".concat(hs(o),"<0")),v();if(!fi(h))return c.push("Mw".concat(hs(h),"")),v();if((h=pi(h))<0)return c.push("Mw".concat(hs(h),"<0")),v();if(!fi(u))return c.push("D50".concat(hs(u),"")),v();if((u=pi(u))<0)return c.push("D50".concat(hs(u),"<0")),v();var d=1.7/(a+.7)*e,M=.1*(h-1)*o*(s/a)*(1-.015*n),g=(u>=.25?1:u/.25)*(50+200*((M-.1)/(M+.1)));return g=Fi(g),l=d,(f=g)>0&&(p=l/f),p>10&&(p=10),n>20?(l="-",f="-",p=10,v()):(l<0&&c.push("CRR".concat(hs(l),"<0")),f<=0&&c.push("CSR".concat(hs(f),"<=0")),p<0&&(c.push("FS".concat(hs(p),"<00")),p=0),v())},cptNCEER:function(t){var r=t.waterLevelDesign,n=t.depth,e=t.qc,i=t.fs,a=t.svpDesign,s=t.sv,o=t.PGA,h=t.Mw,u=[],c="",l="",f="";function p(){return{CSR:l,CRR:c,FS:f,err:Hr(u,"; ")}}if(fi(r)||(u.push("waterLevelDesign".concat(hs(r),"0(m)")),r=0),(r=pi(r))<0&&(u.push("waterLevelDesign".concat(hs(r),"<00(m)")),r=0),!fi(n))return u.push("depth".concat(hs(n),"")),p();if((n=pi(n))<0)return u.push("depth".concat(hs(n),"<0")),p();if(!fi(e))return u.push("qc".concat(hs(e),"")),p();if((e=pi(e))<0)return u.push("qc".concat(hs(e),"<0")),p();if(!fi(i))return u.push("fs".concat(hs(i),"")),p();if((i=pi(i))<0)return u.push("fs".concat(hs(i),"<0")),p();if(!fi(a))return u.push("svpDesign".concat(hs(a),"")),p();if((a=pi(a))<0)return u.push("svpDesign".concat(hs(a),"<0")),p();if(!fi(s))return u.push("sv".concat(hs(s),"")),p();if((s=pi(s))<0)return u.push("sv".concat(hs(s),"<0")),p();if(!fi(o))return u.push("PGA".concat(hs(o),"")),p();if((o=pi(o))<0)return u.push("PGA".concat(hs(o),"<0")),p();if(!fi(h))return u.push("Mw".concat(hs(h),"")),p();if((h=pi(h))<0)return u.push("Mw".concat(hs(h),"<0")),p();var v=Math.pow(h/7.5,-2.56),d=(1-.4113*Math.pow(n,.5)+.04052*n+.001753*Math.pow(n,1.5))/(1-.4177*Math.pow(n,.5)+.05729*n-.006205*Math.pow(n,1.5)+.00121*Math.pow(n,2)),M=(e-s)/a;console.log("qc,sv,svpDesignkg/cm2");var g,m=i/(e-s)*100;console.log("fs,qc,svkg/cm2");var y,w,_=Math.sqrt(Math.pow(3.47-Math.log10(M),2)+Math.pow(Math.log10(m)+1.22,2));if(_<=2.6){var b=100;b=1e3*b/9.81/1e4;var x=.1;g=e/(x=1e6*x/9.81/1e4)*Math.pow(b/a,.5),console.log("qc,Pa,Pa2,svpDesign");var S=Math.sqrt(Math.pow(3.47-Math.log10(g),2)+Math.pow(Math.log10(m)+1.22,2));S<=2.6?y=S:(g=e/x*Math.pow(b/a,.75),console.log("qc,Pa,Pa2,svpDesign"),y=Math.sqrt(Math.pow(3.47-Math.log10(g),2)+Math.pow(Math.log10(m)+1.22,2)))}else g=M,y=_;y<=1.64?w=1:(w=-.403*Math.pow(y,4)+5.581*Math.pow(y,3)-21.63*Math.pow(y,2)+33.75*y-17.88,y<2.36&&m<.5&&(w=1));var N,C=w*g;return N=(C=Math.min(C,160))<50?C/1e3*.833+.05:93*Math.pow(C/1e3,3)+.08,c=N*v,(l=.65*o*(s/a)*d)>0&&(f=c/l),f>10&&(f=10),n>20?(c="-",l="-",f=10,p()):(c<0&&u.push("CRR".concat(hs(c),"<0")),l<=0&&u.push("CSR".concat(hs(l),"<=0")),f<0&&(u.push("FS".concat(hs(f),"<00")),f=0),p())}},VS:{vsHBF:function(t){var r=t.waterLevelDesign,n=t.depth,e=t.Vs,i=t.FC,a=t.svpDesign,s=t.sv,o=t.PGA,h=t.Mw,u=[],c="",l="",f="";function p(){return{CSR:l,CRR:c,FS:f,err:Hr(u,"; ")}}if(fi(r)||(u.push("waterLevelDesign".concat(hs(r),"0(m)")),r=0),(r=pi(r))<0&&(u.push("waterLevelDesign".concat(hs(r),"<00(m)")),r=0),!fi(n))return u.push("depth".concat(hs(n),"")),p();if((n=pi(n))<0)return u.push("depth".concat(hs(n),"<0")),p();if(!fi(e))return u.push("Vs".concat(hs(e),"")),p();if((e=pi(e))<0)return u.push("Vs".concat(hs(e),"<0")),p();if(!fi(i))return u.push("FC".concat(hs(i),"")),p();if((i=pi(i))<0)return u.push("FC".concat(hs(i),"<0")),p();if(!fi(a))return u.push("svpDesign".concat(hs(a),"")),p();if((a=pi(a))<0)return u.push("svpDesign".concat(hs(a),"<0")),p();if(!fi(s))return u.push("sv".concat(hs(s),"")),p();if((s=pi(s))<0)return u.push("sv".concat(hs(s),"<0")),p();if(!fi(o))return u.push("PGA".concat(hs(o),"")),p();if((o=pi(o))<0)return u.push("PGA".concat(hs(o),"<0")),p();if(!fi(h))return u.push("Mw".concat(hs(h),"")),p();if((h=pi(h))<0)return u.push("Mw".concat(hs(h),"<0")),p();var v=Math.pow(h/7.5,-3.3),d=(1-.4113*Math.pow(n,.5)+.04052*n+.001753*Math.pow(n,1.5))/(1-.4177*Math.pow(n,.5)+.05729*n-.006205*Math.pow(n,1.5)+.00121*Math.pow(n,2)),M=1/Math.sqrt(a)*e;console.log("svpDesign,Vs");var g=(i<=10?1:29e-5*Math.pow(i,2)-.00355*i+1.00651)*(M-100);return g=Math.min(g,134.5),c=(M<=100?.09:.09+22e-5*g/(1-g/135))*v,(l=.65*o*(s/a)*d)>0&&(f=c/l),f>10&&(f=10),n>20?(c="-",l="-",f=10,p()):(c<0&&u.push("CRR".concat(hs(c),"<0")),l<=0&&u.push("CSR".concat(hs(l),"<=0")),f<0&&(u.push("FS".concat(hs(f),"<00")),f=0),p())},vsAndrus:function(t){var r=t.waterLevelDesign,n=t.depth,e=t.Vs,i=t.FC,a=t.svpDesign,s=t.sv,o=t.PGA,h=t.Mw,u=[],c="",l="",f="";function p(){return{CSR:l,CRR:c,FS:f,err:Hr(u,"; ")}}if(fi(r)||(u.push("waterLevelDesign".concat(hs(r),"0(m)")),r=0),(r=pi(r))<0&&(u.push("waterLevelDesign".concat(hs(r),"<00(m)")),r=0),!fi(n))return u.push("depth".concat(hs(n),"")),p();if((n=pi(n))<0)return u.push("depth".concat(hs(n),"<0")),p();if(!fi(e))return u.push("Vs".concat(hs(e),"")),p();if((e=pi(e))<0)return u.push("Vs".concat(hs(e),"<0")),p();if(!fi(i))return u.push("FC".concat(hs(i),"")),p();if((i=pi(i))<0)return u.push("FC".concat(hs(i),"<0")),p();if(!fi(a))return u.push("svpDesign".concat(hs(a),"")),p();if((a=pi(a))<0)return u.push("svpDesign".concat(hs(a),"<0")),p();if(!fi(s))return u.push("sv".concat(hs(s),"")),p();if((s=pi(s))<0)return u.push("sv".concat(hs(s),"<0")),p();if(!fi(o))return u.push("PGA".concat(hs(o),"")),p();if((o=pi(o))<0)return u.push("PGA".concat(hs(o),"<0")),p();if(!fi(h))return u.push("Mw".concat(hs(h),"")),p();if((h=pi(h))<0)return u.push("Mw".concat(hs(h),"<0")),p();var v,d=Math.pow(h/7.5,-3.3),M=(1-.4113*Math.pow(n,.5)+.04052*n+.001753*Math.pow(n,1.5))/(1-.4177*Math.pow(n,.5)+.05729*n-.006205*Math.pow(n,1.5)+.00121*Math.pow(n,2)),g=1/Math.sqrt(a)*e;console.log("svpDesign,Vs"),v=i<=5?215:i<=35?215-.5*(i-5):200;var m=.022*Math.pow(g/100,2)+2.8*(1/(v-g)-1/v);return m=Fi(m),c=m*d,(l=.65*o*(s/a)*M)>0&&(f=c/l),f>10&&(f=10),n>20?(c="-",l="-",f=10,p()):(c<0&&u.push("CRR".concat(hs(c),"<0")),l<=0&&u.push("CSR".concat(hs(l),"<=0")),f<0&&(u.push("FS".concat(hs(f),"<00")),f=0),p())},vsNCEER:function(t){var r=t.waterLevelDesign,n=t.depth,e=t.Vs,i=t.FC,a=t.svpDesign,s=t.sv,o=t.PGA,h=t.Mw,u=[],c="",l="",f="";function p(){return{CSR:l,CRR:c,FS:f,err:Hr(u,"; ")}}if(fi(r)||(u.push("waterLevelDesign".concat(hs(r),"0(m)")),r=0),(r=pi(r))<0&&(u.push("waterLevelDesign".concat(hs(r),"<00(m)")),r=0),!fi(n))return u.push("depth".concat(hs(n),"")),p();if((n=pi(n))<0)return u.push("depth".concat(hs(n),"<0")),p();if(!fi(e))return u.push("Vs".concat(hs(e),"")),p();if((e=pi(e))<0)return u.push("Vs".concat(hs(e),"<0")),p();if(!fi(i))return u.push("FC".concat(hs(i),"")),p();if((i=pi(i))<0)return u.push("FC".concat(hs(i),"<0")),p();if(!fi(a))return u.push("svpDesign".concat(hs(a),"")),p();if((a=pi(a))<0)return u.push("svpDesign".concat(hs(a),"<0")),p();if(!fi(s))return u.push("sv".concat(hs(s),"")),p();if((s=pi(s))<0)return u.push("sv".concat(hs(s),"<0")),p();if(!fi(o))return u.push("PGA".concat(hs(o),"")),p();if((o=pi(o))<0)return u.push("PGA".concat(hs(o),"<0")),p();if(!fi(h))return u.push("Mw".concat(hs(h),"")),p();if((h=pi(h))<0)return u.push("Mw".concat(hs(h),"<0")),p();var v,d=Math.pow(h/7.5,-3.3),M=(1-.4113*Math.pow(n,.5)+.04052*n+.001753*Math.pow(n,1.5))/(1-.4177*Math.pow(n,.5)+.05729*n-.006205*Math.pow(n,1.5)+.00121*Math.pow(n,2)),g=1/Math.sqrt(a)*e;console.log("svpDesign"),v=i<=5?220:i<=35?210:200;var m=.03*Math.pow(g/100,2)+.9*(1/(v-g)-1/v);return m=Fi(m),c=m*d,(l=.65*o*(s/a)*M)>0&&(f=c/l),f>10&&(f=10),n>20?(c="-",l="-",f=10,p()):(c<0&&u.push("CRR".concat(hs(c),"<0")),l<=0&&u.push("CSR".concat(hs(l),"<=0")),f<0&&(u.push("FS".concat(hs(f),"<00")),f=0),p())}}};var ms={mLiques:gs,mSettls:{SPT:{sptVolumetricStrainTokimatsuAndSeed:fs,sptVolumetricStrainIshiharaAndYoshimine:ps}},calc:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",r=arguments.length>1?arguments[1]:void 0;function n(t){var r=cr(t,0,[]);return X(r)}function e(t){if("spt"===_a(t,3))return"SPT";if("cpt"===_a(t,3))return"CPT";if("vs"===_a(t,2))return"VS";throw new Error(": ".concat(t))}function i(t){var r=n(t),i="";return tt(r,(function(t){if(t.indexOf("-FS")>=0)return i=e(t),!1})),i}function a(t,r,n){return r=pi(r),n=pi(n),t=bi(t,(function(t,e){var i=cr(t,"err","");t.waterLevelUsual=r,t.waterLevelDesign=n;var a=cr(t,"depthStart",null),s=cr(t,"depthEnd",null);if(fi(a)&&fi(s)){var o=((a=pi(a))+(s=pi(s)))/2;t.depth=o}else t.depth="";var h=cr(t,"e",null),u=cr(t,"GS",null),c=ns(cr(t,"rd",null),cr(t,"rsat",null),u,h);return cr(c,"err")&&(""===i?i=c.err:i.indexOf(c.err)<0&&(i+=", ".concat(c.err)),t.err=i),Zr(c.rd)?t.rd=c.rd:t.rd="",Zr(c.rsat)?t.rsat=c.rsat:t.rsat="",Zr(c.GS)?t.GS=c.GS:t.GS="",Zr(c.e)?t.e=c.e:t.e="",t}))}function s(t,r,n,e){return e=a(e,r=pi(r),n=pi(n)),"SPT"===t?e=as(e,{waterLevelUsual:r,waterLevelDesign:n}):"CPT"===t?console.log("CPT"):"VS"===t&&console.log("VS"),e}function o(t,r){return r=Ye(r),tt(gs[t],(function(t,n){var e=t(r);tt(e,(function(t,e){r["".concat(n,"-").concat(e)]=t}))})),r}function h(t){var r=n(t=Ye(t));return tt(r,(function(r){if(r.indexOf("-FS")>=0){var n=r.replace("-FS",""),e=0;t=bi(t,(function(t,i){if(fi(t.depthStart)&&fi(t.depthEnd)&&fi(t.depth)&&fi(t[r])){var a=pi(t.depthStart),s=pi(t.depthEnd),o=pi(t.depth),h=pi(t[r]),u=1-Math.min(Math.max(h,0),1);e+=u*(10-.5*o)*(s-a)}return t["".concat(n,"-PL")]=e,t}))}})),t}function u(t){var r=n(t=Ye(t));return tt(r,(function(r){if(r.indexOf("-vstr")>=0){var n=fa(r,"-vstr"),e=cr(n,0,""),i=cr(n,1,""),a=0;t=bi(t,(function(t,n){if(fi(t.depthStart)&&fi(t.depthEnd)&&fi(t[r])){var s=pi(t.depthStart),o=pi(t.depthEnd),h=pi(t[r])/100;a+=h*(o-s)}return t["".concat(e,"-stl").concat(i)]=a,t}))}})),t}if(!li(t))throw new Error("kind()");if("SPT"!==t&&"CPT"!==t&&"VS"!==t&&"auto"!==t)throw new Error("kind()".concat(hs(t),": SPT, CPT, VS, auto"));if(0===Vr(r))throw new Error("");var c=Ia(r);if(Vr(c)>0)throw new Error(Hr(c,", "));r=Ye(r);var l=cr(r,"0.waterLevelUsual",0),f=cr(r,"0.waterLevelDesign",0);return"auto"===t&&(t=i(r)),r=s(t,l,f,r),r=u(r=h(r=bi(r,(function(r,n){return o(t,r)})))),r=bi(r,(function(r){var n={},e=ha(t),i=Vr(e);return tt(r,(function(t,r){_a(r,i)!==e&&(n[r]=t)})),tt(gs[t],(function(t,e){var i=Vr(e),a="",s="";tt(r,(function(t,r){_a(r,i)===e&&("-err"===ba(r,4)?(a=r,s=t):n[r]=t)})),""!==a&&(n[a]=s)})),n}))}};function ys(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(!gi(t))return n;var e=cr(r,"keyDepth");return li(e)||(e="depth"),t=Ye(t),tt(t,(function(t,r){var i=cr(t,e,null);fi(i)||n.push(" ".concat(r," ").concat(e,"[").concat(i,"]"))})),Vr(n)>0||(t=ue(t,(function(t){return pi(t[e])})),tt(t,(function(r,i){if(0===i)return!0;var a=cr(t,"".concat(i-1,".").concat(e),null),s=cr(r,e,null);wi(a=pi(a),">=",s=pi(s))&&n.push(" ".concat(i-1," ").concat(e,"[").concat(a,"] ").concat(i," ").concat(e,"[").concat(s,"]"))}))),n}var ws=function(t,r,n,e){if(!H(t))return t;for(var i=-1,a=(r=or(r,t)).length,s=a-1,o=t;null!=o&&++i<a;){var h=hr(r[i]),u=n;if("__proto__"===h||"constructor"===h||"prototype"===h)return t;if(i!=s){var c=o[h];void 0===(u=e?e(c,h,o):void 0)&&(u=H(c)?c:A(r[i+1])?[]:{})}fe(o,h,u),o=o[h]}return t};var _s=function(t,r,n){return null==t?t:ws(t,r,n)};function bs(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),n.push.apply(n,e)}return n}function xs(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?bs(Object(n),!0).forEach((function(r){_i(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bs(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}function Ss(t,r,n){var e=cr(t,"".concat(n,".").concat(r));return e=fi(e)?pi(e):null}function Ns(t,r,n){var e=[];return tt(t,(function(i,a){if(0===a)return!0;var s=Ss(t,r,a-1),o=Ss(t,n,a-1),h=Ss(t,n,a);fi(o)&&!fi(h)&&e.push({k:a-1,depth:s,value:o})})),e}function Cs(t,r,n,e,i,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};return js(t,r,n,e,i,a,xs({dir:"before"},s))}function Es(t,r,n,e,i,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};return js(t,r,n,e,i,a,xs({dir:"after"},s))}function js(t,r,n,e,i,a){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},o=cr(s,"dir");"before"!==o&&"after"!==o&&(o="after");var h=cr(s,"searchMode");if("all"!==h&&"no"!==h&&"peak"!==h&&"half-closed-value"!==h&&"double-closed-value"!==h&&"closed-value"!==h&&(h="all"),0===Vr(t))return null;if("no"===h)return{k:e,depth:cr(t,"".concat(e,".").concat(r)),value:cr(t,"".concat(e,".").concat(n))};if(!fi(a))return{k:e,depth:cr(t,"".concat(e,".").concat(r)),value:cr(t,"".concat(e,".").concat(n))};var u=Ss(t,r,e),c=[];if("after"===o)for(var l=e+1;l<Vr(t)-1;l++){var f=Ss(t,r,l),p=Ss(t,n,l),v=Math.abs(f-u)>i;c.push({k:l,depth:f,value:p,outRange:v})}else for(var d=e-1;d>0;d--){var M=Ss(t,r,d),g=Ss(t,n,d),m=Math.abs(M-u)>i;c.push({k:d,depth:M,value:g,outRange:m})}for(var y=[],w=0;w<c.length;w++){var _=c[w];if(Zr(_.depth)){if(_.outRange&&Vr(y)>0)break;Zr(_.value)&&y.push(_)}}if(0===Vr(y))return null;if("all"===h||"peak"===h)for(var b=1;b<y.length-1;b++){var x=y[b-1],S=y[b+0],N=y[b+1],C=1;if(0!==a&&(C=S.value/a),S.value>=x.value&&S.value>=N.value&&x.value!==N.value&&C>.5&&C<2)return{k:S.k,depth:S.depth,value:S.value}}if("all"===h||"closed-value"===h){for(var E=1e20,j=null,P=0;P<y.length;P++){var O=y[P+0];if(O.outRange)break;var A=Math.abs(O.value-a);E>A&&(E=A,j={k:O.k,depth:O.depth,value:O.value})}if(null!==j)return j}var k=null;if("all"===h||"half-closed-value"===h){for(var D=1e20,q=null,R=0;R<y.length;R++){var I=y[R+0],L=Math.abs(I.value-a/2);D>L&&(q={diff:D=L,k:I.k,depth:I.depth,value:I.value})}null!==q&&(k=q)}var G=null;if("all"===h||"double-closed-value"===h){for(var F=1e20,T=null,z=0;z<y.length;z++){var B=y[z+0],U=Math.abs(B.value-1.5*a);F>U&&(T={diff:F=U,k:B.k,depth:B.depth,value:B.value})}null!==T&&(G=T)}if(null!==k&&null===G)return delete k.diff,k;if(null===k&&null!==G)return delete G.diff,G;if(null===k&&null===G){var W=null;return delete(W=k.diff<=G.diff?k:G).diff,W}return null}function Ps(t,r,n,e){if(n!==e){if(n>e)throw new Error("k0 > k1");var i=Ye(t);return tt(r,(function(r){for(var a=Ss(t,r,n),s=Ss(t,r,e),o=e-n,h=n;h<=e;h++){var u=(e-h)/o*a+(h-n)/o*s;_s(i,"".concat(h,".").concat(r),u)}})),i}}function Os(t,r,n,e){if(n!==e){if(n>e)throw new Error("k0 > k1");var i=Ye(t);return tt(r,(function(t){for(var r=n;r<=e;r++)_s(i,"".concat(r,".").concat(t),"")})),i}}function As(t,r){return!!di(t)&&(!(!li(r)&&!fi(r))&&r in t)}var ks=6378137,Ds=.0066943799901413165,qs=484813681109536e-20,Rs=Math.PI/2,Is=1e-10,Ls=.017453292519943295,Gs=57.29577951308232,Fs=Math.PI/4,Ts=2*Math.PI,zs=3.14159265359,Bs={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},Us={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},Ws=/[\s_\-\/\(\)]/g;function Vs(t,r){if(t[r])return t[r];for(var n,e=Object.keys(t),i=r.toLowerCase().replace(Ws,""),a=-1;++a<e.length;)if((n=e[a]).toLowerCase().replace(Ws,"")===i)return t[n]}function Qs(t){var r,n,e,i={},a=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,r){var n=r.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t}),{}),s={proj:"projName",datum:"datumCode",rf:function(t){i.rf=parseFloat(t)},lat_0:function(t){i.lat0=t*Ls},lat_1:function(t){i.lat1=t*Ls},lat_2:function(t){i.lat2=t*Ls},lat_ts:function(t){i.lat_ts=t*Ls},lon_0:function(t){i.long0=t*Ls},lon_1:function(t){i.long1=t*Ls},lon_2:function(t){i.long2=t*Ls},alpha:function(t){i.alpha=parseFloat(t)*Ls},gamma:function(t){i.rectified_grid_angle=parseFloat(t)},lonc:function(t){i.longc=t*Ls},x_0:function(t){i.x0=parseFloat(t)},y_0:function(t){i.y0=parseFloat(t)},k_0:function(t){i.k0=parseFloat(t)},k:function(t){i.k0=parseFloat(t)},a:function(t){i.a=parseFloat(t)},b:function(t){i.b=parseFloat(t)},r_a:function(){i.R_A=!0},zone:function(t){i.zone=parseInt(t,10)},south:function(){i.utmSouth=!0},towgs84:function(t){i.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){i.to_meter=parseFloat(t)},units:function(t){i.units=t;var r=Vs(Us,t);r&&(i.to_meter=r.to_meter)},from_greenwich:function(t){i.from_greenwich=t*Ls},pm:function(t){var r=Vs(Bs,t);i.from_greenwich=(r||parseFloat(t))*Ls},nadgrids:function(t){"@null"===t?i.datumCode="none":i.nadgrids=t},axis:function(t){var r="ewnsud";3===t.length&&-1!==r.indexOf(t.substr(0,1))&&-1!==r.indexOf(t.substr(1,1))&&-1!==r.indexOf(t.substr(2,1))&&(i.axis=t)},approx:function(){i.approx=!0}};for(r in a)n=a[r],r in s?"function"==typeof(e=s[r])?e(n):i[e]=n:i[r]=n;return"string"==typeof i.datumCode&&"WGS84"!==i.datumCode&&(i.datumCode=i.datumCode.toLowerCase()),i}var Hs=/\s/,Zs=/[A-Za-z]/,Js=/[A-Za-z84_]/,Xs=/[,\]]/,$s=/[\d\.E\-\+]/;function Ys(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=1}function Ks(t,r,n){Array.isArray(r)&&(n.unshift(r),r=null);var e=r?{}:t,i=n.reduce((function(t,r){return to(r,t),t}),e);r&&(t[r]=i)}function to(t,r){if(Array.isArray(t)){var n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length)return Array.isArray(t[0])?(r[n]={},void to(t[0],r[n])):void(r[n]=t[0]);if(t.length)if("TOWGS84"!==n){if("AXIS"===n)return n in r||(r[n]=[]),void r[n].push(t);var e;switch(Array.isArray(n)||(r[n]={}),n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return r[n]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&to(t[2],r[n]));case"SPHEROID":case"ELLIPSOID":return r[n]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&to(t[3],r[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void Ks(r,n,t);default:for(e=-1;++e<t.length;)if(!Array.isArray(t[e]))return to(t,r[n]);return Ks(r,n,t)}}else r[n]=t;else r[n]=!0}else r[t]=!0}Ys.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;Hs.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case 1:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},Ys.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(Xs.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},Ys.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=1)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=1,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},Ys.prototype.number=function(t){if(!$s.test(t)){if(Xs.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},Ys.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},Ys.prototype.keyword=function(t){if(Js.test(t))this.word+=t;else{if("["===t){var r=[];return r.push(this.word),this.level++,null===this.root?this.root=r:this.currentObject.push(r),this.stack.push(this.currentObject),this.currentObject=r,void(this.state=1)}if(!Xs.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},Ys.prototype.neutral=function(t){if(Zs.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if($s.test(t))return this.word=t,void(this.state=3);if(!Xs.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},Ys.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};function ro(t){return.017453292519943295*t}function no(t){var r=new Ys(t).output(),n=r.shift(),e=r.shift();r.unshift(["name",e]),r.unshift(["type",n]);var a={};return to(r,a),function(t){if("GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"===i(t.PROJECTION)?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.AXIS){for(var r="",n=0,e=t.AXIS.length;n<e;++n){var a=[t.AXIS[n][0].toLowerCase(),t.AXIS[n][1].toLowerCase()];-1!==a[0].indexOf("north")||("y"===a[0]||"lat"===a[0])&&"north"===a[1]?r+="n":-1!==a[0].indexOf("south")||("y"===a[0]||"lat"===a[0])&&"south"===a[1]?r+="s":-1!==a[0].indexOf("east")||("x"===a[0]||"lon"===a[0])&&"east"===a[1]?r+="e":-1===a[0].indexOf("west")&&("x"!==a[0]&&"lon"!==a[0]||"west"!==a[1])||(r+="w")}2===r.length&&(r+="u"),3===r.length&&(t.axis=r)}t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var s=t.GEOGCS;function o(r){return r*(t.to_meter||1)}"GEOGCS"===t.type&&(s=t),s&&(s.DATUM?t.datumCode=s.DATUM.name.toLowerCase():t.datumCode=s.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"!==t.datumCode&&"world_geodetic_system_1984"!==t.datumCode||("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),s.DATUM&&s.DATUM.SPHEROID&&(t.ellps=s.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=s.DATUM.SPHEROID.a,t.rf=parseFloat(s.DATUM.SPHEROID.rf,10)),s.DATUM&&s.DATUM.TOWGS84&&(t.datum_params=s.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_1","Latitude of 1st standard parallel"],["standard_parallel_2","Standard_Parallel_2"],["standard_parallel_2","Latitude of 2nd standard parallel"],["false_easting","False_Easting"],["false_easting","False easting"],["false-easting","Easting at false origin"],["false_northing","False_Northing"],["false_northing","False northing"],["false_northing","Northing at false origin"],["central_meridian","Central_Meridian"],["central_meridian","Longitude of natural origin"],["central_meridian","Longitude of false origin"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["latitude_of_origin","Latitude of natural origin"],["latitude_of_origin","Latitude of false origin"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",ro],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",ro],["x0","false_easting",o],["y0","false_northing",o],["long0","central_meridian",ro],["lat0","latitude_of_origin",ro],["lat0","standard_parallel_1",ro],["lat1","standard_parallel_1",ro],["lat2","standard_parallel_2",ro],["azimuth","Azimuth"],["alpha","azimuth",ro],["srsCode","name"]].forEach((function(r){return function(t,r){var n=r[0],e=r[1];!(n in t)&&e in t&&(t[n]=t[e],3===r.length&&(t[n]=r[2](t[n])))}(t,r)})),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=ro(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(a),a}function eo(t){var r=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?eo[t]=Qs(arguments[1]):eo[t]=no(arguments[1]):eo[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?eo.apply(r,t):eo(t)}));if("string"==typeof t){if(t in eo)return eo[t]}else"EPSG"in t?eo["EPSG:"+t.EPSG]=t:"ESRI"in t?eo["ESRI:"+t.ESRI]=t:"IAU2000"in t?eo["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(eo);var io=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var ao=["3857","900913","3785","102113"];function so(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in eo}(t))return eo[t];if(function(t){return io.some((function(r){return t.indexOf(r)>-1}))}(t)){var r=no(t);if(function(t){var r=Vs(t,"authority");if(r){var n=Vs(r,"epsg");return n&&ao.indexOf(n)>-1}}(r))return eo["EPSG:3857"];var n=function(t){var r=Vs(t,"extension");if(r)return Vs(r,"proj4")}(r);return n?Qs(n):r}return function(t){return"+"===t[0]}(t)?Qs(t):void 0}function oo(t,r){var n,e;if(t=t||{},!r)return t;for(e in r)void 0!==(n=r[e])&&(t[e]=n);return t}function ho(t,r,n){var e=t*r;return n/Math.sqrt(1-e*e)}function uo(t){return t<0?-1:1}function co(t){return Math.abs(t)<=zs?t:t-uo(t)*Ts}function lo(t,r,n){var e=t*n,i=.5*t;return e=Math.pow((1-e)/(1+e),i),Math.tan(.5*(Rs-r))/e}function fo(t,r){for(var n,e,i=.5*t,a=Rs-2*Math.atan(r),s=0;s<=15;s++)if(n=t*Math.sin(a),a+=e=Rs-2*Math.atan(r*Math.pow((1-n)/(1+n),i))-a,Math.abs(e)<=1e-10)return a;return-9999}function po(t){return t}var vo=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=ho(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var r,n,e=t.x,i=t.y;if(i*Gs>90&&i*Gs<-90&&e*Gs>180&&e*Gs<-180)return null;if(Math.abs(Math.abs(i)-Rs)<=Is)return null;if(this.sphere)r=this.x0+this.a*this.k0*co(e-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(Fs+.5*i));else{var a=Math.sin(i),s=lo(this.e,i,a);r=this.x0+this.a*this.k0*co(e-this.long0),n=this.y0-this.a*this.k0*Math.log(s)}return t.x=r,t.y=n,t},inverse:function(t){var r,n,e=t.x-this.x0,i=t.y-this.y0;if(this.sphere)n=Rs-2*Math.atan(Math.exp(-i/(this.a*this.k0)));else{var a=Math.exp(-i/(this.a*this.k0));if(-9999===(n=fo(this.e,a)))return null}return r=co(this.long0+e/(this.a*this.k0)),t.x=r,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:po,inverse:po,names:["longlat","identity"]}],Mo={},go=[];function mo(t,r){var n=go.length;return t.names?(go[n]=t,t.names.forEach((function(t){Mo[t.toLowerCase()]=n})),this):(console.log(r),!0)}var yo={start:function(){vo.forEach(mo)},add:mo,get:function(t){if(!t)return!1;var r=t.toLowerCase();return void 0!==Mo[r]&&go[Mo[r]]?go[Mo[r]]:void 0}},wo={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},_o=wo.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};wo.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var bo={};bo.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},bo.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},bo.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},bo.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},bo.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},bo.potsdam={towgs84:"598.1,73.7,418.2,0.202,0.045,-2.455,6.7",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},bo.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},bo.hermannskogel={towgs84:"577.326,90.129,463.919,5.137,1.474,5.297,2.4232",ellipse:"bessel",datumName:"Hermannskogel"},bo.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},bo.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},bo.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},bo.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},bo.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},bo.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},bo.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},bo.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},bo.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var xo={};function So(t){if(0===t.length)return null;var r="@"===t[0];return r&&(t=t.slice(1)),"null"===t?{name:"null",mandatory:!r,grid:null,isNull:!0}:{name:t,mandatory:!r,grid:xo[t]||null,isNull:!1}}function No(t){return t/3600*Math.PI/180}function Co(t,r,n){return String.fromCharCode.apply(null,new Uint8Array(t.buffer.slice(r,n)))}function Eo(t){return t.map((function(t){return[No(t.longitudeShift),No(t.latitudeShift)]}))}function jo(t,r,n){return{name:Co(t,r+8,r+16).trim(),parent:Co(t,r+24,r+24+8).trim(),lowerLatitude:t.getFloat64(r+72,n),upperLatitude:t.getFloat64(r+88,n),lowerLongitude:t.getFloat64(r+104,n),upperLongitude:t.getFloat64(r+120,n),latitudeInterval:t.getFloat64(r+136,n),longitudeInterval:t.getFloat64(r+152,n),gridNodeCount:t.getInt32(r+168,n)}}function Po(t,r,n,e){for(var i=r+176,a=[],s=0;s<n.gridNodeCount;s++){var o={latitudeShift:t.getFloat32(i+16*s,e),longitudeShift:t.getFloat32(i+16*s+4,e),latitudeAccuracy:t.getFloat32(i+16*s+8,e),longitudeAccuracy:t.getFloat32(i+16*s+12,e)};a.push(o)}return a}function Oo(t,r){if(!(this instanceof Oo))return new Oo(t);r=r||function(t){if(t)throw t};var n=so(t);if("object"===i(n)){var e=Oo.projections.get(n.projName);if(e){if(n.datumCode&&"none"!==n.datumCode){var a=Vs(bo,n.datumCode);a&&(n.datum_params=n.datum_params||(a.towgs84?a.towgs84.split(","):null),n.ellps=a.ellipse,n.datumName=a.datumName?a.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84",n.lat1=n.lat1||n.lat0;var s,o,h,u,c,l,f,p=function(t,r,n,e,i){if(!t){var a=Vs(wo,e);a||(a=_o),t=a.a,r=a.b,n=a.rf}return n&&!r&&(r=(1-1/n)*t),(0===n||Math.abs(t-r)<Is)&&(i=!0,r=t),{a:t,b:r,rf:n,sphere:i}}(n.a,n.b,n.rf,n.ellps,n.sphere),v=(s=p.a,o=p.b,p.rf,h=n.R_A,l=((u=s*s)-(c=o*o))/u,f=0,h?(u=(s*=1-l*(.16666666666666666+l*(.04722222222222222+.022156084656084655*l)))*s,l=0):f=Math.sqrt(l),{es:l,e:f,ep2:(u-c)/c}),d=function(t){return void 0===t?null:t.split(",").map(So)}(n.nadgrids),M=n.datum||function(t,r,n,e,i,a,s){var o={};return o.datum_type=void 0===t||"none"===t?5:4,r&&(o.datum_params=r.map(parseFloat),0===o.datum_params[0]&&0===o.datum_params[1]&&0===o.datum_params[2]||(o.datum_type=1),o.datum_params.length>3&&(0===o.datum_params[3]&&0===o.datum_params[4]&&0===o.datum_params[5]&&0===o.datum_params[6]||(o.datum_type=2,o.datum_params[3]*=qs,o.datum_params[4]*=qs,o.datum_params[5]*=qs,o.datum_params[6]=o.datum_params[6]/1e6+1))),s&&(o.datum_type=3,o.grids=s),o.a=n,o.b=e,o.es=i,o.ep2=a,o}(n.datumCode,n.datum_params,p.a,p.b,v.es,v.ep2,d);oo(this,n),oo(this,e),this.a=p.a,this.b=p.b,this.rf=p.rf,this.sphere=p.sphere,this.es=v.es,this.e=v.e,this.ep2=v.ep2,this.datum=M,this.init(),r(null,this)}else r(t)}else r(t)}function Ao(t,r,n){var e,i,a,s,o=t.x,h=t.y,u=t.z?t.z:0;if(h<-Rs&&h>-1.001*Rs)h=-Rs;else if(h>Rs&&h<1.001*Rs)h=Rs;else{if(h<-Rs)return{x:-1/0,y:-1/0,z:t.z};if(h>Rs)return{x:1/0,y:1/0,z:t.z}}return o>Math.PI&&(o-=2*Math.PI),i=Math.sin(h),s=Math.cos(h),a=i*i,{x:((e=n/Math.sqrt(1-r*a))+u)*s*Math.cos(o),y:(e+u)*s*Math.sin(o),z:(e*(1-r)+u)*i}}function ko(t,r,n,e){var i,a,s,o,h,u,c,l,f,p,v,d,M,g,m,y=1e-12,w=t.x,_=t.y,b=t.z?t.z:0;if(i=Math.sqrt(w*w+_*_),a=Math.sqrt(w*w+_*_+b*b),i/n<y){if(g=0,a/n<y)return Rs,m=-e,{x:t.x,y:t.y,z:t.z}}else g=Math.atan2(_,w);s=b/a,l=(o=i/a)*(1-r)*(h=1/Math.sqrt(1-r*(2-r)*o*o)),f=s*h,M=0;do{M++,u=r*(c=n/Math.sqrt(1-r*f*f))/(c+(m=i*l+b*f-c*(1-r*f*f))),d=(v=s*(h=1/Math.sqrt(1-u*(2-u)*o*o)))*l-(p=o*(1-u)*h)*f,l=p,f=v}while(d*d>1e-24&&M<30);return{x:g,y:Math.atan(v/Math.abs(p)),z:m}}function Do(t){return 1===t||2===t}function qo(t,r,n){if(function(t,r){return t.datum_type===r.datum_type&&!(t.a!==r.a||Math.abs(t.es-r.es)>5e-11)&&(1===t.datum_type?t.datum_params[0]===r.datum_params[0]&&t.datum_params[1]===r.datum_params[1]&&t.datum_params[2]===r.datum_params[2]:2!==t.datum_type||t.datum_params[0]===r.datum_params[0]&&t.datum_params[1]===r.datum_params[1]&&t.datum_params[2]===r.datum_params[2]&&t.datum_params[3]===r.datum_params[3]&&t.datum_params[4]===r.datum_params[4]&&t.datum_params[5]===r.datum_params[5]&&t.datum_params[6]===r.datum_params[6])}(t,r))return n;if(5===t.datum_type||5===r.datum_type)return n;var e=t.a,i=t.es;if(3===t.datum_type){if(0!==Ro(t,!1,n))return;e=ks,i=Ds}var a=r.a,s=r.b,o=r.es;if(3===r.datum_type&&(a=ks,s=6356752.314,o=Ds),i===o&&e===a&&!Do(t.datum_type)&&!Do(r.datum_type))return n;if((n=Ao(n,i,e),Do(t.datum_type)&&(n=function(t,r,n){if(1===r)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(2===r){var e=n[0],i=n[1],a=n[2],s=n[3],o=n[4],h=n[5],u=n[6];return{x:u*(t.x-h*t.y+o*t.z)+e,y:u*(h*t.x+t.y-s*t.z)+i,z:u*(-o*t.x+s*t.y+t.z)+a}}}(n,t.datum_type,t.datum_params)),Do(r.datum_type)&&(n=function(t,r,n){if(1===r)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(2===r){var e=n[0],i=n[1],a=n[2],s=n[3],o=n[4],h=n[5],u=n[6],c=(t.x-e)/u,l=(t.y-i)/u,f=(t.z-a)/u;return{x:c+h*l-o*f,y:-h*c+l+s*f,z:o*c-s*l+f}}}(n,r.datum_type,r.datum_params)),n=ko(n,o,a,s),3===r.datum_type)&&0!==Ro(r,!0,n))return;return n}function Ro(t,r,n){if(null===t.grids||0===t.grids.length)return console.log("Grid shift grids not found"),-1;for(var e={x:-n.x,y:n.y},i={x:Number.NaN,y:Number.NaN},a=[],s=0;s<t.grids.length;s++){var o=t.grids[s];if(a.push(o.name),o.isNull){i=e;break}if(null!==o.grid){var h=o.grid.subgrids[0],u=(Math.abs(h.del[1])+Math.abs(h.del[0]))/1e4,c=h.ll[0]-u,l=h.ll[1]-u,f=h.ll[0]+(h.lim[0]-1)*h.del[0]+u,p=h.ll[1]+(h.lim[1]-1)*h.del[1]+u;if(!(l>e.y||c>e.x||p<e.y||f<e.x||(i=Io(e,r,h),isNaN(i.x))))break}else if(o.mandatory)return console.log("Unable to find mandatory grid '"+o.name+"'"),-1}return isNaN(i.x)?(console.log("Failed to find a grid shift table for location '"+-e.x*Gs+" "+e.y*Gs+" tried: '"+a+"'"),-1):(n.x=-i.x,n.y=i.y,0)}function Io(t,r,n){var e={x:Number.NaN,y:Number.NaN};if(isNaN(t.x))return e;var i={x:t.x,y:t.y};i.x-=n.ll[0],i.y-=n.ll[1],i.x=co(i.x-Math.PI)+Math.PI;var a=Lo(i,n);if(r){if(isNaN(a.x))return e;a.x=i.x-a.x,a.y=i.y-a.y;var s,o,h=9;do{if(o=Lo(a,n),isNaN(o.x)){console.log("Inverse grid shift iteration failed, presumably at grid edge.  Using first approximation.");break}s={x:i.x-(o.x+a.x),y:i.y-(o.y+a.y)},a.x+=s.x,a.y+=s.y}while(h--&&Math.abs(s.x)>1e-12&&Math.abs(s.y)>1e-12);if(h<0)return console.log("Inverse grid shift iterator failed to converge."),e;e.x=co(a.x+n.ll[0]),e.y=a.y+n.ll[1]}else isNaN(a.x)||(e.x=t.x+a.x,e.y=t.y+a.y);return e}function Lo(t,r){var n,e={x:t.x/r.del[0],y:t.y/r.del[1]},i=Math.floor(e.x),a=Math.floor(e.y),s=e.x-1*i,o=e.y-1*a,h={x:Number.NaN,y:Number.NaN};if(i<0||i>=r.lim[0])return h;if(a<0||a>=r.lim[1])return h;n=a*r.lim[0]+i;var u=r.cvs[n][0],c=r.cvs[n][1];n++;var l=r.cvs[n][0],f=r.cvs[n][1];n+=r.lim[0];var p=r.cvs[n][0],v=r.cvs[n][1];n--;var d=r.cvs[n][0],M=r.cvs[n][1],g=s*o,m=s*(1-o),y=(1-s)*(1-o),w=(1-s)*o;return h.x=y*u+m*l+w*d+g*p,h.y=y*c+m*f+w*M+g*v,h}function Go(t,r,n){var e,i,a,s=n.x,o=n.y,h=n.z||0,u={};for(a=0;a<3;a++)if(!r||2!==a||void 0!==n.z)switch(0===a?(e=s,i=-1!=="ew".indexOf(t.axis[a])?"x":"y"):1===a?(e=o,i=-1!=="ns".indexOf(t.axis[a])?"y":"x"):(e=h,i="z"),t.axis[a]){case"e":case"n":u[i]=e;break;case"w":case"s":u[i]=-e;break;case"u":void 0!==n[i]&&(u.z=e);break;case"d":void 0!==n[i]&&(u.z=-e);break;default:return null}return u}function Fo(t){var r={x:t[0],y:t[1]};return t.length>2&&(r.z=t[2]),t.length>3&&(r.m=t[3]),r}function To(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function zo(t,r,n,e){var i;if(Array.isArray(n)&&(n=Fo(n)),function(t){To(t.x),To(t.y)}(n),t.datum&&r.datum&&function(t,r){return(1===t.datum.datum_type||2===t.datum.datum_type)&&"WGS84"!==r.datumCode||(1===r.datum.datum_type||2===r.datum.datum_type)&&"WGS84"!==t.datumCode}(t,r)&&(n=zo(t,i=new Oo("WGS84"),n,e),t=i),e&&"enu"!==t.axis&&(n=Go(t,!1,n)),"longlat"===t.projName)n={x:n.x*Ls,y:n.y*Ls,z:n.z||0};else if(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter,z:n.z||0}),!(n=t.inverse(n)))return;if(t.from_greenwich&&(n.x+=t.from_greenwich),n=qo(t.datum,r.datum,n))return r.from_greenwich&&(n={x:n.x-r.from_greenwich,y:n.y,z:n.z||0}),"longlat"===r.projName?n={x:n.x*Gs,y:n.y*Gs,z:n.z||0}:(n=r.forward(n),r.to_meter&&(n={x:n.x/r.to_meter,y:n.y/r.to_meter,z:n.z||0})),e&&"enu"!==r.axis?Go(r,!0,n):n}Oo.projections=yo,Oo.projections.start();var Bo=Oo("WGS84");function Uo(t,r,n,e){var i,a,s;return Array.isArray(n)?(i=zo(t,r,n,e)||{x:NaN,y:NaN},n.length>2?void 0!==t.name&&"geocent"===t.name||void 0!==r.name&&"geocent"===r.name?"number"==typeof i.z?[i.x,i.y,i.z].concat(n.splice(3)):[i.x,i.y,n[2]].concat(n.splice(3)):[i.x,i.y].concat(n.splice(2)):[i.x,i.y]):(a=zo(t,r,n,e),2===(s=Object.keys(n)).length||s.forEach((function(e){if(void 0!==t.name&&"geocent"===t.name||void 0!==r.name&&"geocent"===r.name){if("x"===e||"y"===e||"z"===e)return}else if("x"===e||"y"===e)return;a[e]=n[e]})),a)}function Wo(t){return t instanceof Oo?t:t.oProj?t.oProj:Oo(t)}function Vo(t,r,n){t=Wo(t);var e,i=!1;return void 0===r?(r=t,t=Bo,i=!0):(void 0!==r.x||Array.isArray(r))&&(n=r,r=t,t=Bo,i=!0),r=Wo(r),n?Uo(t,r,n):(e={forward:function(n,e){return Uo(t,r,n,e)},inverse:function(n,e){return Uo(r,t,n,e)}},i&&(e.oProj=r),e)}var Qo="AJSAJS",Ho="AFAFAF",Zo=65,Jo=73,Xo=79,$o=86,Yo=90,Ko={forward:th,inverse:function(t){var r=ih(oh(t.toUpperCase()));if(r.lat&&r.lon)return[r.lon,r.lat,r.lon,r.lat];return[r.left,r.bottom,r.right,r.top]},toPoint:rh};function th(t,r){return r=r||5,function(t,r){var n="00000"+t.easting,e="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(p=t.easting,v=t.northing,d=t.zoneNumber,M=sh(d),g=Math.floor(p/1e5),m=Math.floor(v/1e5)%20,i=g,a=m,s=M,o=s-1,h=Qo.charCodeAt(o),u=Ho.charCodeAt(o),c=h+i-1,l=u+a,f=!1,c>Yo&&(c=c-Yo+Zo-1,f=!0),(c===Jo||h<Jo&&c>Jo||(c>Jo||h<Jo)&&f)&&c++,(c===Xo||h<Xo&&c>Xo||(c>Xo||h<Xo)&&f)&&++c===Jo&&c++,c>Yo&&(c=c-Yo+Zo-1),l>$o?(l=l-$o+Zo-1,f=!0):f=!1,(l===Jo||u<Jo&&l>Jo||(l>Jo||u<Jo)&&f)&&l++,(l===Xo||u<Xo&&l>Xo||(l>Xo||u<Xo)&&f)&&++l===Jo&&l++,l>$o&&(l=l-$o+Zo-1),String.fromCharCode(c)+String.fromCharCode(l))+n.substr(n.length-5,r)+e.substr(e.length-5,r);var i,a,s,o,h,u,c,l,f;var p,v,d,M,g,m}(function(t){var r,n,e,i,a,s,o,h,u=t.lat,c=t.lon,l=6378137,f=.00669438,p=.9996,v=nh(u),d=nh(c);h=Math.floor((c+180)/6)+1,180===c&&(h=60);u>=56&&u<64&&c>=3&&c<12&&(h=32);u>=72&&u<84&&(c>=0&&c<9?h=31:c>=9&&c<21?h=33:c>=21&&c<33?h=35:c>=33&&c<42&&(h=37));o=nh(6*(h-1)-180+3),r=f/(1-f),n=l/Math.sqrt(1-f*Math.sin(v)*Math.sin(v)),e=Math.tan(v)*Math.tan(v),i=r*Math.cos(v)*Math.cos(v),a=Math.cos(v)*(d-o),s=l*((1-f/4-3*f*f/64-5*f*f*f/256)*v-(3*f/8+3*f*f/32+45*f*f*f/1024)*Math.sin(2*v)+(15*f*f/256+45*f*f*f/1024)*Math.sin(4*v)-35*f*f*f/3072*Math.sin(6*v));var M=p*n*(a+(1-e+i)*a*a*a/6+(5-18*e+e*e+72*i-58*r)*a*a*a*a*a/120)+5e5,g=p*(s+n*Math.tan(v)*(a*a/2+(5-e+9*i+4*i*i)*a*a*a*a/24+(61-58*e+e*e+600*i-330*r)*a*a*a*a*a*a/720));u<0&&(g+=1e7);return{northing:Math.round(g),easting:Math.round(M),zoneNumber:h,zoneLetter:ah(u)}}({lat:t[1],lon:t[0]}),r)}function rh(t){var r=ih(oh(t.toUpperCase()));return r.lat&&r.lon?[r.lon,r.lat]:[(r.left+r.right)/2,(r.top+r.bottom)/2]}function nh(t){return t*(Math.PI/180)}function eh(t){return t/Math.PI*180}function ih(t){var r=t.northing,n=t.easting,e=t.zoneLetter,i=t.zoneNumber;if(i<0||i>60)return null;var a,s,o,h,u,c,l,f,p,v=.9996,d=6378137,M=.00669438,g=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),m=n-5e5,y=r;e<"N"&&(y-=1e7),l=6*(i-1)-180+3,a=.006739496752268451,p=(f=y/v/6367449.145945056)+(3*g/2-27*g*g*g/32)*Math.sin(2*f)+(21*g*g/16-55*g*g*g*g/32)*Math.sin(4*f)+151*g*g*g/96*Math.sin(6*f),s=d/Math.sqrt(1-M*Math.sin(p)*Math.sin(p)),o=Math.tan(p)*Math.tan(p),h=a*Math.cos(p)*Math.cos(p),u=.99330562*d/Math.pow(1-M*Math.sin(p)*Math.sin(p),1.5),c=m/(s*v);var w=p-s*Math.tan(p)/u*(c*c/2-(5+3*o+10*h-4*h*h-9*a)*c*c*c*c/24+(61+90*o+298*h+45*o*o-1.6983531815716497-3*h*h)*c*c*c*c*c*c/720);w=eh(w);var _,b=(c-(1+2*o+h)*c*c*c/6+(5-2*h+28*o-3*h*h+8*a+24*o*o)*c*c*c*c*c/120)/Math.cos(p);if(b=l+eh(b),t.accuracy){var x=ih({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});_={top:x.lat,right:x.lon,bottom:w,left:b}}else _={lat:w,lon:b};return _}function ah(t){var r="Z";return 84>=t&&t>=72?r="X":72>t&&t>=64?r="W":64>t&&t>=56?r="V":56>t&&t>=48?r="U":48>t&&t>=40?r="T":40>t&&t>=32?r="S":32>t&&t>=24?r="R":24>t&&t>=16?r="Q":16>t&&t>=8?r="P":8>t&&t>=0?r="N":0>t&&t>=-8?r="M":-8>t&&t>=-16?r="L":-16>t&&t>=-24?r="K":-24>t&&t>=-32?r="J":-32>t&&t>=-40?r="H":-40>t&&t>=-48?r="G":-48>t&&t>=-56?r="F":-56>t&&t>=-64?r="E":-64>t&&t>=-72?r="D":-72>t&&t>=-80&&(r="C"),r}function sh(t){var r=t%6;return 0===r&&(r=6),r}function oh(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var r,n=t.length,e=null,i="",a=0;!/[A-Z]/.test(r=t.charAt(a));){if(a>=2)throw"MGRSPoint bad conversion from: "+t;i+=r,a++}var s=parseInt(i,10);if(0===a||a+3>n)throw"MGRSPoint bad conversion from: "+t;var o=t.charAt(a++);if(o<="A"||"B"===o||"Y"===o||o>="Z"||"I"===o||"O"===o)throw"MGRSPoint zone letter "+o+" not handled: "+t;e=t.substring(a,a+=2);for(var h=sh(s),u=function(t,r){var n=Qo.charCodeAt(r-1),e=1e5,i=!1;for(;n!==t.charCodeAt(0);){if(++n===Jo&&n++,n===Xo&&n++,n>Yo){if(i)throw"Bad character: "+t;n=Zo,i=!0}e+=1e5}return e}(e.charAt(0),h),c=function(t,r){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var n=Ho.charCodeAt(r-1),e=0,i=!1;for(;n!==t.charCodeAt(0);){if(++n===Jo&&n++,n===Xo&&n++,n>$o){if(i)throw"Bad character: "+t;n=Zo,i=!0}e+=1e5}return e}(e.charAt(1),h);c<hh(o);)c+=2e6;var l=n-a;if(l%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,p,v,d=l/2,M=0,g=0;return d>0&&(f=1e5/Math.pow(10,d),p=t.substring(a,a+d),M=parseFloat(p)*f,v=t.substring(a+d),g=parseFloat(v)*f),{easting:M+u,northing:g+c,zoneLetter:o,zoneNumber:s,accuracy:f}}function hh(t){var r;switch(t){case"C":r=11e5;break;case"D":r=2e6;break;case"E":r=28e5;break;case"F":r=37e5;break;case"G":r=46e5;break;case"H":r=55e5;break;case"J":r=64e5;break;case"K":r=73e5;break;case"L":r=82e5;break;case"M":r=91e5;break;case"N":r=0;break;case"P":r=8e5;break;case"Q":r=17e5;break;case"R":r=26e5;break;case"S":r=35e5;break;case"T":r=44e5;break;case"U":r=53e5;break;case"V":r=62e5;break;case"W":r=7e6;break;case"X":r=79e5;break;default:r=-1}if(r>=0)return r;throw"Invalid zone letter: "+t}function uh(t,r,n){if(!(this instanceof uh))return new uh(t,r,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"===i(t))this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===r){var e=t.split(",");this.x=parseFloat(e[0],10),this.y=parseFloat(e[1],10),this.z=parseFloat(e[2],10)||0}else this.x=t,this.y=r,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}uh.fromMGRS=function(t){return new uh(rh(t))},uh.prototype.toMGRS=function(t){return th([this.x,this.y],t)};var ch=.046875,lh=.01953125,fh=.01068115234375;function ph(t){var r=[];r[0]=1-t*(.25+t*(ch+t*(lh+t*fh))),r[1]=t*(.75-t*(ch+t*(lh+t*fh)));var n=t*t;return r[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,r[3]=n*(.3645833333333333-.005696614583333333*t),r[4]=n*t*.3076171875,r}function vh(t,r,n,e){return n*=r,r*=r,e[0]*t-n*(e[1]+r*(e[2]+r*(e[3]+r*e[4])))}function dh(t,r,n){for(var e=1/(1-r),i=t,a=20;a;--a){var s=Math.sin(i),o=1-r*s*s;if(i-=o=(vh(i,s,Math.cos(i),n)-t)*(o*Math.sqrt(o))*e,Math.abs(o)<Is)return i}return i}var Mh={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=ph(this.es),this.ml0=vh(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var r,n,e,i=t.x,a=t.y,s=co(i-this.long0),o=Math.sin(a),h=Math.cos(a);if(this.es){var u=h*s,c=Math.pow(u,2),l=this.ep2*Math.pow(h,2),f=Math.pow(l,2),p=Math.abs(h)>Is?Math.tan(a):0,v=Math.pow(p,2),d=Math.pow(v,2);r=1-this.es*Math.pow(o,2),u/=Math.sqrt(r);var M=vh(a,o,h,this.en);n=this.a*(this.k0*u*(1+c/6*(1-v+l+c/20*(5-18*v+d+14*l-58*v*l+c/42*(61+179*d-d*v-479*v)))))+this.x0,e=this.a*(this.k0*(M-this.ml0+o*s*u/2*(1+c/12*(5-v+9*l+4*f+c/30*(61+d-58*v+270*l-330*v*l+c/56*(1385+543*d-d*v-3111*v))))))+this.y0}else{var g=h*Math.sin(s);if(Math.abs(Math.abs(g)-1)<Is)return 93;if(n=.5*this.a*this.k0*Math.log((1+g)/(1-g))+this.x0,e=h*Math.cos(s)/Math.sqrt(1-Math.pow(g,2)),(g=Math.abs(e))>=1){if(g-1>Is)return 93;e=0}else e=Math.acos(e);a<0&&(e=-e),e=this.a*this.k0*(e-this.lat0)+this.y0}return t.x=n,t.y=e,t},inverse:function(t){var r,n,e,i,a=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(n=dh(r=this.ml0+s/this.k0,this.es,this.en),Math.abs(n)<Rs){var o=Math.sin(n),h=Math.cos(n),u=Math.abs(h)>Is?Math.tan(n):0,c=this.ep2*Math.pow(h,2),l=Math.pow(c,2),f=Math.pow(u,2),p=Math.pow(f,2);r=1-this.es*Math.pow(o,2);var v=a*Math.sqrt(r)/this.k0,d=Math.pow(v,2);e=n-(r*=u)*d/(1-this.es)*.5*(1-d/12*(5+3*f-9*c*f+c-4*l-d/30*(61+90*f-252*c*f+45*p+46*c-d/56*(1385+3633*f+4095*p+1574*p*f)))),i=co(this.long0+v*(1-d/6*(1+2*f+c-d/20*(5+28*f+24*p+8*c*f+6*c-d/42*(61+662*f+1320*p+720*p*f))))/h)}else e=Rs*uo(s),i=0;else{var M=Math.exp(a/this.k0),g=.5*(M-1/M),m=this.lat0+s/this.k0,y=Math.cos(m);r=Math.sqrt((1-Math.pow(y,2))/(1+Math.pow(g,2))),e=Math.asin(r),s<0&&(e=-e),i=0===g&&0===y?0:co(Math.atan2(g,y)+this.long0)}return t.x=i,t.y=e,t},names:["Fast_Transverse_Mercator","Fast Transverse Mercator"]};function gh(t){var r=Math.exp(t);return r=(r-1/r)/2}function mh(t,r){t=Math.abs(t),r=Math.abs(r);var n=Math.max(t,r),e=Math.min(t,r)/(n||1);return n*Math.sqrt(1+Math.pow(e,2))}function yh(t){var r=Math.abs(t);return r=function(t){var r=1+t,n=r-1;return 0===n?t:t*Math.log(r)/n}(r*(1+r/(mh(1,r)+1))),t<0?-r:r}function wh(t,r){for(var n,e=2*Math.cos(2*r),i=t.length-1,a=t[i],s=0;--i>=0;)n=e*a-s+t[i],s=a,a=n;return r+n*Math.sin(2*r)}function _h(t,r,n){for(var e,i,a=Math.sin(r),s=Math.cos(r),o=gh(n),h=function(t){var r=Math.exp(t);return(r+1/r)/2}(n),u=2*s*h,c=-2*a*o,l=t.length-1,f=t[l],p=0,v=0,d=0;--l>=0;)e=v,i=p,f=u*(v=f)-e-c*(p=d)+t[l],d=c*v-i+u*p;return[(u=a*h)*f-(c=s*o)*d,u*d+c*f]}var bh={init:function(){if(!this.approx&&(isNaN(this.es)||this.es<=0))throw new Error('Incorrect elliptical usage. Try using the +approx option in the proj string, or PROJECTION["Fast_Transverse_Mercator"] in the WKT.');this.approx&&(Mh.init.apply(this),this.forward=Mh.forward,this.inverse=Mh.inverse),this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),r=t/(2-t),n=r;this.cgb[0]=r*(2+r*(-2/3+r*(r*(116/45+r*(26/45+r*(-2854/675)))-2))),this.cbg[0]=r*(r*(2/3+r*(4/3+r*(-82/45+r*(32/45+r*(4642/4725)))))-2),n*=r,this.cgb[1]=n*(7/3+r*(r*(-227/45+r*(2704/315+r*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+r*(-16/15+r*(-13/9+r*(904/315+r*(-1522/945))))),n*=r,this.cgb[2]=n*(56/15+r*(-136/35+r*(-1262/105+r*(73814/2835)))),this.cbg[2]=n*(-26/15+r*(34/21+r*(1.6+r*(-12686/2835)))),n*=r,this.cgb[3]=n*(4279/630+r*(-332/35+r*(-399572/14175))),this.cbg[3]=n*(1237/630+r*(r*(-24832/14175)-2.4)),n*=r,this.cgb[4]=n*(4174/315+r*(-144838/6237)),this.cbg[4]=n*(-734/315+r*(109598/31185)),n*=r,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(r,2),this.Qn=this.k0/(1+r)*(1+n*(1/4+n*(1/64+n/256))),this.utg[0]=r*(r*(2/3+r*(-37/96+r*(1/360+r*(81/512+r*(-96199/604800)))))-.5),this.gtu[0]=r*(.5+r*(-2/3+r*(5/16+r*(41/180+r*(-127/288+r*(7891/37800)))))),this.utg[1]=n*(-1/48+r*(-1/15+r*(437/1440+r*(-46/105+r*(1118711/3870720))))),this.gtu[1]=n*(13/48+r*(r*(557/1440+r*(281/630+r*(-1983433/1935360)))-.6)),n*=r,this.utg[2]=n*(-17/480+r*(37/840+r*(209/4480+r*(-5569/90720)))),this.gtu[2]=n*(61/240+r*(-103/140+r*(15061/26880+r*(167603/181440)))),n*=r,this.utg[3]=n*(-4397/161280+r*(11/504+r*(830251/7257600))),this.gtu[3]=n*(49561/161280+r*(-179/168+r*(6601661/7257600))),n*=r,this.utg[4]=n*(-4583/161280+r*(108847/3991680)),this.gtu[4]=n*(34729/80640+r*(-3418889/1995840)),n*=r,this.utg[5]=n*(-20648693/638668800),this.gtu[5]=.6650675310896665*n;var e=wh(this.cbg,this.lat0);this.Zb=-this.Qn*(e+function(t,r){for(var n,e=2*Math.cos(r),i=t.length-1,a=t[i],s=0;--i>=0;)n=e*a-s+t[i],s=a,a=n;return Math.sin(r)*n}(this.gtu,2*e))},forward:function(t){var r=co(t.x-this.long0),n=t.y;n=wh(this.cbg,n);var e=Math.sin(n),i=Math.cos(n),a=Math.sin(r),s=Math.cos(r);n=Math.atan2(e,s*i),r=Math.atan2(a*i,mh(e,i*s)),r=yh(Math.tan(r));var o,h,u=_h(this.gtu,2*n,2*r);return n+=u[0],r+=u[1],Math.abs(r)<=2.623395162778?(o=this.a*(this.Qn*r)+this.x0,h=this.a*(this.Qn*n+this.Zb)+this.y0):(o=1/0,h=1/0),t.x=o,t.y=h,t},inverse:function(t){var r,n,e=(t.x-this.x0)*(1/this.a),i=(t.y-this.y0)*(1/this.a);if(i=(i-this.Zb)/this.Qn,e/=this.Qn,Math.abs(e)<=2.623395162778){var a=_h(this.utg,2*i,2*e);i+=a[0],e+=a[1],e=Math.atan(gh(e));var s=Math.sin(i),o=Math.cos(i),h=Math.sin(e),u=Math.cos(e);i=Math.atan2(s*u,mh(h,u*o)),r=co((e=Math.atan2(h,u*o))+this.long0),n=wh(this.cgb,i)}else r=1/0,n=1/0;return t.x=r,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc","Transverse_Mercator","Transverse Mercator","tmerc"]};var xh={init:function(){var t=function(t,r){if(void 0===t){if((t=Math.floor(30*(co(r)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*Ls,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,bh.init.apply(this),this.forward=bh.forward,this.inverse=bh.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"};function Sh(t,r){return Math.pow((1-t)/(1+t),r)}var Nh={init:function(){var t=Math.sin(this.lat0),r=Math.cos(this.lat0);r*=r,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*r*r/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+Fs)/(Math.pow(Math.tan(.5*this.lat0+Fs),this.C)*Sh(this.e*t,this.ratexp))},forward:function(t){var r=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+Fs),this.C)*Sh(this.e*Math.sin(n),this.ratexp))-Rs,t.x=this.C*r,t},inverse:function(t){for(var r=t.x/this.C,n=t.y,e=Math.pow(Math.tan(.5*n+Fs)/this.K,1/this.C),i=20;i>0&&(n=2*Math.atan(e*Sh(this.e*Math.sin(t.y),-.5*this.e))-Rs,!(Math.abs(n-t.y)<1e-14));--i)t.y=n;return i?(t.x=r,t.y=n,t):null},names:["gauss"]};var Ch={init:function(){Nh.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var r,n,e,i;return t.x=co(t.x-this.long0),Nh.forward.apply(this,[t]),r=Math.sin(t.y),n=Math.cos(t.y),e=Math.cos(t.x),i=this.k0*this.R2/(1+this.sinc0*r+this.cosc0*n*e),t.x=i*n*Math.sin(t.x),t.y=i*(this.cosc0*r-this.sinc0*n*e),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var r,n,e,i,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=Math.sqrt(t.x*t.x+t.y*t.y)){var s=2*Math.atan2(a,this.R2);r=Math.sin(s),n=Math.cos(s),i=Math.asin(n*this.sinc0+t.y*r*this.cosc0/a),e=Math.atan2(t.x*r,a*this.cosc0*n-t.y*this.sinc0*r)}else i=this.phic0,e=0;return t.x=e,t.y=i,Nh.inverse.apply(this,[t]),t.x=co(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};var Eh={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Is&&(this.k0=.5*(1+uo(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=Is&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=Is&&(this.k0=.5*this.cons*ho(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/lo(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=ho(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-Rs,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var r,n,e,i,a,s,o=t.x,h=t.y,u=Math.sin(h),c=Math.cos(h),l=co(o-this.long0);return Math.abs(Math.abs(o-this.long0)-Math.PI)<=Is&&Math.abs(h+this.lat0)<=Is?(t.x=NaN,t.y=NaN,t):this.sphere?(r=2*this.k0/(1+this.sinlat0*u+this.coslat0*c*Math.cos(l)),t.x=this.a*r*c*Math.sin(l)+this.x0,t.y=this.a*r*(this.coslat0*u-this.sinlat0*c*Math.cos(l))+this.y0,t):(n=2*Math.atan(this.ssfn_(h,u,this.e))-Rs,i=Math.cos(n),e=Math.sin(n),Math.abs(this.coslat0)<=Is?(a=lo(this.e,h*this.con,this.con*u),s=2*this.a*this.k0*a/this.cons,t.x=this.x0+s*Math.sin(o-this.long0),t.y=this.y0-this.con*s*Math.cos(o-this.long0),t):(Math.abs(this.sinlat0)<Is?(r=2*this.a*this.k0/(1+i*Math.cos(l)),t.y=r*e):(r=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*e+this.cosX0*i*Math.cos(l))),t.y=r*(this.cosX0*e-this.sinX0*i*Math.cos(l))+this.y0),t.x=r*i*Math.sin(l)+this.x0,t))},inverse:function(t){var r,n,e,i,a;t.x-=this.x0,t.y-=this.y0;var s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var o=2*Math.atan(s/(2*this.a*this.k0));return r=this.long0,n=this.lat0,s<=Is?(t.x=r,t.y=n,t):(n=Math.asin(Math.cos(o)*this.sinlat0+t.y*Math.sin(o)*this.coslat0/s),r=Math.abs(this.coslat0)<Is?this.lat0>0?co(this.long0+Math.atan2(t.x,-1*t.y)):co(this.long0+Math.atan2(t.x,t.y)):co(this.long0+Math.atan2(t.x*Math.sin(o),s*this.coslat0*Math.cos(o)-t.y*this.sinlat0*Math.sin(o))),t.x=r,t.y=n,t)}if(Math.abs(this.coslat0)<=Is){if(s<=Is)return n=this.lat0,r=this.long0,t.x=r,t.y=n,t;t.x*=this.con,t.y*=this.con,e=s*this.cons/(2*this.a*this.k0),n=this.con*fo(this.e,e),r=this.con*co(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else i=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),r=this.long0,s<=Is?a=this.X0:(a=Math.asin(Math.cos(i)*this.sinX0+t.y*Math.sin(i)*this.cosX0/s),r=co(this.long0+Math.atan2(t.x*Math.sin(i),s*this.cosX0*Math.cos(i)-t.y*this.sinX0*Math.sin(i)))),n=-1*fo(this.e,Math.tan(.5*(Rs+a)));return t.x=r,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,r,n){return r*=n,Math.tan(.5*(Rs+t))*Math.pow((1-r)/(1+r),.5*n)}};var jh={init:function(){var t=this.lat0;this.lambda0=this.long0;var r=Math.sin(t),n=this.a,e=1/this.rf,i=2*e-Math.pow(e,2),a=this.e=Math.sqrt(i);this.R=this.k0*n*Math.sqrt(1-i)/(1-i*Math.pow(r,2)),this.alpha=Math.sqrt(1+i/(1-i)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(r/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),o=Math.log(Math.tan(Math.PI/4+t/2)),h=Math.log((1+a*r)/(1-a*r));this.K=s-this.alpha*o+this.alpha*a/2*h},forward:function(t){var r=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),e=-this.alpha*(r+n)+this.K,i=2*(Math.atan(Math.exp(e))-Math.PI/4),a=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(a)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(a))),o=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(a));return t.y=this.R/2*Math.log((1+Math.sin(o))/(1-Math.sin(o)))+this.y0,t.x=this.R*s+this.x0,t},inverse:function(t){for(var r=t.x-this.x0,n=t.y-this.y0,e=r/this.R,i=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),a=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(e)),s=Math.atan(Math.sin(e)/(Math.cos(this.b0)*Math.cos(e)-Math.sin(this.b0)*Math.tan(i))),o=this.lambda0+s/this.alpha,h=0,u=a,c=-1e3,l=0;Math.abs(u-c)>1e-7;){if(++l>20)return;h=1/this.alpha*(Math.log(Math.tan(Math.PI/4+a/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),c=u,u=2*Math.atan(Math.exp(h))-Math.PI/2}return t.x=o,t.y=u,t},names:["somerc"]},Ph=1e-7;var Oh={init:function(){var t,r,n,e,a,s,o,h,u,c,l,f,p,v=0,d=0,M=0,g=0,m=0,y=0,w=0;this.no_off=(p="object"===i((f=this).PROJECTION)?Object.keys(f.PROJECTION)[0]:f.PROJECTION,"no_uoff"in f||"no_off"in f||-1!==["Hotine_Oblique_Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin"].indexOf(p)),this.no_rot="no_rot"in this;var _=!1;"alpha"in this&&(_=!0);var b=!1;if("rectified_grid_angle"in this&&(b=!0),_&&(w=this.alpha),b&&(v=this.rectified_grid_angle*Ls),_||b)d=this.longc;else if(M=this.long1,m=this.lat1,g=this.long2,y=this.lat2,Math.abs(m-y)<=Ph||(t=Math.abs(m))<=Ph||Math.abs(t-Rs)<=Ph||Math.abs(Math.abs(this.lat0)-Rs)<=Ph||Math.abs(Math.abs(y)-Rs)<=Ph)throw new Error;var x=1-this.es;r=Math.sqrt(x),Math.abs(this.lat0)>Is?(h=Math.sin(this.lat0),n=Math.cos(this.lat0),t=1-this.es*h*h,this.B=n*n,this.B=Math.sqrt(1+this.es*this.B*this.B/x),this.A=this.B*this.k0*r/t,(a=(e=this.B*r/(n*Math.sqrt(t)))*e-1)<=0?a=0:(a=Math.sqrt(a),this.lat0<0&&(a=-a)),this.E=a+=e,this.E*=Math.pow(lo(this.e,this.lat0,h),this.B)):(this.B=1/r,this.A=this.k0,this.E=e=a=1),_||b?(_?(l=Math.asin(Math.sin(w)/e),b||(v=w)):(l=v,w=Math.asin(e*Math.sin(l))),this.lam0=d-Math.asin(.5*(a-1/a)*Math.tan(l))/this.B):(s=Math.pow(lo(this.e,m,Math.sin(m)),this.B),o=Math.pow(lo(this.e,y,Math.sin(y)),this.B),a=this.E/s,u=(o-s)/(o+s),c=((c=this.E*this.E)-o*s)/(c+o*s),(t=M-g)<-Math.pi?g-=Ts:t>Math.pi&&(g+=Ts),this.lam0=co(.5*(M+g)-Math.atan(c*Math.tan(.5*this.B*(M-g))/u)/this.B),l=Math.atan(2*Math.sin(this.B*co(M-this.lam0))/(a-1/a)),v=w=Math.asin(e*Math.sin(l))),this.singam=Math.sin(l),this.cosgam=Math.cos(l),this.sinrot=Math.sin(v),this.cosrot=Math.cos(v),this.rB=1/this.B,this.ArB=this.A*this.rB,this.BrA=1/this.ArB,this.A,this.B,this.no_off?this.u_0=0:(this.u_0=Math.abs(this.ArB*Math.atan(Math.sqrt(e*e-1)/Math.cos(w))),this.lat0<0&&(this.u_0=-this.u_0)),a=.5*l,this.v_pole_n=this.ArB*Math.log(Math.tan(Fs-a)),this.v_pole_s=this.ArB*Math.log(Math.tan(Fs+a))},forward:function(t){var r,n,e,i,a,s,o,h,u={};if(t.x=t.x-this.lam0,Math.abs(Math.abs(t.y)-Rs)>Is){if(r=.5*((a=this.E/Math.pow(lo(this.e,t.y,Math.sin(t.y)),this.B))-(s=1/a)),n=.5*(a+s),i=Math.sin(this.B*t.x),e=(r*this.singam-i*this.cosgam)/n,Math.abs(Math.abs(e)-1)<Is)throw new Error;h=.5*this.ArB*Math.log((1-e)/(1+e)),s=Math.cos(this.B*t.x),o=Math.abs(s)<Ph?this.A*t.x:this.ArB*Math.atan2(r*this.cosgam+i*this.singam,s)}else h=t.y>0?this.v_pole_n:this.v_pole_s,o=this.ArB*t.y;return this.no_rot?(u.x=o,u.y=h):(o-=this.u_0,u.x=h*this.cosrot+o*this.sinrot,u.y=o*this.cosrot-h*this.sinrot),u.x=this.a*u.x+this.x0,u.y=this.a*u.y+this.y0,u},inverse:function(t){var r,n,e,i,a,s,o,h={};if(t.x=(t.x-this.x0)*(1/this.a),t.y=(t.y-this.y0)*(1/this.a),this.no_rot?(n=t.y,r=t.x):(n=t.x*this.cosrot-t.y*this.sinrot,r=t.y*this.cosrot+t.x*this.sinrot+this.u_0),i=.5*((e=Math.exp(-this.BrA*n))-1/e),a=.5*(e+1/e),o=((s=Math.sin(this.BrA*r))*this.cosgam+i*this.singam)/a,Math.abs(Math.abs(o)-1)<Is)h.x=0,h.y=o<0?-Rs:Rs;else{if(h.y=this.E/Math.sqrt((1+o)/(1-o)),h.y=fo(this.e,Math.pow(h.y,1/this.B)),h.y===1/0)throw new Error;h.x=-this.rB*Math.atan2(i*this.cosgam-s*this.singam,Math.cos(this.BrA*r))}return h.x+=this.lam0,h},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Two_Point_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","Oblique_Mercator","omerc"]};var Ah={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<Is)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var r=Math.sin(this.lat1),n=Math.cos(this.lat1),e=ho(this.e,r,n),i=lo(this.e,this.lat1,r),a=Math.sin(this.lat2),s=Math.cos(this.lat2),o=ho(this.e,a,s),h=lo(this.e,this.lat2,a),u=lo(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>Is?this.ns=Math.log(e/o)/Math.log(i/h):this.ns=r,isNaN(this.ns)&&(this.ns=r),this.f0=e/(this.ns*Math.pow(i,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var r=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=Is&&(n=uo(n)*(Rs-2e-10));var e,i,a=Math.abs(Math.abs(n)-Rs);if(a>Is)e=lo(this.e,n,Math.sin(n)),i=this.a*this.f0*Math.pow(e,this.ns);else{if((a=n*this.ns)<=0)return null;i=0}var s=this.ns*co(r-this.long0);return t.x=this.k0*(i*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-i*Math.cos(s))+this.y0,t},inverse:function(t){var r,n,e,i,a,s=(t.x-this.x0)/this.k0,o=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(r=Math.sqrt(s*s+o*o),n=1):(r=-Math.sqrt(s*s+o*o),n=-1);var h=0;if(0!==r&&(h=Math.atan2(n*s,n*o)),0!==r||this.ns>0){if(n=1/this.ns,e=Math.pow(r/(this.a*this.f0),n),-9999===(i=fo(this.e,e)))return null}else i=-Rs;return a=co(h/this.ns+this.long0),t.x=a,t.y=i,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_1SP","Lambert_Conformal_Conic_2SP","lcc","Lambert Conic Conformal (1SP)","Lambert Conic Conformal (2SP)"]};var kh={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var r,n,e,i,a,s,o,h=t.x,u=t.y,c=co(h-this.long0);return r=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/r)-this.s45),e=-c*this.alfa,i=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(e)),a=Math.asin(Math.cos(n)*Math.sin(e)/Math.cos(i)),s=this.n*a,o=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(i/2+this.s45),this.n),t.y=o*Math.cos(s)/1,t.x=o*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var r,n,e,i,a,s,o,h=t.x;t.x=t.y,t.y=h,this.czech||(t.y*=-1,t.x*=-1),a=Math.sqrt(t.x*t.x+t.y*t.y),i=Math.atan2(t.y,t.x)/Math.sin(this.s0),e=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),r=Math.asin(Math.cos(this.ad)*Math.sin(e)-Math.sin(this.ad)*Math.cos(e)*Math.cos(i)),n=Math.asin(Math.cos(e)*Math.sin(i)/Math.cos(r)),t.x=this.long0-n/this.alfa,s=r,o=0;var u=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(r/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(o=1),s=t.y,u+=1}while(0===o&&u<15);return u>=15?null:t},names:["Krovak","krovak"]};function Dh(t,r,n,e,i){return t*i-r*Math.sin(2*i)+n*Math.sin(4*i)-e*Math.sin(6*i)}function qh(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Rh(t){return.375*t*(1+.25*t*(1+.46875*t))}function Ih(t){return.05859375*t*t*(1+.75*t)}function Lh(t){return t*t*t*(35/3072)}function Gh(t,r,n){var e=r*n;return t/Math.sqrt(1-e*e)}function Fh(t){return Math.abs(t)<Rs?t:t-uo(t)*Math.PI}function Th(t,r,n,e,i){var a,s;a=t/r;for(var o=0;o<15;o++)if(a+=s=(t-(r*a-n*Math.sin(2*a)+e*Math.sin(4*a)-i*Math.sin(6*a)))/(r-2*n*Math.cos(2*a)+4*e*Math.cos(4*a)-6*i*Math.cos(6*a)),Math.abs(s)<=1e-10)return a;return NaN}var zh={init:function(){this.sphere||(this.e0=qh(this.es),this.e1=Rh(this.es),this.e2=Ih(this.es),this.e3=Lh(this.es),this.ml0=this.a*Dh(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var r,n,e=t.x,i=t.y;if(e=co(e-this.long0),this.sphere)r=this.a*Math.asin(Math.cos(i)*Math.sin(e)),n=this.a*(Math.atan2(Math.tan(i),Math.cos(e))-this.lat0);else{var a=Math.sin(i),s=Math.cos(i),o=Gh(this.a,this.e,a),h=Math.tan(i)*Math.tan(i),u=e*Math.cos(i),c=u*u,l=this.es*s*s/(1-this.es);r=o*u*(1-c*h*(1/6-(8-h+8*l)*c/120)),n=this.a*Dh(this.e0,this.e1,this.e2,this.e3,i)-this.ml0+o*a/s*c*(.5+(5-h+6*l)*c/24)}return t.x=r+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var r,n,e=t.x/this.a,i=t.y/this.a;if(this.sphere){var a=i+this.lat0;r=Math.asin(Math.sin(a)*Math.cos(e)),n=Math.atan2(Math.tan(e),Math.cos(a))}else{var s=Th(this.ml0/this.a+i,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(s)-Rs)<=Is)return t.x=this.long0,t.y=Rs,i<0&&(t.y*=-1),t;var o=Gh(this.a,this.e,Math.sin(s)),h=o*o*o/this.a/this.a*(1-this.es),u=Math.pow(Math.tan(s),2),c=e*this.a/o,l=c*c;r=s-o*Math.tan(s)/h*c*c*(.5-(1+3*u)*c*c/24),n=c*(1-l*(u/3+(1+3*u)*u*l/15))/Math.cos(s)}return t.x=co(n+this.long0),t.y=Fh(r),t},names:["Cassini","Cassini_Soldner","cass"]};function Bh(t,r){var n;return t>1e-7?(1-t*t)*(r/(1-(n=t*r)*n)-.5/t*Math.log((1-n)/(1+n))):2*r}var Uh=.3333333333333333,Wh=.17222222222222222,Vh=.10257936507936508,Qh=.06388888888888888,Hh=.0664021164021164,Zh=.016415012942191543;var Jh={init:function(){var t,r=Math.abs(this.lat0);if(Math.abs(r-Rs)<Is?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(r)<Is?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=Bh(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var r,n=[];return n[0]=t*Uh,r=t*t,n[0]+=r*Wh,n[1]=r*Qh,r*=t,n[0]+=r*Vh,n[1]+=r*Hh,n[2]=r*Zh,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Bh(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var r,n,e,i,a,s,o,h,u,c,l=t.x,f=t.y;if(l=co(l-this.long0),this.sphere){if(a=Math.sin(f),c=Math.cos(f),e=Math.cos(l),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+c*e:1+this.sinph0*a+this.cosph0*c*e)<=Is)return null;r=(n=Math.sqrt(2/n))*c*Math.sin(l),n*=this.mode===this.EQUIT?a:this.cosph0*a-this.sinph0*c*e}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(e=-e),Math.abs(f+this.lat0)<Is)return null;n=Fs-.5*f,r=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(l),n*=e}}else{switch(o=0,h=0,u=0,e=Math.cos(l),i=Math.sin(l),a=Math.sin(f),s=Bh(this.e,a),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(o=s/this.qp,h=Math.sqrt(1-o*o)),this.mode){case this.OBLIQ:u=1+this.sinb1*o+this.cosb1*h*e;break;case this.EQUIT:u=1+h*e;break;case this.N_POLE:u=Rs+f,s=this.qp-s;break;case this.S_POLE:u=f-Rs,s=this.qp+s}if(Math.abs(u)<Is)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:u=Math.sqrt(2/u),n=this.mode===this.OBLIQ?this.ymf*u*(this.cosb1*o-this.sinb1*h*e):(u=Math.sqrt(2/(1+h*e)))*o*this.ymf,r=this.xmf*u*h*i;break;case this.N_POLE:case this.S_POLE:s>=0?(r=(u=Math.sqrt(s))*i,n=e*(this.mode===this.S_POLE?u:-u)):r=n=0}}return t.x=this.a*r+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var r,n,e,i,a,s,o,h,u,c,l=t.x/this.a,f=t.y/this.a;if(this.sphere){var p,v=0,d=0;if((n=.5*(p=Math.sqrt(l*l+f*f)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(d=Math.sin(n),v=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(p)<=Is?0:Math.asin(f*d/p),l*=d,f=v*p;break;case this.OBLIQ:n=Math.abs(p)<=Is?this.lat0:Math.asin(v*this.sinph0+f*d*this.cosph0/p),l*=d*this.cosph0,f=(v-Math.sin(n)*this.sinph0)*p;break;case this.N_POLE:f=-f,n=Rs-n;break;case this.S_POLE:n-=Rs}r=0!==f||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(l,f):0}else{if(o=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(l/=this.dd,f*=this.dd,(s=Math.sqrt(l*l+f*f))<Is)return t.x=this.long0,t.y=this.lat0,t;i=2*Math.asin(.5*s/this.rq),e=Math.cos(i),l*=i=Math.sin(i),this.mode===this.OBLIQ?(o=e*this.sinb1+f*i*this.cosb1/s,a=this.qp*o,f=s*this.cosb1*e-f*this.sinb1*i):(o=f*i/s,a=this.qp*o,f=s*e)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(f=-f),!(a=l*l+f*f))return t.x=this.long0,t.y=this.lat0,t;o=1-a/this.qp,this.mode===this.S_POLE&&(o=-o)}r=Math.atan2(l,f),h=Math.asin(o),u=this.apa,c=h+h,n=h+u[0]*Math.sin(c)+u[1]*Math.sin(c+c)+u[2]*Math.sin(c+c+c)}return t.x=co(this.long0+r),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4};function Xh(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}var $h={init:function(){Math.abs(this.lat1+this.lat2)<Is||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=ho(this.e3,this.sin_po,this.cos_po),this.qs1=Bh(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=ho(this.e3,this.sin_po,this.cos_po),this.qs2=Bh(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Bh(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>Is?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var r=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var e=Bh(this.e3,this.sin_phi,this.cos_phi),i=this.a*Math.sqrt(this.c-this.ns0*e)/this.ns0,a=this.ns0*co(r-this.long0),s=i*Math.sin(a)+this.x0,o=this.rh-i*Math.cos(a)+this.y0;return t.x=s,t.y=o,t},inverse:function(t){var r,n,e,i,a,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(r=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(r=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1),i=0,0!==r&&(i=Math.atan2(e*t.x,e*t.y)),e=r*this.ns0/this.a,this.sphere?s=Math.asin((this.c-e*e)/(2*this.ns0)):(n=(this.c-e*e)/this.ns0,s=this.phi1z(this.e3,n)),a=co(i/this.ns0+this.long0),t.x=a,t.y=s,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,r){var n,e,i,a,s=Xh(.5*r);if(t<Is)return s;for(var o=t*t,h=1;h<=25;h++)if(s+=a=.5*(i=1-(e=t*(n=Math.sin(s)))*e)*i/Math.cos(s)*(r/(1-o)-n/i+.5/t*Math.log((1-e)/(1+e))),Math.abs(a)<=1e-7)return s;return null}};var Yh={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var r,n,e,i,a,s,o,h=t.x,u=t.y;return e=co(h-this.long0),r=Math.sin(u),n=Math.cos(u),i=Math.cos(e),1,(a=this.sin_p14*r+this.cos_p14*n*i)>0||Math.abs(a)<=Is?(s=this.x0+1*this.a*n*Math.sin(e)/a,o=this.y0+1*this.a*(this.cos_p14*r-this.sin_p14*n*i)/a):(s=this.x0+this.infinity_dist*n*Math.sin(e),o=this.y0+this.infinity_dist*(this.cos_p14*r-this.sin_p14*n*i)),t.x=s,t.y=o,t},inverse:function(t){var r,n,e,i,a,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(r=Math.sqrt(t.x*t.x+t.y*t.y))?(i=Math.atan2(r,this.rc),n=Math.sin(i),s=Xh((e=Math.cos(i))*this.sin_p14+t.y*n*this.cos_p14/r),a=Math.atan2(t.x*n,r*this.cos_p14*e-t.y*this.sin_p14*n),a=co(this.long0+a)):(s=this.phic0,a=0),t.x=a,t.y=s,t},names:["gnom"]};var Kh={init:function(){this.sphere||(this.k0=ho(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var r,n,e=t.x,i=t.y,a=co(e-this.long0);if(this.sphere)r=this.x0+this.a*a*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(i)/Math.cos(this.lat_ts);else{var s=Bh(this.e,Math.sin(i));r=this.x0+this.a*this.k0*a,n=this.y0+this.a*s*.5/this.k0}return t.x=r,t.y=n,t},inverse:function(t){var r,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(r=co(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=function(t,r){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(r)-n)<1e-6)return r<0?-1*Rs:Rs;for(var e,i,a,s,o=Math.asin(.5*r),h=0;h<30;h++)if(i=Math.sin(o),a=Math.cos(o),s=t*i,o+=e=Math.pow(1-s*s,2)/(2*a)*(r/(1-t*t)-i/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(e)<=1e-10)return o;return NaN}(this.e,2*t.y*this.k0/this.a),r=co(this.long0+t.x/(this.a*this.k0))),t.x=r,t.y=n,t},names:["cea"]};var tu={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var r=t.x,n=t.y,e=co(r-this.long0),i=Fh(n-this.lat0);return t.x=this.x0+this.a*e*this.rc,t.y=this.y0+this.a*i,t},inverse:function(t){var r=t.x,n=t.y;return t.x=co(this.long0+(r-this.x0)/(this.a*this.rc)),t.y=Fh(this.lat0+(n-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]};var ru={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=qh(this.es),this.e1=Rh(this.es),this.e2=Ih(this.es),this.e3=Lh(this.es),this.ml0=this.a*Dh(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var r,n,e,i=t.x,a=t.y,s=co(i-this.long0);if(e=s*Math.sin(a),this.sphere)Math.abs(a)<=Is?(r=this.a*s,n=-1*this.a*this.lat0):(r=this.a*Math.sin(e)/Math.tan(a),n=this.a*(Fh(a-this.lat0)+(1-Math.cos(e))/Math.tan(a)));else if(Math.abs(a)<=Is)r=this.a*s,n=-1*this.ml0;else{var o=Gh(this.a,this.e,Math.sin(a))/Math.tan(a);r=o*Math.sin(e),n=this.a*Dh(this.e0,this.e1,this.e2,this.e3,a)-this.ml0+o*(1-Math.cos(e))}return t.x=r+this.x0,t.y=n+this.y0,t},inverse:function(t){var r,n,e,i,a,s,o,h,u;if(e=t.x-this.x0,i=t.y-this.y0,this.sphere)if(Math.abs(i+this.a*this.lat0)<=Is)r=co(e/this.a+this.long0),n=0;else{var c;for(s=this.lat0+i/this.a,o=e*e/this.a/this.a+s*s,h=s,a=20;a;--a)if(h+=u=-1*(s*(h*(c=Math.tan(h))+1)-h-.5*(h*h+o)*c)/((h-s)/c-1),Math.abs(u)<=Is){n=h;break}r=co(this.long0+Math.asin(e*Math.tan(h)/this.a)/Math.sin(n))}else if(Math.abs(i+this.ml0)<=Is)n=0,r=co(this.long0+e/this.a);else{var l,f,p,v,d;for(s=(this.ml0+i)/this.a,o=e*e/this.a/this.a+s*s,h=s,a=20;a;--a)if(d=this.e*Math.sin(h),l=Math.sqrt(1-d*d)*Math.tan(h),f=this.a*Dh(this.e0,this.e1,this.e2,this.e3,h),p=this.e0-2*this.e1*Math.cos(2*h)+4*this.e2*Math.cos(4*h)-6*this.e3*Math.cos(6*h),h-=u=(s*(l*(v=f/this.a)+1)-v-.5*l*(v*v+o))/(this.es*Math.sin(2*h)*(v*v+o-2*s*v)/(4*l)+(s-v)*(l*p-2/Math.sin(2*h))-p),Math.abs(u)<=Is){n=h;break}l=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),r=co(this.long0+Math.asin(e*l/this.a)/Math.sin(n))}return t.x=r,t.y=n,t},names:["Polyconic","poly"]};var nu={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var r,n=t.x,e=t.y-this.lat0,i=n-this.long0,a=e/qs*1e-5,s=i,o=1,h=0;for(r=1;r<=10;r++)o*=a,h+=this.A[r]*o;var u,c=h,l=s,f=1,p=0,v=0,d=0;for(r=1;r<=6;r++)u=p*c+f*l,f=f*c-p*l,p=u,v=v+this.B_re[r]*f-this.B_im[r]*p,d=d+this.B_im[r]*f+this.B_re[r]*p;return t.x=d*this.a+this.x0,t.y=v*this.a+this.y0,t},inverse:function(t){var r,n,e=t.x,i=t.y,a=e-this.x0,s=(i-this.y0)/this.a,o=a/this.a,h=1,u=0,c=0,l=0;for(r=1;r<=6;r++)n=u*s+h*o,h=h*s-u*o,u=n,c=c+this.C_re[r]*h-this.C_im[r]*u,l=l+this.C_im[r]*h+this.C_re[r]*u;for(var f=0;f<this.iterations;f++){var p,v=c,d=l,M=s,g=o;for(r=2;r<=6;r++)p=d*c+v*l,v=v*c-d*l,d=p,M+=(r-1)*(this.B_re[r]*v-this.B_im[r]*d),g+=(r-1)*(this.B_im[r]*v+this.B_re[r]*d);v=1,d=0;var m=this.B_re[1],y=this.B_im[1];for(r=2;r<=6;r++)p=d*c+v*l,v=v*c-d*l,d=p,m+=r*(this.B_re[r]*v-this.B_im[r]*d),y+=r*(this.B_im[r]*v+this.B_re[r]*d);var w=m*m+y*y;c=(M*m+g*y)/w,l=(g*m-M*y)/w}var _=c,b=l,x=1,S=0;for(r=1;r<=9;r++)x*=_,S+=this.D[r]*x;var N=this.lat0+S*qs*1e5,C=this.long0+b;return t.x=C,t.y=N,t},names:["New_Zealand_Map_Grid","nzmg"]};var eu={init:function(){},forward:function(t){var r=t.x,n=t.y,e=co(r-this.long0),i=this.x0+this.a*e,a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=i,t.y=a,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var r=co(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=r,t.y=n,t},names:["Miller_Cylindrical","mill"]};var iu={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=ph(this.es)},forward:function(t){var r,n,e=t.x,i=t.y;if(e=co(e-this.long0),this.sphere){if(this.m)for(var a=this.n*Math.sin(i),s=20;s;--s){var o=(this.m*i+Math.sin(i)-a)/(this.m+Math.cos(i));if(i-=o,Math.abs(o)<Is)break}else i=1!==this.n?Math.asin(this.n*Math.sin(i)):i;r=this.a*this.C_x*e*(this.m+Math.cos(i)),n=this.a*this.C_y*i}else{var h=Math.sin(i),u=Math.cos(i);n=this.a*vh(i,h,u,this.en),r=this.a*e*u/Math.sqrt(1-this.es*h*h)}return t.x=r,t.y=n,t},inverse:function(t){var r,n,e;return t.x-=this.x0,n=t.x/this.a,t.y-=this.y0,r=t.y/this.a,this.sphere?(r/=this.C_y,n/=this.C_x*(this.m+Math.cos(r)),this.m?r=Xh((this.m*r+Math.sin(r))/this.n):1!==this.n&&(r=Xh(Math.sin(r)/this.n)),n=co(n+this.long0),r=Fh(r)):(r=dh(t.y/this.a,this.es,this.en),(e=Math.abs(r))<Rs?(e=Math.sin(r),n=co(this.long0+t.x*Math.sqrt(1-this.es*e*e)/(this.a*Math.cos(r)))):e-Is<Rs&&(n=this.long0)),t.x=n,t.y=r,t},names:["Sinusoidal","sinu"]};var au={init:function(){},forward:function(t){for(var r=t.x,n=t.y,e=co(r-this.long0),i=n,a=Math.PI*Math.sin(n);;){var s=-(i+Math.sin(i)-a)/(1+Math.cos(i));if(i+=s,Math.abs(s)<Is)break}i/=2,Math.PI/2-Math.abs(n)<Is&&(e=0);var o=.900316316158*this.a*e*Math.cos(i)+this.x0,h=1.4142135623731*this.a*Math.sin(i)+this.y0;return t.x=o,t.y=h,t},inverse:function(t){var r,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),r=Math.asin(n);var e=co(this.long0+t.x/(.900316316158*this.a*Math.cos(r)));e<-Math.PI&&(e=-Math.PI),e>Math.PI&&(e=Math.PI),n=(2*r+Math.sin(2*r))/Math.PI,Math.abs(n)>1&&(n=1);var i=Math.asin(n);return t.x=e,t.y=i,t},names:["Mollweide","moll"]};var su={init:function(){Math.abs(this.lat1+this.lat2)<Is||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=qh(this.es),this.e1=Rh(this.es),this.e2=Ih(this.es),this.e3=Lh(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=ho(this.e,this.sinphi,this.cosphi),this.ml1=Dh(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<Is?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=ho(this.e,this.sinphi,this.cosphi),this.ml2=Dh(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Dh(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var r,n=t.x,e=t.y;if(this.sphere)r=this.a*(this.g-e);else{var i=Dh(this.e0,this.e1,this.e2,this.e3,e);r=this.a*(this.g-i)}var a=this.ns*co(n-this.long0),s=this.x0+r*Math.sin(a),o=this.y0+this.rh-r*Math.cos(a);return t.x=s,t.y=o,t},inverse:function(t){var r,n,e,i;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),r=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),r=-1);var a=0;return 0!==n&&(a=Math.atan2(r*t.x,r*t.y)),this.sphere?(i=co(this.long0+a/this.ns),e=Fh(this.g-n/this.a),t.x=i,t.y=e,t):(e=Th(this.g-n/this.a,this.e0,this.e1,this.e2,this.e3),i=co(this.long0+a/this.ns),t.x=i,t.y=e,t)},names:["Equidistant_Conic","eqdc"]};var ou={init:function(){this.R=this.a},forward:function(t){var r,n,e=t.x,i=t.y,a=co(e-this.long0);Math.abs(i)<=Is&&(r=this.x0+this.R*a,n=this.y0);var s=Xh(2*Math.abs(i/Math.PI));(Math.abs(a)<=Is||Math.abs(Math.abs(i)-Rs)<=Is)&&(r=this.x0,n=i>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var o=.5*Math.abs(Math.PI/a-a/Math.PI),h=o*o,u=Math.sin(s),c=Math.cos(s),l=c/(u+c-1),f=l*l,p=l*(2/u-1),v=p*p,d=Math.PI*this.R*(o*(l-v)+Math.sqrt(h*(l-v)*(l-v)-(v+h)*(f-v)))/(v+h);a<0&&(d=-d),r=this.x0+d;var M=h+l;return d=Math.PI*this.R*(p*M-o*Math.sqrt((v+h)*(h+1)-M*M))/(v+h),n=i>=0?this.y0+d:this.y0-d,t.x=r,t.y=n,t},inverse:function(t){var r,n,e,i,a,s,o,h,u,c,l,f;return t.x-=this.x0,t.y-=this.y0,l=Math.PI*this.R,a=(e=t.x/l)*e+(i=t.y/l)*i,l=3*(i*i/(h=-2*(s=-Math.abs(i)*(1+a))+1+2*i*i+a*a)+(2*(o=s-2*i*i+e*e)*o*o/h/h/h-9*s*o/h/h)/27)/(u=(s-o*o/3/h)/h)/(c=2*Math.sqrt(-u/3)),Math.abs(l)>1&&(l=l>=0?1:-1),f=Math.acos(l)/3,n=t.y>=0?(-c*Math.cos(f+Math.PI/3)-o/3/h)*Math.PI:-(-c*Math.cos(f+Math.PI/3)-o/3/h)*Math.PI,r=Math.abs(e)<Is?this.long0:co(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(e*e-i*i)+a*a))/2/e),t.x=r,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};var hu={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var r,n,e,i,a,s,o,h,u,c,l,f,p,v,d,M,g,m,y,w,_,b,x=t.x,S=t.y,N=Math.sin(t.y),C=Math.cos(t.y),E=co(x-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=Is?(t.x=this.x0+this.a*(Rs-S)*Math.sin(E),t.y=this.y0-this.a*(Rs-S)*Math.cos(E),t):Math.abs(this.sin_p12+1)<=Is?(t.x=this.x0+this.a*(Rs+S)*Math.sin(E),t.y=this.y0+this.a*(Rs+S)*Math.cos(E),t):(m=this.sin_p12*N+this.cos_p12*C*Math.cos(E),g=(M=Math.acos(m))?M/Math.sin(M):1,t.x=this.x0+this.a*g*C*Math.sin(E),t.y=this.y0+this.a*g*(this.cos_p12*N-this.sin_p12*C*Math.cos(E)),t):(r=qh(this.es),n=Rh(this.es),e=Ih(this.es),i=Lh(this.es),Math.abs(this.sin_p12-1)<=Is?(a=this.a*Dh(r,n,e,i,Rs),s=this.a*Dh(r,n,e,i,S),t.x=this.x0+(a-s)*Math.sin(E),t.y=this.y0-(a-s)*Math.cos(E),t):Math.abs(this.sin_p12+1)<=Is?(a=this.a*Dh(r,n,e,i,Rs),s=this.a*Dh(r,n,e,i,S),t.x=this.x0+(a+s)*Math.sin(E),t.y=this.y0+(a+s)*Math.cos(E),t):(o=N/C,h=Gh(this.a,this.e,this.sin_p12),u=Gh(this.a,this.e,N),c=Math.atan((1-this.es)*o+this.es*h*this.sin_p12/(u*C)),y=0===(l=Math.atan2(Math.sin(E),this.cos_p12*Math.tan(c)-this.sin_p12*Math.cos(E)))?Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.abs(Math.abs(l)-Math.PI)<=Is?-Math.asin(this.cos_p12*Math.sin(c)-this.sin_p12*Math.cos(c)):Math.asin(Math.sin(E)*Math.cos(c)/Math.sin(l)),f=this.e*this.sin_p12/Math.sqrt(1-this.es),M=h*y*(1-(w=y*y)*(d=(p=this.e*this.cos_p12*Math.cos(l)/Math.sqrt(1-this.es))*p)*(1-d)/6+(_=w*y)/8*(v=f*p)*(1-2*d)+(b=_*y)/120*(d*(4-7*d)-3*f*f*(1-7*d))-b*y/48*v),t.x=this.x0+M*Math.sin(l),t.y=this.y0+M*Math.cos(l),t))},inverse:function(t){var r,n,e,i,a,s,o,h,u,c,l,f,p,v,d,M,g,m,y,w,_,b,x;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((r=Math.sqrt(t.x*t.x+t.y*t.y))>2*Rs*this.a)return;return n=r/this.a,e=Math.sin(n),i=Math.cos(n),a=this.long0,Math.abs(r)<=Is?s=this.lat0:(s=Xh(i*this.sin_p12+t.y*e*this.cos_p12/r),o=Math.abs(this.lat0)-Rs,a=Math.abs(o)<=Is?this.lat0>=0?co(this.long0+Math.atan2(t.x,-t.y)):co(this.long0-Math.atan2(-t.x,t.y)):co(this.long0+Math.atan2(t.x*e,r*this.cos_p12*i-t.y*this.sin_p12*e))),t.x=a,t.y=s,t}return h=qh(this.es),u=Rh(this.es),c=Ih(this.es),l=Lh(this.es),Math.abs(this.sin_p12-1)<=Is?(s=Th(((f=this.a*Dh(h,u,c,l,Rs))-(r=Math.sqrt(t.x*t.x+t.y*t.y)))/this.a,h,u,c,l),a=co(this.long0+Math.atan2(t.x,-1*t.y)),t.x=a,t.y=s,t):Math.abs(this.sin_p12+1)<=Is?(f=this.a*Dh(h,u,c,l,Rs),s=Th(((r=Math.sqrt(t.x*t.x+t.y*t.y))-f)/this.a,h,u,c,l),a=co(this.long0+Math.atan2(t.x,t.y)),t.x=a,t.y=s,t):(r=Math.sqrt(t.x*t.x+t.y*t.y),d=Math.atan2(t.x,t.y),p=Gh(this.a,this.e,this.sin_p12),M=Math.cos(d),m=-(g=this.e*this.cos_p12*M)*g/(1-this.es),y=3*this.es*(1-m)*this.sin_p12*this.cos_p12*M/(1-this.es),b=1-m*(_=(w=r/p)-m*(1+m)*Math.pow(w,3)/6-y*(1+3*m)*Math.pow(w,4)/24)*_/2-w*_*_*_/6,v=Math.asin(this.sin_p12*Math.cos(_)+this.cos_p12*Math.sin(_)*M),a=co(this.long0+Math.asin(Math.sin(d)*Math.sin(_)/Math.cos(v))),x=Math.sin(v),s=Math.atan2((x-this.es*b*this.sin_p12)*Math.tan(v),x*(1-this.es)),t.x=a,t.y=s,t)},names:["Azimuthal_Equidistant","aeqd"]};var uu={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var r,n,e,i,a,s,o,h=t.x,u=t.y;return e=co(h-this.long0),r=Math.sin(u),n=Math.cos(u),i=Math.cos(e),1,((a=this.sin_p14*r+this.cos_p14*n*i)>0||Math.abs(a)<=Is)&&(s=1*this.a*n*Math.sin(e),o=this.y0+1*this.a*(this.cos_p14*r-this.sin_p14*n*i)),t.x=s,t.y=o,t},inverse:function(t){var r,n,e,i,a,s,o;return t.x-=this.x0,t.y-=this.y0,n=Xh((r=Math.sqrt(t.x*t.x+t.y*t.y))/this.a),e=Math.sin(n),i=Math.cos(n),s=this.long0,Math.abs(r)<=Is?(o=this.lat0,t.x=s,t.y=o,t):(o=Xh(i*this.sin_p14+t.y*e*this.cos_p14/r),a=Math.abs(this.lat0)-Rs,Math.abs(a)<=Is?(s=this.lat0>=0?co(this.long0+Math.atan2(t.x,-t.y)):co(this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=o,t):(s=co(this.long0+Math.atan2(t.x*e,r*this.cos_p14*i-t.y*this.sin_p14*e)),t.x=s,t.y=o,t))},names:["ortho"]},cu=1,lu=2,fu=3,pu=4,vu=5,du=6,Mu=1,gu=2,mu=3,yu=4;function wu(t,r,n,e){var i;return t<Is?(e.value=Mu,i=0):(i=Math.atan2(r,n),Math.abs(i)<=Fs?e.value=Mu:i>Fs&&i<=Rs+Fs?(e.value=gu,i-=Rs):i>Rs+Fs||i<=-(Rs+Fs)?(e.value=mu,i=i>=0?i-zs:i+zs):(e.value=yu,i+=Rs)),i}function _u(t,r){var n=t+r;return n<-zs?n+=Ts:n>+zs&&(n-=Ts),n}var bu={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=Rs-Fs/2?this.face=vu:this.lat0<=-(Rs-Fs/2)?this.face=du:Math.abs(this.long0)<=Fs?this.face=cu:Math.abs(this.long0)<=Rs+Fs?this.face=this.long0>0?lu:pu:this.face=fu,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var r,n,e,i,a,s,o={x:0,y:0},h={value:0};if(t.x-=this.long0,r=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===vu)i=Rs-r,n>=Fs&&n<=Rs+Fs?(h.value=Mu,e=n-Rs):n>Rs+Fs||n<=-(Rs+Fs)?(h.value=gu,e=n>0?n-zs:n+zs):n>-(Rs+Fs)&&n<=-Fs?(h.value=mu,e=n+Rs):(h.value=yu,e=n);else if(this.face===du)i=Rs+r,n>=Fs&&n<=Rs+Fs?(h.value=Mu,e=-n+Rs):n<Fs&&n>=-Fs?(h.value=gu,e=-n):n<-Fs&&n>=-(Rs+Fs)?(h.value=mu,e=-n-Rs):(h.value=yu,e=n>0?-n+zs:-n-zs);else{var u,c,l,f,p,v;this.face===lu?n=_u(n,+Rs):this.face===fu?n=_u(n,+zs):this.face===pu&&(n=_u(n,-Rs)),f=Math.sin(r),p=Math.cos(r),v=Math.sin(n),u=p*Math.cos(n),c=p*v,l=f,this.face===cu?e=wu(i=Math.acos(u),l,c,h):this.face===lu?e=wu(i=Math.acos(c),l,-u,h):this.face===fu?e=wu(i=Math.acos(-u),l,-c,h):this.face===pu?e=wu(i=Math.acos(-c),l,u,h):(i=e=0,h.value=Mu)}return s=Math.atan(12/zs*(e+Math.acos(Math.sin(e)*Math.cos(Fs))-Rs)),a=Math.sqrt((1-Math.cos(i))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(e))))),h.value===gu?s+=Rs:h.value===mu?s+=zs:h.value===yu&&(s+=1.5*zs),o.x=a*Math.cos(s),o.y=a*Math.sin(s),o.x=o.x*this.a+this.x0,o.y=o.y*this.a+this.y0,t.x=o.x,t.y=o.y,t},inverse:function(t){var r,n,e,i,a,s,o,h,u,c,l,f,p={lam:0,phi:0},v={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),r=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?v.value=Mu:t.y>=0&&t.y>=Math.abs(t.x)?(v.value=gu,r-=Rs):t.x<0&&-t.x>=Math.abs(t.y)?(v.value=mu,r=r<0?r+zs:r-zs):(v.value=yu,r+=Rs),u=zs/12*Math.tan(r),a=Math.sin(u)/(Math.cos(u)-1/Math.sqrt(2)),s=Math.atan(a),(o=1-(e=Math.cos(r))*e*(i=Math.tan(n))*i*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?o=-1:o>1&&(o=1),this.face===vu)h=Math.acos(o),p.phi=Rs-h,v.value===Mu?p.lam=s+Rs:v.value===gu?p.lam=s<0?s+zs:s-zs:v.value===mu?p.lam=s-Rs:p.lam=s;else if(this.face===du)h=Math.acos(o),p.phi=h-Rs,v.value===Mu?p.lam=-s+Rs:v.value===gu?p.lam=-s:v.value===mu?p.lam=-s-Rs:p.lam=s<0?-s-zs:-s+zs;else{var d,M,g;u=(d=o)*d,M=(u+=(g=u>=1?0:Math.sqrt(1-u)*Math.sin(s))*g)>=1?0:Math.sqrt(1-u),v.value===gu?(u=M,M=-g,g=u):v.value===mu?(M=-M,g=-g):v.value===yu&&(u=M,M=g,g=-u),this.face===lu?(u=d,d=-M,M=u):this.face===fu?(d=-d,M=-M):this.face===pu&&(u=d,d=M,M=-u),p.phi=Math.acos(-g)-Rs,p.lam=Math.atan2(M,d),this.face===lu?p.lam=_u(p.lam,-Rs):this.face===fu?p.lam=_u(p.lam,-zs):this.face===pu&&(p.lam=_u(p.lam,+Rs))}return 0!==this.es&&(c=p.phi<0?1:0,l=Math.tan(p.phi),f=this.b/Math.sqrt(l*l+this.one_minus_f_squared),p.phi=Math.atan(Math.sqrt(this.a*this.a-f*f)/(this.one_minus_f*f)),c&&(p.phi=-p.phi)),p.lam+=this.long0,t.x=p.lam,t.y=p.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},xu=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Su=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Nu=.8487,Cu=1.3523,Eu=Gs/5,ju=18,Pu=function(t,r){return t[0]+r*(t[1]+r*(t[2]+r*t[3]))};var Ou={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var r=co(t.x-this.long0),n=Math.abs(t.y),e=Math.floor(n*Eu);e<0?e=0:e>=ju&&(e=17);var i={x:Pu(xu[e],n=Gs*(n-.08726646259971647*e))*r,y:Pu(Su[e],n)};return t.y<0&&(i.y=-i.y),i.x=i.x*this.a*Nu+this.x0,i.y=i.y*this.a*Cu+this.y0,i},inverse:function(t){var r={x:(t.x-this.x0)/(this.a*Nu),y:Math.abs(t.y-this.y0)/(this.a*Cu)};if(r.y>=1)r.x/=xu[18][0],r.y=t.y<0?-Rs:Rs;else{var n=Math.floor(r.y*ju);for(n<0?n=0:n>=ju&&(n=17);;)if(Su[n][0]>r.y)--n;else{if(!(Su[n+1][0]<=r.y))break;++n}var e=Su[n],i=5*(r.y-e[0])/(Su[n+1][0]-e[0]);i=function(t,r,n,e){for(var i=r;e;--e){var a=t(i);if(i-=a,Math.abs(a)<n)break}return i}((function(t){return(Pu(e,t)-r.y)/function(t,r){return t[1]+r*(2*t[2]+3*r*t[3])}(e,t)}),i,Is,100),r.x/=Pu(xu[n],i),r.y=(5*n+i)*Ls,t.y<0&&(r.y=-r.y)}return r.x=co(r.x+this.long0),r},names:["Robinson","robin"]};var Au={init:function(){this.name="geocent"},forward:function(t){return Ao(t,this.es,this.a)},inverse:function(t){return ko(t,this.es,this.a,this.b)},names:["Geocentric","geocentric","geocent","Geocent"]},ku=0,Du=1,qu=2,Ru=3,Iu={h:{def:1e5,num:!0},azi:{def:0,num:!0,degrees:!0},tilt:{def:0,num:!0,degrees:!0},long0:{def:0,num:!0},lat0:{def:0,num:!0}};var Lu={init:function(){if(Object.keys(Iu).forEach(function(t){if(void 0===this[t])this[t]=Iu[t].def;else{if(Iu[t].num&&isNaN(this[t]))throw new Error("Invalid parameter value, must be numeric "+t+" = "+this[t]);Iu[t].num&&(this[t]=parseFloat(this[t]))}Iu[t].degrees&&(this[t]=this[t]*Ls)}.bind(this)),Math.abs(Math.abs(this.lat0)-Rs)<Is?this.mode=this.lat0<0?Du:ku:Math.abs(this.lat0)<Is?this.mode=qu:(this.mode=Ru,this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0)),this.pn1=this.h/this.a,this.pn1<=0||this.pn1>1e10)throw new Error("Invalid height");this.p=1+this.pn1,this.rp=1/this.p,this.h1=1/this.pn1,this.pfact=(this.p+1)*this.h1,this.es=0;var t=this.tilt,r=this.azi;this.cg=Math.cos(r),this.sg=Math.sin(r),this.cw=Math.cos(t),this.sw=Math.sin(t)},forward:function(t){t.x-=this.long0;var r,n,e,i,a=Math.sin(t.y),s=Math.cos(t.y),o=Math.cos(t.x);switch(this.mode){case Ru:n=this.sinph0*a+this.cosph0*s*o;break;case qu:n=s*o;break;case Du:n=-a;break;case ku:n=a}switch(r=(n=this.pn1/(this.p-n))*s*Math.sin(t.x),this.mode){case Ru:n*=this.cosph0*a-this.sinph0*s*o;break;case qu:n*=a;break;case ku:n*=-s*o;break;case Du:n*=s*o}return i=1/((e=n*this.cg+r*this.sg)*this.sw*this.h1+this.cw),r=(r*this.cg-n*this.sg)*this.cw*i,n=e*i,t.x=r*this.a,t.y=n*this.a,t},inverse:function(t){t.x/=this.a,t.y/=this.a;var r,n,e,i={x:t.x,y:t.y};e=1/(this.pn1-t.y*this.sw),r=this.pn1*t.x*e,n=this.pn1*t.y*this.cw*e,t.x=r*this.cg+n*this.sg,t.y=n*this.cg-r*this.sg;var a=mh(t.x,t.y);if(Math.abs(a)<Is)i.x=0,i.y=t.y;else{var s,o;switch(o=1-a*a*this.pfact,o=(this.p-Math.sqrt(o))/(this.pn1/a+a/this.pn1),s=Math.sqrt(1-o*o),this.mode){case Ru:i.y=Math.asin(s*this.sinph0+t.y*o*this.cosph0/a),t.y=(s-this.sinph0*Math.sin(i.y))*a,t.x*=o*this.cosph0;break;case qu:i.y=Math.asin(t.y*o/a),t.y=s*a,t.x*=o;break;case ku:i.y=Math.asin(s),t.y=-t.y;break;case Du:i.y=-Math.asin(s)}i.x=Math.atan2(t.x,t.y)}return t.x=i.x+this.long0,t.y=i.y,t},names:["Tilted_Perspective","tpers"]};var Gu={init:function(){if(this.flip_axis="x"===this.sweep?1:0,this.h=Number(this.h),this.radius_g_1=this.h/this.a,this.radius_g_1<=0||this.radius_g_1>1e10)throw new Error;if(this.radius_g=1+this.radius_g_1,this.C=this.radius_g*this.radius_g-1,0!==this.es){var t=1-this.es,r=1/t;this.radius_p=Math.sqrt(t),this.radius_p2=t,this.radius_p_inv2=r,this.shape="ellipse"}else this.radius_p=1,this.radius_p2=1,this.radius_p_inv2=1,this.shape="sphere";this.title||(this.title="Geostationary Satellite View")},forward:function(t){var r,n,e,i,a=t.x,s=t.y;if(a-=this.long0,"ellipse"===this.shape){s=Math.atan(this.radius_p2*Math.tan(s));var o=this.radius_p/mh(this.radius_p*Math.cos(s),Math.sin(s));if(n=o*Math.cos(a)*Math.cos(s),e=o*Math.sin(a)*Math.cos(s),i=o*Math.sin(s),(this.radius_g-n)*n-e*e-i*i*this.radius_p_inv2<0)return t.x=Number.NaN,t.y=Number.NaN,t;r=this.radius_g-n,this.flip_axis?(t.x=this.radius_g_1*Math.atan(e/mh(i,r)),t.y=this.radius_g_1*Math.atan(i/r)):(t.x=this.radius_g_1*Math.atan(e/r),t.y=this.radius_g_1*Math.atan(i/mh(e,r)))}else"sphere"===this.shape&&(r=Math.cos(s),n=Math.cos(a)*r,e=Math.sin(a)*r,i=Math.sin(s),r=this.radius_g-n,this.flip_axis?(t.x=this.radius_g_1*Math.atan(e/mh(i,r)),t.y=this.radius_g_1*Math.atan(i/r)):(t.x=this.radius_g_1*Math.atan(e/r),t.y=this.radius_g_1*Math.atan(i/mh(e,r))));return t.x=t.x*this.a,t.y=t.y*this.a,t},inverse:function(t){var r,n,e,i,a=-1,s=0,o=0;if(t.x=t.x/this.a,t.y=t.y/this.a,"ellipse"===this.shape){this.flip_axis?(o=Math.tan(t.y/this.radius_g_1),s=Math.tan(t.x/this.radius_g_1)*mh(1,o)):(s=Math.tan(t.x/this.radius_g_1),o=Math.tan(t.y/this.radius_g_1)*mh(1,s));var h=o/this.radius_p;if(r=s*s+h*h+a*a,(e=(n=2*this.radius_g*a)*n-4*r*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;i=(-n-Math.sqrt(e))/(2*r),a=this.radius_g+i*a,s*=i,o*=i,t.x=Math.atan2(s,a),t.y=Math.atan(o*Math.cos(t.x)/a),t.y=Math.atan(this.radius_p_inv2*Math.tan(t.y))}else if("sphere"===this.shape){if(this.flip_axis?(o=Math.tan(t.y/this.radius_g_1),s=Math.tan(t.x/this.radius_g_1)*Math.sqrt(1+o*o)):(s=Math.tan(t.x/this.radius_g_1),o=Math.tan(t.y/this.radius_g_1)*Math.sqrt(1+s*s)),r=s*s+o*o+a*a,(e=(n=2*this.radius_g*a)*n-4*r*this.C)<0)return t.x=Number.NaN,t.y=Number.NaN,t;i=(-n-Math.sqrt(e))/(2*r),a=this.radius_g+i*a,s*=i,o*=i,t.x=Math.atan2(s,a),t.y=Math.atan(o*Math.cos(t.x)/a)}return t.x=t.x+this.long0,t},names:["Geostationary Satellite View","Geostationary_Satellite","geos"]};Vo.defaultDatum="WGS84",Vo.Proj=Oo,Vo.WGS84=new Vo.Proj("WGS84"),Vo.Point=uh,Vo.toPoint=Fo,Vo.defs=eo,Vo.nadgrid=function(t,r){var n=new DataView(r),e=function(t){var r=t.getInt32(8,!1);if(11===r)return!1;11!==(r=t.getInt32(8,!0))&&console.warn("Failed to detect nadgrid endian-ness, defaulting to little-endian");return!0}(n),i=function(t,r){return{nFields:t.getInt32(8,r),nSubgridFields:t.getInt32(24,r),nSubgrids:t.getInt32(40,r),shiftType:Co(t,56,64).trim(),fromSemiMajorAxis:t.getFloat64(120,r),fromSemiMinorAxis:t.getFloat64(136,r),toSemiMajorAxis:t.getFloat64(152,r),toSemiMinorAxis:t.getFloat64(168,r)}}(n,e);i.nSubgrids>1&&console.log("Only single NTv2 subgrids are currently supported, subsequent sub grids are ignored");var a=function(t,r,n){for(var e=176,i=[],a=0;a<r.nSubgrids;a++){var s=jo(t,e,n),o=Po(t,e,s,n),h=Math.round(1+(s.upperLongitude-s.lowerLongitude)/s.longitudeInterval),u=Math.round(1+(s.upperLatitude-s.lowerLatitude)/s.latitudeInterval);i.push({ll:[No(s.lowerLongitude),No(s.lowerLatitude)],del:[No(s.longitudeInterval),No(s.latitudeInterval)],lim:[h,u],count:s.gridNodeCount,cvs:Eo(o)})}return i}(n,i,e),s={header:i,subgrids:a};return xo[t]=s,s},Vo.transform=zo,Vo.mgrs=Ko,Vo.version="__VERSION__",function(t){t.Proj.projections.add(Mh),t.Proj.projections.add(bh),t.Proj.projections.add(xh),t.Proj.projections.add(Ch),t.Proj.projections.add(Eh),t.Proj.projections.add(jh),t.Proj.projections.add(Oh),t.Proj.projections.add(Ah),t.Proj.projections.add(kh),t.Proj.projections.add(zh),t.Proj.projections.add(Jh),t.Proj.projections.add($h),t.Proj.projections.add(Yh),t.Proj.projections.add(Kh),t.Proj.projections.add(tu),t.Proj.projections.add(ru),t.Proj.projections.add(nu),t.Proj.projections.add(eu),t.Proj.projections.add(iu),t.Proj.projections.add(au),t.Proj.projections.add(su),t.Proj.projections.add(ou),t.Proj.projections.add(hu),t.Proj.projections.add(uu),t.Proj.projections.add(bu),t.Proj.projections.add(Ou),t.Proj.projections.add(Au),t.Proj.projections.add(Lu),t.Proj.projections.add(Gu)}(Vo),Vo.defs([["EPSG:4326","+title=WGS84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"],["EPSG:3826","+title=TWD97 TM2 +proj=tmerc +lat_0=0 +lon_0=121 +k=0.9999 +x_0=250000 +y_0=0 +ellps=GRS80 +units=m +no_defs"],["EPSG:3828","+title=TWD67 TM2 +proj=tmerc +lat_0=0 +lon_0=121 +k=0.9999 +x_0=250000 +y_0=0 +ellps=aust_SA +towgs84=-752,-358,-179,-0.0000011698,0.0000018398,0.0000009822,0.00002329 +units=m +no_defs"]]);var Fu=function(t,r){return!!(null==t?0:t.length)&&Wi(t,r,0)>-1};var Tu=function(t,r,n){for(var e=-1,i=null==t?0:t.length;++e<i;)if(n(r,t[e]))return!0;return!1};var zu=function(){},Bu=pr&&1/Mn(new pr([,-0]))[1]==1/0?function(t){return new pr(t)}:zu,Uu=Bu;var Wu=function(t,r,n){var e=-1,i=Fu,a=t.length,s=!0,o=[],h=o;if(n)s=!1,i=Tu;else if(a>=200){var u=r?null:Uu(t);if(u)return Mn(u);s=!1,i=fn,h=new cn}else h=r?[]:o;t:for(;++e<a;){var c=t[e],l=r?r(c):c;if(c=n||0!==c?c:0,s&&l==l){for(var f=h.length;f--;)if(h[f]===l)continue t;r&&h.push(l),o.push(c)}else i(h,l,n)||(h!==o&&h.push(l),o.push(c))}return o};var Vu=function(t){return t&&t.length?Wu(t):[]};function Qu(t,r,n){if(!vi(t))return[];if(vi(n)||(n=[n]),!(ya(e=r)&&ga(e)>=0))return t;var e;if((r=ga(r))>Vr(t))return t;var i=t;try{i=[].concat(qi(t.slice(0,r)),qi(n),qi(t.slice(r)))}catch(t){}return i}t.calcDepthStartEndByConnect=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(!gi(t))throw new Error("");var e=cr(r,"keyDepthStart");li(e)||(e="depthStart");var i=cr(r,"keyDepthEnd");li(i)||(i="depthEnd");var a=cr(r,"depthEndMax");if(a=fi(a)?pi(a):null,t=Ye(t),tt(t,(function(t,r){var a=cr(t,e,null),s=cr(t,i,null);fi(a)||n.push(" ".concat(r," ").concat(e,"[").concat(a,"]")),fi(s)||n.push(" ".concat(r," ").concat(i,"[").concat(s,"]"))})),Vr(n)>0)throw new Error(Hr(n,", "));if(t=ue(t,(function(t){return pi(t[e])})),tt(t,(function(r,a){if(0===a)return!0;var s=cr(t,"".concat(a-1,".").concat(i),null),o=cr(r,e,null);wi(s=pi(s),">",o=pi(o))&&n.push(" ".concat(a-1," ").concat(i,"[").concat(s,"] ").concat(a," ").concat(e,"[").concat(o,"]"))})),Vr(n)>0)throw new Error(Hr(n,", "));if(tt(t,(function(r,n){if(0===n)return!0;var a=cr(t,"".concat(n-1,".").concat(i),null),s=cr(r,e,null);if(wi(a=pi(a),"<",s=pi(s))){var o=(a+s)/2;t[n-1][i]=o,t[n+0][e]=o}})),Zr(a)){var s=Vr(t)-1,o=t[s],h=o[i];wi(h,"<",a)&&(t[s][i]=a)}return t},t.calcDepthStartEndByGroup=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(!gi(t))throw new Error("");var e=cr(r,"keyDepth");li(e)||(e="depth");var i=cr(r,"keyGroup");li(i)||(i="group");var a=cr(r,"keyDepthStart");li(a)||(a="depthStart");var s=cr(r,"keyDepthEnd");li(s)||(s="depthEnd");var o=cr(r,"depthEndMax");if(o=fi(o)?pi(o):null,t=Ye(t),tt(t,(function(t,r){var a=cr(t,e,null);fi(a)||n.push(" ".concat(r," ").concat(e,"[").concat(a,"]"));var s=cr(t,i,"");li(s)||fi(s)||n.push(" ".concat(r," ").concat(i,"[").concat(s,"]"))})),Vr(n)>0)throw new Error(Hr(n,"; "));if(t=ue(t,(function(t){return pi(t[e])})),tt(t,(function(r,i){if(0===i)return!0;var a=cr(t,"".concat(i-1,".").concat(e),null),s=cr(r,e,null);wi(a=pi(a),">=",s=pi(s))&&n.push(" ".concat(i-1," ").concat(e,"[").concat(a,"] ").concat(i," ").concat(e,"[").concat(s,"]"))})),Vr(n)>0)throw new Error(Hr(n,"; "));var h={};tt(t,(function(t){var r=t[i];h[r]=!0}));var u=X(h),c=Vr(u);if(0===c)throw new Error("");t=ki(t,{keyDepth:e,keyDepthStart:a,keyDepthEnd:s,depthEndMax:o});for(var l=Ye(t),f=-1;!(++f>=Vr(t)-1);){var p=cr(t,f),v=cr(t,f+1),d=cr(p,i,"g1"),M=cr(v,i,"g2");d===M&&(t[f][s]=t[f+1][s],Ai(t,f+1),f--)}var g=bi(t,(function(t){var r;return _i(r={},i,t[i]),_i(r,a,t[a]),_i(r,s,t[s]),r}));return g=bi(g,(function(t){var r=t[a],n=t[s],i=[],o=[];return tt(l,(function(t,a){var s=t[e];if(wi(s,">=",r)&&wi(s,"<=",n)&&(i.push(a),o.push(t)),wi(s,">",n))return!1})),t.rows=Ye(o),Ai(l,i),t}))},t.calcDepthStartEndFromCenter=ki,t.calcLiquefaction=ms,t.calcVerticalStress=as,t.checkDepth=ys,t.checkDepthStartEnd=Ia,t.cnst=Ba,t.complementDepthData=function(t,r,n,e){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!li(r))throw new Error("invalid keyDepth");if(!li(n))throw new Error("invalid keyValue");if(!gi(e))throw new Error("invalid keysValueCmp");t=Ye(t);var a=cr(i,"searchLen");fi(a)||(a=.5);var s=cr(i,"beforeSearchMode");"all"!==s&&"no"!==s&&"peak"!==s&&"half-closed-value"!==s&&"double-closed-value"!==s&&"closed-value"!==s&&(s="no");var o=cr(i,"afterSearchMode");"all"!==o&&"no"!==o&&"peak"!==o&&"half-closed-value"!==o&&"double-closed-value"!==o&&"closed-value"!==o&&(o="all");var h=cr(i,"cmpMode");"linear-fill"!==h&&"cut"!==h&&(h="linear-fill");var u=Ns(t,r,n);return tt(u,(function(i){var u;if(null===(u=Cs(t,r,n,i.k,a,cr(i,"value"),{searchMode:s})))return!0;var c;if(null===(c=Es(t,r,n,i.k,a,cr(u,"value")||cr(i,"value"),{searchMode:o})))return!0;"linear-fill"===h?t=Ps(t,e,u.k,c.k):"cut"===h&&(t=Os(t,e,u.k,c.k))})),t},t.convertCoordinate=function(t,r,n){if(!gi(n)&&2!==Vr(n))throw new Error("ps is not an array(length=2)");var e={TWD97TM2:"EPSG:3826",TWD67TM2:"EPSG:3828",WGS84:"EPSG:4326"};As(e,t)&&(t=e[t]),As(e,r)&&(r=e[r]);var i=new Vo.Proj(t),a=new Vo.Proj(r);return Vo(i,a,n)},t.groupByDepthStartEnd=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=[];if(!gi(t))throw new Error("");if(!gi(r)&&!za(r))throw new Error("");var i=cr(n,"keyDepth");li(i)||(i="depth");var a=cr(n,"keyDepthStart");li(a)||(a="depthStart");var s=cr(n,"keyDepthEnd");if(li(s)||(s="depthEnd"),t=Ye(t),tt(t,(function(t,r){var n=cr(t,i,null);fi(n)||e.push(" ".concat(r," ").concat(i,"[").concat(n,"]"))})),Vr(e)>0)throw new Error(Hr(e,"; "));var o=ys(t=ue(t,(function(t){return pi(t[i])})),{keyDepth:i});if(Vr(o)>0)throw new Error(Hr(o,", "));if(za(r)&&(r=[r]),tt(r,(function(t,r){var n=cr(t,a,null),i=cr(t,s,null);fi(n)||e.push(" ".concat(r," ").concat(a,"[").concat(n,"]")),fi(i)||e.push(" ".concat(r," ").concat(s,"[").concat(i,"]"))})),Vr(e)>0)throw new Error(Hr(e,"; "));if(tt(r,(function(t,n){var i=cr(t,a,null),o=cr(t,s,null);if(wi(i=pi(i),">",o=pi(o))&&e.push(" ".concat(n," ").concat(a,"[").concat(i,"]").concat(s,"[").concat(o,"]")),0===n)return!0;var h=cr(r,n-1),u=cr(h,s,null);wi(u=pi(u),">",i)&&e.push(" ".concat(n," ").concat(s,"[").concat(u,"] ").concat(n+1," ").concat(a,"[").concat(i,"]"))})),Vr(e)>0)throw new Error(Hr(e,"; "));var h=Ye(t),u=Ye(r);return u=bi(u,(function(t,r){var n=cr(t,a,null),e=cr(t,s,null);n=pi(n),e=pi(e);var o=[],u=[];return tt(h,(function(t,r){var a=t[i];if(wi(a,">=",n)&&wi(a,"<=",e)&&(o.push(r),u.push(t)),wi(a,">",e))return!1})),t.rows=Ye(u),Ai(h,o),t}))},t.judge=wi,t.relaPorousParams=ns,t.sepDepthStartEndByDepth=function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!gi(t))throw new Error("");if(!gi(r))return t;var e=cr(n,"keyDepthStart");li(e)||(e="depthStart");var i=cr(n,"keyDepthEnd");li(i)||(i="depthEnd");var a=cr(n,"keyDepth");li(a)||(a="depth");var s=Ia(t=Ye(t),{keyDepthStart:e,keyDepthEnd:i});if(Vr(s)>0)throw new Error(Hr(s,", "));var o=ys(r,{keyDepth:a});if(Vr(o)>0)throw new Error(Hr(o,", "));var h=bi(r,(function(t){return t[a]}));h=Vu(h);var u=function(t,r){return t=Ye(t),tt(t,(function(n,a){var s=cr(n,e,null),o=cr(n,i,null);if(s=pi(s),o=pi(o),wi(r,">",s)&&wi(r,"<",o)){var h=Ye(n),u=Ye(n);return h[i]=r,u[e]=r,Ai(t,a),t=Qu(t,a,[h,u]),!1}})),t};return tt(h,(function(r){t=u(t,r)})),t},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=w-geo.umd.js.map
