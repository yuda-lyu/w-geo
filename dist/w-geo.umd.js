/*!
 * w-geo v1.0.75
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["w-geo"]={})}(this,(function(e){"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,n||"default");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===t(n)?n:String(n)}function r(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var a={},u={get exports(){return a},set exports(e){a=e}};var l=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var s=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),u=a.length;u--;){var l=a[e?u:++i];if(!1===n(o[l],l,o))break}return t}},f=s();var c=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},p="object"==typeof i&&i&&i.Object===Object&&i,h=p,d="object"==typeof self&&self&&self.Object===Object&&self,v=h||d||Function("return this")(),g=v.Symbol,m=g,b=Object.prototype,y=b.hasOwnProperty,w=b.toString,x=m?m.toStringTag:void 0;var $=function(e){var t=y.call(e,x),n=e[x];try{e[x]=void 0;var r=!0}catch(e){}var i=w.call(e);return r&&(t?e[x]=n:delete e[x]),i},M=Object.prototype.toString;var S=$,R=function(e){return M.call(e)},k=g?g.toStringTag:void 0;var E=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":k&&k in Object(e)?S(e):R(e)};var L=function(e){return null!=e&&"object"==typeof e},D=E,P=L;var C=function(e){return P(e)&&"[object Arguments]"==D(e)},T=L,O=Object.prototype,F=O.hasOwnProperty,j=O.propertyIsEnumerable,q=C(function(){return arguments}())?C:function(e){return T(e)&&F.call(e,"callee")&&!j.call(e,"callee")},_=q,A=Array.isArray,N={};var z=function(){return!1};!function(e,t){var n=v,r=z,i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?n.Buffer:void 0,u=(a?a.isBuffer:void 0)||r;e.exports=u}({get exports(){return N},set exports(e){N=e}},N);var I=/^(?:0|[1-9]\d*)$/;var U=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&I.test(e))&&e>-1&&e%1==0&&e<t};var G=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},B=E,Q=G,H=L,W={};W["[object Float32Array]"]=W["[object Float64Array]"]=W["[object Int8Array]"]=W["[object Int16Array]"]=W["[object Int32Array]"]=W["[object Uint8Array]"]=W["[object Uint8ClampedArray]"]=W["[object Uint16Array]"]=W["[object Uint32Array]"]=!0,W["[object Arguments]"]=W["[object Array]"]=W["[object ArrayBuffer]"]=W["[object Boolean]"]=W["[object DataView]"]=W["[object Date]"]=W["[object Error]"]=W["[object Function]"]=W["[object Map]"]=W["[object Number]"]=W["[object Object]"]=W["[object RegExp]"]=W["[object Set]"]=W["[object String]"]=W["[object WeakMap]"]=!1;var V=function(e){return H(e)&&Q(e.length)&&!!W[B(e)]};var Y=function(e){return function(t){return e(t)}},Z={};!function(e,t){var n=p,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,o=i&&i.exports===r&&n.process,a=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=a}({get exports(){return Z},set exports(e){Z=e}},Z);var K=V,J=Y,X=Z&&Z.isTypedArray,ee=X?J(X):K,te=c,ne=_,re=A,ie=N,oe=U,ae=ee,ue=Object.prototype.hasOwnProperty;var le=function(e,t){var n=re(e),r=!n&&ne(e),i=!n&&!r&&ie(e),o=!n&&!r&&!i&&ae(e),a=n||r||i||o,u=a?te(e.length,String):[],l=u.length;for(var s in e)!t&&!ue.call(e,s)||a&&("length"==s||i&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||oe(s,l))||u.push(s);return u},se=Object.prototype;var fe=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||se)};var ce=function(e,t){return function(n){return e(t(n))}},pe=ce(Object.keys,Object),he=fe,de=pe,ve=Object.prototype.hasOwnProperty;var ge=function(e){if(!he(e))return de(e);var t=[];for(var n in Object(e))ve.call(e,n)&&"constructor"!=n&&t.push(n);return t};var me=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},be=E,ye=me;var we=function(e){if(!ye(e))return!1;var t=be(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},xe=we,$e=G;var Me=function(e){return null!=e&&$e(e.length)&&!xe(e)},Se=le,Re=ge,ke=Me;var Ee=function(e){return ke(e)?Se(e):Re(e)},Le=f,De=Ee;var Pe=Me;var Ce=function(e,t){return function(n,r){if(null==n)return n;if(!Pe(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Object(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}((function(e,t){return e&&Le(e,t,De)}));var Te=function(e){return e},Oe=Te;var Fe=function(e){return"function"==typeof e?e:Oe},je=l,qe=Ce,_e=Fe,Ae=A;var Ne=function(e,t){return(Ae(e)?je:qe)(e,_e(t))};!function(e){e.exports=Ne}(u);var ze=o(a);var Ie=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var Ue=function(){this.__data__=[],this.size=0};var Ge=function(e,t){return e===t||e!=e&&t!=t},Be=Ge;var Qe=function(e,t){for(var n=e.length;n--;)if(Be(e[n][0],t))return n;return-1},He=Qe,We=Array.prototype.splice;var Ve=function(e){var t=this.__data__,n=He(t,e);return!(n<0)&&(n==t.length-1?t.pop():We.call(t,n,1),--this.size,!0)},Ye=Qe;var Ze=function(e){var t=this.__data__,n=Ye(t,e);return n<0?void 0:t[n][1]},Ke=Qe;var Je=function(e){return Ke(this.__data__,e)>-1},Xe=Qe;var et=function(e,t){var n=this.__data__,r=Xe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},tt=Ue,nt=Ve,rt=Ze,it=Je,ot=et;function at(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}at.prototype.clear=tt,at.prototype.delete=nt,at.prototype.get=rt,at.prototype.has=it,at.prototype.set=ot;var ut=at,lt=ut;var st=function(){this.__data__=new lt,this.size=0};var ft=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var ct=function(e){return this.__data__.get(e)};var pt,ht=function(e){return this.__data__.has(e)},dt=v["__core-js_shared__"],vt=(pt=/[^.]+$/.exec(dt&&dt.keys&&dt.keys.IE_PROTO||""))?"Symbol(src)_1."+pt:"";var gt=function(e){return!!vt&&vt in e},mt=Function.prototype.toString;var bt=function(e){if(null!=e){try{return mt.call(e)}catch(e){}try{return e+""}catch(e){}}return""},yt=we,wt=gt,xt=me,$t=bt,Mt=/^\[object .+?Constructor\]$/,St=Function.prototype,Rt=Object.prototype,kt=St.toString,Et=Rt.hasOwnProperty,Lt=RegExp("^"+kt.call(Et).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Dt=function(e,t){return null==e?void 0:e[t]},Pt=function(e){return!(!xt(e)||wt(e))&&(yt(e)?Lt:Mt).test($t(e))},Ct=Dt;var Tt=function(e,t){var n=Ct(e,t);return Pt(n)?n:void 0},Ot=Tt(v,"Map"),Ft=Tt(Object,"create"),jt=Ft;var qt=function(){this.__data__=jt?jt(null):{},this.size=0};var _t=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},At=Ft,Nt=Object.prototype.hasOwnProperty;var zt=function(e){var t=this.__data__;if(At){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Nt.call(t,e)?t[e]:void 0},It=Ft,Ut=Object.prototype.hasOwnProperty;var Gt=function(e){var t=this.__data__;return It?void 0!==t[e]:Ut.call(t,e)},Bt=Ft;var Qt=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Bt&&void 0===t?"__lodash_hash_undefined__":t,this},Ht=qt,Wt=_t,Vt=zt,Yt=Gt,Zt=Qt;function Kt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Kt.prototype.clear=Ht,Kt.prototype.delete=Wt,Kt.prototype.get=Vt,Kt.prototype.has=Yt,Kt.prototype.set=Zt;var Jt=Kt,Xt=ut,en=Ot;var tn=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var nn=function(e,t){var n=e.__data__;return tn(t)?n["string"==typeof t?"string":"hash"]:n.map},rn=nn;var on=function(e){var t=rn(this,e).delete(e);return this.size-=t?1:0,t},an=nn;var un=function(e){return an(this,e).get(e)},ln=nn;var sn=function(e){return ln(this,e).has(e)},fn=nn;var cn=function(e,t){var n=fn(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},pn=function(){this.size=0,this.__data__={hash:new Jt,map:new(en||Xt),string:new Jt}},hn=on,dn=un,vn=sn,gn=cn;function mn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}mn.prototype.clear=pn,mn.prototype.delete=hn,mn.prototype.get=dn,mn.prototype.has=vn,mn.prototype.set=gn;var bn=mn,yn=ut,wn=Ot,xn=bn;var $n=function(e,t){var n=this.__data__;if(n instanceof yn){var r=n.__data__;if(!wn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new xn(r)}return n.set(e,t),this.size=n.size,this},Mn=ut,Sn=st,Rn=ft,kn=ct,En=ht,Ln=$n;function Dn(e){var t=this.__data__=new Mn(e);this.size=t.size}Dn.prototype.clear=Sn,Dn.prototype.delete=Rn,Dn.prototype.get=kn,Dn.prototype.has=En,Dn.prototype.set=Ln;var Pn=Dn;var Cn=bn,Tn=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},On=function(e){return this.__data__.has(e)};function Fn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Cn;++t<n;)this.add(e[t])}Fn.prototype.add=Fn.prototype.push=Tn,Fn.prototype.has=On;var jn=Fn;var qn=function(e,t){return e.has(t)},_n=jn,An=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},Nn=qn;var zn=function(e,t,n,r,i,o){var a=1&n,u=e.length,l=t.length;if(u!=l&&!(a&&l>u))return!1;var s=o.get(e),f=o.get(t);if(s&&f)return s==t&&f==e;var c=-1,p=!0,h=2&n?new _n:void 0;for(o.set(e,t),o.set(t,e);++c<u;){var d=e[c],v=t[c];if(r)var g=a?r(v,d,c,t,e,o):r(d,v,c,e,t,o);if(void 0!==g){if(g)continue;p=!1;break}if(h){if(!An(t,(function(e,t){if(!Nn(h,t)&&(d===e||i(d,e,n,r,o)))return h.push(t)}))){p=!1;break}}else if(d!==v&&!i(d,v,n,r,o)){p=!1;break}}return o.delete(e),o.delete(t),p},In=v.Uint8Array;var Un=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var Gn=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},Bn=In,Qn=Ge,Hn=zn,Wn=Un,Vn=Gn,Yn=g?g.prototype:void 0,Zn=Yn?Yn.valueOf:void 0;var Kn=function(e,t,n,r,i,o,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Bn(e),new Bn(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Qn(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var u=Wn;case"[object Set]":var l=1&r;if(u||(u=Vn),e.size!=t.size&&!l)return!1;var s=a.get(e);if(s)return s==t;r|=2,a.set(e,t);var f=Hn(u(e),u(t),r,i,o,a);return a.delete(e),f;case"[object Symbol]":if(Zn)return Zn.call(e)==Zn.call(t)}return!1};var Jn=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Xn=Jn,er=A;var tr=function(e,t,n){var r=t(e);return er(e)?r:Xn(r,n(e))};var nr=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o};var rr=function(){return[]},ir=nr,or=rr,ar=Object.prototype.propertyIsEnumerable,ur=Object.getOwnPropertySymbols,lr=ur?function(e){return null==e?[]:(e=Object(e),ir(ur(e),(function(t){return ar.call(e,t)})))}:or,sr=tr,fr=lr,cr=Ee;var pr=function(e){return sr(e,cr,fr)},hr=pr,dr=Object.prototype.hasOwnProperty;var vr=function(e,t,n,r,i,o){var a=1&n,u=hr(e),l=u.length;if(l!=hr(t).length&&!a)return!1;for(var s=l;s--;){var f=u[s];if(!(a?f in t:dr.call(t,f)))return!1}var c=o.get(e),p=o.get(t);if(c&&p)return c==t&&p==e;var h=!0;o.set(e,t),o.set(t,e);for(var d=a;++s<l;){var v=e[f=u[s]],g=t[f];if(r)var m=a?r(g,v,f,t,e,o):r(v,g,f,e,t,o);if(!(void 0===m?v===g||i(v,g,n,r,o):m)){h=!1;break}d||(d="constructor"==f)}if(h&&!d){var b=e.constructor,y=t.constructor;b==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof y&&y instanceof y||(h=!1)}return o.delete(e),o.delete(t),h},gr=Tt(v,"DataView"),mr=Tt(v,"Promise"),br=Tt(v,"Set"),yr=gr,wr=Ot,xr=mr,$r=br,Mr=Tt(v,"WeakMap"),Sr=E,Rr=bt,kr="[object Map]",Er="[object Promise]",Lr="[object Set]",Dr="[object WeakMap]",Pr="[object DataView]",Cr=Rr(yr),Tr=Rr(wr),Or=Rr(xr),Fr=Rr($r),jr=Rr(Mr),qr=Sr;(yr&&qr(new yr(new ArrayBuffer(1)))!=Pr||wr&&qr(new wr)!=kr||xr&&qr(xr.resolve())!=Er||$r&&qr(new $r)!=Lr||Mr&&qr(new Mr)!=Dr)&&(qr=function(e){var t=Sr(e),n="[object Object]"==t?e.constructor:void 0,r=n?Rr(n):"";if(r)switch(r){case Cr:return Pr;case Tr:return kr;case Or:return Er;case Fr:return Lr;case jr:return Dr}return t});var _r=qr,Ar=Pn,Nr=zn,zr=Kn,Ir=vr,Ur=_r,Gr=A,Br=N,Qr=ee,Hr="[object Arguments]",Wr="[object Array]",Vr="[object Object]",Yr=Object.prototype.hasOwnProperty;var Zr=function(e,t,n,r,i,o){var a=Gr(e),u=Gr(t),l=a?Wr:Ur(e),s=u?Wr:Ur(t),f=(l=l==Hr?Vr:l)==Vr,c=(s=s==Hr?Vr:s)==Vr,p=l==s;if(p&&Br(e)){if(!Br(t))return!1;a=!0,f=!1}if(p&&!f)return o||(o=new Ar),a||Qr(e)?Nr(e,t,n,r,i,o):zr(e,t,l,n,r,i,o);if(!(1&n)){var h=f&&Yr.call(e,"__wrapped__"),d=c&&Yr.call(t,"__wrapped__");if(h||d){var v=h?e.value():e,g=d?t.value():t;return o||(o=new Ar),i(v,g,n,r,o)}}return!!p&&(o||(o=new Ar),Ir(e,t,n,r,i,o))},Kr=L;var Jr=function e(t,n,r,i,o){return t===n||(null==t||null==n||!Kr(t)&&!Kr(n)?t!=t&&n!=n:Zr(t,n,r,i,e,o))},Xr=Pn,ei=Jr;var ti=function(e,t,n,r){var i=n.length,o=i,a=!r;if(null==e)return!o;for(e=Object(e);i--;){var u=n[i];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<o;){var l=(u=n[i])[0],s=e[l],f=u[1];if(a&&u[2]){if(void 0===s&&!(l in e))return!1}else{var c=new Xr;if(r)var p=r(s,f,l,e,t,c);if(!(void 0===p?ei(f,s,3,r,c):p))return!1}}return!0},ni=me;var ri=function(e){return e==e&&!ni(e)},ii=ri,oi=Ee;var ai=function(e){for(var t=oi(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,ii(i)]}return t};var ui=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}},li=ti,si=ai,fi=ui;var ci=function(e){var t=si(e);return 1==t.length&&t[0][2]?fi(t[0][0],t[0][1]):function(n){return n===e||li(n,e,t)}},pi=E,hi=L;var di=function(e){return"symbol"==typeof e||hi(e)&&"[object Symbol]"==pi(e)},vi=A,gi=di,mi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bi=/^\w*$/;var yi=function(e,t){if(vi(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!gi(e))||(bi.test(e)||!mi.test(e)||null!=t&&e in Object(t))},wi=bn;function xi(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(xi.Cache||wi),n}xi.Cache=wi;var $i=xi;var Mi=function(e){var t=$i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t},Si=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ri=/\\(\\)?/g,ki=Mi((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Si,(function(e,n,r,i){t.push(r?i.replace(Ri,"$1"):n||e)})),t})),Ei=Ie,Li=A,Di=di,Pi=g?g.prototype:void 0,Ci=Pi?Pi.toString:void 0;var Ti=function e(t){if("string"==typeof t)return t;if(Li(t))return Ei(t,e)+"";if(Di(t))return Ci?Ci.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n},Oi=Ti;var Fi=function(e){return null==e?"":Oi(e)},ji=A,qi=yi,_i=ki,Ai=Fi;var Ni=function(e,t){return ji(e)?e:qi(e,t)?[e]:_i(Ai(e))},zi=di;var Ii=function(e){if("string"==typeof e||zi(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},Ui=Ni,Gi=Ii;var Bi=function(e,t){for(var n=0,r=(t=Ui(t,e)).length;null!=e&&n<r;)e=e[Gi(t[n++])];return n&&n==r?e:void 0},Qi=Bi;var Hi=function(e,t,n){var r=null==e?void 0:Qi(e,t);return void 0===r?n:r};var Wi=function(e,t){return null!=e&&t in Object(e)},Vi=Ni,Yi=_,Zi=A,Ki=U,Ji=G,Xi=Ii;var eo=function(e,t,n){for(var r=-1,i=(t=Vi(t,e)).length,o=!1;++r<i;){var a=Xi(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Ji(i)&&Ki(a,i)&&(Zi(e)||Yi(e))},to=Wi,no=eo;var ro=Jr,io=Hi,oo=function(e,t){return null!=e&&no(e,t,to)},ao=yi,uo=ri,lo=ui,so=Ii;var fo=function(e){return function(t){return null==t?void 0:t[e]}},co=Bi;var po=fo,ho=function(e){return function(t){return co(t,e)}},vo=yi,go=Ii;var mo=ci,bo=function(e,t){return ao(e)&&uo(t)?lo(so(e),t):function(n){var r=io(n,e);return void 0===r&&r===t?oo(n,e):ro(t,r,3)}},yo=Te,wo=A,xo=function(e){return vo(e)?po(go(e)):ho(e)};var $o=function(e){return"function"==typeof e?e:null==e?yo:"object"==typeof e?wo(e)?bo(e[0],e[1]):mo(e):xo(e)},Mo=Ce,So=Me;var Ro=function(e,t){var n=-1,r=So(e)?Array(e.length):[];return Mo(e,(function(e,i,o){r[++n]=t(e,i,o)})),r},ko=Ie,Eo=$o,Lo=Ro,Do=A;var Po=function(e,t){return(Do(e)?ko:Lo)(e,Eo(t))},Co=Tt,To=function(){try{var e=Co(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Oo=To;var Fo=function(e,t,n){"__proto__"==t&&Oo?Oo(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},jo=Fo,qo=Ge,_o=Object.prototype.hasOwnProperty;var Ao=function(e,t,n){var r=e[t];_o.call(e,t)&&qo(r,n)&&(void 0!==n||t in e)||jo(e,t,n)},No=Ao,zo=Fo;var Io=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,a=t.length;++o<a;){var u=t[o],l=r?r(n[u],e[u],u,n,e):void 0;void 0===l&&(l=e[u]),i?zo(n,u,l):No(n,u,l)}return n},Uo=Io,Go=Ee;var Bo=function(e,t){return e&&Uo(t,Go(t),e)};var Qo=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},Ho=me,Wo=fe,Vo=Qo,Yo=Object.prototype.hasOwnProperty;var Zo=function(e){if(!Ho(e))return Vo(e);var t=Wo(e),n=[];for(var r in e)("constructor"!=r||!t&&Yo.call(e,r))&&n.push(r);return n},Ko=le,Jo=Zo,Xo=Me;var ea=function(e){return Xo(e)?Ko(e,!0):Jo(e)},ta=Io,na=ea;var ra=function(e,t){return e&&ta(t,na(t),e)},ia={};!function(e,t){var n=v,r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,o=i&&i.exports===r?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}}({get exports(){return ia},set exports(e){ia=e}},ia);var oa=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},aa=Io,ua=lr;var la=function(e,t){return aa(e,ua(e),t)},sa=ce(Object.getPrototypeOf,Object),fa=Jn,ca=sa,pa=lr,ha=rr,da=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)fa(t,pa(e)),e=ca(e);return t}:ha,va=Io,ga=da;var ma=function(e,t){return va(e,ga(e),t)},ba=tr,ya=da,wa=ea;var xa=function(e){return ba(e,wa,ya)},$a=Object.prototype.hasOwnProperty;var Ma=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&$a.call(e,"index")&&(n.index=e.index,n.input=e.input),n},Sa=In;var Ra=function(e){var t=new e.constructor(e.byteLength);return new Sa(t).set(new Sa(e)),t},ka=Ra;var Ea=function(e,t){var n=t?ka(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},La=/\w*$/;var Da=function(e){var t=new e.constructor(e.source,La.exec(e));return t.lastIndex=e.lastIndex,t},Pa=g?g.prototype:void 0,Ca=Pa?Pa.valueOf:void 0;var Ta=Ra;var Oa=Ra,Fa=Ea,ja=Da,qa=function(e){return Ca?Object(Ca.call(e)):{}},_a=function(e,t){var n=t?Ta(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var Aa=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Oa(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Fa(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return _a(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return ja(e);case"[object Symbol]":return qa(e)}},Na=me,za=Object.create,Ia=function(){function e(){}return function(t){if(!Na(t))return{};if(za)return za(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Ua=sa,Ga=fe;var Ba=function(e){return"function"!=typeof e.constructor||Ga(e)?{}:Ia(Ua(e))},Qa=_r,Ha=L;var Wa=function(e){return Ha(e)&&"[object Map]"==Qa(e)},Va=Y,Ya=Z&&Z.isMap,Za=Ya?Va(Ya):Wa,Ka=_r,Ja=L;var Xa=function(e){return Ja(e)&&"[object Set]"==Ka(e)},eu=Y,tu=Z&&Z.isSet,nu=tu?eu(tu):Xa,ru=Pn,iu=l,ou=Ao,au=Bo,uu=ra,lu=ia,su=oa,fu=la,cu=ma,pu=pr,hu=xa,du=_r,vu=Ma,gu=Aa,mu=Ba,bu=A,yu=N,wu=Za,xu=me,$u=nu,Mu=Ee,Su=ea,Ru="[object Arguments]",ku="[object Function]",Eu="[object Object]",Lu={};Lu[Ru]=Lu["[object Array]"]=Lu["[object ArrayBuffer]"]=Lu["[object DataView]"]=Lu["[object Boolean]"]=Lu["[object Date]"]=Lu["[object Float32Array]"]=Lu["[object Float64Array]"]=Lu["[object Int8Array]"]=Lu["[object Int16Array]"]=Lu["[object Int32Array]"]=Lu["[object Map]"]=Lu["[object Number]"]=Lu[Eu]=Lu["[object RegExp]"]=Lu["[object Set]"]=Lu["[object String]"]=Lu["[object Symbol]"]=Lu["[object Uint8Array]"]=Lu["[object Uint8ClampedArray]"]=Lu["[object Uint16Array]"]=Lu["[object Uint32Array]"]=!0,Lu["[object Error]"]=Lu[ku]=Lu["[object WeakMap]"]=!1;var Du=function e(t,n,r,i,o,a){var u,l=1&n,s=2&n,f=4&n;if(r&&(u=o?r(t,i,o,a):r(t)),void 0!==u)return u;if(!xu(t))return t;var c=bu(t);if(c){if(u=vu(t),!l)return su(t,u)}else{var p=du(t),h=p==ku||"[object GeneratorFunction]"==p;if(yu(t))return lu(t,l);if(p==Eu||p==Ru||h&&!o){if(u=s||h?{}:mu(t),!l)return s?cu(t,uu(u,t)):fu(t,au(u,t))}else{if(!Lu[p])return o?t:{};u=gu(t,p,l)}}a||(a=new ru);var d=a.get(t);if(d)return d;a.set(t,u),$u(t)?t.forEach((function(i){u.add(e(i,n,r,i,t,a))})):wu(t)&&t.forEach((function(i,o){u.set(o,e(i,n,r,o,t,a))}));var v=c?void 0:(f?s?hu:pu:s?Su:Mu)(t);return iu(v||t,(function(i,o){v&&(i=t[o=i]),ou(u,o,e(i,n,r,o,t,a))})),u},Pu=Du;var Cu=function(e){return Pu(e,5)},Tu=E,Ou=L;var Fu=function(e){return"number"==typeof e||Ou(e)&&"[object Number]"==Tu(e)},ju=/\s/;var qu=function(e){for(var t=e.length;t--&&ju.test(e.charAt(t)););return t},_u=/^\s+/;var Au=function(e){return e?e.slice(0,qu(e)+1).replace(_u,""):e};var Nu=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o},zu=Nu;var Iu=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:zu(e,t,n)};var Uu=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1};var Gu=Uu,Bu=function(e){return e!=e},Qu=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var Hu=function(e,t,n){return t==t?Qu(e,t,n):Gu(e,Bu,n)},Wu=Hu;var Vu=function(e,t){for(var n=e.length;n--&&Wu(t,e[n],0)>-1;);return n},Yu=Hu;var Zu=function(e,t){for(var n=-1,r=e.length;++n<r&&Yu(t,e[n],0)>-1;);return n};var Ku=function(e){return e.split("")},Ju=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Xu=function(e){return Ju.test(e)},el="\\ud800-\\udfff",tl="["+el+"]",nl="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",rl="\\ud83c[\\udffb-\\udfff]",il="[^"+el+"]",ol="(?:\\ud83c[\\udde6-\\uddff]){2}",al="[\\ud800-\\udbff][\\udc00-\\udfff]",ul="(?:"+nl+"|"+rl+")"+"?",ll="[\\ufe0e\\ufe0f]?",sl=ll+ul+("(?:\\u200d(?:"+[il,ol,al].join("|")+")"+ll+ul+")*"),fl="(?:"+[il+nl+"?",nl,ol,al,tl].join("|")+")",cl=RegExp(rl+"(?="+rl+")|"+fl+sl,"g");var pl=Ku,hl=Xu,dl=function(e){return e.match(cl)||[]};var vl=function(e){return hl(e)?dl(e):pl(e)},gl=Ti,ml=Au,bl=Iu,yl=Vu,wl=Zu,xl=vl,$l=Fi;var Ml=function(e,t,n){if((e=$l(e))&&(n||void 0===t))return ml(e);if(!e||!(t=gl(t)))return e;var r=xl(e),i=xl(t),o=wl(r,i),a=yl(r,i)+1;return bl(r,o,a).join("")};function Sl(e){return"[object String]"===Object.prototype.toString.call(e)}function Rl(e){let t=Object.prototype.toString.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t}function kl(e){return"[object Object]"===Object.prototype.toString.call(e)}function El(e){if(kl(e)){for(let t in e)return!0;return!1}return!1}var Ll=E,Dl=L;var Pl=function(e){return!0===e||!1===e||Dl(e)&&"[object Boolean]"==Ll(e)};function Cl(e){return Pl(e)}function Tl(e){return!(!Sl(e)||""===e)}function Ol(e){let t=!1;return Tl(e)?t=!isNaN(Number(e)):function(e){return"[object Number]"===Object.prototype.toString.call(e)}(e)&&(t=!0),t}var Fl=Au,jl=me,ql=di,_l=/^[-+]0x[0-9a-f]+$/i,Al=/^0b[01]+$/i,Nl=/^0o[0-7]+$/i,zl=parseInt;var Il=function(e){if("number"==typeof e)return e;if(ql(e))return NaN;if(jl(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=jl(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Fl(e);var n=Al.test(e);return n||Nl.test(e)?zl(e.slice(2),n?2:8):_l.test(e)?NaN:+e},Ul=Il,Gl=1/0;var Bl=function(e){return e?(e=Ul(e))===Gl||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0};function Ql(e){if(!Ol(e))return 0;return Bl(e)}var Hl=_,Wl=A,Vl=g?g.isConcatSpreadable:void 0;var Yl=Jn,Zl=function(e){return Wl(e)||Hl(e)||!!(Vl&&e&&e[Vl])};var Kl=function e(t,n,r,i,o){var a=-1,u=t.length;for(r||(r=Zl),o||(o=[]);++a<u;){var l=t[a];n>0&&r(l)?n>1?e(l,n-1,r,i,o):Yl(o,l):i||(o[o.length]=l)}return o};var Jl=di;var Xl=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Jl(e),a=void 0!==t,u=null===t,l=t==t,s=Jl(t);if(!u&&!s&&!o&&e>t||o&&a&&l&&!u&&!s||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!s&&e<t||s&&n&&i&&!r&&!o||u&&n&&i||!a&&i||!l)return-1}return 0},es=Xl;var ts=Ie,ns=Bi,rs=$o,is=Ro,os=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e},as=Y,us=function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,u=n.length;++r<a;){var l=es(i[r],o[r]);if(l)return r>=u?l:l*("desc"==n[r]?-1:1)}return e.index-t.index},ls=Te,ss=A;var fs=function(e,t,n){t=t.length?ts(t,(function(e){return ss(e)?function(t){return ns(t,1===e.length?e[0]:e)}:e})):[ls];var r=-1;t=ts(t,as(rs));var i=is(e,(function(e,n,i){return{criteria:ts(t,(function(t){return t(e)})),index:++r,value:e}}));return os(i,(function(e,t){return us(e,t,n)}))};var cs=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},ps=Math.max;var hs=function(e,t,n){return t=ps(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=ps(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=r[i];return u[t]=n(a),cs(e,this,u)}};var ds=function(e){return function(){return e}},vs=To,gs=vs?function(e,t){return vs(e,"toString",{configurable:!0,enumerable:!1,value:ds(t),writable:!0})}:Te,ms=Date.now;var bs=function(e){var t=0,n=0;return function(){var r=ms(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},ys=bs(gs),ws=Te,xs=hs,$s=ys;var Ms=Ge,Ss=Me,Rs=U,ks=me;var Es=function(e,t,n){if(!ks(n))return!1;var r=typeof t;return!!("number"==r?Ss(n)&&Rs(t,n.length):"string"==r&&t in n)&&Ms(n[t],e)},Ls=Kl,Ds=fs,Ps=Es,Cs=function(e,t){return $s(xs(e,t,ws),e+"")}((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Ps(e,t[0],t[1])?t=[]:n>2&&Ps(t[0],t[1],t[2])&&(t=[t[0]]),Ds(e,Ls(t,1),[])})),Ts=E,Os=A,Fs=L;var js=function(e){return"string"==typeof e||!Os(e)&&Fs(e)&&"[object String]"==Ts(e)},qs=fo("length"),_s="\\ud800-\\udfff",As="["+_s+"]",Ns="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",zs="\\ud83c[\\udffb-\\udfff]",Is="[^"+_s+"]",Us="(?:\\ud83c[\\udde6-\\uddff]){2}",Gs="[\\ud800-\\udbff][\\udc00-\\udfff]",Bs="(?:"+Ns+"|"+zs+")"+"?",Qs="[\\ufe0e\\ufe0f]?",Hs=Qs+Bs+("(?:\\u200d(?:"+[Is,Us,Gs].join("|")+")"+Qs+Bs+")*"),Ws="(?:"+[Is+Ns+"?",Ns,Us,Gs,As].join("|")+")",Vs=RegExp(zs+"(?="+zs+")|"+Ws+Hs,"g");var Ys=qs,Zs=Xu,Ks=function(e){for(var t=Vs.lastIndex=0;Vs.test(e);)++t;return t};var Js=ge,Xs=_r,ef=Me,tf=js,nf=function(e){return Zs(e)?Ks(e):Ys(e)};var rf=function(e){if(null==e)return 0;if(ef(e))return tf(e)?nf(e):e.length;var t=Xs(e);return"[object Map]"==t||"[object Set]"==t?e.size:Js(e).length};function of(e,t){let n=null;if(Tl(t)){let r=Hi(e,t);Ol(r)&&(n=Ql(r))}else Rl(t)&&(n=t(e));return n}function af(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[];ze(e,(function(e){let i=of(e,"depth"),o=of(e,t);return null===i||(!n&&null===o||void r.push([i,o]))}));let i=0;return ze(r,(e=>{Fu(e[1])||(i+=1)})),i===rf(r)&&(r=[]),r}var uf={pickData:of,extractLtdtDepthAndData:af,extractLtdtDataXY:function(e,t,n){let r=[];return ze(e,(function(e){let i=of(e,t),o=of(e,n);if(null===i||null===o)return!0;r.push([i,o])})),r=Cs(r,0),r}};let lf={eps:1e-6,g:9.81,rw:9.81,Pa:.10139616,assesment_rd:18.03986577,assesment_rsat:21.26597315};function sf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kPa";if("kPa"!==t&&"MPa"!==t)throw new Error(`unit[${t}] need kPa or MPa`);if(!Ol(e))return null;let n=(e=Ql(e))*lf.rw;return"MPa"===t&&(n/=1e3),n}function ff(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kPa";if("kPa"!==t&&"MPa"!==t)throw new Error(`unit[${t}] need kPa or MPa`);if(!Ol(e))return null;let n=(e=Ql(e))*lf.assesment_rsat,r=sf(e,"kPa"),i=n-r;i=Math.max(i,0);let o=e*lf.assesment_rd;return"MPa"===t&&(n/=1e3,r/=1e3,o/=1e3),{sv:n,svp:i,svdry:o}}var cf={intrpDefPp:sf,intrpDefSvSvp:ff},pf=Math.ceil,hf=Math.max;var df=function(e,t,n,r){for(var i=-1,o=hf(pf((t-e)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=e,e+=n;return a},vf=Es,gf=Bl;var mf=function(e){return function(t,n,r){return r&&"number"!=typeof r&&vf(t,n,r)&&(n=r=void 0),t=gf(t),void 0===n?(n=t,t=0):n=gf(n),r=void 0===r?t<n?1:-1:gf(r),df(t,n,r,e)}}(),bf=Hi;var yf=function(e,t){for(var n=-1,r=t.length,i=Array(r),o=null==e;++n<r;)i[n]=o?void 0:bf(e,t[n]);return i},wf=Kl;var xf=function(e){return(null==e?0:e.length)?wf(e,1):[]},$f=hs,Mf=ys;var Sf=function(e){return Mf($f(e,void 0,xf),e+"")},Rf=Sf(yf);function kf(e){return"[object Array]"===Object.prototype.toString.call(e)}function Ef(e){return!!function(e){return"[object Undefined]"===Object.prototype.toString.call(e)}(e)||(!!function(e){return"[object Null]"===Object.prototype.toString.call(e)}(e)||(!!function(e){if(kl(e)){for(let t in e)return!1;return!0}return!1}(e)||(!!function(e){return!(!Sl(e)||""!==e)}(e)||!!function(e){return!!kf(e)&&0===e.length}(e))))}function Lf(e){return!!kf(e)&&(0!==e.length&&(1!==e.length||!Ef(e[0])))}var Df=Bl;var Pf=function(e){var t=Df(e),n=t%1;return t==t?n?t-n:t:0},Cf=Pf;var Tf=function(e){return"number"==typeof e&&e==Cf(e)};function Of(e){return!!Ol(e)&&(e=Ql(e),Tf(e))}var Ff=Pf,jf=Il,qf=Fi,_f=v.isFinite,Af=Math.min;var Nf=function(e){var t=Math[e];return function(e,n){if(e=jf(e),(n=null==n?0:Af(Ff(n),292))&&_f(e)){var r=(qf(e)+"e").split("e"),i=t(r[0]+"e"+(+r[1]+n));return+((r=(qf(i)+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}("round");function zf(e){if(!Ol(e))return 0;e=Ql(e);let t=Nf(e);return"0"===String(t)?0:t}function If(e){if(!Of(e))return!1;return zf(e)>=0}var Uf=function(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n};var Gf=function(e,t){var n=null==e?0:e.length;return n?Uf(e,t)/n:NaN},Bf=Te;var Qf=function(e){return Gf(e,Bf)},Hf=Ce;var Wf=nr,Vf=function(e,t){var n=[];return Hf(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n},Yf=$o,Zf=A;var Kf=function(e,t){return(Zf(e)?Wf:Vf)(e,Yf(t))};function Jf(e){if(!kf(e))return null;if(0===rf(e))return null;let t=function(e){return Lf(e)?(e=Cu(e),e=Kf(e,Ol),e=Po(e,Ql)):[]}(e);return 0===rf(t)?null:Qf(t)}var Xf={};!function(e,t){e.exports=function(){var e=function(e,t){var n=Array.prototype.concat,r=Array.prototype.slice,i=Object.prototype.toString;function o(t,n){var r=t>n?t:n;return e.pow(10,17-~~(e.log(r>0?r:-r)*e.LOG10E))}var a=Array.isArray||function(e){return"[object Array]"===i.call(e)};function u(e){return"[object Function]"===i.call(e)}function l(e){return"number"==typeof e&&e-e==0}function s(e){return n.apply([],e)}function f(){return new f._init(arguments)}function c(){return 0}function p(){return 1}function h(e,t){return e===t?1:0}f.fn=f.prototype,f._init=function(e){if(a(e[0]))if(a(e[0][0])){u(e[1])&&(e[0]=f.map(e[0],e[1]));for(var t=0;t<e[0].length;t++)this[t]=e[0][t];this.length=e[0].length}else this[0]=u(e[1])?f.map(e[0],e[1]):e[0],this.length=1;else if(l(e[0]))this[0]=f.seq.apply(null,e),this.length=1;else{if(e[0]instanceof f)return f(e[0].toArray());this[0]=[],this.length=1}return this},f._init.prototype=f.prototype,f._init.constructor=f,f.utils={calcRdx:o,isArray:a,isFunction:u,isNumber:l,toVector:s},f._random_fn=e.random,f.setRandom=function(e){if("function"!=typeof e)throw new TypeError("fn is not a function");f._random_fn=e},f.extend=function(e){var t,n;if(1===arguments.length){for(n in e)f[n]=e[n];return this}for(t=1;t<arguments.length;t++)for(n in arguments[t])e[n]=arguments[t][n];return e},f.rows=function(e){return e.length||1},f.cols=function(e){return e[0].length||1},f.dimensions=function(e){return{rows:f.rows(e),cols:f.cols(e)}},f.row=function(e,t){return a(t)?t.map((function(t){return f.row(e,t)})):e[t]},f.rowa=function(e,t){return f.row(e,t)},f.col=function(e,t){if(a(t)){var n=f.arange(e.length).map((function(){return new Array(t.length)}));return t.forEach((function(t,r){f.arange(e.length).forEach((function(i){n[i][r]=e[i][t]}))})),n}for(var r=new Array(e.length),i=0;i<e.length;i++)r[i]=[e[i][t]];return r},f.cola=function(e,t){return f.col(e,t).map((function(e){return e[0]}))},f.diag=function(e){for(var t=f.rows(e),n=new Array(t),r=0;r<t;r++)n[r]=[e[r][r]];return n},f.antidiag=function(e){for(var t=f.rows(e)-1,n=new Array(t),r=0;t>=0;t--,r++)n[r]=[e[r][t]];return n},f.transpose=function(e){var t,n,r,i,o,u=[];for(a(e[0])||(e=[e]),n=e.length,r=e[0].length,o=0;o<r;o++){for(t=new Array(n),i=0;i<n;i++)t[i]=e[i][o];u.push(t)}return 1===u.length?u[0]:u},f.map=function(e,t,n){var r,i,o,u,l;for(a(e[0])||(e=[e]),i=e.length,o=e[0].length,u=n?e:new Array(i),r=0;r<i;r++)for(u[r]||(u[r]=new Array(o)),l=0;l<o;l++)u[r][l]=t(e[r][l],r,l);return 1===u.length?u[0]:u},f.cumreduce=function(e,t,n){var r,i,o,u,l;for(a(e[0])||(e=[e]),i=e.length,o=e[0].length,u=n?e:new Array(i),r=0;r<i;r++)for(u[r]||(u[r]=new Array(o)),o>0&&(u[r][0]=e[r][0]),l=1;l<o;l++)u[r][l]=t(u[r][l-1],e[r][l]);return 1===u.length?u[0]:u},f.alter=function(e,t){return f.map(e,t,!0)},f.create=function(e,t,n){var r,i,o=new Array(e);for(u(t)&&(n=t,t=e),r=0;r<e;r++)for(o[r]=new Array(t),i=0;i<t;i++)o[r][i]=n(r,i);return o},f.zeros=function(e,t){return l(t)||(t=e),f.create(e,t,c)},f.ones=function(e,t){return l(t)||(t=e),f.create(e,t,p)},f.rand=function(e,t){return l(t)||(t=e),f.create(e,t,f._random_fn)},f.identity=function(e,t){return l(t)||(t=e),f.create(e,t,h)},f.symmetric=function(e){var t,n,r=e.length;if(e.length!==e[0].length)return!1;for(t=0;t<r;t++)for(n=0;n<r;n++)if(e[n][t]!==e[t][n])return!1;return!0},f.clear=function(e){return f.alter(e,c)},f.seq=function(e,t,n,r){u(r)||(r=!1);var i,a=[],l=o(e,t),s=(t*l-e*l)/((n-1)*l),f=e;for(i=0;f<=t&&i<n;f=(e*l+s*l*++i)/l)a.push(r?r(f,i):f);return a},f.arange=function(e,n,r){var i,o=[];if(r=r||1,n===t&&(n=e,e=0),e===n||0===r)return[];if(e<n&&r<0)return[];if(e>n&&r>0)return[];if(r>0)for(i=e;i<n;i+=r)o.push(i);else for(i=e;i>n;i+=r)o.push(i);return o},f.slice=function(){function e(e,n,r,i){var o,a=[],u=e.length;if(n===t&&r===t&&i===t)return f.copy(e);if(i=i||1,(n=(n=n||0)>=0?n:u+n)===(r=(r=r||e.length)>=0?r:u+r)||0===i)return[];if(n<r&&i<0)return[];if(n>r&&i>0)return[];if(i>0)for(o=n;o<r;o+=i)a.push(e[o]);else for(o=n;o>r;o+=i)a.push(e[o]);return a}function n(t,n){var r,i;return l((n=n||{}).row)?l(n.col)?t[n.row][n.col]:e(f.rowa(t,n.row),(r=n.col||{}).start,r.end,r.step):l(n.col)?e(f.cola(t,n.col),(i=n.row||{}).start,i.end,i.step):(i=n.row||{},r=n.col||{},e(t,i.start,i.end,i.step).map((function(t){return e(t,r.start,r.end,r.step)})))}return n}(),f.sliceAssign=function(n,r,i){var o,a;if(l(r.row)){if(l(r.col))return n[r.row][r.col]=i;r.col=r.col||{},r.col.start=r.col.start||0,r.col.end=r.col.end||n[0].length,r.col.step=r.col.step||1,o=f.arange(r.col.start,e.min(n.length,r.col.end),r.col.step);var u=r.row;return o.forEach((function(e,t){n[u][e]=i[t]})),n}if(l(r.col)){r.row=r.row||{},r.row.start=r.row.start||0,r.row.end=r.row.end||n.length,r.row.step=r.row.step||1,a=f.arange(r.row.start,e.min(n[0].length,r.row.end),r.row.step);var s=r.col;return a.forEach((function(e,t){n[e][s]=i[t]})),n}return i[0].length===t&&(i=[i]),r.row.start=r.row.start||0,r.row.end=r.row.end||n.length,r.row.step=r.row.step||1,r.col.start=r.col.start||0,r.col.end=r.col.end||n[0].length,r.col.step=r.col.step||1,a=f.arange(r.row.start,e.min(n.length,r.row.end),r.row.step),o=f.arange(r.col.start,e.min(n[0].length,r.col.end),r.col.step),a.forEach((function(e,t){o.forEach((function(r,o){n[e][r]=i[t][o]}))})),n},f.diagonal=function(e){var t=f.zeros(e.length,e.length);return e.forEach((function(e,n){t[n][n]=e})),t},f.copy=function(e){return e.map((function(e){return l(e)?e:e.map((function(e){return e}))}))};var d=f.prototype;return d.length=0,d.push=Array.prototype.push,d.sort=Array.prototype.sort,d.splice=Array.prototype.splice,d.slice=Array.prototype.slice,d.toArray=function(){return this.length>1?r.call(this):r.call(this)[0]},d.map=function(e,t){return f(f.map(this,e,t))},d.cumreduce=function(e,t){return f(f.cumreduce(this,e,t))},d.alter=function(e){return f.alter(this,e),this},function(e){for(var t=0;t<e.length;t++)!function(e){d[e]=function(t){var n,r=this;return t?(setTimeout((function(){t.call(r,d[e].call(r))})),this):(n=f[e](this),a(n)?f(n):n)}}(e[t])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(e){for(var t=0;t<e.length;t++)!function(e){d[e]=function(t,n){var r=this;return n?(setTimeout((function(){n.call(r,d[e].call(r,t))})),this):f(f[e](this,t))}}(e[t])}("row col".split(" ")),function(e){for(var t=0;t<e.length;t++)!function(e){d[e]=function(){return f(f[e].apply(null,arguments))}}(e[t])}("create zeros ones rand identity".split(" ")),f}(Math);return function(e,t){var n=e.utils.isFunction;function r(e,t){return e-t}function i(e,n,r){return t.max(n,t.min(e,r))}e.sum=function(e){for(var t=0,n=e.length;--n>=0;)t+=e[n];return t},e.sumsqrd=function(e){for(var t=0,n=e.length;--n>=0;)t+=e[n]*e[n];return t},e.sumsqerr=function(t){for(var n,r=e.mean(t),i=0,o=t.length;--o>=0;)i+=(n=t[o]-r)*n;return i},e.sumrow=function(e){for(var t=0,n=e.length;--n>=0;)t+=e[n];return t},e.product=function(e){for(var t=1,n=e.length;--n>=0;)t*=e[n];return t},e.min=function(e){for(var t=e[0],n=0;++n<e.length;)e[n]<t&&(t=e[n]);return t},e.max=function(e){for(var t=e[0],n=0;++n<e.length;)e[n]>t&&(t=e[n]);return t},e.unique=function(e){for(var t={},n=[],r=0;r<e.length;r++)t[e[r]]||(t[e[r]]=!0,n.push(e[r]));return n},e.mean=function(t){return e.sum(t)/t.length},e.meansqerr=function(t){return e.sumsqerr(t)/t.length},e.geomean=function(n){var r=n.map(t.log),i=e.mean(r);return t.exp(i)},e.median=function(e){var t=e.length,n=e.slice().sort(r);return 1&t?n[t/2|0]:(n[t/2-1]+n[t/2])/2},e.cumsum=function(t){return e.cumreduce(t,(function(e,t){return e+t}))},e.cumprod=function(t){return e.cumreduce(t,(function(e,t){return e*t}))},e.diff=function(e){var t,n=[],r=e.length;for(t=1;t<r;t++)n.push(e[t]-e[t-1]);return n},e.rank=function(e){var t,n=[],i={};for(t=0;t<e.length;t++)i[l=e[t]]?i[l]++:(i[l]=1,n.push(l));var o=n.sort(r),a={},u=1;for(t=0;t<o.length;t++){var l,s=i[l=o[t]],f=(u+(u+s-1))/2;a[l]=f,u+=s}return e.map((function(e){return a[e]}))},e.mode=function(e){var t,n=e.length,i=e.slice().sort(r),o=1,a=0,u=0,l=[];for(t=0;t<n;t++)i[t]===i[t+1]?o++:(o>a?(l=[i[t]],a=o,u=0):o===a&&(l.push(i[t]),u++),o=1);return 0===u?l[0]:l},e.range=function(t){return e.max(t)-e.min(t)},e.variance=function(t,n){return e.sumsqerr(t)/(t.length-(n?1:0))},e.pooledvariance=function(t){return t.reduce((function(t,n){return t+e.sumsqerr(n)}),0)/(t.reduce((function(e,t){return e+t.length}),0)-t.length)},e.deviation=function(t){for(var n=e.mean(t),r=t.length,i=new Array(r),o=0;o<r;o++)i[o]=t[o]-n;return i},e.stdev=function(n,r){return t.sqrt(e.variance(n,r))},e.pooledstdev=function(n){return t.sqrt(e.pooledvariance(n))},e.meandev=function(n){for(var r=e.mean(n),i=[],o=n.length-1;o>=0;o--)i.push(t.abs(n[o]-r));return e.mean(i)},e.meddev=function(n){for(var r=e.median(n),i=[],o=n.length-1;o>=0;o--)i.push(t.abs(n[o]-r));return e.median(i)},e.coeffvar=function(t){return e.stdev(t)/e.mean(t)},e.quartiles=function(e){var n=e.length,i=e.slice().sort(r);return[i[t.round(n/4)-1],i[t.round(n/2)-1],i[t.round(3*n/4)-1]]},e.quantiles=function(e,n,o,a){var u,l,s,f,c,p=e.slice().sort(r),h=[n.length],d=e.length;for(void 0===o&&(o=3/8),void 0===a&&(a=3/8),u=0;u<n.length;u++)s=d*(l=n[u])+(o+l*(1-o-a)),f=t.floor(i(s,1,d-1)),c=i(s-f,0,1),h[u]=(1-c)*p[f-1]+c*p[f];return h},e.percentile=function(e,t,n){var i=e.slice().sort(r),o=t*(i.length+(n?1:-1))+(n?0:1),a=parseInt(o),u=o-a;return a+1<i.length?i[a-1]+u*(i[a]-i[a-1]):i[a-1]},e.percentileOfScore=function(e,t,n){var r,i,o=0,a=e.length,u=!1;for("strict"===n&&(u=!0),i=0;i<a;i++)r=e[i],(u&&r<t||!u&&r<=t)&&o++;return o/a},e.histogram=function(n,r){r=r||4;var i,o=e.min(n),a=(e.max(n)-o)/r,u=n.length,l=[];for(i=0;i<r;i++)l[i]=0;for(i=0;i<u;i++)l[t.min(t.floor((n[i]-o)/a),r-1)]+=1;return l},e.covariance=function(t,n){var r,i=e.mean(t),o=e.mean(n),a=t.length,u=new Array(a);for(r=0;r<a;r++)u[r]=(t[r]-i)*(n[r]-o);return e.sum(u)/(a-1)},e.corrcoeff=function(t,n){return e.covariance(t,n)/e.stdev(t,1)/e.stdev(n,1)},e.spearmancoeff=function(t,n){return t=e.rank(t),n=e.rank(n),e.corrcoeff(t,n)},e.stanMoment=function(n,r){for(var i=e.mean(n),o=e.stdev(n),a=n.length,u=0,l=0;l<a;l++)u+=t.pow((n[l]-i)/o,r);return u/n.length},e.skewness=function(t){return e.stanMoment(t,3)},e.kurtosis=function(t){return e.stanMoment(t,4)-3};var o=e.prototype;!function(t){for(var r=0;r<t.length;r++)!function(t){o[t]=function(r,i){var a=[],u=0,l=this;if(n(r)&&(i=r,r=!1),i)return setTimeout((function(){i.call(l,o[t].call(l,r))})),this;if(this.length>1){for(l=!0===r?this:this.transpose();u<l.length;u++)a[u]=e[t](l[u]);return a}return e[t](this[0],r)}}(t[r])}("cumsum cumprod".split(" ")),function(t){for(var r=0;r<t.length;r++)!function(t){o[t]=function(r,i){var a=[],u=0,l=this;if(n(r)&&(i=r,r=!1),i)return setTimeout((function(){i.call(l,o[t].call(l,r))})),this;if(this.length>1){for("sumrow"!==t&&(l=!0===r?this:this.transpose());u<l.length;u++)a[u]=e[t](l[u]);return!0===r?e[t](e.utils.toVector(a)):a}return e[t](this[0],r)}}(t[r])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(t){for(var r=0;r<t.length;r++)!function(t){o[t]=function(){var r,i=[],a=0,u=this,l=Array.prototype.slice.call(arguments);if(n(l[l.length-1])){r=l[l.length-1];var s=l.slice(0,l.length-1);return setTimeout((function(){r.call(u,o[t].apply(u,s))})),this}r=void 0;var f=function(n){return e[t].apply(u,[n].concat(l))};if(this.length>1){for(u=u.transpose();a<u.length;a++)i[a]=f(u[a]);return i}return f(this[0])}}(t[r])}("quantiles percentileOfScore".split(" "))}(e,Math),function(e,t){e.gammaln=function(e){var n,r,i,o=0,a=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],u=1.000000000190015;for(i=(r=n=e)+5.5,i-=(n+.5)*t.log(i);o<6;o++)u+=a[o]/++r;return t.log(2.5066282746310007*u/n)-i},e.loggam=function(e){var n,r,i,o,a,u,l,s=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(n=e,l=0,1==e||2==e)return 0;for(e<=7&&(n=e+(l=t.floor(7-e))),r=1/(n*n),i=2*t.PI,a=s[9],u=8;u>=0;u--)a*=r,a+=s[u];if(o=a/n+.5*t.log(i)+(n-.5)*t.log(n)-n,e<=7)for(u=1;u<=l;u++)o-=t.log(n-1),n-=1;return o},e.gammafn=function(e){var n,r,i,o,a=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],u=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],l=!1,s=0,f=0,c=0,p=e;if(e>171.6243769536076)return 1/0;if(p<=0){if(!(o=p%1+36e-17))return 1/0;l=(1&p?-1:1)*t.PI/t.sin(t.PI*o),p=1-p}for(i=p,r=p<1?p++:(p-=s=(0|p)-1)-1,n=0;n<8;++n)c=(c+a[n])*r,f=f*r+u[n];if(o=c/f+1,i<p)o/=i;else if(i>p)for(n=0;n<s;++n)o*=p,p++;return l&&(o=l/o),o},e.gammap=function(t,n){return e.lowRegGamma(t,n)*e.gammafn(t)},e.lowRegGamma=function(n,r){var i,o=e.gammaln(n),a=n,u=1/n,l=u,s=r+1-n,f=1/1e-30,c=1/s,p=c,h=1,d=-~(8.5*t.log(n>=1?n:1/n)+.4*n+17);if(r<0||n<=0)return NaN;if(r<n+1){for(;h<=d;h++)u+=l*=r/++a;return u*t.exp(-r+n*t.log(r)-o)}for(;h<=d;h++)p*=(c=1/(c=(i=-h*(h-n))*c+(s+=2)))*(f=s+i/f);return 1-p*t.exp(-r+n*t.log(r)-o)},e.factorialln=function(t){return t<0?NaN:e.gammaln(t+1)},e.factorial=function(t){return t<0?NaN:e.gammafn(t+1)},e.combination=function(n,r){return n>170||r>170?t.exp(e.combinationln(n,r)):e.factorial(n)/e.factorial(r)/e.factorial(n-r)},e.combinationln=function(t,n){return e.factorialln(t)-e.factorialln(n)-e.factorialln(t-n)},e.permutation=function(t,n){return e.factorial(t)/e.factorial(t-n)},e.betafn=function(n,r){if(!(n<=0||r<=0))return n+r>170?t.exp(e.betaln(n,r)):e.gammafn(n)*e.gammafn(r)/e.gammafn(n+r)},e.betaln=function(t,n){return e.gammaln(t)+e.gammaln(n)-e.gammaln(t+n)},e.betacf=function(e,n,r){var i,o,a,u,l=1e-30,s=1,f=n+r,c=n+1,p=n-1,h=1,d=1-f*e/c;for(t.abs(d)<l&&(d=l),u=d=1/d;s<=100&&(d=1+(o=s*(r-s)*e/((p+(i=2*s))*(n+i)))*d,t.abs(d)<l&&(d=l),h=1+o/h,t.abs(h)<l&&(h=l),u*=(d=1/d)*h,d=1+(o=-(n+s)*(f+s)*e/((n+i)*(c+i)))*d,t.abs(d)<l&&(d=l),h=1+o/h,t.abs(h)<l&&(h=l),u*=a=(d=1/d)*h,!(t.abs(a-1)<3e-7));s++);return u},e.gammapinv=function(n,r){var i,o,a,u,l,s,f=0,c=r-1,p=1e-8,h=e.gammaln(r);if(n>=1)return t.max(100,r+100*t.sqrt(r));if(n<=0)return 0;for(r>1?(l=t.log(c),s=t.exp(c*(l-1)-h),u=n<.5?n:1-n,i=(2.30753+.27061*(o=t.sqrt(-2*t.log(u))))/(1+o*(.99229+.04481*o))-o,n<.5&&(i=-i),i=t.max(.001,r*t.pow(1-1/(9*r)-i/(3*t.sqrt(r)),3))):i=n<(o=1-r*(.253+.12*r))?t.pow(n/o,1/r):1-t.log(1-(n-o)/(1-o));f<12;f++){if(i<=0)return 0;if((i-=o=(a=(e.lowRegGamma(r,i)-n)/(o=r>1?s*t.exp(-(i-c)+c*(t.log(i)-l)):t.exp(-i+c*t.log(i)-h)))/(1-.5*t.min(1,a*((r-1)/i-1))))<=0&&(i=.5*(i+o)),t.abs(o)<p*i)break}return i},e.erf=function(e){var n,r,i,o,a=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],u=a.length-1,l=!1,s=0,f=0;for(e<0&&(e=-e,l=!0),r=4*(n=2/(2+e))-2;u>0;u--)i=s,s=r*s-f+a[u],f=i;return o=n*t.exp(-e*e+.5*(a[0]+r*s)-f),l?o-1:1-o},e.erfc=function(t){return 1-e.erf(t)},e.erfcinv=function(n){var r,i,o,a,u=0;if(n>=2)return-100;if(n<=0)return 100;for(a=n<1?n:2-n,r=-.70711*((2.30753+.27061*(o=t.sqrt(-2*t.log(a/2))))/(1+o*(.99229+.04481*o))-o);u<2;u++)r+=(i=e.erfc(r)-a)/(1.1283791670955126*t.exp(-r*r)-r*i);return n<1?r:-r},e.ibetainv=function(n,r,i){var o,a,u,l,s,f,c,p,h,d,v=1e-8,g=r-1,m=i-1,b=0;if(n<=0)return 0;if(n>=1)return 1;for(r>=1&&i>=1?(u=n<.5?n:1-n,f=(2.30753+.27061*(l=t.sqrt(-2*t.log(u))))/(1+l*(.99229+.04481*l))-l,n<.5&&(f=-f),c=(f*f-3)/6,p=2/(1/(2*r-1)+1/(2*i-1)),h=f*t.sqrt(c+p)/p-(1/(2*i-1)-1/(2*r-1))*(c+5/6-2/(3*p)),f=r/(r+i*t.exp(2*h))):(o=t.log(r/(r+i)),a=t.log(i/(r+i)),f=n<(l=t.exp(r*o)/r)/(h=l+(s=t.exp(i*a)/i))?t.pow(r*h*n,1/r):1-t.pow(i*h*(1-n),1/i)),d=-e.gammaln(r)-e.gammaln(i)+e.gammaln(r+i);b<10;b++){if(0===f||1===f)return f;if((f-=l=(s=(e.ibeta(f,r,i)-n)/(l=t.exp(g*t.log(f)+m*t.log(1-f)+d)))/(1-.5*t.min(1,s*(g/f-m/(1-f)))))<=0&&(f=.5*(f+l)),f>=1&&(f=.5*(f+l+1)),t.abs(l)<v*f&&b>0)break}return f},e.ibeta=function(n,r,i){var o=0===n||1===n?0:t.exp(e.gammaln(r+i)-e.gammaln(r)-e.gammaln(i)+r*t.log(n)+i*t.log(1-n));return!(n<0||n>1)&&(n<(r+1)/(r+i+2)?o*e.betacf(n,r,i)/r:1-o*e.betacf(1-n,i,r)/i)},e.randn=function(n,r){var i,o,a,u,l;if(r||(r=n),n)return e.create(n,r,(function(){return e.randn()}));do{i=e._random_fn(),o=1.7156*(e._random_fn()-.5),l=(a=i-.449871)*a+(u=t.abs(o)+.386595)*(.196*u-.25472*a)}while(l>.27597&&(l>.27846||o*o>-4*t.log(i)*i*i));return o/i},e.randg=function(n,r,i){var o,a,u,l,s,f,c=n;if(i||(i=r),n||(n=1),r)return(f=e.zeros(r,i)).alter((function(){return e.randg(n)})),f;n<1&&(n+=1),o=n-1/3,a=1/t.sqrt(9*o);do{do{l=1+a*(s=e.randn())}while(l<=0);l*=l*l,u=e._random_fn()}while(u>1-.331*t.pow(s,4)&&t.log(u)>.5*s*s+o*(1-l+t.log(l)));if(n==c)return o*l;do{u=e._random_fn()}while(0===u);return t.pow(u,1/c)*o*l},function(t){for(var n=0;n<t.length;n++)!function(t){e.fn[t]=function(){return e(e.map(this,(function(n){return e[t](n)})))}}(t[n])}("gammaln gammafn factorial factorialln".split(" ")),function(t){for(var n=0;n<t.length;n++)!function(t){e.fn[t]=function(){return e(e[t].apply(null,arguments))}}(t[n])}("randn".split(" "))}(e,Math),function(e,t){function n(e,n,r,i){for(var o,a=0,u=1,l=1,s=1,f=0,c=0;t.abs((l-c)/l)>i;)c=l,u=s+(o=-(n+f)*(n+r+f)*e/(n+2*f)/(n+2*f+1))*u,l=(a=l+o*a)+(o=(f+=1)*(r-f)*e/(n+2*f-1)/(n+2*f))*l,a/=s=u+o*s,u/=s,l/=s,s=1;return l/n}function r(e){return e/t.abs(e)}function i(n,r,i){var o=12,a=6,u=-30,l=-50,s=60,f=8,c=3,p=2,h=3,d=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],v=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],g=.5*n;if(g>=f)return 1;var m,b=2*e.normal.cdf(g,0,1,1,0)-1;b=b>=t.exp(l/i)?t.pow(b,i):0;for(var y=g,w=(f-g)/(m=n>c?p:h),x=y+w,$=0,M=i-1,S=1;S<=m;S++){for(var R=0,k=.5*(x+y),E=.5*(x-y),L=1;L<=o;L++){var D,P=k+E*(a<L?d[(D=o-L+1)-1]:-d[(D=L)-1]),C=P*P;if(C>s)break;var T=2*e.normal.cdf(P,0,1,1,0)*.5-2*e.normal.cdf(P,n,1,1,0)*.5;T>=t.exp(u/M)&&(R+=T=v[D-1]*t.exp(-.5*C)*t.pow(T,M))}$+=R*=2*E*i/t.sqrt(2*t.PI),y=x,x+=w}return(b+=$)<=t.exp(u/r)?0:(b=t.pow(b,r))>=1?1:b}function o(e,n,r){var i=.322232421088,o=.099348462606,a=-1,u=.588581570495,l=-.342242088547,s=.531103462366,f=-.204231210125,c=.10353775285,p=-453642210148e-16,h=.0038560700634,d=.8832,v=.2368,g=1.214,m=1.208,b=1.4142,y=120,w=.5-.5*e,x=t.sqrt(t.log(1/(w*w))),$=x+((((x*p+f)*x+l)*x+a)*x+i)/((((x*h+c)*x+s)*x+u)*x+o);r<y&&($+=($*$*$+$)/r/4);var M=d-v*$;return r<y&&(M+=-g/r+m*$/r),$*(M*t.log(n-1)+b)}!function(t){for(var n=0;n<t.length;n++)!function(t){e[t]=function e(t,n,r){return this instanceof e?(this._a=t,this._b=n,this._c=r,this):new e(t,n,r)},e.fn[t]=function(n,r,i){var o=e[t](n,r,i);return o.data=this,o},e[t].prototype.sample=function(n){var r=this._a,i=this._b,o=this._c;return n?e.alter(n,(function(){return e[t].sample(r,i,o)})):e[t].sample(r,i,o)},function(n){for(var r=0;r<n.length;r++)!function(n){e[t].prototype[n]=function(r){var i=this._a,o=this._b,a=this._c;return r||0===r||(r=this.data),"number"!=typeof r?e.fn.map.call(r,(function(r){return e[t][n](r,i,o,a)})):e[t][n](r,i,o,a)}}(n[r])}("pdf cdf inv".split(" ")),function(n){for(var r=0;r<n.length;r++)!function(n){e[t].prototype[n]=function(){return e[t][n](this._a,this._b,this._c)}}(n[r])}("mean median mode variance".split(" "))}(t[n])}("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),e.extend(e.beta,{pdf:function(n,r,i){return n>1||n<0?0:1==r&&1==i?1:r<512&&i<512?t.pow(n,r-1)*t.pow(1-n,i-1)/e.betafn(r,i):t.exp((r-1)*t.log(n)+(i-1)*t.log(1-n)-e.betaln(r,i))},cdf:function(t,n,r){return t>1||t<0?1*(t>1):e.ibeta(t,n,r)},inv:function(t,n,r){return e.ibetainv(t,n,r)},mean:function(e,t){return e/(e+t)},median:function(t,n){return e.ibetainv(.5,t,n)},mode:function(e,t){return(e-1)/(e+t-2)},sample:function(t,n){var r=e.randg(t);return r/(r+e.randg(n))},variance:function(e,n){return e*n/(t.pow(e+n,2)*(e+n+1))}}),e.extend(e.centralF,{pdf:function(n,r,i){var o;return n<0?0:r<=2?0===n&&r<2?1/0:0===n&&2===r?1:1/e.betafn(r/2,i/2)*t.pow(r/i,r/2)*t.pow(n,r/2-1)*t.pow(1+r/i*n,-(r+i)/2):(o=r*n/(i+n*r),r*(i/(i+n*r))/2*e.binomial.pdf((r-2)/2,(r+i-2)/2,o))},cdf:function(t,n,r){return t<0?0:e.ibeta(n*t/(n*t+r),n/2,r/2)},inv:function(t,n,r){return r/(n*(1/e.ibetainv(t,n/2,r/2)-1))},mean:function(e,t){return t>2?t/(t-2):void 0},mode:function(e,t){return e>2?t*(e-2)/(e*(t+2)):void 0},sample:function(t,n){return 2*e.randg(t/2)/t/(2*e.randg(n/2)/n)},variance:function(e,t){if(!(t<=4))return 2*t*t*(e+t-2)/(e*(t-2)*(t-2)*(t-4))}}),e.extend(e.cauchy,{pdf:function(e,n,r){return r<0?0:r/(t.pow(e-n,2)+t.pow(r,2))/t.PI},cdf:function(e,n,r){return t.atan((e-n)/r)/t.PI+.5},inv:function(e,n,r){return n+r*t.tan(t.PI*(e-.5))},median:function(e){return e},mode:function(e){return e},sample:function(n,r){return e.randn()*t.sqrt(1/(2*e.randg(.5)))*r+n}}),e.extend(e.chisquare,{pdf:function(n,r){return n<0?0:0===n&&2===r?.5:t.exp((r/2-1)*t.log(n)-n/2-r/2*t.log(2)-e.gammaln(r/2))},cdf:function(t,n){return t<0?0:e.lowRegGamma(n/2,t/2)},inv:function(t,n){return 2*e.gammapinv(t,.5*n)},mean:function(e){return e},median:function(e){return e*t.pow(1-2/(9*e),3)},mode:function(e){return e-2>0?e-2:0},sample:function(t){return 2*e.randg(t/2)},variance:function(e){return 2*e}}),e.extend(e.exponential,{pdf:function(e,n){return e<0?0:n*t.exp(-n*e)},cdf:function(e,n){return e<0?0:1-t.exp(-n*e)},inv:function(e,n){return-t.log(1-e)/n},mean:function(e){return 1/e},median:function(e){return 1/e*t.log(2)},mode:function(){return 0},sample:function(n){return-1/n*t.log(e._random_fn())},variance:function(e){return t.pow(e,-2)}}),e.extend(e.gamma,{pdf:function(n,r,i){return n<0?0:0===n&&1===r?1/i:t.exp((r-1)*t.log(n)-n/i-e.gammaln(r)-r*t.log(i))},cdf:function(t,n,r){return t<0?0:e.lowRegGamma(n,t/r)},inv:function(t,n,r){return e.gammapinv(t,n)*r},mean:function(e,t){return e*t},mode:function(e,t){if(e>1)return(e-1)*t},sample:function(t,n){return e.randg(t)*n},variance:function(e,t){return e*t*t}}),e.extend(e.invgamma,{pdf:function(n,r,i){return n<=0?0:t.exp(-(r+1)*t.log(n)-i/n-e.gammaln(r)+r*t.log(i))},cdf:function(t,n,r){return t<=0?0:1-e.lowRegGamma(n,r/t)},inv:function(t,n,r){return r/e.gammapinv(1-t,n)},mean:function(e,t){return e>1?t/(e-1):void 0},mode:function(e,t){return t/(e+1)},sample:function(t,n){return n/e.randg(t)},variance:function(e,t){if(!(e<=2))return t*t/((e-1)*(e-1)*(e-2))}}),e.extend(e.kumaraswamy,{pdf:function(e,n,r){return 0===e&&1===n?r:1===e&&1===r?n:t.exp(t.log(n)+t.log(r)+(n-1)*t.log(e)+(r-1)*t.log(1-t.pow(e,n)))},cdf:function(e,n,r){return e<0?0:e>1?1:1-t.pow(1-t.pow(e,n),r)},inv:function(e,n,r){return t.pow(1-t.pow(1-e,1/r),1/n)},mean:function(t,n){return n*e.gammafn(1+1/t)*e.gammafn(n)/e.gammafn(1+1/t+n)},median:function(e,n){return t.pow(1-t.pow(2,-1/n),1/e)},mode:function(e,n){if(e>=1&&n>=1&&1!==e&&1!==n)return t.pow((e-1)/(e*n-1),1/e)},variance:function(){throw new Error("variance not yet implemented")}}),e.extend(e.lognormal,{pdf:function(e,n,r){return e<=0?0:t.exp(-t.log(e)-.5*t.log(2*t.PI)-t.log(r)-t.pow(t.log(e)-n,2)/(2*r*r))},cdf:function(n,r,i){return n<0?0:.5+.5*e.erf((t.log(n)-r)/t.sqrt(2*i*i))},inv:function(n,r,i){return t.exp(-1.4142135623730951*i*e.erfcinv(2*n)+r)},mean:function(e,n){return t.exp(e+n*n/2)},median:function(e){return t.exp(e)},mode:function(e,n){return t.exp(e-n*n)},sample:function(n,r){return t.exp(e.randn()*r+n)},variance:function(e,n){return(t.exp(n*n)-1)*t.exp(2*e+n*n)}}),e.extend(e.noncentralt,{pdf:function(n,r,i){var o=1e-14;return t.abs(i)<o?e.studentt.pdf(n,r):t.abs(n)<o?t.exp(e.gammaln((r+1)/2)-i*i/2-.5*t.log(t.PI*r)-e.gammaln(r/2)):r/n*(e.noncentralt.cdf(n*t.sqrt(1+2/r),r+2,i)-e.noncentralt.cdf(n,r,i))},cdf:function(n,r,i){var o=1e-14,a=200;if(t.abs(i)<o)return e.studentt.cdf(n,r);var u=!1;n<0&&(u=!0,i=-i);for(var l=e.normal.cdf(-i,0,1),s=o+1,f=s,c=n*n/(n*n+r),p=0,h=t.exp(-i*i/2),d=t.exp(-i*i/2-.5*t.log(2)-e.gammaln(1.5))*i;p<a||f>o||s>o;)f=s,p>0&&(h*=i*i/(2*p),d*=i*i/(2*(p+.5))),l+=.5*(s=h*e.beta.cdf(c,p+.5,r/2)+d*e.beta.cdf(c,p+1,r/2)),p++;return u?1-l:l}}),e.extend(e.normal,{pdf:function(e,n,r){return t.exp(-.5*t.log(2*t.PI)-t.log(r)-t.pow(e-n,2)/(2*r*r))},cdf:function(n,r,i){return.5*(1+e.erf((n-r)/t.sqrt(2*i*i)))},inv:function(t,n,r){return-1.4142135623730951*r*e.erfcinv(2*t)+n},mean:function(e){return e},median:function(e){return e},mode:function(e){return e},sample:function(t,n){return e.randn()*n+t},variance:function(e,t){return t*t}}),e.extend(e.pareto,{pdf:function(e,n,r){return e<n?0:r*t.pow(n,r)/t.pow(e,r+1)},cdf:function(e,n,r){return e<n?0:1-t.pow(n/e,r)},inv:function(e,n,r){return n/t.pow(1-e,1/r)},mean:function(e,n){if(!(n<=1))return n*t.pow(e,n)/(n-1)},median:function(e,n){return e*(n*t.SQRT2)},mode:function(e){return e},variance:function(e,n){if(!(n<=2))return e*e*n/(t.pow(n-1,2)*(n-2))}}),e.extend(e.studentt,{pdf:function(n,r){return r=r>1e100?1e100:r,1/(t.sqrt(r)*e.betafn(.5,r/2))*t.pow(1+n*n/r,-(r+1)/2)},cdf:function(n,r){var i=r/2;return e.ibeta((n+t.sqrt(n*n+r))/(2*t.sqrt(n*n+r)),i,i)},inv:function(n,r){var i=e.ibetainv(2*t.min(n,1-n),.5*r,.5);return i=t.sqrt(r*(1-i)/i),n>.5?i:-i},mean:function(e){return e>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(n){return e.randn()*t.sqrt(n/(2*e.randg(n/2)))},variance:function(e){return e>2?e/(e-2):e>1?1/0:void 0}}),e.extend(e.weibull,{pdf:function(e,n,r){return e<0||n<0||r<0?0:r/n*t.pow(e/n,r-1)*t.exp(-t.pow(e/n,r))},cdf:function(e,n,r){return e<0?0:1-t.exp(-t.pow(e/n,r))},inv:function(e,n,r){return n*t.pow(-t.log(1-e),1/r)},mean:function(t,n){return t*e.gammafn(1+1/n)},median:function(e,n){return e*t.pow(t.log(2),1/n)},mode:function(e,n){return n<=1?0:e*t.pow((n-1)/n,1/n)},sample:function(n,r){return n*t.pow(-t.log(e._random_fn()),1/r)},variance:function(n,r){return n*n*e.gammafn(1+2/r)-t.pow(e.weibull.mean(n,r),2)}}),e.extend(e.uniform,{pdf:function(e,t,n){return e<t||e>n?0:1/(n-t)},cdf:function(e,t,n){return e<t?0:e<n?(e-t)/(n-t):1},inv:function(e,t,n){return t+e*(n-t)},mean:function(e,t){return.5*(e+t)},median:function(t,n){return e.mean(t,n)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(t,n){return t/2+n/2+(n/2-t/2)*(2*e._random_fn()-1)},variance:function(e,n){return t.pow(n-e,2)/12}}),e.extend(e.binomial,{pdf:function(n,r,i){return 0===i||1===i?r*i===n?1:0:e.combination(r,n)*t.pow(i,n)*t.pow(1-i,r-n)},cdf:function(r,i,o){var a,u=1e-10;if(r<0)return 0;if(r>=i)return 1;if(o<0||o>1||i<=0)return NaN;var l=o,s=(r=t.floor(r))+1,f=i-r,c=s+f,p=t.exp(e.gammaln(c)-e.gammaln(f)-e.gammaln(s)+s*t.log(l)+f*t.log(1-l));return a=l<(s+1)/(c+2)?p*n(l,s,f,u):1-p*n(1-l,f,s,u),t.round(1/u*(1-a))/(1/u)}}),e.extend(e.negbin,{pdf:function(n,r,i){return n===n>>>0&&(n<0?0:e.combination(n+r-1,r-1)*t.pow(1-i,n)*t.pow(i,r))},cdf:function(t,n,r){var i=0,o=0;if(t<0)return 0;for(;o<=t;o++)i+=e.negbin.pdf(o,n,r);return i}}),e.extend(e.hypgeom,{pdf:function(n,r,i,o){if(n!=n|0)return!1;if(n<0||n<i-(r-o))return 0;if(n>o||n>i)return 0;if(2*i>r)return 2*o>r?e.hypgeom.pdf(r-i-o+n,r,r-i,r-o):e.hypgeom.pdf(o-n,r,r-i,o);if(2*o>r)return e.hypgeom.pdf(i-n,r,i,r-o);if(i<o)return e.hypgeom.pdf(n,r,o,i);for(var a=1,u=0,l=0;l<n;l++){for(;a>1&&u<o;)a*=1-i/(r-u),u++;a*=(o-l)*(i-l)/((l+1)*(r-i-o+l+1))}for(;u<o;u++)a*=1-i/(r-u);return t.min(1,t.max(0,a))},cdf:function(n,r,i,o){if(n<0||n<i-(r-o))return 0;if(n>=o||n>=i)return 1;if(2*i>r)return 2*o>r?e.hypgeom.cdf(r-i-o+n,r,r-i,r-o):1-e.hypgeom.cdf(o-n-1,r,r-i,o);if(2*o>r)return 1-e.hypgeom.cdf(i-n-1,r,i,r-o);if(i<o)return e.hypgeom.cdf(n,r,o,i);for(var a=1,u=1,l=0,s=0;s<n;s++){for(;a>1&&l<o;){var f=1-i/(r-l);u*=f,a*=f,l++}a+=u*=(o-s)*(i-s)/((s+1)*(r-i-o+s+1))}for(;l<o;l++)a*=1-i/(r-l);return t.min(1,t.max(0,a))}}),e.extend(e.poisson,{pdf:function(n,r){return r<0||n%1!=0||n<0?0:t.pow(r,n)*t.exp(-r)/e.factorial(n)},cdf:function(t,n){var r=[],i=0;if(t<0)return 0;for(;i<=t;i++)r.push(e.poisson.pdf(i,n));return e.sum(r)},mean:function(e){return e},variance:function(e){return e},sampleSmall:function(n){var r=1,i=0,o=t.exp(-n);do{i++,r*=e._random_fn()}while(r>o);return i-1},sampleLarge:function(n){var r,i,o,a,u,l,s,f,c,p,h=n;for(a=t.sqrt(h),u=t.log(h),l=.02483*(s=.931+2.53*a)-.059,f=1.1239+1.1328/(s-3.4),c=.9277-3.6224/(s-2);;){if(i=t.random()-.5,o=t.random(),p=.5-t.abs(i),r=t.floor((2*l/p+s)*i+h+.43),p>=.07&&o<=c)return r;if(!(r<0||p<.013&&o>p)&&t.log(o)+t.log(f)-t.log(l/(p*p)+s)<=r*u-h-e.loggam(r+1))return r}},sample:function(e){return e<10?this.sampleSmall(e):this.sampleLarge(e)}}),e.extend(e.triangular,{pdf:function(e,t,n,r){return n<=t||r<t||r>n?NaN:e<t||e>n?0:e<r?2*(e-t)/((n-t)*(r-t)):e===r?2/(n-t):2*(n-e)/((n-t)*(n-r))},cdf:function(e,n,r,i){return r<=n||i<n||i>r?NaN:e<=n?0:e>=r?1:e<=i?t.pow(e-n,2)/((r-n)*(i-n)):1-t.pow(r-e,2)/((r-n)*(r-i))},inv:function(e,n,r,i){return r<=n||i<n||i>r?NaN:e<=(i-n)/(r-n)?n+(r-n)*t.sqrt(e*((i-n)/(r-n))):n+(r-n)*(1-t.sqrt((1-e)*(1-(i-n)/(r-n))))},mean:function(e,t,n){return(e+t+n)/3},median:function(e,n,r){return r<=(e+n)/2?n-t.sqrt((n-e)*(n-r))/t.sqrt(2):r>(e+n)/2?e+t.sqrt((n-e)*(r-e))/t.sqrt(2):void 0},mode:function(e,t,n){return n},sample:function(n,r,i){var o=e._random_fn();return o<(i-n)/(r-n)?n+t.sqrt(o*(r-n)*(i-n)):r-t.sqrt((1-o)*(r-n)*(r-i))},variance:function(e,t,n){return(e*e+t*t+n*n-e*t-e*n-t*n)/18}}),e.extend(e.arcsine,{pdf:function(e,n,r){return r<=n?NaN:e<=n||e>=r?0:2/t.PI*t.pow(t.pow(r-n,2)-t.pow(2*e-n-r,2),-.5)},cdf:function(e,n,r){return e<n?0:e<r?2/t.PI*t.asin(t.sqrt((e-n)/(r-n))):1},inv:function(e,n,r){return n+(.5-.5*t.cos(t.PI*e))*(r-n)},mean:function(e,t){return t<=e?NaN:(e+t)/2},median:function(e,t){return t<=e?NaN:(e+t)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(n,r){return(n+r)/2+(r-n)/2*t.sin(2*t.PI*e.uniform.sample(0,1))},variance:function(e,n){return n<=e?NaN:t.pow(n-e,2)/8}}),e.extend(e.laplace,{pdf:function(e,n,r){return r<=0?0:t.exp(-t.abs(e-n)/r)/(2*r)},cdf:function(e,n,r){return r<=0?0:e<n?.5*t.exp((e-n)/r):1-.5*t.exp(-(e-n)/r)},mean:function(e){return e},median:function(e){return e},mode:function(e){return e},variance:function(e,t){return 2*t*t},sample:function(n,i){var o=e._random_fn()-.5;return n-i*r(o)*t.log(1-2*t.abs(o))}}),e.extend(e.tukey,{cdf:function(n,r,o){var a=1,u=r,l=16,s=8,f=-30,c=1e-14,p=100,h=800,d=5e3,v=25e3,g=1,m=.5,b=.25,y=.125,w=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],x=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(n<=0)return 0;if(o<2||a<1||u<2)return NaN;if(!Number.isFinite(n))return 1;if(o>v)return i(n,a,u);var $,M=.5*o,S=M*t.log(o)-o*t.log(2)-e.gammaln(M),R=M-1,k=.25*o;$=o<=p?g:o<=h?m:o<=d?b:y,S+=t.log($);for(var E=0,L=1;L<=50;L++){for(var D=0,P=(2*L-1)*$,C=1;C<=l;C++){var T,O;s<C?(T=C-s-1,O=S+R*t.log(P+w[T]*$)-(w[T]*$+P)*k):(T=C-1,O=S+R*t.log(P-w[T]*$)+(w[T]*$-P)*k),O>=f&&(D+=i(s<C?n*t.sqrt(.5*(w[T]*$+P)):n*t.sqrt(.5*(-w[T]*$+P)),a,u)*x[T]*t.exp(O))}if(L*$>=1&&D<=c)break;E+=D}if(D>c)throw new Error("tukey.cdf failed to converge");return E>1&&(E=1),E},inv:function(n,r,i){var a=1e-4,u=50;if(i<2||r<2)return NaN;if(n<0||n>1)return NaN;if(0===n)return 0;if(1===n)return 1/0;var l,s=o(n,r,i),f=e.tukey.cdf(s,r,i)-n;l=f>0?t.max(0,s-1):s+1;for(var c,p=e.tukey.cdf(l,r,i)-n,h=1;h<u;h++)if(c=l-p*(l-s)/(p-f),f=p,s=l,c<0&&(c=0,p=-n),p=e.tukey.cdf(c,r,i)-n,l=c,t.abs(l-s)<a)return c;throw new Error("tukey.inv failed to converge")}})}(e,Math),function(e,t){var n=Array.prototype.push,r=e.utils.isArray;function i(t){return r(t)||t instanceof e}e.extend({add:function(t,n){return i(n)?(i(n[0])||(n=[n]),e.map(t,(function(e,t,r){return e+n[t][r]}))):e.map(t,(function(e){return e+n}))},subtract:function(t,n){return i(n)?(i(n[0])||(n=[n]),e.map(t,(function(e,t,r){return e-n[t][r]||0}))):e.map(t,(function(e){return e-n}))},divide:function(t,n){return i(n)?(i(n[0])||(n=[n]),e.multiply(t,e.inv(n))):e.map(t,(function(e){return e/n}))},multiply:function(t,n){var r,o,a,u,l,s,f,c;if(void 0===t.length&&void 0===n.length)return t*n;if(l=t.length,s=t[0].length,f=e.zeros(l,a=i(n)?n[0].length:s),c=0,i(n)){for(;c<a;c++)for(r=0;r<l;r++){for(u=0,o=0;o<s;o++)u+=t[r][o]*n[o][c];f[r][c]=u}return 1===l&&1===c?f[0][0]:f}return e.map(t,(function(e){return e*n}))},outer:function(t,n){return e.multiply(t.map((function(e){return[e]})),[n])},dot:function(t,n){i(t[0])||(t=[t]),i(n[0])||(n=[n]);for(var r,o,a=1===t[0].length&&1!==t.length?e.transpose(t):t,u=1===n[0].length&&1!==n.length?e.transpose(n):n,l=[],s=0,f=a.length,c=a[0].length;s<f;s++){for(l[s]=[],r=0,o=0;o<c;o++)r+=a[s][o]*u[s][o];l[s]=r}return 1===l.length?l[0]:l},pow:function(n,r){return e.map(n,(function(e){return t.pow(e,r)}))},exp:function(n){return e.map(n,(function(e){return t.exp(e)}))},log:function(n){return e.map(n,(function(e){return t.log(e)}))},abs:function(n){return e.map(n,(function(e){return t.abs(e)}))},norm:function(e,n){var r=0,o=0;for(isNaN(n)&&(n=2),i(e[0])&&(e=e[0]);o<e.length;o++)r+=t.pow(t.abs(e[o]),n);return t.pow(r,1/n)},angle:function(n,r){return t.acos(e.dot(n,r)/(e.norm(n)*e.norm(r)))},aug:function(e,t){var r,i=[];for(r=0;r<e.length;r++)i.push(e[r].slice());for(r=0;r<i.length;r++)n.apply(i[r],t[r]);return i},inv:function(t){for(var n,r=t.length,i=t[0].length,o=e.identity(r,i),a=e.gauss_jordan(t,o),u=[],l=0;l<r;l++)for(u[l]=[],n=i;n<a[0].length;n++)u[l][n-i]=a[l][n];return u},det:function e(t){if(2===t.length)return t[0][0]*t[1][1]-t[0][1]*t[1][0];for(var n=0,r=0;r<t.length;r++){for(var i=[],o=1;o<t.length;o++){i[o-1]=[];for(var a=0;a<t.length;a++)a<r?i[o-1][a]=t[o][a]:a>r&&(i[o-1][a-1]=t[o][a])}var u=r%2?-1:1;n+=e(i)*t[0][r]*u}return n},gauss_elimination:function(n,r){var i,o,a,u,l=0,s=0,f=n.length,c=n[0].length,p=1,h=0,d=[];for(i=(n=e.aug(n,r))[0].length,l=0;l<f;l++){for(o=n[l][l],s=l,u=l+1;u<c;u++)o<t.abs(n[u][l])&&(o=n[u][l],s=u);if(s!=l)for(u=0;u<i;u++)a=n[l][u],n[l][u]=n[s][u],n[s][u]=a;for(s=l+1;s<f;s++)for(p=n[s][l]/n[l][l],u=l;u<i;u++)n[s][u]=n[s][u]-p*n[l][u]}for(l=f-1;l>=0;l--){for(h=0,s=l+1;s<=f-1;s++)h+=d[s]*n[l][s];d[l]=(n[l][i-1]-h)/n[l][l]}return d},gauss_jordan:function(n,r){var i,o,a,u=e.aug(n,r),l=u.length,s=u[0].length,f=0;for(o=0;o<l;o++){var c=o;for(a=o+1;a<l;a++)t.abs(u[a][o])>t.abs(u[c][o])&&(c=a);var p=u[o];for(u[o]=u[c],u[c]=p,a=o+1;a<l;a++)for(f=u[a][o]/u[o][o],i=o;i<s;i++)u[a][i]-=u[o][i]*f}for(o=l-1;o>=0;o--){for(f=u[o][o],a=0;a<o;a++)for(i=s-1;i>o-1;i--)u[a][i]-=u[o][i]*u[a][o]/f;for(u[o][o]/=f,i=l;i<s;i++)u[o][i]/=f}return u},triaUpSolve:function(t,n){var r,i=t[0].length,o=e.zeros(1,i)[0],a=!1;return null!=n[0].length&&(n=n.map((function(e){return e[0]})),a=!0),e.arange(i-1,-1,-1).forEach((function(a){r=e.arange(a+1,i).map((function(e){return o[e]*t[a][e]})),o[a]=(n[a]-e.sum(r))/t[a][a]})),a?o.map((function(e){return[e]})):o},triaLowSolve:function(t,n){var r,i=t[0].length,o=e.zeros(1,i)[0],a=!1;return null!=n[0].length&&(n=n.map((function(e){return e[0]})),a=!0),e.arange(i).forEach((function(i){r=e.arange(i).map((function(e){return t[i][e]*o[e]})),o[i]=(n[i]-e.sum(r))/t[i][i]})),a?o.map((function(e){return[e]})):o},lu:function(t){var n,r=t.length,i=e.identity(r),o=e.zeros(t.length,t[0].length);return e.arange(r).forEach((function(e){o[0][e]=t[0][e]})),e.arange(1,r).forEach((function(a){e.arange(a).forEach((function(r){n=e.arange(r).map((function(e){return i[a][e]*o[e][r]})),i[a][r]=(t[a][r]-e.sum(n))/o[r][r]})),e.arange(a,r).forEach((function(r){n=e.arange(a).map((function(e){return i[a][e]*o[e][r]})),o[a][r]=t[n.length][r]-e.sum(n)}))})),[i,o]},cholesky:function(n){var r,i=n.length,o=e.zeros(n.length,n[0].length);return e.arange(i).forEach((function(a){r=e.arange(a).map((function(e){return t.pow(o[a][e],2)})),o[a][a]=t.sqrt(n[a][a]-e.sum(r)),e.arange(a+1,i).forEach((function(t){r=e.arange(a).map((function(e){return o[a][e]*o[t][e]})),o[t][a]=(n[a][t]-e.sum(r))/o[a][a]}))})),o},gauss_jacobi:function(n,r,i,o){for(var a,u,l,s,f=0,c=0,p=n.length,h=[],d=[],v=[];f<p;f++)for(h[f]=[],d[f]=[],v[f]=[],c=0;c<p;c++)f>c?(h[f][c]=n[f][c],d[f][c]=v[f][c]=0):f<c?(d[f][c]=n[f][c],h[f][c]=v[f][c]=0):(v[f][c]=n[f][c],h[f][c]=d[f][c]=0);for(l=e.multiply(e.multiply(e.inv(v),e.add(h,d)),-1),u=e.multiply(e.inv(v),r),a=i,s=e.add(e.multiply(l,i),u),f=2;t.abs(e.norm(e.subtract(s,a)))>o;)a=s,s=e.add(e.multiply(l,a),u),f++;return s},gauss_seidel:function(n,r,i,o){for(var a,u,l,s,f,c=0,p=n.length,h=[],d=[],v=[];c<p;c++)for(h[c]=[],d[c]=[],v[c]=[],a=0;a<p;a++)c>a?(h[c][a]=n[c][a],d[c][a]=v[c][a]=0):c<a?(d[c][a]=n[c][a],h[c][a]=v[c][a]=0):(v[c][a]=n[c][a],h[c][a]=d[c][a]=0);for(s=e.multiply(e.multiply(e.inv(e.add(v,h)),d),-1),l=e.multiply(e.inv(e.add(v,h)),r),u=i,f=e.add(e.multiply(s,i),l),c=2;t.abs(e.norm(e.subtract(f,u)))>o;)u=f,f=e.add(e.multiply(s,u),l),c+=1;return f},SOR:function(n,r,i,o,a){for(var u,l,s,f,c,p=0,h=n.length,d=[],v=[],g=[];p<h;p++)for(d[p]=[],v[p]=[],g[p]=[],u=0;u<h;u++)p>u?(d[p][u]=n[p][u],v[p][u]=g[p][u]=0):p<u?(v[p][u]=n[p][u],d[p][u]=g[p][u]=0):(g[p][u]=n[p][u],d[p][u]=v[p][u]=0);for(f=e.multiply(e.inv(e.add(g,e.multiply(d,a))),e.subtract(e.multiply(g,1-a),e.multiply(v,a))),s=e.multiply(e.multiply(e.inv(e.add(g,e.multiply(d,a))),r),a),l=i,c=e.add(e.multiply(f,i),s),p=2;t.abs(e.norm(e.subtract(c,l)))>o;)l=c,c=e.add(e.multiply(f,l),s),p++;return c},householder:function(n){for(var r,i,o,a,u=n.length,l=n[0].length,s=0,f=[],c=[];s<u-1;s++){for(r=0,a=s+1;a<l;a++)r+=n[a][s]*n[a][s];for(r=(n[s+1][s]>0?-1:1)*t.sqrt(r),i=t.sqrt((r*r-n[s+1][s]*r)/2),(f=e.zeros(u,1))[s+1][0]=(n[s+1][s]-r)/(2*i),o=s+2;o<u;o++)f[o][0]=n[o][s]/(2*i);c=e.subtract(e.identity(u,l),e.multiply(e.multiply(f,e.transpose(f)),2)),n=e.multiply(c,e.multiply(n,c))}return n},QR:function(){var n=e.sum,r=e.arange;function i(i){var o,a,u,l=i.length,s=i[0].length,f=e.zeros(s,s);for(i=e.copy(i),a=0;a<s;a++){for(f[a][a]=t.sqrt(n(r(l).map((function(e){return i[e][a]*i[e][a]})))),o=0;o<l;o++)i[o][a]=i[o][a]/f[a][a];for(u=a+1;u<s;u++)for(f[a][u]=n(r(l).map((function(e){return i[e][a]*i[e][u]}))),o=0;o<l;o++)i[o][u]=i[o][u]-i[o][a]*f[a][u]}return[i,f]}return i}(),lstsq:function(){function t(t){var n=(t=e.copy(t)).length,r=e.identity(n);return e.arange(n-1,-1,-1).forEach((function(n){e.sliceAssign(r,{row:n},e.divide(e.slice(r,{row:n}),t[n][n])),e.sliceAssign(t,{row:n},e.divide(e.slice(t,{row:n}),t[n][n])),e.arange(n).forEach((function(i){var o=e.multiply(t[i][n],-1),a=e.slice(t,{row:i}),u=e.multiply(e.slice(t,{row:n}),o);e.sliceAssign(t,{row:i},e.add(a,u));var l=e.slice(r,{row:i}),s=e.multiply(e.slice(r,{row:n}),o);e.sliceAssign(r,{row:i},e.add(l,s))}))})),r}function n(n,r){var i=!1;void 0===r[0].length&&(r=r.map((function(e){return[e]})),i=!0);var o=e.QR(n),a=o[0],u=o[1],l=n[0].length,s=e.slice(a,{col:{end:l}}),f=t(e.slice(u,{row:{end:l}})),c=e.transpose(s);void 0===c[0].length&&(c=[c]);var p=e.multiply(e.multiply(f,c),r);return void 0===p.length&&(p=[[p]]),i?p.map((function(e){return e[0]})):p}return n}(),jacobi:function(n){for(var r,i,o,a,u,l,s,f=1,c=n.length,p=e.identity(c,c),h=[];1===f;){for(u=n[0][1],o=0,a=1,r=0;r<c;r++)for(i=0;i<c;i++)r!=i&&u<t.abs(n[r][i])&&(u=t.abs(n[r][i]),o=r,a=i);for(l=n[o][o]===n[a][a]?n[o][a]>0?t.PI/4:-t.PI/4:t.atan(2*n[o][a]/(n[o][o]-n[a][a]))/2,(s=e.identity(c,c))[o][o]=t.cos(l),s[o][a]=-t.sin(l),s[a][o]=t.sin(l),s[a][a]=t.cos(l),p=e.multiply(p,s),n=e.multiply(e.multiply(e.inv(s),n),s),f=0,r=1;r<c;r++)for(i=1;i<c;i++)r!=i&&t.abs(n[r][i])>.001&&(f=1)}for(r=0;r<c;r++)h.push(n[r][r]);return[p,h]},rungekutta:function(e,t,n,r,i,o){var a,u,l;if(2===o)for(;r<=n;)i+=((a=t*e(r,i))+(u=t*e(r+t,i+a)))/2,r+=t;if(4===o)for(;r<=n;)i+=((a=t*e(r,i))+2*(u=t*e(r+t/2,i+a/2))+2*(l=t*e(r+t/2,i+u/2))+t*e(r+t,i+l))/6,r+=t;return i},romberg:function(e,n,r,i){for(var o,a,u,l,s,f=0,c=(r-n)/2,p=[],h=[],d=[];f<i/2;){for(s=e(n),u=n,l=0;u<=r;u+=c,l++)p[l]=u;for(o=p.length,u=1;u<o-1;u++)s+=(u%2!=0?4:2)*e(p[u]);s=c/3*(s+e(r)),d[f]=s,c/=2,f++}for(a=d.length,o=1;1!==a;){for(u=0;u<a-1;u++)h[u]=(t.pow(4,o)*d[u+1]-d[u])/(t.pow(4,o)-1);a=h.length,d=h,h=[],o++}return d},richardson:function(e,n,r,i){function o(e,t){for(var n,r=0,i=e.length;r<i;r++)e[r]===t&&(n=r);return n}for(var a,u,l,s,f,c=t.abs(r-e[o(e,r)+1]),p=0,h=[],d=[];i>=c;)a=o(e,r+i),u=o(e,r),h[p]=(n[a]-2*n[u]+n[2*u-a])/(i*i),i/=2,p++;for(s=h.length,l=1;1!=s;){for(f=0;f<s-1;f++)d[f]=(t.pow(4,l)*h[f+1]-h[f])/(t.pow(4,l)-1);s=d.length,h=d,d=[],l++}return h},simpson:function(e,t,n,r){for(var i,o=(n-t)/r,a=e(t),u=[],l=t,s=0,f=1;l<=n;l+=o,s++)u[s]=l;for(i=u.length;f<i-1;f++)a+=(f%2!=0?4:2)*e(u[f]);return o/3*(a+e(n))},hermite:function(e,t,n,r){for(var i,o=e.length,a=0,u=0,l=[],s=[],f=[],c=[];u<o;u++){for(l[u]=1,i=0;i<o;i++)u!=i&&(l[u]*=(r-e[i])/(e[u]-e[i]));for(s[u]=0,i=0;i<o;i++)u!=i&&(s[u]+=1/(e[u]-e[i]));f[u]=(1-2*(r-e[u])*s[u])*(l[u]*l[u]),c[u]=(r-e[u])*(l[u]*l[u]),a+=f[u]*t[u]+c[u]*n[u]}return a},lagrange:function(e,t,n){for(var r,i,o=0,a=0,u=e.length;a<u;a++){for(i=t[a],r=0;r<u;r++)a!=r&&(i*=(n-e[r])/(e[a]-e[r]));o+=i}return o},cubic_spline:function(t,n,r){for(var i,o=t.length,a=0,u=[],l=[],s=[],f=[],c=[],p=[],h=[];a<o-1;a++)c[a]=t[a+1]-t[a];for(s[0]=0,a=1;a<o-1;a++)s[a]=3/c[a]*(n[a+1]-n[a])-3/c[a-1]*(n[a]-n[a-1]);for(a=1;a<o-1;a++)u[a]=[],l[a]=[],u[a][a-1]=c[a-1],u[a][a]=2*(c[a-1]+c[a]),u[a][a+1]=c[a],l[a][0]=s[a];for(f=e.multiply(e.inv(u),l),i=0;i<o-1;i++)p[i]=(n[i+1]-n[i])/c[i]-c[i]*(f[i+1][0]+2*f[i][0])/3,h[i]=(f[i+1][0]-f[i][0])/(3*c[i]);for(i=0;i<o&&!(t[i]>r);i++);return n[i-=1]+(r-t[i])*p[i]+e.sq(r-t[i])*f[i]+(r-t[i])*e.sq(r-t[i])*h[i]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(t){var n,r,i=t.length,o=t[0].length,a=0,u=[],l=[],s=[],f=[],c=[],p=[],h=[],d=[],v=[],g=[];for(a=0;a<i;a++)u[a]=e.sum(t[a])/o;for(a=0;a<o;a++)for(h[a]=[],n=0;n<i;n++)h[a][n]=t[n][a]-u[n];for(h=e.transpose(h),a=0;a<i;a++)for(d[a]=[],n=0;n<i;n++)d[a][n]=e.dot([h[a]],[h[n]])/(o-1);for(v=(s=e.jacobi(d))[0],l=s[1],g=e.transpose(v),a=0;a<l.length;a++)for(n=a;n<l.length;n++)l[a]<l[n]&&(r=l[a],l[a]=l[n],l[n]=r,f=g[a],g[a]=g[n],g[n]=f);for(p=e.transpose(h),a=0;a<i;a++)for(c[a]=[],n=0;n<p.length;n++)c[a][n]=e.dot([g[a]],[p[n]]);return[t,l,g,c]}}),function(t){for(var n=0;n<t.length;n++)!function(t){e.fn[t]=function(n,r){var i=this;return r?(setTimeout((function(){r.call(i,e.fn[t].call(i,n))}),15),this):"number"==typeof e[t](this,n)?e[t](this,n):e(e[t](this,n))}}(t[n])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(e,Math),function(e,t){var n=[].slice,r=e.utils.isNumber,i=e.utils.isArray;function o(e,n,r,i){if(e>1||r>1||e<=0||r<=0)throw new Error("Proportions should be greater than 0 and less than 1");var o=(e*n+r*i)/(n+i);return(e-r)/t.sqrt(o*(1-o)*(1/n+1/i))}e.extend({zscore:function(){var t=n.call(arguments);return r(t[1])?(t[0]-t[1])/t[2]:(t[0]-e.mean(t[1]))/e.stdev(t[1],t[2])},ztest:function(){var r,o=n.call(arguments);return i(o[1])?(r=e.zscore(o[0],o[1],o[3]),1===o[2]?e.normal.cdf(-t.abs(r),0,1):2*e.normal.cdf(-t.abs(r),0,1)):o.length>2?(r=e.zscore(o[0],o[1],o[2]),1===o[3]?e.normal.cdf(-t.abs(r),0,1):2*e.normal.cdf(-t.abs(r),0,1)):(r=o[0],1===o[1]?e.normal.cdf(-t.abs(r),0,1):2*e.normal.cdf(-t.abs(r),0,1))}}),e.extend(e.fn,{zscore:function(e,t){return(e-this.mean())/this.stdev(t)},ztest:function(n,r,i){var o=t.abs(this.zscore(n,i));return 1===r?e.normal.cdf(-o,0,1):2*e.normal.cdf(-o,0,1)}}),e.extend({tscore:function(){var r=n.call(arguments);return 4===r.length?(r[0]-r[1])/(r[2]/t.sqrt(r[3])):(r[0]-e.mean(r[1]))/(e.stdev(r[1],!0)/t.sqrt(r[1].length))},ttest:function(){var i,o=n.call(arguments);return 5===o.length?(i=t.abs(e.tscore(o[0],o[1],o[2],o[3])),1===o[4]?e.studentt.cdf(-i,o[3]-1):2*e.studentt.cdf(-i,o[3]-1)):r(o[1])?(i=t.abs(o[0]),1==o[2]?e.studentt.cdf(-i,o[1]-1):2*e.studentt.cdf(-i,o[1]-1)):(i=t.abs(e.tscore(o[0],o[1])),1==o[2]?e.studentt.cdf(-i,o[1].length-1):2*e.studentt.cdf(-i,o[1].length-1))}}),e.extend(e.fn,{tscore:function(e){return(e-this.mean())/(this.stdev(!0)/t.sqrt(this.cols()))},ttest:function(n,r){return 1===r?1-e.studentt.cdf(t.abs(this.tscore(n)),this.cols()-1):2*e.studentt.cdf(-t.abs(this.tscore(n)),this.cols()-1)}}),e.extend({anovafscore:function(){var r,i,o,a,u,l,s,f,c=n.call(arguments);if(1===c.length){for(u=new Array(c[0].length),s=0;s<c[0].length;s++)u[s]=c[0][s];c=u}for(i=new Array,s=0;s<c.length;s++)i=i.concat(c[s]);for(o=e.mean(i),r=0,s=0;s<c.length;s++)r+=c[s].length*t.pow(e.mean(c[s])-o,2);for(r/=c.length-1,l=0,s=0;s<c.length;s++)for(a=e.mean(c[s]),f=0;f<c[s].length;f++)l+=t.pow(c[s][f]-a,2);return r/(l/=i.length-c.length)},anovaftest:function(){var t,i,o,a,u=n.call(arguments);if(r(u[0]))return 1-e.centralF.cdf(u[0],u[1],u[2]);var l=e.anovafscore(u);for(t=u.length-1,o=0,a=0;a<u.length;a++)o+=u[a].length;return i=o-t-1,1-e.centralF.cdf(l,t,i)},ftest:function(t,n,r){return 1-e.centralF.cdf(t,n,r)}}),e.extend(e.fn,{anovafscore:function(){return e.anovafscore(this.toArray())},anovaftes:function(){var t,n=0;for(t=0;t<this.length;t++)n+=this[t].length;return e.ftest(this.anovafscore(),this.length-1,n-this.length)}}),e.extend({qscore:function(){var i,o,a,u,l,s=n.call(arguments);return r(s[0])?(i=s[0],o=s[1],a=s[2],u=s[3],l=s[4]):(i=e.mean(s[0]),o=e.mean(s[1]),a=s[0].length,u=s[1].length,l=s[2]),t.abs(i-o)/(l*t.sqrt((1/a+1/u)/2))},qtest:function(){var t,r=n.call(arguments);3===r.length?(t=r[0],r=r.slice(1)):7===r.length?(t=e.qscore(r[0],r[1],r[2],r[3],r[4]),r=r.slice(5)):(t=e.qscore(r[0],r[1],r[2]),r=r.slice(3));var i=r[0],o=r[1];return 1-e.tukey.cdf(t,o,i-o)},tukeyhsd:function(t){for(var n=e.pooledstdev(t),r=t.map((function(t){return e.mean(t)})),i=t.reduce((function(e,t){return e+t.length}),0),o=[],a=0;a<t.length;++a)for(var u=a+1;u<t.length;++u){var l=e.qtest(r[a],r[u],t[a].length,t[u].length,n,i,t.length);o.push([[a,u],l])}return o}}),e.extend({normalci:function(){var r,i=n.call(arguments),o=new Array(2);return r=4===i.length?t.abs(e.normal.inv(i[1]/2,0,1)*i[2]/t.sqrt(i[3])):t.abs(e.normal.inv(i[1]/2,0,1)*e.stdev(i[2])/t.sqrt(i[2].length)),o[0]=i[0]-r,o[1]=i[0]+r,o},tci:function(){var r,i=n.call(arguments),o=new Array(2);return r=4===i.length?t.abs(e.studentt.inv(i[1]/2,i[3]-1)*i[2]/t.sqrt(i[3])):t.abs(e.studentt.inv(i[1]/2,i[2].length-1)*e.stdev(i[2],!0)/t.sqrt(i[2].length)),o[0]=i[0]-r,o[1]=i[0]+r,o},significant:function(e,t){return e<t}}),e.extend(e.fn,{normalci:function(t,n){return e.normalci(t,n,this.toArray())},tci:function(t,n){return e.tci(t,n,this.toArray())}}),e.extend(e.fn,{oneSidedDifferenceOfProportions:function(t,n,r,i){var a=o(t,n,r,i);return e.ztest(a,1)},twoSidedDifferenceOfProportions:function(t,n,r,i){var a=o(t,n,r,i);return e.ztest(a,2)}})}(e,Math),e.models=function(){function t(t){var r=t[0].length;return e.arange(r).map((function(i){var o=e.arange(r).filter((function(e){return e!==i}));return n(e.col(t,i).map((function(e){return e[0]})),e.col(t,o))}))}function n(t,n){var r=t.length,i=n[0].length-1,o=r-i-1,a=e.lstsq(n,t),u=e.multiply(n,a.map((function(e){return[e]}))).map((function(e){return e[0]})),l=e.subtract(t,u),s=e.mean(t),f=e.sum(u.map((function(e){return Math.pow(e-s,2)}))),c=e.sum(t.map((function(e,t){return Math.pow(e-u[t],2)}))),p=f+c;return{exog:n,endog:t,nobs:r,df_model:i,df_resid:o,coef:a,predict:u,resid:l,ybar:s,SST:p,SSE:f,SSR:c,R2:f/p}}function r(n){var r=t(n.exog),i=Math.sqrt(n.SSR/n.df_resid),o=r.map((function(e){var t=e.SST,n=e.R2;return i/Math.sqrt(t*(1-n))})),a=n.coef.map((function(e,t){return(e-0)/o[t]})),u=a.map((function(t){var r=e.studentt.cdf(t,n.df_resid);return 2*(r>.5?1-r:r)})),l=e.studentt.inv(.975,n.df_resid),s=n.coef.map((function(e,t){var n=l*o[t];return[e-n,e+n]}));return{se:o,t:a,p:u,sigmaHat:i,interval95:s}}function i(t){var n,r,i,o=t.R2/t.df_model/((1-t.R2)/t.df_resid);return{F_statistic:o,pvalue:1-(n=o,r=t.df_model,i=t.df_resid,e.beta.cdf(n/(i/r+n),r/2,i/2))}}function o(e,t){var o=n(e,t),a=r(o),u=i(o),l=1-(1-o.R2)*((o.nobs-1)/o.df_resid);return o.t=a,o.f=u,o.adjust_R2=l,o}return{ols:o}}(),e.extend({buildxmatrix:function(){for(var t=new Array(arguments.length),n=0;n<arguments.length;n++){var r=[1];t[n]=r.concat(arguments[n])}return e(t)},builddxmatrix:function(){for(var t=new Array(arguments[0].length),n=0;n<arguments[0].length;n++){var r=[1];t[n]=r.concat(arguments[0][n])}return e(t)},buildjxmatrix:function(t){for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r];return e.builddxmatrix(n)},buildymatrix:function(t){return e(t).transpose()},buildjymatrix:function(e){return e.transpose()},matrixmult:function(t,n){var r,i,o,a,u;if(t.cols()==n.rows()){if(n.rows()>1){for(a=[],r=0;r<t.rows();r++)for(a[r]=[],i=0;i<n.cols();i++){for(u=0,o=0;o<t.cols();o++)u+=t.toArray()[r][o]*n.toArray()[o][i];a[r][i]=u}return e(a)}for(a=[],r=0;r<t.rows();r++)for(a[r]=[],i=0;i<n.cols();i++){for(u=0,o=0;o<t.cols();o++)u+=t.toArray()[r][o]*n.toArray()[i];a[r][i]=u}return e(a)}},regress:function(t,n){var r=e.xtranspxinv(t),i=t.transpose(),o=e.matrixmult(e(r),i);return e.matrixmult(o,n)},regresst:function(t,n,r){var i=e.regress(t,n),o={anova:{}},a=e.jMatYBar(t,i);o.yBar=a;var u=n.mean();o.anova.residuals=e.residuals(n,a),o.anova.ssr=e.ssr(a,u),o.anova.msr=o.anova.ssr/(t[0].length-1),o.anova.sse=e.sse(n,a),o.anova.mse=o.anova.sse/(n.length-(t[0].length-1)-1),o.anova.sst=e.sst(n,u),o.anova.mst=o.anova.sst/(n.length-1),o.anova.r2=1-o.anova.sse/o.anova.sst,o.anova.r2<0&&(o.anova.r2=0),o.anova.fratio=o.anova.msr/o.anova.mse,o.anova.pvalue=e.anovaftest(o.anova.fratio,t[0].length-1,n.length-(t[0].length-1)-1),o.anova.rmse=Math.sqrt(o.anova.mse),o.anova.r2adj=1-o.anova.mse/o.anova.mst,o.anova.r2adj<0&&(o.anova.r2adj=0),o.stats=new Array(t[0].length);for(var l,s,f,c=e.xtranspxinv(t),p=0;p<i.length;p++)l=Math.sqrt(o.anova.mse*Math.abs(c[p][p])),s=Math.abs(i[p]/l),f=e.ttest(s,n.length-t[0].length-1,r),o.stats[p]=[i[p],l,s,f];return o.regress=i,o},xtranspx:function(t){return e.matrixmult(t.transpose(),t)},xtranspxinv:function(t){var n=e.matrixmult(t.transpose(),t);return e.inv(n)},jMatYBar:function(t,n){var r=e.matrixmult(t,n);return new e(r)},residuals:function(t,n){return e.matrixsubtract(t,n)},ssr:function(e,t){for(var n=0,r=0;r<e.length;r++)n+=Math.pow(e[r]-t,2);return n},sse:function(e,t){for(var n=0,r=0;r<e.length;r++)n+=Math.pow(e[r]-t[r],2);return n},sst:function(e,t){for(var n=0,r=0;r<e.length;r++)n+=Math.pow(e[r]-t,2);return n},matrixsubtract:function(t,n){for(var r=new Array(t.length),i=0;i<t.length;i++){r[i]=new Array(t[i].length);for(var o=0;o<t[i].length;o++)r[i][o]=t[i][o]-n[i][o]}return e(r)}}),e.jStat=e,e}()}({get exports(){return Xf},set exports(e){Xf=e}});let ec=Xf.jStat,tc={beta:{pdf:ec.beta.pdf,cdf:ec.beta.cdf,inv:ec.beta.inv,sample:ec.beta.sample},centralF:{pdf:ec.centralF.pdf,cdf:ec.centralF.cdf,inv:ec.centralF.inv,sample:ec.centralF.sample},cauchy:{pdf:ec.cauchy.pdf,cdf:ec.cauchy.cdf,inv:ec.cauchy.inv,sample:ec.cauchy.sample},chisquare:{pdf:ec.chisquare.pdf,cdf:ec.chisquare.cdf,inv:ec.chisquare.inv,sample:ec.chisquare.sample},exponential:{pdf:ec.exponential.pdf,cdf:ec.exponential.cdf,inv:ec.exponential.inv,sample:ec.exponential.sample},gamma:{pdf:ec.gamma.pdf,cdf:ec.gamma.cdf,inv:ec.gamma.inv,sample:ec.gamma.sample},invgamma:{pdf:ec.invgamma.pdf,cdf:ec.invgamma.cdf,inv:ec.invgamma.inv,sample:ec.invgamma.sample},kumaraswamy:{pdf:ec.kumaraswamy.pdf,cdf:ec.kumaraswamy.cdf,inv:ec.kumaraswamy.inv,sample:ec.kumaraswamy.sample},lognormal:{pdf:ec.lognormal.pdf,cdf:ec.lognormal.cdf,inv:ec.lognormal.inv,sample:ec.lognormal.sample},normal:{pdf:ec.normal.pdf,cdf:ec.normal.cdf,inv:ec.normal.inv,sample:ec.normal.sample},pareto:{pdf:ec.pareto.pdf,cdf:ec.pareto.cdf,inv:ec.pareto.inv,sample:(e,t)=>{throw new Error("invalid pareto.sample")}},studentt:{pdf:ec.studentt.pdf,cdf:ec.studentt.cdf,inv:ec.studentt.inv,sample:ec.studentt.sample},tukey:{pdf:(e,t,n)=>{throw new Error("invalid tukey.pdf")},cdf:ec.tukey.cdf,inv:ec.tukey.inv,sample:(e,t)=>{throw new Error("invalid tukey.sample")}},weibull:{pdf:ec.weibull.pdf,cdf:ec.weibull.cdf,inv:ec.weibull.inv,sample:ec.weibull.sample},uniform:{pdf:ec.uniform.pdf,cdf:ec.uniform.cdf,inv:ec.uniform.inv,sample:ec.uniform.sample},binomial:{pdf:ec.binomial.pdf,cdf:ec.binomial.cdf,inv:(e,t,n)=>{throw new Error("invalid binomial.inv")},sample:(e,t)=>{throw new Error("invalid binomial.sample")}},negbin:{pdf:ec.negbin.pdf,cdf:ec.negbin.cdf,inv:(e,t,n)=>{throw new Error("invalid negbin.inv")},sample:(e,t)=>{throw new Error("invalid negbin.sample")}},hypgeom:{pdf:ec.hypgeom.pdf,cdf:ec.hypgeom.cdf,inv:(e,t,n,r)=>{throw new Error("invalid hypgeom.inv")},sample:(e,t,n)=>{throw new Error("invalid hypgeom.sample")}},poisson:{pdf:ec.poisson.pdf,cdf:ec.poisson.cdf,inv:(e,t)=>{throw new Error("invalid poisson.inv")},sample:ec.poisson.sample},triangular:{pdf:ec.triangular.pdf,cdf:ec.triangular.cdf,inv:(e,t,n,r)=>{throw new Error("invalid triangular.inv")},sample:ec.triangular.sample},arcsine:{pdf:ec.arcsine.pdf,cdf:ec.arcsine.cdf,inv:ec.arcsine.inv,sample:ec.arcsine.sample},std:e=>ec.stdev(e,!1),sampleStd:e=>ec.stdev(e,!0),emquantile:(e,t)=>ec.quantiles(e,[t],.4,.4)[0],emquantiles:ec.quantiles,percentile:ec.percentile};var nc=Ce;var rc=function(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r},ic=function(e,t,n,r){return nc(e,(function(e,i,o){t(r,e,n(e),o)})),r},oc=$o,ac=A;var uc=Fo,lc=function(e,t){return function(n,r){var i=ac(n)?rc:ic,o=t?t():{};return i(n,e,oc(r),o)}},sc=Object.prototype.hasOwnProperty,fc=lc((function(e,t,n){sc.call(e,n)?e[n].push(t):uc(e,n,[t])})),cc=fc,pc=Array.prototype.reverse;var hc=function(e){return null==e?e:pc.call(e)};function dc(e){if(!Tl(e)&&!Ol(e)&&!di(e))return"";let t="";try{t=String(e)}catch(e){}try{t=e.toString()}catch(e){}return t}function vc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vc(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(0===rf(e))return[];if(!Tl(t))return[];let r=Hi(n,"ranger.countHalf");If(r)||(r=5),r=zf(r);let i=Hi(n,"ranger.depthHalf");Ol(i)||(i=.25),i=Ql(i);let o=Hi(n,"keyDepth");Tl(o)||(o="depth");let a=Hi(n,"methodSmooth");"average"!==a&&"averageIn95"!==a&&"maxCount"!==a&&(a="average");let u=[];if(ze(e,(e=>{let n=Hi(e,o),r=Hi(e,t);Ol(n)&&(Tl(r)||Ol(r))&&(e[o]=Ql(n),e[t]=r,u.push(e))})),0===rf(u))return[];u=Cs(u,o);let l=rf(u)-1,s=[];return ze(u,((e,n)=>{let f=n,c=n;if(null!==r)f=Math.max(n-r,0),c=Math.min(n+r,l);else if(null!==i){for(let t=n;t>=0;t--){if(!(Math.abs(u[t][o]-e[o])<i))break;f=t}for(let t=n;t<=l;t++){if(!(Math.abs(u[t][o]-e[o])<i))break;c=t}}let p=function(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Lf(e))return[];if(!If(t))return[];if(t=zf(t),Ef(r)){if(t>=e.length)return[];n=Rf(e,t)}else{if(!If(r))return[];if(r=zf(r),t>=e.length||r>=e.length)return[];let i=mf(t,r+1);n=Rf(e,i)}return n}(u,f,c),h=null;if("average"===a){let e=Jf(Po(p,t));h={[t]:e}}else if("averageIn95"===a){let e=Po(p,t),n=Jf(e),r=function(e){return kf(e)?0===rf(e)?null:(e=Kf(e,(e=>Ol(e))),e=Po(e,Ql),rf(e)<=1?null:tc.sampleStd(e)):null}(e),i=[];ze(p,(e=>{let o=Hi(e,t);Ol(o)&&(o=Ql(o),o>=n-2*r&&o<=n+2*r&&i.push(o))}));let o=Jf(i);h={[t]:o}}else if("maxCount"===a){let e=function(e){if(!kf(e))return[];if(0===rf(e))return[];let t=[];if(ze(e,(e=>{(Ol(e)||Tl(e))&&t.push(dc(e))})),0===rf(t))return[];t=Po(t,(e=>({v:e})));let n=cc(t,"v");return n=Po(n,((e,t)=>({key:t,count:rf(e)}))),n=Cs(n,"count"),n=hc(n),n}(Po(p,t)),n=Hi(e,"0.key",""),r=Hi(e,"0.count","");h={[t]:n,count:r}}let d=gc(gc({},e),h);s.push(d)})),s}var bc=Array.prototype.join;var yc,wc,xc=function(e,t){return null==e?"":bc.call(e,t)},$c=9e15,Mc=1e9,Sc="0123456789abcdef",Rc="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",kc="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Ec={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-$c,maxE:$c,crypto:!1},Lc=!0,Dc="[DecimalError] ",Pc=Dc+"Invalid argument: ",Cc=Dc+"Precision limit exceeded",Tc=Dc+"crypto unavailable",Oc="[object Decimal]",Fc=Math.floor,jc=Math.pow,qc=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,_c=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Ac=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Nc=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,zc=1e7,Ic=7,Uc=Rc.length-1,Gc=kc.length-1,Bc={toStringTag:Oc};
/*!
   *  decimal.js v10.4.3
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   */function Qc(e){var t,n,r,i=e.length-1,o="",a=e[0];if(i>0){for(o+=a,t=1;t<i;t++)r=e[t]+"",(n=Ic-r.length)&&(o+=np(n)),o+=r;a=e[t],(n=Ic-(r=a+"").length)&&(o+=np(n))}else if(0===a)return"0";for(;a%10==0;)a/=10;return o+a}function Hc(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Pc+e)}function Wc(e,t,n,r){var i,o,a,u;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=Ic,i=0):(i=Math.ceil((t+1)/Ic),t%=Ic),o=jc(10,Ic-t),u=e[i]%o|0,null==r?t<3?(0==t?u=u/100|0:1==t&&(u=u/10|0),a=n<4&&99999==u||n>3&&49999==u||5e4==u||0==u):a=(n<4&&u+1==o||n>3&&u+1==o/2)&&(e[i+1]/o/100|0)==jc(10,t-2)-1||(u==o/2||0==u)&&0==(e[i+1]/o/100|0):t<4?(0==t?u=u/1e3|0:1==t?u=u/100|0:2==t&&(u=u/10|0),a=(r||n<4)&&9999==u||!r&&n>3&&4999==u):a=((r||n<4)&&u+1==o||!r&&n>3&&u+1==o/2)&&(e[i+1]/o/1e3|0)==jc(10,t-3)-1,a}function Vc(e,t,n){for(var r,i,o=[0],a=0,u=e.length;a<u;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=Sc.indexOf(e.charAt(a++)),r=0;r<o.length;r++)o[r]>n-1&&(void 0===o[r+1]&&(o[r+1]=0),o[r+1]+=o[r]/n|0,o[r]%=n)}return o.reverse()}Bc.absoluteValue=Bc.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Zc(e)},Bc.ceil=function(){return Zc(new this.constructor(this),this.e+1,2)},Bc.clampedTo=Bc.clamp=function(e,t){var n=this,r=n.constructor;if(e=new r(e),t=new r(t),!e.s||!t.s)return new r(NaN);if(e.gt(t))throw Error(Pc+t);return n.cmp(e)<0?e:n.cmp(t)>0?t:new r(n)},Bc.comparedTo=Bc.cmp=function(e){var t,n,r,i,o=this,a=o.d,u=(e=new o.constructor(e)).d,l=o.s,s=e.s;if(!a||!u)return l&&s?l!==s?l:a===u?0:!a^l<0?1:-1:NaN;if(!a[0]||!u[0])return a[0]?l:u[0]?-s:0;if(l!==s)return l;if(o.e!==e.e)return o.e>e.e^l<0?1:-1;for(t=0,n=(r=a.length)<(i=u.length)?r:i;t<n;++t)if(a[t]!==u[t])return a[t]>u[t]^l<0?1:-1;return r===i?0:r>i^l<0?1:-1},Bc.cosine=Bc.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+Ic,r.rounding=1,n=function(e,t){var n,r,i;if(t.isZero())return t;r=t.d.length,r<32?i=(1/pp(4,n=Math.ceil(r/3))).toString():(n=16,i="2.3283064365386962890625e-10");e.precision+=n,t=cp(e,1,t.times(i),new e(1));for(var o=n;o--;){var a=t.times(t);t=a.times(a).minus(a).times(8).plus(1)}return e.precision-=n,t}(r,hp(r,n)),r.precision=e,r.rounding=t,Zc(2==wc||3==wc?n.neg():n,e,t,!0)):new r(1):new r(NaN)},Bc.cubeRoot=Bc.cbrt=function(){var e,t,n,r,i,o,a,u,l,s,f=this,c=f.constructor;if(!f.isFinite()||f.isZero())return new c(f);for(Lc=!1,(o=f.s*jc(f.s*f,1/3))&&Math.abs(o)!=1/0?r=new c(o.toString()):(n=Qc(f.d),(o=((e=f.e)-n.length+1)%3)&&(n+=1==o||-2==o?"0":"00"),o=jc(n,1/3),e=Fc((e+1)/3)-(e%3==(e<0?-1:2)),(r=new c(n=o==1/0?"5e"+e:(n=o.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=f.s),a=(e=c.precision)+3;;)if(s=(l=(u=r).times(u).times(u)).plus(f),r=Yc(s.plus(f).times(u),s.plus(l),a+2,1),Qc(u.d).slice(0,a)===(n=Qc(r.d)).slice(0,a)){if("9999"!=(n=n.slice(a-3,a+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(Zc(r,e+1,1),t=!r.times(r).times(r).eq(f));break}if(!i&&(Zc(u,e+1,0),u.times(u).times(u).eq(f))){r=u;break}a+=4,i=1}return Lc=!0,Zc(r,e,c.rounding,t)},Bc.decimalPlaces=Bc.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=((e=t.length-1)-Fc(this.e/Ic))*Ic,e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},Bc.dividedBy=Bc.div=function(e){return Yc(this,new this.constructor(e))},Bc.dividedToIntegerBy=Bc.divToInt=function(e){var t=this.constructor;return Zc(Yc(this,new t(e),0,1,1),t.precision,t.rounding)},Bc.equals=Bc.eq=function(e){return 0===this.cmp(e)},Bc.floor=function(){return Zc(new this.constructor(this),this.e+1,3)},Bc.greaterThan=Bc.gt=function(e){return this.cmp(e)>0},Bc.greaterThanOrEqualTo=Bc.gte=function(e){var t=this.cmp(e);return 1==t||0===t},Bc.hyperbolicCosine=Bc.cosh=function(){var e,t,n,r,i,o=this,a=o.constructor,u=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return u;n=a.precision,r=a.rounding,a.precision=n+Math.max(o.e,o.sd())+4,a.rounding=1,(i=o.d.length)<32?t=(1/pp(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),o=cp(a,1,o.times(t),new a(1),!0);for(var l,s=e,f=new a(8);s--;)l=o.times(o),o=u.minus(l.times(f.minus(l.times(f))));return Zc(o,a.precision=n,a.rounding=r,!0)},Bc.hyperbolicSine=Bc.sinh=function(){var e,t,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,n=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,(r=i.d.length)<3)i=cp(o,2,i,i,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,i=cp(o,2,i=i.times(1/pp(5,e)),i,!0);for(var a,u=new o(5),l=new o(16),s=new o(20);e--;)a=i.times(i),i=i.times(u.plus(a.times(l.times(a).plus(s))))}return o.precision=t,o.rounding=n,Zc(i,t,n,!0)},Bc.hyperbolicTangent=Bc.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,Yc(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},Bc.inverseCosine=Bc.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),i=n.precision,o=n.rounding;return-1!==r?0===r?t.isNeg()?ep(n,i,o):new n(0):new n(NaN):t.isZero()?ep(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,t=t.asin(),e=ep(n,i+4,o).times(.5),n.precision=i,n.rounding=o,e.minus(t))},Bc.inverseHyperbolicCosine=Bc.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,Lc=!1,n=n.times(n).minus(1).sqrt().plus(n),Lc=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},Bc.inverseHyperbolicSine=Bc.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,Lc=!1,n=n.times(n).plus(1).sqrt().plus(n),Lc=!0,r.precision=e,r.rounding=t,n.ln())},Bc.inverseHyperbolicTangent=Bc.atanh=function(){var e,t,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,r=i.sd(),Math.max(r,e)<2*-i.e-1?Zc(new o(i),e,t,!0):(o.precision=n=r-i.e,i=Yc(i.plus(1),new o(1).minus(i),n+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5))):new o(NaN)},Bc.inverseSine=Bc.asin=function(){var e,t,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),n=o.precision,r=o.rounding,-1!==t?0===t?((e=ep(o,n+4,r).times(.5)).s=i.s,e):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))},Bc.inverseTangent=Bc.atan=function(){var e,t,n,r,i,o,a,u,l,s=this,f=s.constructor,c=f.precision,p=f.rounding;if(s.isFinite()){if(s.isZero())return new f(s);if(s.abs().eq(1)&&c+4<=Gc)return(a=ep(f,c+4,p).times(.25)).s=s.s,a}else{if(!s.s)return new f(NaN);if(c+4<=Gc)return(a=ep(f,c+4,p).times(.5)).s=s.s,a}for(f.precision=u=c+10,f.rounding=1,e=n=Math.min(28,u/Ic+2|0);e;--e)s=s.div(s.times(s).plus(1).sqrt().plus(1));for(Lc=!1,t=Math.ceil(u/Ic),r=1,l=s.times(s),a=new f(s),i=s;-1!==e;)if(i=i.times(l),o=a.minus(i.div(r+=2)),i=i.times(l),void 0!==(a=o.plus(i.div(r+=2))).d[t])for(e=t;a.d[e]===o.d[e]&&e--;);return n&&(a=a.times(2<<n-1)),Lc=!0,Zc(a,f.precision=c,f.rounding=p,!0)},Bc.isFinite=function(){return!!this.d},Bc.isInteger=Bc.isInt=function(){return!!this.d&&Fc(this.e/Ic)>this.d.length-2},Bc.isNaN=function(){return!this.s},Bc.isNegative=Bc.isNeg=function(){return this.s<0},Bc.isPositive=Bc.isPos=function(){return this.s>0},Bc.isZero=function(){return!!this.d&&0===this.d[0]},Bc.lessThan=Bc.lt=function(e){return this.cmp(e)<0},Bc.lessThanOrEqualTo=Bc.lte=function(e){return this.cmp(e)<1},Bc.logarithm=Bc.log=function(e){var t,n,r,i,o,a,u,l,s=this,f=s.constructor,c=f.precision,p=f.rounding;if(null==e)e=new f(10),t=!0;else{if(n=(e=new f(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new f(NaN);t=e.eq(10)}if(n=s.d,s.s<0||!n||!n[0]||s.eq(1))return new f(n&&!n[0]?-1/0:1!=s.s?NaN:n?0:1/0);if(t)if(n.length>1)o=!0;else{for(i=n[0];i%10==0;)i/=10;o=1!==i}if(Lc=!1,a=up(s,u=c+5),r=t?Xc(f,u+10):up(e,u),Wc((l=Yc(a,r,u,1)).d,i=c,p))do{if(a=up(s,u+=10),r=t?Xc(f,u+10):up(e,u),l=Yc(a,r,u,1),!o){+Qc(l.d).slice(i+1,i+15)+1==1e14&&(l=Zc(l,c+1,0));break}}while(Wc(l.d,i+=10,p));return Lc=!0,Zc(l,c,p)},Bc.minus=Bc.sub=function(e){var t,n,r,i,o,a,u,l,s,f,c,p,h=this,d=h.constructor;if(e=new d(e),!h.d||!e.d)return h.s&&e.s?h.d?e.s=-e.s:e=new d(e.d||h.s!==e.s?h:NaN):e=new d(NaN),e;if(h.s!=e.s)return e.s=-e.s,h.plus(e);if(s=h.d,p=e.d,u=d.precision,l=d.rounding,!s[0]||!p[0]){if(p[0])e.s=-e.s;else{if(!s[0])return new d(3===l?-0:0);e=new d(h)}return Lc?Zc(e,u,l):e}if(n=Fc(e.e/Ic),f=Fc(h.e/Ic),s=s.slice(),o=f-n){for((c=o<0)?(t=s,o=-o,a=p.length):(t=p,n=f,a=s.length),o>(r=Math.max(Math.ceil(u/Ic),a)+2)&&(o=r,t.length=1),t.reverse(),r=o;r--;)t.push(0);t.reverse()}else{for((c=(r=s.length)<(a=p.length))&&(a=r),r=0;r<a;r++)if(s[r]!=p[r]){c=s[r]<p[r];break}o=0}for(c&&(t=s,s=p,p=t,e.s=-e.s),a=s.length,r=p.length-a;r>0;--r)s[a++]=0;for(r=p.length;r>o;){if(s[--r]<p[r]){for(i=r;i&&0===s[--i];)s[i]=zc-1;--s[i],s[r]+=zc}s[r]-=p[r]}for(;0===s[--a];)s.pop();for(;0===s[0];s.shift())--n;return s[0]?(e.d=s,e.e=Jc(s,n),Lc?Zc(e,u,l):e):new d(3===l?-0:0)},Bc.modulo=Bc.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?Zc(new r(n),r.precision,r.rounding):(Lc=!1,9==r.modulo?(t=Yc(n,e.abs(),0,3,1)).s*=e.s:t=Yc(n,e,0,r.modulo,1),t=t.times(e),Lc=!0,n.minus(t))},Bc.naturalExponential=Bc.exp=function(){return ap(this)},Bc.naturalLogarithm=Bc.ln=function(){return up(this)},Bc.negated=Bc.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Zc(e)},Bc.plus=Bc.add=function(e){var t,n,r,i,o,a,u,l,s,f,c=this,p=c.constructor;if(e=new p(e),!c.d||!e.d)return c.s&&e.s?c.d||(e=new p(e.d||c.s===e.s?c:NaN)):e=new p(NaN),e;if(c.s!=e.s)return e.s=-e.s,c.minus(e);if(s=c.d,f=e.d,u=p.precision,l=p.rounding,!s[0]||!f[0])return f[0]||(e=new p(c)),Lc?Zc(e,u,l):e;if(o=Fc(c.e/Ic),r=Fc(e.e/Ic),s=s.slice(),i=o-r){for(i<0?(n=s,i=-i,a=f.length):(n=f,r=o,a=s.length),i>(a=(o=Math.ceil(u/Ic))>a?o+1:a+1)&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((a=s.length)-(i=f.length)<0&&(i=a,n=f,f=s,s=n),t=0;i;)t=(s[--i]=s[i]+f[i]+t)/zc|0,s[i]%=zc;for(t&&(s.unshift(t),++r),a=s.length;0==s[--a];)s.pop();return e.d=s,e.e=Jc(s,r),Lc?Zc(e,u,l):e},Bc.precision=Bc.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(Pc+e);return n.d?(t=tp(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},Bc.round=function(){var e=this,t=e.constructor;return Zc(new t(e),e.e+1,t.rounding)},Bc.sine=Bc.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+Ic,r.rounding=1,n=function(e,t){var n,r=t.d.length;if(r<3)return t.isZero()?t:cp(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=t.times(1/pp(5,n)),t=cp(e,2,t,t);for(var i,o=new e(5),a=new e(16),u=new e(20);n--;)i=t.times(t),t=t.times(o.plus(i.times(a.times(i).minus(u))));return t}(r,hp(r,n)),r.precision=e,r.rounding=t,Zc(wc>2?n.neg():n,e,t,!0)):new r(NaN)},Bc.squareRoot=Bc.sqrt=function(){var e,t,n,r,i,o,a=this,u=a.d,l=a.e,s=a.s,f=a.constructor;if(1!==s||!u||!u[0])return new f(!s||s<0&&(!u||u[0])?NaN:u?a:1/0);for(Lc=!1,0==(s=Math.sqrt(+a))||s==1/0?(((t=Qc(u)).length+l)%2==0&&(t+="0"),s=Math.sqrt(t),l=Fc((l+1)/2)-(l<0||l%2),r=new f(t=s==1/0?"5e"+l:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+l)):r=new f(s.toString()),n=(l=f.precision)+3;;)if(r=(o=r).plus(Yc(a,o,n+2,1)).times(.5),Qc(o.d).slice(0,n)===(t=Qc(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(Zc(r,l+1,1),e=!r.times(r).eq(a));break}if(!i&&(Zc(o,l+1,0),o.times(o).eq(a))){r=o;break}n+=4,i=1}return Lc=!0,Zc(r,l,f.rounding,e)},Bc.tangent=Bc.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=Yc(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,Zc(2==wc||4==wc?n.neg():n,e,t,!0)):new r(NaN)},Bc.times=Bc.mul=function(e){var t,n,r,i,o,a,u,l,s,f=this,c=f.constructor,p=f.d,h=(e=new c(e)).d;if(e.s*=f.s,!(p&&p[0]&&h&&h[0]))return new c(!e.s||p&&!p[0]&&!h||h&&!h[0]&&!p?NaN:p&&h?0*e.s:e.s/0);for(n=Fc(f.e/Ic)+Fc(e.e/Ic),(l=p.length)<(s=h.length)&&(o=p,p=h,h=o,a=l,l=s,s=a),o=[],r=a=l+s;r--;)o.push(0);for(r=s;--r>=0;){for(t=0,i=l+r;i>r;)u=o[i]+h[r]*p[i-r-1]+t,o[i--]=u%zc|0,t=u/zc|0;o[i]=(o[i]+t)%zc|0}for(;!o[--a];)o.pop();return t?++n:o.shift(),e.d=o,e.e=Jc(o,n),Lc?Zc(e,c.precision,c.rounding):e},Bc.toBinary=function(e,t){return dp(this,2,e,t)},Bc.toDecimalPlaces=Bc.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(Hc(e,0,Mc),void 0===t?t=r.rounding:Hc(t,0,8),Zc(n,e+n.e+1,t))},Bc.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=Kc(r,!0):(Hc(e,0,Mc),void 0===t?t=i.rounding:Hc(t,0,8),n=Kc(r=Zc(new i(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},Bc.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?n=Kc(i):(Hc(e,0,Mc),void 0===t?t=o.rounding:Hc(t,0,8),n=Kc(r=Zc(new o(i),e+i.e+1,t),!1,e+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},Bc.toFraction=function(e){var t,n,r,i,o,a,u,l,s,f,c,p,h=this,d=h.d,v=h.constructor;if(!d)return new v(h);if(s=n=new v(1),r=l=new v(0),a=(o=(t=new v(r)).e=tp(d)-h.e-1)%Ic,t.d[0]=jc(10,a<0?Ic+a:a),null==e)e=o>0?t:s;else{if(!(u=new v(e)).isInt()||u.lt(s))throw Error(Pc+u);e=u.gt(t)?o>0?t:s:u}for(Lc=!1,u=new v(Qc(d)),f=v.precision,v.precision=o=d.length*Ic*2;c=Yc(u,t,0,1,1),1!=(i=n.plus(c.times(r))).cmp(e);)n=r,r=i,i=s,s=l.plus(c.times(i)),l=i,i=t,t=u.minus(c.times(i)),u=i;return i=Yc(e.minus(n),r,0,1,1),l=l.plus(i.times(s)),n=n.plus(i.times(r)),l.s=s.s=h.s,p=Yc(s,r,o,1).minus(h).abs().cmp(Yc(l,n,o,1).minus(h).abs())<1?[s,r]:[l,n],v.precision=f,Lc=!0,p},Bc.toHexadecimal=Bc.toHex=function(e,t){return dp(this,16,e,t)},Bc.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:Hc(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(Lc=!1,n=Yc(n,e,0,t,1).times(e),Lc=!0,Zc(n)):(e.s=n.s,n=e),n},Bc.toNumber=function(){return+this},Bc.toOctal=function(e,t){return dp(this,8,e,t)},Bc.toPower=Bc.pow=function(e){var t,n,r,i,o,a,u=this,l=u.constructor,s=+(e=new l(e));if(!(u.d&&e.d&&u.d[0]&&e.d[0]))return new l(jc(+u,s));if((u=new l(u)).eq(1))return u;if(r=l.precision,o=l.rounding,e.eq(1))return Zc(u,r,o);if((t=Fc(e.e/Ic))>=e.d.length-1&&(n=s<0?-s:s)<=9007199254740991)return i=rp(l,u,n,r),e.s<0?new l(1).div(i):Zc(i,r,o);if((a=u.s)<0){if(t<e.d.length-1)return new l(NaN);if(0==(1&e.d[t])&&(a=1),0==u.e&&1==u.d[0]&&1==u.d.length)return u.s=a,u}return(t=0!=(n=jc(+u,s))&&isFinite(n)?new l(n+"").e:Fc(s*(Math.log("0."+Qc(u.d))/Math.LN10+u.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?a/0:0):(Lc=!1,l.rounding=u.s=1,n=Math.min(12,(t+"").length),(i=ap(e.times(up(u,r+n)),r)).d&&Wc((i=Zc(i,r+5,1)).d,r,o)&&(t=r+10,+Qc((i=Zc(ap(e.times(up(u,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(i=Zc(i,r+1,0))),i.s=a,Lc=!0,l.rounding=o,Zc(i,r,o))},Bc.toPrecision=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=Kc(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(Hc(e,1,Mc),void 0===t?t=i.rounding:Hc(t,0,8),n=Kc(r=Zc(new i(r),e,t),e<=r.e||r.e<=i.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},Bc.toSignificantDigits=Bc.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(Hc(e,1,Mc),void 0===t?t=n.rounding:Hc(t,0,8)),Zc(new n(this),e,t)},Bc.toString=function(){var e=this,t=e.constructor,n=Kc(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},Bc.truncated=Bc.trunc=function(){return Zc(new this.constructor(this),this.e+1,1)},Bc.valueOf=Bc.toJSON=function(){var e=this,t=e.constructor,n=Kc(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var Yc=function(){function e(e,t,n){var r,i=0,o=e.length;for(e=e.slice();o--;)r=e[o]*t+i,e[o]=r%n|0,i=r/n|0;return i&&e.unshift(i),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,o,a,u,l){var s,f,c,p,h,d,v,g,m,b,y,w,x,$,M,S,R,k,E,L,D=r.constructor,P=r.s==i.s?1:-1,C=r.d,T=i.d;if(!(C&&C[0]&&T&&T[0]))return new D(r.s&&i.s&&(C?!T||C[0]!=T[0]:T)?C&&0==C[0]||!T?0*P:P/0:NaN);for(l?(h=1,f=r.e-i.e):(l=zc,h=Ic,f=Fc(r.e/h)-Fc(i.e/h)),E=T.length,R=C.length,b=(m=new D(P)).d=[],c=0;T[c]==(C[c]||0);c++);if(T[c]>(C[c]||0)&&f--,null==o?($=o=D.precision,a=D.rounding):$=u?o+(r.e-i.e)+1:o,$<0)b.push(1),d=!0;else{if($=$/h+2|0,c=0,1==E){for(p=0,T=T[0],$++;(c<R||p)&&$--;c++)M=p*l+(C[c]||0),b[c]=M/T|0,p=M%T|0;d=p||c<R}else{for((p=l/(T[0]+1)|0)>1&&(T=e(T,p,l),C=e(C,p,l),E=T.length,R=C.length),S=E,w=(y=C.slice(0,E)).length;w<E;)y[w++]=0;(L=T.slice()).unshift(0),k=T[0],T[1]>=l/2&&++k;do{p=0,(s=t(T,y,E,w))<0?(x=y[0],E!=w&&(x=x*l+(y[1]||0)),(p=x/k|0)>1?(p>=l&&(p=l-1),1==(s=t(v=e(T,p,l),y,g=v.length,w=y.length))&&(p--,n(v,E<g?L:T,g,l))):(0==p&&(s=p=1),v=T.slice()),(g=v.length)<w&&v.unshift(0),n(y,v,w,l),-1==s&&(s=t(T,y,E,w=y.length))<1&&(p++,n(y,E<w?L:T,w,l)),w=y.length):0===s&&(p++,y=[0]),b[c++]=p,s&&y[0]?y[w++]=C[S]||0:(y=[C[S]],w=1)}while((S++<R||void 0!==y[0])&&$--);d=void 0!==y[0]}b[0]||b.shift()}if(1==h)m.e=f,yc=d;else{for(c=1,p=b[0];p>=10;p/=10)c++;m.e=c+f*h-1,Zc(m,u?o+m.e+1:o,a,d)}return m}}();function Zc(e,t,n,r){var i,o,a,u,l,s,f,c,p,h=e.constructor;e:if(null!=t){if(!(c=e.d))return e;for(i=1,u=c[0];u>=10;u/=10)i++;if((o=t-i)<0)o+=Ic,a=t,l=(f=c[p=0])/jc(10,i-a-1)%10|0;else if((p=Math.ceil((o+1)/Ic))>=(u=c.length)){if(!r)break e;for(;u++<=p;)c.push(0);f=l=0,i=1,a=(o%=Ic)-Ic+1}else{for(f=u=c[p],i=1;u>=10;u/=10)i++;l=(a=(o%=Ic)-Ic+i)<0?0:f/jc(10,i-a-1)%10|0}if(r=r||t<0||void 0!==c[p+1]||(a<0?f:f%jc(10,i-a-1)),s=n<4?(l||r)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||r||6==n&&(o>0?a>0?f/jc(10,i-a):0:c[p-1])%10&1||n==(e.s<0?8:7)),t<1||!c[0])return c.length=0,s?(t-=e.e+1,c[0]=jc(10,(Ic-t%Ic)%Ic),e.e=-t||0):c[0]=e.e=0,e;if(0==o?(c.length=p,u=1,p--):(c.length=p+1,u=jc(10,Ic-o),c[p]=a>0?(f/jc(10,i-a)%jc(10,a)|0)*u:0),s)for(;;){if(0==p){for(o=1,a=c[0];a>=10;a/=10)o++;for(a=c[0]+=u,u=1;a>=10;a/=10)u++;o!=u&&(e.e++,c[0]==zc&&(c[0]=1));break}if(c[p]+=u,c[p]!=zc)break;c[p--]=0,u=1}for(o=c.length;0===c[--o];)c.pop()}return Lc&&(e.e>h.maxE?(e.d=null,e.e=NaN):e.e<h.minE&&(e.e=0,e.d=[0])),e}function Kc(e,t,n){if(!e.isFinite())return lp(e);var r,i=e.e,o=Qc(e.d),a=o.length;return t?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+np(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+np(-i-1)+o,n&&(r=n-a)>0&&(o+=np(r))):i>=a?(o+=np(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+np(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=np(r))),o}function Jc(e,t){var n=e[0];for(t*=Ic;n>=10;n/=10)t++;return t}function Xc(e,t,n){if(t>Uc)throw Lc=!0,n&&(e.precision=n),Error(Cc);return Zc(new e(Rc),t,1,!0)}function ep(e,t,n){if(t>Gc)throw Error(Cc);return Zc(new e(kc),t,n,!0)}function tp(e){var t=e.length-1,n=t*Ic+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function np(e){for(var t="";e--;)t+="0";return t}function rp(e,t,n,r){var i,o=new e(1),a=Math.ceil(r/Ic+4);for(Lc=!1;;){if(n%2&&vp((o=o.times(t)).d,a)&&(i=!0),0===(n=Fc(n/2))){n=o.d.length-1,i&&0===o.d[n]&&++o.d[n];break}vp((t=t.times(t)).d,a)}return Lc=!0,o}function ip(e){return 1&e.d[e.d.length-1]}function op(e,t,n){for(var r,i=new e(t[0]),o=0;++o<t.length;){if(!(r=new e(t[o])).s){i=r;break}i[n](r)&&(i=r)}return i}function ap(e,t){var n,r,i,o,a,u,l,s=0,f=0,c=0,p=e.constructor,h=p.rounding,d=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(Lc=!1,l=d):l=t,u=new p(.03125);e.e>-2;)e=e.times(u),c+=5;for(l+=r=Math.log(jc(2,c))/Math.LN10*2+5|0,n=o=a=new p(1),p.precision=l;;){if(o=Zc(o.times(e),l,1),n=n.times(++f),Qc((u=a.plus(Yc(o,n,l,1))).d).slice(0,l)===Qc(a.d).slice(0,l)){for(i=c;i--;)a=Zc(a.times(a),l,1);if(null!=t)return p.precision=d,a;if(!(s<3&&Wc(a.d,l-r,h,s)))return Zc(a,p.precision=d,h,Lc=!0);p.precision=l+=10,n=o=u=new p(1),f=0,s++}a=u}}function up(e,t){var n,r,i,o,a,u,l,s,f,c,p,h=1,d=e,v=d.d,g=d.constructor,m=g.rounding,b=g.precision;if(d.s<0||!v||!v[0]||!d.e&&1==v[0]&&1==v.length)return new g(v&&!v[0]?-1/0:1!=d.s?NaN:v?0:d);if(null==t?(Lc=!1,f=b):f=t,g.precision=f+=10,r=(n=Qc(v)).charAt(0),!(Math.abs(o=d.e)<15e14))return s=Xc(g,f+2,b).times(o+""),d=up(new g(r+"."+n.slice(1)),f-10).plus(s),g.precision=b,null==t?Zc(d,b,m,Lc=!0):d;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=Qc((d=d.times(e)).d)).charAt(0),h++;for(o=d.e,r>1?(d=new g("0."+n),o++):d=new g(r+"."+n.slice(1)),c=d,l=a=d=Yc(d.minus(1),d.plus(1),f,1),p=Zc(d.times(d),f,1),i=3;;){if(a=Zc(a.times(p),f,1),Qc((s=l.plus(Yc(a,new g(i),f,1))).d).slice(0,f)===Qc(l.d).slice(0,f)){if(l=l.times(2),0!==o&&(l=l.plus(Xc(g,f+2,b).times(o+""))),l=Yc(l,new g(h),f,1),null!=t)return g.precision=b,l;if(!Wc(l.d,f-10,m,u))return Zc(l,g.precision=b,m,Lc=!0);g.precision=f+=10,s=a=d=Yc(c.minus(1),c.plus(1),f,1),p=Zc(d.times(d),f,1),i=u=1}l=s,i+=2}}function lp(e){return String(e.s*e.s/0)}function sp(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(r,i)){if(i-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%Ic,n<0&&(r+=Ic),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Ic;r<i;)e.d.push(+t.slice(r,r+=Ic));t=t.slice(r),r=Ic-t.length}else r-=i;for(;r--;)t+="0";e.d.push(+t),Lc&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function fp(e,t){var n,r,i,o,a,u,l,s,f;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Nc.test(t))return sp(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(_c.test(t))n=16,t=t.toLowerCase();else if(qc.test(t))n=2;else{if(!Ac.test(t))throw Error(Pc+t);n=8}for((o=t.search(/p/i))>0?(l=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),a=(o=t.indexOf("."))>=0,r=e.constructor,a&&(o=(u=(t=t.replace(".","")).length)-o,i=rp(r,new r(n),o,2*o)),o=f=(s=Vc(t,n,zc)).length-1;0===s[o];--o)s.pop();return o<0?new r(0*e.s):(e.e=Jc(s,f),e.d=s,Lc=!1,a&&(e=Yc(e,i,4*u)),l&&(e=e.times(Math.abs(l)<54?jc(2,l):nh.pow(2,l))),Lc=!0,e)}function cp(e,t,n,r,i){var o,a,u,l,s=e.precision,f=Math.ceil(s/Ic);for(Lc=!1,l=n.times(n),u=new e(r);;){if(a=Yc(u.times(l),new e(t++*t++),s,1),u=i?r.plus(a):r.minus(a),r=Yc(a.times(l),new e(t++*t++),s,1),void 0!==(a=u.plus(r)).d[f]){for(o=f;a.d[o]===u.d[o]&&o--;);if(-1==o)break}o=u,u=r,r=a,a=o}return Lc=!0,a.d.length=f+1,a}function pp(e,t){for(var n=e;--t;)n*=e;return n}function hp(e,t){var n,r=t.s<0,i=ep(e,e.precision,1),o=i.times(.5);if((t=t.abs()).lte(o))return wc=r?4:1,t;if((n=t.divToInt(i)).isZero())wc=r?3:2;else{if((t=t.minus(n.times(i))).lte(o))return wc=ip(n)?r?2:3:r?4:1,t;wc=ip(n)?r?1:4:r?3:2}return t.minus(i).abs()}function dp(e,t,n,r){var i,o,a,u,l,s,f,c,p,h=e.constructor,d=void 0!==n;if(d?(Hc(n,1,Mc),void 0===r?r=h.rounding:Hc(r,0,8)):(n=h.precision,r=h.rounding),e.isFinite()){for(d?(i=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):i=t,(a=(f=Kc(e)).indexOf("."))>=0&&(f=f.replace(".",""),(p=new h(1)).e=f.length-a,p.d=Vc(Kc(p),10,i),p.e=p.d.length),o=l=(c=Vc(f,10,i)).length;0==c[--l];)c.pop();if(c[0]){if(a<0?o--:((e=new h(e)).d=c,e.e=o,c=(e=Yc(e,p,n,r,0,i)).d,o=e.e,s=yc),a=c[n],u=i/2,s=s||void 0!==c[n+1],s=r<4?(void 0!==a||s)&&(0===r||r===(e.s<0?3:2)):a>u||a===u&&(4===r||s||6===r&&1&c[n-1]||r===(e.s<0?8:7)),c.length=n,s)for(;++c[--n]>i-1;)c[n]=0,n||(++o,c.unshift(1));for(l=c.length;!c[l-1];--l);for(a=0,f="";a<l;a++)f+=Sc.charAt(c[a]);if(d){if(l>1)if(16==t||8==t){for(a=16==t?4:3,--l;l%a;l++)f+="0";for(l=(c=Vc(f,i,t)).length;!c[l-1];--l);for(a=1,f="1.";a<l;a++)f+=Sc.charAt(c[a])}else f=f.charAt(0)+"."+f.slice(1);f=f+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)f="0"+f;f="0."+f}else if(++o>l)for(o-=l;o--;)f+="0";else o<l&&(f=f.slice(0,o)+"."+f.slice(o))}else f=d?"0p+0":"0";f=(16==t?"0x":2==t?"0b":8==t?"0o":"")+f}else f=lp(e);return e.s<0?"-"+f:f}function vp(e,t){if(e.length>t)return e.length=t,!0}function gp(e){return new this(e).abs()}function mp(e){return new this(e).acos()}function bp(e){return new this(e).acosh()}function yp(e,t){return new this(e).plus(t)}function wp(e){return new this(e).asin()}function xp(e){return new this(e).asinh()}function $p(e){return new this(e).atan()}function Mp(e){return new this(e).atanh()}function Sp(e,t){e=new this(e),t=new this(t);var n,r=this.precision,i=this.rounding,o=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?ep(this,r,i):new this(0)).s=e.s:!e.d||t.isZero()?(n=ep(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,n=this.atan(Yc(e,t,o,1)),t=ep(this,o,1),this.precision=r,this.rounding=i,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(Yc(e,t,o,1)):(n=ep(this,o,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function Rp(e){return new this(e).cbrt()}function kp(e){return Zc(e=new this(e),e.e+1,2)}function Ep(e,t,n){return new this(e).clamp(t,n)}function Lp(e){if(!e||"object"!=typeof e)throw Error(Dc+"Object expected");var t,n,r,i=!0===e.defaults,o=["precision",1,Mc,"rounding",0,8,"toExpNeg",-$c,0,"toExpPos",0,$c,"maxE",0,$c,"minE",-$c,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(n=o[t],i&&(this[n]=Ec[n]),void 0!==(r=e[n])){if(!(Fc(r)===r&&r>=o[t+1]&&r<=o[t+2]))throw Error(Pc+n+": "+r);this[n]=r}if(n="crypto",i&&(this[n]=Ec[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(Pc+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(Tc);this[n]=!0}else this[n]=!1}return this}function Dp(e){return new this(e).cos()}function Pp(e){return new this(e).cosh()}function Cp(e,t){return new this(e).div(t)}function Tp(e){return new this(e).exp()}function Op(e){return Zc(e=new this(e),e.e+1,3)}function Fp(){var e,t,n=new this(0);for(Lc=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return Lc=!0,new this(1/0);n=t}return Lc=!0,n.sqrt()}function jp(e){return e instanceof nh||e&&e.toStringTag===Oc||!1}function qp(e){return new this(e).ln()}function _p(e,t){return new this(e).log(t)}function Ap(e){return new this(e).log(2)}function Np(e){return new this(e).log(10)}function zp(){return op(this,arguments,"lt")}function Ip(){return op(this,arguments,"gt")}function Up(e,t){return new this(e).mod(t)}function Gp(e,t){return new this(e).mul(t)}function Bp(e,t){return new this(e).pow(t)}function Qp(e){var t,n,r,i,o=0,a=new this(1),u=[];if(void 0===e?e=this.precision:Hc(e,1,Mc),r=Math.ceil(e/Ic),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));o<r;)(i=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:u[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(Tc);for(t=crypto.randomBytes(r*=4);o<r;)(i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(u.push(i%1e7),o+=4);o=r/4}else for(;o<r;)u[o++]=1e7*Math.random()|0;for(r=u[--o],e%=Ic,r&&e&&(i=jc(10,Ic-e),u[o]=(r/i|0)*i);0===u[o];o--)u.pop();if(o<0)n=0,u=[0];else{for(n=-1;0===u[0];n-=Ic)u.shift();for(r=1,i=u[0];i>=10;i/=10)r++;r<Ic&&(n-=Ic-r)}return a.e=n,a.d=u,a}function Hp(e){return Zc(e=new this(e),e.e+1,this.rounding)}function Wp(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Vp(e){return new this(e).sin()}function Yp(e){return new this(e).sinh()}function Zp(e){return new this(e).sqrt()}function Kp(e,t){return new this(e).sub(t)}function Jp(){var e=0,t=arguments,n=new this(t[e]);for(Lc=!1;n.s&&++e<t.length;)n=n.plus(t[e]);return Lc=!0,Zc(n,this.precision,this.rounding)}function Xp(e){return new this(e).tan()}function eh(e){return new this(e).tanh()}function th(e){return Zc(e=new this(e),e.e+1,1)}Bc[Symbol.for("nodejs.util.inspect.custom")]=Bc.toString,Bc[Symbol.toStringTag]="Decimal";var nh=Bc.constructor=function e(t){var n,r,i;function o(e){var t,n,r,i=this;if(!(i instanceof o))return new o(e);if(i.constructor=o,jp(e))return i.s=e.s,void(Lc?!e.d||e.e>o.maxE?(i.e=NaN,i.d=null):e.e<o.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"===(r=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(Lc?t>o.maxE?(i.e=NaN,i.d=null):t<o.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):sp(i,e.toString())}if("string"!==r)throw Error(Pc+e);return 45===(n=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===n&&(e=e.slice(1)),i.s=1),Nc.test(e)?sp(i,e):fp(i,e)}if(o.prototype=Bc,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=Lp,o.clone=e,o.isDecimal=jp,o.abs=gp,o.acos=mp,o.acosh=bp,o.add=yp,o.asin=wp,o.asinh=xp,o.atan=$p,o.atanh=Mp,o.atan2=Sp,o.cbrt=Rp,o.ceil=kp,o.clamp=Ep,o.cos=Dp,o.cosh=Pp,o.div=Cp,o.exp=Tp,o.floor=Op,o.hypot=Fp,o.ln=qp,o.log=_p,o.log10=Np,o.log2=Ap,o.max=zp,o.min=Ip,o.mod=Up,o.mul=Gp,o.pow=Bp,o.random=Qp,o.round=Hp,o.sign=Wp,o.sin=Vp,o.sinh=Yp,o.sqrt=Zp,o.sub=Kp,o.sum=Jp,o.tan=Xp,o.tanh=eh,o.trunc=th,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return o.config(t),o}(Ec);function rh(e,t){return new nh(e).eq(t)}function ih(e,t,n){if("==="===t)return rh(e,n);if("!=="===t)return function(e,t){return!rh(e,t)}(e,n);if(">="===t)return function(e,t){return new nh(e).gte(t)}(e,n);if(">"===t)return function(e,t){return new nh(e).gt(t)}(e,n);if("<="===t)return function(e,t){return new nh(e).lte(t)}(e,n);if("<"===t)return function(e,t){return new nh(e).lt(t)}(e,n);throw console.log(t),new Error("invalid op")}function oh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(!Lf(e))return n;let r=Hi(t,"keyDepthStart");Tl(r)||(r="depthStart");let i=Hi(t,"keyDepthEnd");Tl(i)||(i="depthEnd");let o=Hi(t,"stateConn");return"conn"!==o&&"overlap"!==o&&(o="conn"),ze(e,((e,t)=>{let o=Hi(e,r,null),a=Hi(e,i,null);Ol(o)||n.push(` ${t} ${r}[${o}]`),Ol(a)||n.push(` ${t} ${i}[${a}]`)})),e=Cs(e,(e=>Ql(e[r]))),ze(e,((t,a)=>{let u=Hi(t,r,null),l=Hi(t,i,null);if(u=Ql(u),l=Ql(l),ih(u,">",l)&&n.push(` ${a} ${r}[${u}]${i}[${l}]`),0===a)return!0;let s=Hi(e,a-1),f=Hi(s,i,null);f=Ql(f),"conn"===o?ih(f,"!==",u)&&n.push(` ${a} ${i}[${f}] ${a+1} ${r}[${u}]`):"overlap"===o&&ih(f,">",u)&&n.push(` ${a} ${i}[${f}] ${a+1} ${r}[${u}]`)})),n}Rc=new nh(Rc),kc=new nh(kc);let ah=lf.rw;function uh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!Ol(e))throw new Error(`v[${e}] is not a number`);if(e=Ql(e),!Ol(t))throw new Error(`depth[${t}] is not a number`);if(t=Ql(t),"kPa"!==n&&"MPa"!==n)throw new Error(`unit[${n}] need kPa or MPa`);let i=5*t,o=25*t;if("MPa"===n&&(i/=1e3,o/=1e3),Tl(r)||(r="v"),e<i)throw new Error(`${r}[${e}](${n}) < min[${i}](${n}) in depth[${t}](m)`);if(e>o)throw new Error(`${r}[${e}](${n}) > max[${o}](${n}) in depth[${t}](m)`)}function lh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Hi(n,"keyDepth");Tl(r)||(r="depth");let i=Hi(n,"keyDepthStart");Tl(i)||(i="depthStart");let o=Hi(n,"keyDepthEnd");Tl(o)||(o="depthEnd"),e=Cu(e);let a=0;return e=Po(e,((e,n)=>{let u=Hi(e,"err",""),l=Hi(e,i,null),s=Hi(e,o,null);try{if(!Ol(l))throw new Error(` ${n} (${i}): ${l}`);if(!Ol(s))throw new Error(` ${n} (${o}): ${s}`);l=Ql(l),s=Ql(s),e[r]=(s+l)/2;let u=null;if(l<t&&s>t){let r=Hi(e,"rsat",null);if(!Ol(r))throw new Error(` ${n} (rsat): ${r}`);let i=Hi(e,"rd",null);if(!Ol(i))throw new Error(` ${n} (rd): ${i}`);i=Ql(i);let o=t-l,a=s-t;u=(o*i+a*r)/(o+a)}else if(s<=t){let t=Hi(e,"rd",null);if(!Ol(t))throw new Error(` ${n} (rd): ${t}`);u=t}else{if(!(l>=t))throw new Error("");{let t=Hi(e,"rsat",null);if(!Ol(t))throw new Error(` ${n} (rsat): ${t}`);u=t}}0===a&&l>0&&(a=l*u);let f=(s-l)*u,c=a+f/2;e.sv=c,a+=f;let p=Math.max((l+s)/2-t,0)*ah;e.svp=Math.max(c-p,0)}catch(t){let n=t.toString();""===u?u=n:u.indexOf(n)<0&&(u+=`, ${n}`),e.sv="",e.svp="",e.err=u}return e})),e}function sh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Lf(e))throw new Error("");let n=Hi(t,"unitSvSvp");if("kPa"!==n&&"MPa"!==n)throw new Error(`opt.unitSvSvp[${n}] need kPa or MPa`);let r=Hi(t,"keyDepth");Tl(r)||(r="depth");let i=Hi(t,"keyDepthStart");Tl(i)||(i="depthStart");let o=Hi(t,"keyDepthEnd");Tl(o)||(o="depthEnd");let a=oh(e=Cu(e),t);if(rf(a)>0)throw new Error(xc(a,"; "));e=Cs(e,(e=>Ql(e[i])));let u=Hi(t,"waterLevelUsual");Ol(u)||(u=0),u=Ql(u);let l=Hi(t,"waterLevelDesign");Ol(l)||(l=0),l=Ql(l);let s=lh(e,u,{keyDepth:r,keyDepthStart:i,keyDepthEnd:o}),f=lh(e,l,{keyDepth:r,keyDepthStart:i,keyDepthEnd:o});return e=Po(e,((e,t)=>{e.waterLevelUsual=u,e.waterLevelDesign=l;let n=s[t],i=f[t];return e.sv=n.sv,e.svpUsual=n.svp,e.svpDesign=i.svp,e[r]=n[r],e})),"MPa"===n&&(e=Po(e,(e=>(e.sv/=1e3,e.svpUsual/=1e3,e.svpDesign/=1e3,e)))),e}var fh={checkVerticalStress:uh,calcVerticalStress:sh};function ch(e,t){return!!kl(e)&&(!(!Tl(t)&&!Ol(t))&&t in e)}let ph=null;function hh(){return null!==ph||(ph=[{nameCht:"",nameEng:"Gravelly sand",color:"rgb(173, 215, 255)",colorPrimary:"#467dec",min:0,max:1.31},{nameCht:"-",nameEng:"Sands-clean sand to silty sand",color:"rgb(193, 233, 247)",colorPrimary:"linear-gradient(90deg, #dad74d 0%, #467dec 100%)",min:1.31,max:2.05},{nameCht:"-",nameEng:"Sand mixtures-silty sand to sandy silt",color:"rgb(223, 223, 247)",colorPrimary:"linear-gradient(90deg, #467dec 0%, #dad74d 100%)",min:2.05,max:2.6},{nameCht:"-",nameEng:"Silt mixtures-clayey silt to silty clay",color:"rgb(253, 223, 225)",colorPrimary:"linear-gradient(90deg, #ea4e2d 0%, #dad74d 100%)",min:2.6,max:2.95},{nameCht:"",nameEng:"Clays",color:"rgb(253, 203, 207)",colorPrimary:"#ea4e2d",min:2.95,max:3.6},{nameCht:"",nameEng:"Organic soils",color:"rgb(255, 193, 227)",colorPrimary:"#ea4e2d",min:3.6,max:99}]),ph}var dh={getIcInfor:hh};function vh(e,t){if(!Lf(e))return null;if(!Lf(t))return null;let n=e[0],r=e[1],i=!1;for(let e=0,o=t.length-1;e<t.length;o=e++){let a=t[e][0],u=t[e][1],l=t[o][0],s=t[o][1];u>r!=s>r&&n<(l-a)*(r-u)/(s-u)+a&&(i=!i)}return i}let gh={zone1:[[.8042788645514245,-1],[1.4,-1],[1.4,-.04961518419811251],[1.3360639947293758,.00515510285998122],[.8042788645514245,-1]],zone2:[[.22901013093819989,-1],[.7989205421525307,-1],[.535671,-.732631],[.267238,-.973016],[.22901013093819989,-1]],zone3:[[-.0827455,-.507509],[.19919261999759594,-1],[.22901013093819989,-1],[.267238,-.973016],[.535671,-.732631],[.7989205421525307,-1],[.8042788645514245,-1],[1.3360639947293758,.00515510285998122],[.7507188345305402,.5065865313087334],[.00899762,-.488431],[-.0798201488308562,-.39581841738701223],[-.0827455,-.507509]],zone4:[[-.0798201488308562,-.39581841738701223],[.00899762,-.488431],[.75071883453054,.5065865313087332],[.46563663689560464,.750800002787402],[.00559973,-.282387],[-.0748262901884575,-.20092818800278278],[-.0776487,-.312912],[-.0798201488308562,-.39581841738701223]],zone5:[[-.0748262901884575,-.20092818800278278],[.00559973,-.282387],[.4656366368956047,.7508000027874022],[.28177542293386015,.9083032972911816],[.00559973,-.0610806],[-.06726062655330566,.04677010378206706],[-.0725518,-.110684],[-.0748262901884575,-.20092818800278278]],zone6:[[-.06726062655330566,.04677010378206706],[.00559973,-.0610806],[.28177542293386015,.9083032972911816],[.219667,.961508],[.19999604525814957,1.0454031412933176],[.00220183,.247985],[-.06071692978405572,.34104143783205454],[-.0623581,.274695],[-.065756,.0915446],[-.06726062655330566,.04677010378206706]],zone7:[[-.06071692978405572,.34104143783205454],[.00220183,.247985],[.19999604525814962,1.0454031412933178],[.1466205435691607,1.2730456382928406],[.00390078,.522711],[-.053725768119182775,.6023554362478534],[-.0555624,.54942],[-.06071692978405572,.34104143783205454]],zone8:[[-.053725768119182775,.6023554362478534],[.00390078,.522711],[.1466205435691607,1.2730456382928403],[.09752669166574157,1.4824272212471161],[.00390078,.866117],[-.042929930936118785,.9237944636517381],[-.0453687,.843223],[-.053725768119182775,.6023554362478534]],zone9:[[0,.8709212639576908],[.00390078,.866117],[.09752669166574157,1.4824272212471163],[.055798348065744074,1.6603954657070483],[.00390078,1.36215],[0,1.3672038510406228],[0,.8709212639576908]],zone10:[[0,1.3672038510406228],[.00390078,1.36215],[.055798348065744074,1.6603954657070483],[.0514713,1.67885],[.05300885596731013,2],[0,2],[0,1.3672038510406228]],"zone9,10,11,12":[[-.042929930936118785,.9237944636517381],[0,.8709212639576908],[0,2],[-.029975073717927975,2],[-.0283792,1.41938],[-.035175,1.18],[-.042929930936118785,.9237944636517381]]},mh={zone1:[[0,-1],[2.599004449,-.910151233],[2.59819,-.9033989],[2.47734,-.785331],[2.38066,-.683363],[2.22356,-.592129],[2.06647,-.479428],[1.90937,-.382826],[1.75227,-.307692],[1.51057,-.216458],[1.26888,-.152057],[.954683,-.103757],[.628399,-.0554559999999999],[.302115,-.0232560000000001],[0,.00770169199999993],[0,-1]],zone2:[[0,-1],[8,-1],[8,-.312420334],[7.98792,-.313059],[4.03625,-.860465],[0,-1]],zone3:[[1.91607919296796,-.386951534430881],[2.06647,-.479428],[2.22356,-.592129],[2.38066,-.683363],[2.47734,-.785331],[2.59819,-.9033989],[2.59900444877071,-.910151233011032],[4.03625,-.860465],[7.98792,-.313059],[8,-.312420334410403],[8,.73886157340706],[5.21686256331027,.74843976095338],[5.20846,.74419],[5.0997,.67442],[5.00302,.60465],[4.84592,.50805],[4.65257,.41682],[4.4713,.33095],[4.27795,.25045],[4.07251,.17531],[3.86707,.0948100000000001],[3.67372,.0357799999999999],[3.49245,-.012522],[3.29909,-.08229],[3.08157,-.13059],[2.87613,-.184258],[2.67069,-.243292],[2.429,-.291592],[2.1994,-.334526],[1.91607919296796,-.386951534430881]],zone4:[[1.51477387839753,-.218044829299632],[1.75227,-.307692],[1.90937,-.382826],[1.91607919296796,-.386951534430881],[2.1994,-.334526],[2.429,-.291592],[2.67069,-.243292],[2.87613,-.184258],[3.08157,-.13059],[3.29909,-.08229],[3.49245,-.012522],[3.67372,.0357799999999999],[3.86707,.0948100000000001],[4.07251,.17531],[4.27795,.25045],[4.4713,.33095],[4.65257,.41682],[4.84592,.50805],[5.00302,.60465],[5.0997,.67442],[5.20846,.74419],[5.21686256331027,.74843976095338],[4.89426,.74955],[4.59943743716958,.84244763970655],[4.59215,.84079],[4.41088,.72272],[4.29003,.63148],[4.14502,.56172],[4.01208,.48122],[3.87915,.41682],[3.72205,.35242],[3.56495,.28801],[3.40785,.23435],[3.19033,.16995],[2.97281,.11091],[2.7432,.04114],[2.50151,-.012522],[2.22356,-.08229],[1.98187,-.135957],[1.7281,-.189624],[1.51477387839753,-.218044829299632]],zone5:[[.60423,-.0500890000000001],[.604258597461038,-.053073655288784],[.628399,-.0554559999999999],[.954683,-.103757],[1.26888,-.152057],[1.51057,-.216458],[1.51477387839753,-.218044829299632],[1.7281,-.189624],[1.98187,-.135957],[2.22356,-.08229],[2.50151,-.012522],[2.7432,.04114],[2.97281,.11091],[3.19033,.16995],[3.40785,.23435],[3.56495,.28801],[3.72205,.35242],[3.87915,.41682],[4.01208,.48122],[4.14502,.56172],[4.29003,.63148],[4.41088,.72272],[4.59215,.84079],[4.59943743716958,.84244763970655],[3.89979234877181,1.06290355298692],[3.80665,.98569],[3.66163,.89982],[3.48036,.78712],[3.29909,.68515],[3.08157,.59392],[2.88822,.50805],[2.67069,.42218],[2.34441,.32021],[2.09063,.25581],[1.81269,.18068],[1.4864,.10555],[1.22054,.0518799999999999],[.89426,-.012522],[.60423,-.0500890000000001]],zone6:[[0,.00770169230769002],[.302115,-.0232560000000001],[.604258597461038,-.053073655288784],[.60423,-.0500890000000001],[.89426,-.012522],[1.22054,.0518799999999999],[1.4864,.10555],[1.81269,.18068],[2.09063,.25581],[2.34441,.32021],[2.67069,.42218],[2.88822,.50805],[3.08157,.59392],[3.29909,.68515],[3.48036,.78712],[3.66163,.89982],[3.80665,.98569],[3.89979234877181,1.06290355298692],[3.22606294765238,1.27519351669947],[3.04532,1.17352],[2.83988,1.05546],[2.62236,.95349],[2.429,.85152],[2.18731,.76029],[1.9577,.66905],[1.71601,.58318],[1.42598,.48122],[1.12387,.38998],[.809668,.32021],[.422961,.23435],[.0120846,.17531],[0,.17356],[0,.00770169230769002]],zone7:[[0,.17356],[.0120846,.17531],[.422961,.23435],[.809668,.32021],[1.12387,.38998],[1.42598,.48122],[1.71601,.58318],[1.9577,.66905],[2.18731,.76029],[2.429,.85152],[2.62236,.95349],[2.83988,1.05546],[3.04532,1.17352],[3.22606294765237,1.27519351669947],[2.42760757719909,1.52678423151461],[2.22356,1.38819],[2.07855,1.27549],[1.89728,1.16279],[1.69184,1.05009],[1.43807,.92129],[1.20846,.81932],[.930514,.72809],[.640483,.63685],[.314199,.54025],[0,.48856778143308],[0,.17356]],zone8:[[0,.48856778143308],[.314199,.54025],[.640483,.63685],[.930514,.72809],[1.20846,.81932],[1.43807,.92129],[1.69184,1.05009],[1.89728,1.16279],[2.07855,1.27549],[2.22356,1.38819],[2.42760757719909,1.52678423151461],[2.3565,1.54919],[2.18731,1.60823],[2.06647,1.6458],[1.98187,1.7102],[1.92145,1.78533],[1.84894,1.87657],[1.83686,2],[1.78852,1.86047],[1.71601,1.72093],[1.60725,1.5653],[1.4864,1.44723],[1.34139,1.33989],[1.22054,1.24866],[1.06344,1.14669],[.89426,1.07692],[.712991,.99642],[.386707,.91592],[0,.85689],[0,.48856778143308]],zone9:[[0,.85689],[.386707,.91592],[.712991,.99642],[.89426,1.07692],[1.06344,1.14669],[1.22054,1.24866],[1.34139,1.33989],[1.4864,1.44723],[1.60725,1.5653],[1.71601,1.72093],[1.78852,1.86047],[1.83686,2],[1.22054,2],[1.22054,1.99463],[1.11178,1.8229],[.990937,1.68873],[.845921,1.54919],[.652568,1.44723],[.386707,1.35063],[0,1.25175000154968],[0,.85689]],zone10:[[0,1.25175000154968],[.386707,1.35063],[.652568,1.44723],[.845921,1.54919],[.990937,1.68873],[1.11178,1.8229],[1.22054,1.99463],[1.22054,2],[0,2],[0,1.25175000154968]],zone11:[[3.89979234877181,1.06290355298692],[4.89426,.74955],[8,.73886157340706],[8,2],[4.70091,2],[4.59215,1.65116],[4.41088,1.50626],[4.25378,1.38283],[4.13293,1.26476],[3.98792,1.13596],[3.89979234877181,1.06290355298692]],zone12:[[1.83686,2],[1.84894,1.87657],[1.92145,1.78533],[1.98187,1.7102],[2.06647,1.6458],[2.18731,1.60823],[2.3565,1.54919],[3.89979234877181,1.06290355298692],[3.98792,1.13596],[4.13293,1.26476],[4.25378,1.38283],[4.41088,1.50626],[4.59215,1.65116],[4.70091,2],[1.83686,2]]},bh={zone1:[[.814956350795433,0],[1.4,0],[1.4,1.0444774529587604],[.814956350795433,0]],zone2:[[.15755797913451555,0],[.8081353465726996,0],[.803677,.00955108],[.542358,.411052],[.163577,.00955108],[.15755797913451555,0]],zone3:[[-.557635,1.27767],[.135961,.0225141],[.14709816115300722,0],[.15755797913451555,0],[.163577,.00955108],[.542358,.411052],[.803677,.00955108],[.8081353465726996,0],[.8159217107198008,0],[.824794,.015206],[1.38835,1.02178],[1.3952840233278456,1.0277257015798282],[.6051580468079697,1.6769417299522127],[.0144398,.684374],[-.389417,1.78897],[-.3965860167997673,1.8080830326156345],[-.557635,1.27767]],zone4:[[-.3965860167997673,1.8080830326156345],[-.389417,1.78897],[.0144398,.684374],[.6051580468079698,1.6769417299522127],[.4233286829382924,1.8263439024676476],[.01312,1.05006],[-.3126662899731374,2.0844717183302555],[-.3965860167997673,1.8080830326156345]],zone5:[[-.3126662899731374,2.0844717183302555],[.01312,1.05006],[.4233286829382924,1.8263439024676478],[.23050362977173397,1.9847808086162937],[.01312,1.46853],[-.24501712858513175,2.307273477973186],[-.3126662899731374,2.0844717183302555]],zone6:[[-.24501712858513178,2.307273477973186],[.01312,1.46853],[.23050362977173397,1.9847808086162937],[.182054,2.02459],[.14155632003411384,2.4608700593991886],[.0157596,2.2376],[-.15640870819128455,2.5991043237348594],[-.24501712858513178,2.307273477973186]],zone7:[[-.15640870819128455,2.5991043237348594],[.0157596,2.2376],[.14155632003411384,2.4608700593991886],[.091511603746722,3],[-.0346850003225585,3],[-.15640870819128455,2.5991043237348594]]},yh={zone1:[[-1,0],[.214255,0],[.214255,.0100411],[.20255,.0539655],[.183822,.106126],[.165093,.155541],[.139342,.213191],[.113591,.276333],[.0808163,.328493],[.0574059,.386144],[.0269725,.438304],[-.00814305,.484973],[-.0385765,.520662],[-.0690099,.567332],[-.104125,.605766],[-.143923,.644199],[-.183721,.677143],[-.223518,.712831],[-.260975,.74852],[-.300772,.770482],[-.338229,.797935],[-.375685,.819897],[-.420165,.84735],[-.459963,.869312],[-.509124,.894019],[-.555945,.915981],[-.609789,.932453],[-.651928,.943434],[-.70343,.959906],[-.754933,.973632],[-.8158,.984613],[-.871985,.990104],[-.935193,.998],[-.982013,.995594],[-1,.9964730699272073],[-1,0]],zone2:[[.2064750618712659,.039236240054828495],[.214255,.0100411],[.214255,0],[1,0],[1,.8318045794934391],[.99382,.819897],[.965727,.762246],[.930612,.704595],[.897837,.638709],[.860381,.592039],[.827606,.55086],[.797173,.50419],[.748011,.441049],[.715237,.391634],[.682462,.344965],[.645006,.306531],[.60989,.279078],[.56541,.243389],[.516249,.213191],[.471769,.174758],[.417925,.14456],[.366422,.114362],[.310238,.0814182],[.261076,.059456],[.2064750618712659,.039236240054828495]],zone3:[[-.1691945840894161,.6651183192180945],[-.143923,.644199],[-.104125,.605766],[-.0690099,.567332],[-.0385765,.520662],[-.00814305,.484973],[.0269725,.438304],[.0574059,.386144],[.0808163,.328493],[.113591,.276333],[.139342,.213191],[.165093,.155541],[.183822,.106126],[.20255,.0539655],[.2064750618712659,.039236240054828495],[.261076,.059456],[.310238,.0814182],[.366422,.114362],[.417925,.14456],[.471769,.174758],[.516249,.213191],[.56541,.243389],[.60989,.279078],[.645006,.306531],[.682462,.344965],[.715237,.391634],[.748011,.441049],[.797173,.50419],[.827606,.55086],[.860381,.592039],[.897837,.638709],[.930612,.704595],[.965727,.762246],[.99382,.819897],[1,.8318045794934391],[1,1.743385534886701],[.965727,1.73133],[.911883,1.73682],[.839311,1.76153],[.7838498913648442,1.785615676370634],[.778445,1.75604],[.762057,1.69015],[.743329,1.62426],[.717578,1.56387],[.689485,1.49523],[.652029,1.43209],[.619254,1.36895],[.577116,1.30032],[.530295,1.23992],[.495179,1.18227],[.453041,1.13286],[.40622,1.07521],[.366422,1.03677],[.29385,.965396],[.237666,.918727],[.174458,.866567],[.106568,.819897],[.0410187,.773227],[-.0268713,.732048],[-.0994434,.690869],[-.1691945840894161,.6651183192180945]],zone4:[[-.5572591210207868,.9163830169648318],[-.555945,.915981],[-.509124,.894019],[-.459963,.869312],[-.420165,.84735],[-.375685,.819897],[-.338229,.797935],[-.300772,.770482],[-.260975,.74852],[-.223518,.712831],[-.183721,.677143],[-.1691945840894161,.6651183192180945],[-.0994434,.690869],[-.0268713,.732048],[.0410187,.773227],[.106568,.819897],[.174458,.866567],[.237666,.918727],[.29385,.965396],[.366422,1.03677],[.40622,1.07521],[.453041,1.13286],[.495179,1.18227],[.530295,1.23992],[.577116,1.30032],[.619254,1.36895],[.652029,1.43209],[.689485,1.49523],[.717578,1.56387],[.743329,1.62426],[.762057,1.69015],[.778445,1.75604],[.7838498913648442,1.785615676370634],[.776103,1.78898],[.733965,1.81918],[.689485,1.8631],[.652029,1.90428],[.614572,1.9482],[.5812671176412162,1.992142954030625],[.556046,1.91252],[.525613,1.83016],[.492838,1.74505],[.453041,1.6627],[.422607,1.6023],[.373446,1.54739],[.324284,1.48425],[.277463,1.44582],[.22596,1.3964],[.146365,1.33052],[.0714521,1.27012],[.00590315,1.20973],[-.0690099,1.15757],[-.134559,1.12188],[-.209472,1.07521],[-.293749,1.03128],[-.36398,1.00108],[-.445916,.965396],[-.523171,.929708],[-.5572591210207868,.9163830169648318]],zone5:[[-1,.9964730699272073],[-.982013,.995594],[-.935193,.998],[-.871985,.990104],[-.8158,.984613],[-.754933,.973632],[-.70343,.959906],[-.651928,.943434],[-.609789,.932453],[-.5572591210207868,.9163830169648318],[-.523171,.929708],[-.445916,.965396],[-.36398,1.00108],[-.293749,1.03128],[-.209472,1.07521],[-.134559,1.12188],[-.0690099,1.15757],[.00590315,1.20973],[.0714521,1.27012],[.146365,1.33052],[.22596,1.3964],[.277463,1.44582],[.324284,1.48425],[.373446,1.54739],[.422607,1.6023],[.453041,1.6627],[.492838,1.74505],[.525613,1.83016],[.556046,1.91252],[.5812671176412162,1.992142954030625],[.577116,1.99762],[.544341,2.0388],[.516249,2.10194],[.478792,2.14861],[.453041,2.20901],[.420266,2.2694],[.392174,2.3298],[.3884063655271938,2.33783211915801],[.375787,2.31607],[.343012,2.25018],[.305556,2.17332],[.263417,2.11018],[.223619,2.04429],[.165093,1.97291],[.113591,1.91526],[.062088,1.8631],[.00356212,1.8082],[-.0502817,1.76976],[-.111149,1.72584],[-.179039,1.67917],[-.230541,1.64348],[-.312478,1.59681],[-.40846,1.56387],[-.488055,1.53092],[-.58872,1.49798],[-.672997,1.47876],[-.773661,1.45955],[-.864962,1.44856],[-.944557,1.44307],[-1,1.4377631547427059],[-1,.9964730699272073]],zone6:[[-1,1.4377631547427059],[-.944557,1.44307],[-.864962,1.44856],[-.773661,1.45955],[-.672997,1.47876],[-.58872,1.49798],[-.488055,1.53092],[-.40846,1.56387],[-.312478,1.59681],[-.230541,1.64348],[-.179039,1.67917],[-.111149,1.72584],[-.0502817,1.76976],[.00356212,1.8082],[.062088,1.8631],[.113591,1.91526],[.165093,1.97291],[.223619,2.04429],[.263417,2.11018],[.305556,2.17332],[.343012,2.25018],[.375787,2.31607],[.3884063655271938,2.33783211915801],[.366422,2.3847],[.347694,2.42314],[.328966,2.47255],[.303215,2.51922],[.289168,2.56864],[.263417,2.62354],[.24703,2.66747],[.232983,2.71688],[.216596,2.75531],[.200209,2.81022],[.186163,2.85689],[.169776,2.9118],[.148706,2.95847],[.1412503458588957,3],[-.001459668032786902,3],[-.00346099,2.98592],[-.0385765,2.90356],[-.073692,2.83218],[-.118172,2.75531],[-.16031,2.68394],[-.200108,2.62354],[-.244588,2.57687],[-.29609,2.53295],[-.352275,2.48902],[-.403778,2.44784],[-.471668,2.40941],[-.527853,2.36823],[-.586379,2.33529],[-.649586,2.30509],[-.726841,2.27215],[-.804095,2.24744],[-.881349,2.21999],[-.956262,2.20077],[-1,2.1949642579667628],[-1,1.4377631547427059]],zone7:[[-1,2.1949642579667628],[-.956262,2.20077],[-.881349,2.21999],[-.804095,2.24744],[-.726841,2.27215],[-.649586,2.30509],[-.586379,2.33529],[-.527853,2.36823],[-.471668,2.40941],[-.403778,2.44784],[-.352275,2.48902],[-.29609,2.53295],[-.244588,2.57687],[-.200108,2.62354],[-.16031,2.68394],[-.118172,2.75531],[-.073692,2.83218],[-.0385765,2.90356],[-.00346099,2.98592],[-.001459668032786902,3],[-1,3],[-1,2.1949642579667628]],zone8:[[.1412503458588957,3],[.148706,2.95847],[.169776,2.9118],[.186163,2.85689],[.200209,2.81022],[.216596,2.75531],[.232983,2.71688],[.24703,2.66747],[.263417,2.62354],[.289168,2.56864],[.303215,2.51922],[.328966,2.47255],[.347694,2.42314],[.366422,2.3847],[.392174,2.3298],[.420266,2.2694],[.453041,2.20901],[.478792,2.14861],[.516249,2.10194],[.544341,2.0388],[.577116,1.99762],[.5812671176412162,1.992142954030625],[.58648,2.0086],[.607549,2.08821],[.628618,2.17881],[.647347,2.26666],[.661393,2.36549],[.670757,2.45883],[.67778,2.54393],[.682462,2.63727],[.689485,2.74159],[.689485,2.84591],[.687144,2.93925],[.6855251525327263,3],[.1412503458588957,3]],zone9:[[.5812671176412162,1.992142954030625],[.614572,1.9482],[.652029,1.90428],[.689485,1.8631],[.733965,1.81918],[.776103,1.78898],[.839311,1.76153],[.911883,1.73682],[.965727,1.73133],[1,1.743385534886701],[1,3],[.6855251525327263,3],[.687144,2.93925],[.689485,2.84591],[.689485,2.74159],[.682462,2.63727],[.67778,2.54393],[.670757,2.45883],[.661393,2.36549],[.647347,2.26666],[.628618,2.17881],[.607549,2.08821],[.58648,2.0086],[.5812671176412162,1.992142954030625]]},wh={zone1:[[1.40104,0],[1.40104,1],[.801704,0],[1.40104,0]],zone2:[[.801704,0],[.539905,.442651],[.141125,0],[.801704,0]],zone3:[[1.40104,1],[.8,1.60253],[.0303888,1.20246],[.0310289,1],[-.0304203,1],[-.0291401,1.20408],[-.6,1.39605],[.141125,0],[.539905,.442651],[.801704,0],[1.40104,1]],zone4a:[[-.1,3.78518],[-.6,1.39605],[-.0291401,1.20408],[-.1,3.78518]],zone4b:[[.0617535,3.78356],[.0303888,1.20246],[.8,1.60253],[.4,2],[.0617535,3.78356]],zone5a:[[-.0304203,3.78518],[-.1,3.78518],[-.0291401,1.20408],[-.0297802,1.31539],[-.0297802,1.70094],[-.0291401,2.2591],[-.0304203,3.78518]],zone5b:[[.0617535,3.78356],[.0297487,3.78679],[.0297487,2.28169],[.0297487,1.72352],[.031669,1.32184],[.0303888,1.20246],[.0617535,3.78356]],zone6:[[0,1.59285],[-.0297802,1.31539],[-.0291401,1.20408],[-.0304203,1],[.0310289,1],[.0303888,1.20246],[.031669,1.32184],[0,1.59285]],zone7:[[0,1.94937],[-.0297802,1.70094],[-.0297802,1.31539],[0,1.59285],[.031669,1.32184],[.0297487,1.72352],[0,1.94937]],zone8:[[0,2.48656],[-.0291401,2.2591],[-.0297802,1.70094],[0,1.94937],[.0297487,1.72352],[.0297487,2.28169],[0,2.48656]],zone9:[[.0297487,3.78679],[-.0304203,3.78518],[-.0291401,2.2591],[0,2.48656],[.0297487,2.28169],[.0297487,3.78679]]},xh={zone1:[[.170602,0],[0,.477345],[-.220456,.755759],[-.382872,.855193],[-1,1],[-1,0],[.170602,0]],zone2:[[1,0],[1,.413708],[.170602,0],[1,0]],zone3:[[1,1.53134],[.285712,1.19327],[.148527,1.17338],[-1,1],[-.382872,.855193],[-.220456,.755759],[0,.477345],[.170602,0],[1,.413708],[1,1.53134]],zone4:[[1,3.77456],[.143796,3.77456],[.285712,1.19327],[1,1.53134],[1,3.77456]],zone5:[[.143796,3.77456],[-.0265037,3.77456],[.0570693,2.49386],[.09176,1.98078],[.11699,1.60293],[.148527,1.17338],[.285712,1.19327],[.143796,3.77456]],zone6:[[.11699,1.60293],[-1,1.30066],[-1,1],[.148527,1.17338],[.11699,1.60293]],zone7:[[.09176,1.98078],[-1,1.69839],[-1,1.30066],[.11699,1.60293],[.09176,1.98078]],zone8:[[.0570693,2.49386],[-1,2.17567],[-1,1.69839],[.09176,1.98078],[.0570693,2.49386]],zone9:[[-.0265037,3.77456],[-1,3.77456],[-1,2.17567],[.0570693,2.49386],[-.0265037,3.77456]]},$h={1:"Sensitive fine grained",2:"Organic material",3:"Clay",4:"Silty clay to clay",5:"Clayey silt to silty clay",6:"Sandy silt to clayey silt",7:"Silty sand to sandy silt",8:"Sand to silty sand",9:"Sand",10:"Gravelly sand to sand",11:"Very stiff find grained(overconsolidated or cemented)",12:"Sand to clayer sand(overconsolidated or cemented)",13:"9,10,11,12"},Mh={1:"Sensitive fine grained",2:"Organic soils - peats",3:"Clays - clay to silty clay",4:"Silt mixtures - clayey silt to silty clay",5:"Sand mixtures - silty sand to sandy silt",6:"Sands - clean sand to silty sand",7:"Gravelly sand to sand",8:"Very stiff sand to clayey sand(heavily overconsolidated or cemented)",9:"Very stiff fine grained(heavily overconsolidated or cemented)"},Sh={1:"Extra sensitibe clay",2:"Organic clay and peat",3:"Clay(su/p0'<=1)",4:"Clay(su/p0'>1)",5:"Clayey sand",6:"Sandy very clayey silt",7:"Sandy silt",8:"Silty sand",9:"Clean to slightly silty sand"};function Rh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Hi(t,"numOfType");3!==n&&4!==n&&5!==n&&6!==n&&(console.log(`invalid numOfType[${n}]`),n=3);let r=Hi(t,"funAdjust");if(!Ol(e))return"";let i="",o=zf(e);if(3===n){let e={1:"clay",2:"clay",3:"clay",4:"silt",5:"silt",6:"silt",7:"silt",8:"sand",9:"sand",10:"sand",11:"sand",12:"sand",13:"sand"};ch(e,o)&&(Rl(r)&&(o=r(o,e,t)),i=e[o])}else if(4===n){let e={1:"clay",2:"clay",3:"clay",4:"silt",5:"clayey-silt",6:"clayey-silt",7:"sandy-silt",8:"sandy-silt",9:"sand",10:"sand",11:"sand",12:"sand",13:"sand"};ch(e,o)&&(Rl(r)&&(o=r(o,e,t)),i=e[o])}else if(5===n){let e={1:"clay",2:"clay",3:"clay",4:"silt",5:"clayey-silt",6:"clayey-silt",7:"sandy-silt",8:"silty-sand",9:"sand",10:"sand",11:"silty-sand",12:"sand",13:"sand"};ch(e,o)&&(Rl(r)&&(o=r(o,e,t)),i=e[o])}else if(6===n){let e={1:"clay",2:"clay",3:"clay",4:"silt",5:"clayey-silt",6:"clayey-silt",7:"sandy-silt",8:"silty-sand",9:"sand",10:"sand",11:"clayey-sand",12:"sand",13:"sand"};ch(e,o)&&(Rl(r)&&(o=r(o,e,t)),i=e[o])}return i}function kh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Hi(n,"returnZone");Cl(r)||(r=!1),e=Ol(e)?zf(e):null,t=Ol(t)?zf(t):null;let i=Rh(e,n),o=Rh(t,n);if(null===e&&null===t)return"";if(null!==e&&null===t)return r?e:i;if(null===e&&null!==t)return r?t:o;if(i!==o){let n=e>=6,a=t>=6;return n&&a?r?t:o:n||a?"":r?e:i}return r?e:i}function Eh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Hi(t,"numOfType");3!==n&&4!==n&&5!==n&&6!==n&&(console.log(`invalid numOfType[${n}]`),n=3);let r=Hi(t,"funAdjust");if(!Ol(e))return"";let i="",o=zf(e);if(3===n){let e={1:"clay",2:"clay",3:"clay",4:"silt",5:"silt",6:"sand",7:"sand",8:"sand",9:"sand"};ch(e,o)&&(Rl(r)&&(o=r(o,e,t)),i=e[o])}else if(4===n){let e={1:"clay",2:"clay",3:"clay",4:"clayey-silt",5:"sandy-silt",6:"sand",7:"sand",8:"sand",9:"sand"};ch(e,o)&&(Rl(r)&&(o=r(o,e,t)),i=e[o])}else if(5===n){let e={1:"clay",2:"clay",3:"clay",4:"clayey-silt",5:"sandy-silt",6:"silty-sand",7:"sand",8:"silty-sand",9:"sand"};ch(e,o)&&(Rl(r)&&(o=r(o,e,t)),i=e[o])}else if(6===n){let e={1:"clay",2:"clay",3:"clay",4:"clayey-silt",5:"sandy-silt",6:"silty-sand",7:"sand",8:"clayey-sand",9:"sand"};ch(e,o)&&(Rl(r)&&(o=r(o,e,t)),i=e[o])}return i}function Lh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Hi(n,"returnZone");Cl(r)||(r=!1),e=Ol(e)?zf(e):null,t=Ol(t)?zf(t):null;let i=Eh(e,n),o=Eh(t,n);if(null===e&&null===t)return"";if(null!==e&&null===t)return r?e:i;if(null===e&&null!==t)return r?t:o;if(i!==o){let n=e>=6,a=t>=6;return n&&a?r?t:o:n||a?"":r?e:i}return r?e:i}function Dh(e,t){return Lh(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function Ph(e){let t=Hi(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"numOfType");if(3!==t&&4!==t&&5!==t&&6!==t&&(console.log(`invalid numOfType[${t}]`),t=3),!Ol(e))return"";let n=zf(e);if(3===t){let e={1:"clay",2:"clay",3:"clay",4:"clay",6:"silt",7:"silt",5:"sand",8:"sand",9:"sand"};if(ch(e,n))return e[n]}else if(4===t){let e={1:"clay",2:"clay",3:"clay",4:"clay",5:"sand",6:"clayey-silt",7:"sandy-silt",8:"sand",9:"sand"};if(ch(e,n))return e[n]}else if(5===t){let e={1:"clay",2:"clay",3:"clay",4:"clay",5:"silty-sand",6:"clayey-silt",7:"sandy-silt",8:"silty-sand",9:"sand"};if(ch(e,n))return e[n]}else if(6===t){let e={1:"clay",2:"clay",3:"clay",4:"clay",5:"clayey-sand",6:"clayey-silt",7:"sandy-silt",8:"silty-sand",9:"sand"};if(ch(e,n))return e[n]}return""}function Ch(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Hi(n,"returnZone");Cl(r)||(r=!1),e=Ol(e)?zf(e):null,t=Ol(t)?zf(t):null;let i=Ph(e,n),o=Ph(t,n);if(null===e&&null===t)return"";if(null!==e&&null===t)return r?e:i;if(null===e&&null!==t)return r?e:o;if(i!==o){let n=5===e||8===e||9===e,a=5===t||8===t||9===t;return n&&a?r?e:o:n||a?"":r?e:i}return r?e:i}let Th={csfIc:function(e){let t=null,n="",r=null,i=null;if(!Fu(e))return{error:"invalid Ic"};let o=hh();return ze(o,((o,a)=>{if(e>=o.min&&e<o.max)return t=a+1,n=`${o.min}~${o.max}`,r=o.nameCht,i=o.nameEng,!1})),null===r||null===i?{error:"invalid Ic"}:{success:{int:t,rang:n,cht:r,eng:i}}},csfRobRfqt:function(e,t){if(!Fu(e))return{error:"invalid Rf"};if(!Fu(t))return{error:"invalid qt"};if(e<0||e>8)return{error:"Rf < 0 or Rf > 8"};if(t<.1||t>100)return{error:"qt < 0.1 or qt > 100"};let n=[e,Math.log10(t)],r="";if(ze(mh,((e,t)=>{if(vh(n,e))return r=t,!1})),""===r)return{error:"no zone"};let i=r.replace("zone",""),o=null;return Of(i)&&(o=zf(i),i=`${o}: ${$h[o]}`),{success:{int:o,msg:i}}},csfRobBqqt:function(e,t){if(!Fu(e))return{error:"invalid Bq"};if(!Fu(t))return{error:"invalid qt"};if(e<-.2||e>1.4)return{error:"Bq < -0.2 or Bq > 1.4"};if(t<.1||t>100)return{error:"qt < 0.1 or qt > 100"};let n=[e,Math.log10(t)],r="";if(ze(gh,((e,t)=>{if(vh(n,e))return r=t,!1})),""===r)return{error:"no zone"};let i=r.replace("zone",""),o=null;return"9,10,11,12"===i&&(i="13"),Of(i)&&(o=zf(i),i=`${o}: ${$h[o]}`),{success:{int:o,msg:i}}},csfRobBqQt:function(e,t){if(!Fu(e))return{error:"invalid Bq"};if(!Fu(t))return{error:"invalid Qt"};if(e<-.6||e>1.4)return{error:"Bq < -0.6 or Bq > 1.4"};if(t<1||t>1e3)return{error:"Qt < 1 or Qt > 1000"};let n=[e,Math.log10(t)],r="";if(ze(bh,((e,t)=>{if(vh(n,e))return r=t,!1})),""===r)return{error:"no zone"};let i=r.replace("zone",""),o=null;return Of(i)&&(o=zf(i),i=`${o}: ${Mh[o]}`),{success:{int:o,msg:i}}},csfRobFrQt:function(e,t){if(!Fu(e))return{error:"invalid Fr"};if(!Fu(t))return{error:"invalid Qt"};if(e<.1||e>10)return{error:"Fr < 0.1 or Fr > 10"};if(t<1||t>1e3)return{error:"Qt < 1 or Qt > 1000"};let n=[Math.log10(e),Math.log10(t)],r="";if(ze(yh,((e,t)=>{if(vh(n,e))return r=t,!1})),""===r)return{error:"no zone"};let i=r.replace("zone",""),o=null;return Of(i)&&(o=zf(i),i=`${o}: ${Mh[o]}`),{success:{int:o,msg:i}}},csfRamBqQt:function(e,t){if(!Fu(e))return{error:"invalid Bq"};if(!Fu(t))return{error:"invalid Qt"};if(e<-.6||e>1.4)return{error:"Bq < -0.6 or Bq > 1.4"};if(t<1||t>6097.895815)return{error:"Qt < 1 or Qt > 6097.895815"};let n=[e,Math.log10(t)],r="";if(ze(wh,((e,t)=>{if(vh(n,e))return r=t,!1})),""===r)return{error:"no zone"};let i=r.replace("zone","");i=i.replace("a",""),i=i.replace("b","");let o=null;return Of(i)&&(o=zf(i),i=`${o}: ${Sh[o]}`),{success:{int:o,msg:i}}},csfRamFrQt:function(e,t){if(!Fu(e))return{error:"invalid Fr"};if(!Fu(t))return{error:"invalid Qt"};if(e<.1||e>10)return{error:"Fr < 0.1 or Fr > 10"};if(t<1||t>5950.589615)return{error:"Qt < 1 or Qt > 5950.589615"};let n=[Math.log10(e),Math.log10(t)],r="";if(ze(xh,((e,t)=>{if(vh(n,e))return r=t,!1})),""===r)return{error:"no zone"};let i=r.replace("zone",""),o=null;return Of(i)&&(o=zf(i),i=`${o}: ${Sh[o]}`),{success:{int:o,msg:i}}}};var Oh={kpCPTClassForRobBqRfqt:$h,kpCPTClassForRobBqFrQt:Mh,kpCPTClassForRamQt:Sh,cptClassifyBond:{inforRobBqqt:{zones:gh,markers:{zone1:{p:[1.19678,-.727798566],text:"1"},zone2:{p:[.535691,-.855211033],text:"2"},zone3:{p:[.633441,-.444014891],text:"3"},zone4:{p:[.368489,.303088011],text:"4"},zone5:{p:[.255305,.511582591],text:"5"},zone6:{p:[.18328,.760617721],text:"6"},zone7:{p:[.136977,1.015443588],text:"7"},zone8:{p:[.0983923,1.229730464],text:"8"},zone9:{p:[.0495177,1.403475708],text:"9"},zone10:{p:[.0186495,1.75096559],text:"10"},"zone9,10,11,12":{p:[[-.014791,1.60617707],[-.0122186,1.189189825]],text:"9,<br>10,<br>11,<br>12"}}},inforRobRfqt:{zones:mh,markers:{zone1:{p:[.866142,-.534722],text:"1"},zone2:{p:[6.61417,-.833333],text:"2"},zone3:{p:[5.03937,-.083333],text:"3"},zone4:{p:[3.66929,.17361],text:"4"},zone5:{p:[2.97638,.3125],text:"5"},zone6:{p:[2.31496,.54861],text:"6"},zone7:{p:[1.65354,.8125],text:"7"},zone8:{p:[1.24409,1.05556],text:"8"},zone9:{p:[.866142,1.32639],text:"9"},zone10:{p:[.393701,1.76389],text:"10"},zone11:{p:[6.48819,1.48611],text:"11"},zone12:{p:[3.51181,1.72917],text:"12"}}},inforRobBqQt:{zones:bh,markers:{zone1:{p:[1.21905,.455696],text:"1"},zone2:{p:[.491429,.211573],text:"2"},zone3:{p:[.529524,.922242],text:"3"},zone4:{p:[.346667,1.48101],text:"4"},zone5:{p:[.198095,1.67631],text:"5"},zone6:{p:[.0761905,2.03436],text:"6"},zone7:{p:[.0609524,2.60398],text:"7"}}},inforRobFrQt:{zones:yh,znoeNC:[[-.642563,2.38745],[.577116,.24888],[.607549,.218682],[.626277,.207701],[.649688,.204956],[.673098,.207701],[.682462,.229663],[.680121,.259861],[.666075,.292804],[.656711,.309276],[-.345252,2.64001],[-.642563,2.38745]],markers:{zone1:{p:[-.716937,.259459],text:"1"},zone2:{p:[.763341,.232432],text:"2"},zone3:{p:[.206497,.427027],text:"3"},zone4:{p:[-.141531,.951351],text:"4"},zone5:{p:[-.443155,1.2973],text:"5"},zone6:{p:[-.712297,1.85405],text:"6"},zone7:{p:[-.62877,2.77297],text:"7"},zone8:{p:[.419954,2.77297],text:"8"},zone9:{p:[.726218,2.18919],text:"9"},zoneNC:{p:[-.0719,1.679],text:"(Normally consolidated)"}}},inforRamBqQt:{zones:wh,markers:{zone1:{p:[1.3078,.298266],text:"1"},zone2:{p:[.504128,.17341],text:"2"},zone3:{p:[.795872,.991908],text:"3"},zone4a:{p:[-.302294,2.00462],text:"4"},zone4b:{p:[.201376,1.99769],text:"4"},zone5a:{p:[-.0573394,3.60694],text:"5"},zone5b:{p:[.0472477,3.60694],text:"5"},zone6:{p:[.0059633,1.17225],text:"6"},zone7:{p:[.0059633,1.66474],text:"7"},zone8:{p:[458716e-9,2.15723],text:"8"},zone9:{p:[.0059633,3.00347],text:"9"}}},inforRamFrQt:{zones:xh,markers:{zone1:{p:[-.520058,.477345],text:"1"},zone2:{p:[.903837,.179044],text:"2"},zone3:{p:[.298327,.696099],text:"3"},zone4:{p:[.694116,2.00862],text:"4"},zone5:{p:[.129604,2.62113],text:"5"},zone6:{p:[-.521634,1.28475],text:"6"},zone7:{p:[-.521634,1.65862],text:"7"},zone8:{p:[-.521634,2.14385],text:"8"},zone9:{p:[-.524788,2.99898],text:"9"}}}},cptClassify:Th,simplifyRobertson1986:kh,simplifyRobertson1990:Lh,simplifyRobertson2009:Dh,simplifyRamsey:Ch};function Fh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fh(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qh(e){let t=[];return ze(e,(e=>{let n={};ze(e,((e,t)=>{Sl(e)&&(e=Ml(e)),n[t]=e}));let r=of(e=n,"depth"),i=of(e,"qc"),o=of(e,"fs"),a=of(e,"u2");t.push(jh(jh({},e),{},{depth:r,qc:i,fs:o,u2:a}))})),t}function _h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Hi(t,"ranger");El(n)||(n={depthHalf:.25});let r=Hi(t,"methodSmooth");return"none"!==r&&"average"!==r&&"averageIn95"!==r&&(r="none"),"none"!==r&&(e=mc(e,"qc",{ranger:n,methodSmooth:r}),e=mc(e,"fs",{ranger:n,methodSmooth:r}),e=mc(e,"u2",{ranger:n,methodSmooth:r})),e}function Ah(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Hi(t,"intrpSv");Rl(n)||(n=e=>ff(e,"MPa"));let r=Hi(t,"intrpU0");Rl(r)||(r=e=>sf(e,"MPa"));let i=[];return ze(e,((t,o)=>{let a=of(t,"depth"),u=n(a,o,t,e).sv;Ol(u)&&(u=Ql(u));let l=r(a,o,t,e);Ol(l)&&(l=Ql(l));let s=of(t,"u2");if(null!==s&&s>10)return!0;let f=null;Fu(u)&&Fu(l)&&(f=u-l,f=Math.max(f,0)),i.push(jh(jh({},t),{},{sv:u,svp:f,u0:l}))})),i}function Nh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=lf.Pa,o=null,a=null,u=null,l=null,s=null,f=Hi(r,"useCnLeq");Cl(f)||(f=!1);let c=()=>({n:a,Cn:u,Qtn:l,Icn:s,err:o});if(!Ol(e))return o=`qnet[${e}] is not a number`,c();if(e<=0)return o=`qnet[${e}] <= 0`,c();if(!Ol(t))return o=`Fr[${t}] is not a number`,c();if(t<=0)return o=`Fr[${t}] <= 0`,c();if(!Ol(n))return o=`svp[${n}] is not a number`,c();if(n<=0)return o=`svp[${n}] <= 0`,c();let p=r=>{let o=(i/n)**r;f&&(o=Math.min(o,1.7));let a=o*e/i,u=Math.sqrt((3.47-Math.log10(a))**2+(Math.log10(t)+1.22)**2);return{n:r,Cn:o,Qtn:a,Icn:u,nn:.381*u+n/i*.05-.15}},h=e=>{let t=p(e);return Math.abs(t.n-t.nn)};try{let r=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!Rl(e))throw new Error("invalid fun");if(!Ol(t))throw new Error("xMin is not a number");if(t=Ql(t),!Ol(n))throw new Error("xMax is not a number");n=Ql(n);let i=Hi(r,"delta");Ol(i)||(i=.1),i=Ql(i);let o=Hi(r,"maxIterations");Ol(o)||(o=100),o=Ql(o);let a=e(t),u=e(n),l=(t+n)/2,s=e(l),f=0,c=null;for(;;){if(f++,f>o)return null;if(a<=u&&a<=s){c={y:a,x:t};break}if(u<=a&&u<=s){c={y:u,x:n};break}u>=a?(u=s,u=e(n=l)):(a=s,a=e(t=l)),l=(t+n)/2,s=e(l)}return c}(h,0,1),i=r.x,o=p(i);if(o.nn>1&&(o=p(1)),o.nn>1e20)throw console.log("",o,{qnet:e,Fr:t,svp:n}),new Error("");a=Hi(o,"n",null),u=Hi(o,"Cn",null),l=Hi(o,"Qtn",null),s=Hi(o,"Icn",null)}catch(e){o=e.toString()}return c()}function zh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Hi(n,"unitSvSvp");if("kPa"!==r&&"MPa"!==r)throw new Error(`opt.unitSvSvp[${r}] need kPa or MPa`);let i=(e,t)=>Hi(e,`success.${t}`,null),o=Hi(e,"depth");o=Ol(o)?Ql(o):null;let a=Hi(e,"sv");a=Ol(a)?Ql(a):null;let u=Hi(e,"svp");u=Ol(u)?Ql(u):null,Fu(a)&&uh(a,o,r,"sv"),Fu(u)&&uh(u,o,r,"svp"),"kPa"===r&&(a/=1e3,u/=1e3);let l=Hi(e,"qc");l=Ol(l)?Ql(l):null;let s=Hi(e,"fs");s=Ol(s)?Ql(s):null;let f=Hi(e,"u0");f=Ol(f)?Ql(f):null;let c=Hi(e,"u2");if(c=Ol(c)?Ql(c):null,!Ol(t))throw new Error(`coe_a[${t}] is not a number`);t=Ql(t);let p=Hi(n,"useCnLeq");Cl(p)||(p=!1);let h=null;Fu(l)&&Fu(f)&&Fu(c)&&(h=l+c*(1-t),h=Math.max(h,0));let d=null;Fu(h)&&Fu(a)&&(d=h-a,d=Math.max(d,0));let v=null;Fu(d)&&Fu(c)&&d>0&&(v=(c-f)/d);let g=null;Fu(h)&&Fu(s)&&h>0&&(g=s/h*100,g=Math.max(g,0));let m=null;Fu(d)&&Fu(u)&&u>0&&(m=d/u,m=Math.max(m,0));let b=null;Fu(d)&&Fu(s)&&d>0&&(b=s/d*100,b=Math.max(b,0));let y=null;Fu(m)&&Fu(b)&&m>0&&b>0&&(y=Math.sqrt((3.47-Math.log10(m))**2+(Math.log10(b)+1.22)**2));let w=Nh(d,b,u,{useCnLeq:p}),x=Hi(w,"n",null),$=Hi(w,"Cn",null),M=Hi(w,"Icn",null),S=Hi(w,"Qtn",null),R=Th.csfIc(y),k=Th.csfIc(M),E=Th.csfRobBqqt(v,h),L=Th.csfRobRfqt(g,h),D=Th.csfRobBqQt(v,m),P=Th.csfRobFrQt(b,m),C=Th.csfRobBqQt(v,S),T=Th.csfRobFrQt(b,S),O=Th.csfRamBqQt(v,m),F=Th.csfRamFrQt(b,m),j=i(R,"int"),q=i(k,"int"),_=i(E,"int"),A=i(L,"int"),N=i(D,"int"),z=i(P,"int"),I=i(C,"int"),U=i(T,"int"),G=i(O,"int"),B=i(F,"int"),Q=jh(jh({},e),{},{sv:a,svp:u,qc:l,fs:s,u0:f,u2:c,qt:h,qnet:d,Bq:v,Qt:m,Qtn:S,Rf:g,Fr:b,Ic:y,Icn:M,n:x,Cn:$,iIc:j,iIcn:q,iRobBqqt:_,iRobRfqt:A,iRobBqQt:N,iRobFrQt:z,iRobBqQtn:I,iRobFrQtn:U,iRamBqQt:G,iRamFrQt:B});return"kPa"===r&&(Q.sv*=1e3,Q.svp*=1e3),Q}var Ih={basic:qh,smooth:_h,stress:Ah,calcCpt:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Hi(t,"unitSvSvp");if("kPa"!==n&&"MPa"!==n)throw new Error(`opt.unitSvSvp[${n}] need kPa or MPa`);let r=Hi(t,"coe_a");return Ol(r)||(r=.8),r=Ql(r),e=Ah(e=_h(e=qh(e=Cu(e)),t),t),e=Po(e,(e=>zh(e,r,t)))},calcCptCore:zh};function Uh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ol(e)&&If(t)?(e=Ql(e),Nf(e,t).toFixed(t)):""}function Gh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(!Lf(e))throw new Error("");let r=Hi(t,"keyDepth");Tl(r)||(r="depth");let i=Hi(t,"keyDepthStart");Tl(i)||(i="depthStart");let o=Hi(t,"keyDepthEnd");Tl(o)||(o="depthEnd");let a=Hi(t,"depthEndMax");if(a=Ol(a)?Ql(a):null,e=Cu(e),ze(e,((e,t)=>{let i=Hi(e,r,null);Ol(i)||n.push(` ${t} ${r}[${i}]`)})),rf(n)>0)throw new Error(xc(n,"; "));if(e=Cs(e,(e=>Ql(e[r]))),ze(e,((t,i)=>{if(0===i)return!0;let o=Hi(e,`${i-1}.${r}`,null),a=Hi(t,r,null);o=Ql(o),a=Ql(a),ih(o,">=",a)&&n.push(` ${i-1} ${r}[${o}] ${i} ${r}[${a}]`)})),rf(n)>0)throw new Error(xc(n,"; "));let u=rf(e)-1;if(e=Po(e,((t,n)=>{let a=Hi(e,n-1),l=t,s=Hi(e,n+1),f=Hi(a,r,null),c=Hi(l,r,null),p=Hi(s,r,null),h=null;if(0===n){if(h=0,!Ol(c))throw new Error("dc1 is not a number");c=Ql(c),h=Math.min(h,c)}else{if(!Ol(f)||!Ol(c))throw new Error("unexpected error: invalid ds");f=Ql(f),c=Ql(c),h=(f+c)/2}let d=null;if(n===u){if(!Ol(c))throw new Error("dc1 is not a number");d=Ql(c)}else{if(!Ol(c)||!Ol(p))throw new Error("unexpected error: invalid de");c=Ql(c),p=Ql(p),d=(c+p)/2}return t[i]=h,t[o]=d,t})),Fu(a)){ih(e[u][o],"<",a)&&(e[u][o]=a)}return e}function Bh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bh(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let Hh=19.5,Wh={1:17.5,2:12.5,3:17.5,4:18,5:18,6:18,7:18.5,8:19,9:19.5,10:20,11:20.5,12:19,13:79/4};function Vh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Hi(n,"rdiff");Ol(r)||(r=3),r=Ql(r);let i=Hi(n,"ratio");if(Ol(i)||(i=.8),i=Ql(i),i<=0)throw new Error(`ratio[${i}]<=0`);if(i>1)throw new Error(`ratio[${i}]>1`);let o=e=>{let t=Uh(e,2);return{vi:t,vd:Ql(t)}},a=1-i,u=i;e=Po(e,(e=>zh(e,t,{unitSvSvp:"MPa"})));let l=!1;return e=Po(e,((e,t)=>{if(!Ol(e.rsat))throw console.log("estUnitWeight",t,e),new Error("estUnitWeight: rsat");let n=null,i=null;if(Of(e.iRobRfqt)&&(i=Hi(Wh,e.iRobRfqt,null),!Ol(i)))throw new Error(`kpCPTClassForRobBqRfqtrsatRfqt[${i}]`);let s=null;if(Of(e.iRobBqqt)&&(s=Hi(Wh,e.iRobBqqt,null),!Ol(s)))throw new Error(`kpCPTClassForRobBqRfqtrsatBqqt[${s}]`);Ol(i)&&Ol(s)&&(n=(i+s)/2),Ol(n)||(n=Hh);let f=Ql(e.rsat),c=n,p=o(f),h=o(c),d=p.vi,v=h.vi;if(f=p.vd,c=h.vd,d!==v){l=!0;let t=f*a+c*u;e.rsat=o(t).vd;let n=t-r;e.rd=o(n).vd}return e})),{bUpdate:l,ltdt:e}}function Yh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(!Lf(e))throw new Error("");let r=Hi(t,"keyDepthStart");Tl(r)||(r="depthStart");let i=Hi(t,"keyDepthEnd");Tl(i)||(i="depthEnd");let o=Hi(t,"depthEndMax");if(o=Ol(o)?Ql(o):null,e=Cu(e),ze(e,((e,t)=>{let o=Hi(e,r,null),a=Hi(e,i,null);Ol(o)||n.push(` ${t} ${r}[${o}]`),Ol(a)||n.push(` ${t} ${i}[${a}]`)})),rf(n)>0)throw new Error(xc(n,", "));if(e=Cs(e,(e=>Ql(e[r]))),ze(e,((t,o)=>{if(0===o)return!0;let a=Hi(e,`${o-1}.${i}`,null),u=Hi(t,r,null);a=Ql(a),u=Ql(u),ih(a,">",u)&&n.push(` ${o-1} ${i}[${a}] ${o} ${r}[${u}]`)})),rf(n)>0)throw new Error(xc(n,", "));if(ze(e,((t,n)=>{if(0===n)return!0;let o=Hi(e,`${n-1}.${i}`,null),a=Hi(t,r,null);if(o=Ql(o),a=Ql(a),ih(o,"<",a)){let t=(o+a)/2;e[n-1][i]=t,e[n+0][r]=t}})),Fu(o)){let t=rf(e)-1;ih(e[t][i],"<",o)&&(e[t][i]=o)}return e}var Zh=Bi,Kh=Nu;var Jh=Ni,Xh=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},ed=function(e,t){return t.length<2?e:Zh(e,Kh(t,0,-1))},td=Ii;var nd=function(e,t){return t=Jh(t,e),null==(e=ed(e,t))||delete e[td(Xh(t))]},rd=U,id=Array.prototype.splice;var od=Ie,ad=yf,ud=function(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;rd(i)?id.call(e,i,1):nd(e,i)}}return e},ld=Xl,sd=U,fd=Sf((function(e,t){var n=null==e?0:e.length,r=ad(e,t);return ud(e,od(t,(function(e){return sd(e,n)?+e:e})).sort(ld)),r}));var cd=$o,pd=Me,hd=Ee;var dd=function(e){return function(t,n,r){var i=Object(t);if(!pd(t)){var o=cd(n);t=hd(t),n=function(e){return o(i[e],e,i)}}var a=e(t,n,r);return a>-1?i[o?t[a]:a]:void 0}},vd=Uu,gd=$o,md=Pf,bd=Math.max;var yd=dd((function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:md(n);return i<0&&(i=bd(r+i,0)),vd(e,gd(t),i)}));function wd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wd(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let $d=null;function Md(){return null!==$d||($d=[{key:"sand",nameCht:"",nameEng:"Sand",nameEngineeringEng:"SAND",group:"",colorPrimary:"#467dec",colorSecondary:"#467dec"},{key:"silty-sand",nameCht:"",nameEng:"Silty-sand",nameEngineeringEng:"SILTY-SAND",group:"",colorPrimary:"linear-gradient(90deg, #dad74d 0%, #467dec 100%)",colorSecondary:"#00D9A3"},{key:"sand/silt",nameCht:"",nameEng:"Sand/Silt",nameEngineeringEng:"SAND/SILT",group:"",colorPrimary:"repeating-linear-gradient(90deg, #dad74d 5px, #467dec 10px, #dad74d 15px)",colorSecondary:"#87A7A3"},{key:"clayey-sand",nameCht:"",nameEng:"Clayey-sand",nameEngineeringEng:"CLAYEY-SAND",group:"",colorPrimary:"linear-gradient(90deg, #ea4e2d 0%, #467dec 100%)",colorSecondary:"#B973FF"},{key:"sand/clay",nameCht:"",nameEng:"Sand/Clay",nameEngineeringEng:"SAND/CLAY",group:"",colorPrimary:"repeating-linear-gradient(90deg, #ea4e2d 5px, #467dec 10px, #ea4e2d 15px)",colorSecondary:"#859C78"},{key:"sandy-silt",nameCht:"",nameEng:"Sandy-silt",nameEngineeringEng:"SANDY-SILT",group:"",colorPrimary:"linear-gradient(90deg, #467dec 0%, #dad74d 100%)",colorSecondary:"#00D9D9"},{key:"silt",nameCht:"",nameEng:"Silt",nameEngineeringEng:"SILT",group:"",colorPrimary:"#dad74d",colorSecondary:"#D9D900"},{key:"clayey-silt",nameCht:"",nameEng:"Clayey-silt",nameEngineeringEng:"CLAYEY-SILT",group:"",colorPrimary:"linear-gradient(90deg, #ea4e2d 0%, #dad74d 100%)",colorSecondary:"#FFBF00"},{key:"sandy-clay",nameCht:"",nameEng:"Sandy-clay",nameEngineeringEng:"SANDY-CLAY",group:"",colorPrimary:"linear-gradient(90deg, #467dec 0%, #ea4e2d 100%)",colorSecondary:"#2DB200"},{key:"silty-clay",nameCht:"",nameEng:"Silty-clay",nameEngineeringEng:"SILTY-CLAY",group:"",colorPrimary:"linear-gradient(90deg, #dad74d 0%, #ea4e2d 100%)",colorSecondary:"#FFDC73"},{key:"silt/clay",nameCht:"",nameEng:"Silt/Clay",nameEngineeringEng:"SILT/CLAY",group:"",colorPrimary:"repeating-linear-gradient(90deg, #dad74d 5px, #ea4e2d 10px, #dad74d 15px",colorSecondary:"#C6BEAC"},{key:"clay",nameCht:"",nameEng:"Clay",nameEngineeringEng:"CLAY",group:"",colorPrimary:"#ea4e2d",colorSecondary:"#ea4e2d"}]),$d}function Sd(e,t,n){let r=Md(),i=yd(r,{[e]:t});return El(i)||(i=null),Tl(n)&&(i=Hi(i,n,null)),i}function Rd(){let e=["sand","sandy-silt","clayey-silt","clay"];return e=Po(e,(e=>Sd("key",e,"nameEngineeringEng"))),e}function kd(){let e=["sand","silty-sand","clayey-sand","sandy-silt","clayey-silt","clay"];return e=Po(e,(e=>Sd("key",e,"nameEng"))),e}function Ed(){let e=["sand","silty-sand","clayey-sand","sandy-silt","silt","clayey-silt","sandy-clay","silty-clay","clay"];return e=Po(e,(e=>Sd("key",e,"nameEng"))),e}var Ld={getSoilGroups:Md,getSoilGroupByKV:Sd,sortSoilGroupsByKey:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key",n=Md(),r={};if(ze(n,((e,n)=>{r[e[t]]=n})),Lf(e))e=Cs(e,(e=>r[e]));else{if(!El(e))return e;{let t=Ee(e);t=Cs(t,(e=>r[e]));let n={};ze(t,(t=>{n[t]=e[t]})),e=n}}return e},getSoilGroupsT4:Rd,getSoilGroupsT6:kd,getSoilGroupsT9:Ed,getKpSoilGroups:function(){let e={},t=Md(),n=hh();return ze(["nameEng","nameEngineeringEng"],(n=>{ze(t,(t=>{let r=t[n];e[r]=xd({key:r},t)}))})),ze(n,(t=>{ze(["Ic","Icn"],(n=>{let r=`${n}(${Uh(t.min,2)}-${Uh(t.max,2)})`;e[r]=xd({key:r},t)}))})),e}};function Dd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Hi(t,"keyDepth");Tl(n)||(n="depth");let r=Hi(t,"keyDepthStart");Tl(r)||(r="depthStart");let i=Hi(t,"keyDepthEnd");Tl(i)||(i="depthEnd");let o=Hi(t,"keyType");Tl(o)||(o="type");let a=Hi(t,"saveFromInds");Cl(a)||(a=!0);let u=Hi(t,"keyInd");Tl(u)||(u="ind");let l=Hi(t,"keyFromInds");Tl(l)||(l="fromInds");let s=Cu(e);return a&&(s=Po(s,((e,t)=>(Ol(e[u])||(e[u]=t),e)))),ze(s,((e,t)=>{if(0===t)return!0;if(!El(e))throw new Error(`ltdt[${t}] is not an object`);let n=Hi(s,t-1),f=e,c=Hi(n,o,""),p=Hi(n,i,""),h=Hi(f,o,""),d=Hi(f,r,"");if(!Ol(p)||!Ol(d))return!0;p=Ql(p),d=Ql(d),Tl(c)&&c===h&&ih(p,"===",d)&&(a&&(kf(s[t-1][l])||(s[t-1][l]=[s[t-1][u]]),kf(s[t][l])||(s[t][l]=[s[t][u]]),s[t][l]=[...s[t-1][l],...s[t][l]]),s[t][r]=s[t-1][r],s[t-1]=null)})),s=Kf(s,El),s}function Pd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pd(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let Td=Rd(),Od=kd(),Fd=Ed();function jd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===rf(e))return[];let n=Hi(t,"keyDepth");Tl(n)||(n="depth");let r=Hi(t,"keyDepthStart");Tl(r)||(r="depthStart");let i=Hi(t,"keyDepthEnd");Tl(i)||(i="depthEnd");let o=Hi(t,"depthStartMin");Ol(o)&&(o=Ql(o));let a=Hi(t,"depthEndMax");Ol(a)&&(a=Ql(a));let u=Hi(t,"keyType");Tl(u)||(u="type");let l=Hi(t,"getType",null),s=Hi(t,"keyInd");Tl(s)||(s="ind"),e=Gh(e,t);let f=[];return ze(e,((e,t)=>{let c=Hi(e,r,null);if(!Ol(c))throw new Error(`depthStart[${c}] is not a number`);c=Ql(c);let p=Hi(e,i,null);if(!Ol(p))throw new Error(`depthEnd[${p}] is not a number`);p=Ql(p),Fu(o)&&(c=Math.max(c,o)),Fu(a)&&(p=Math.min(p,a));let h=(c+p)/2,d=Hi(e,u,null);Rl(l)&&(d=l(e,t)),Tl(d)&&f.push({[n]:h,[r]:c,[i]:p,[u]:d,[s]:t})})),f}function qd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t=>{let r=hh();if("Ic"!==t||"Icn"!==t)throw new Error(`key[${t}] must be Ic or Icn`);let i=Cd(Cd({},n),{},{getType:(e,n)=>{let i=Hi(e,t,""),o="";return ze(r,(e=>{if(i<e.max)return o=`Ic(${Uh(e.min,2)}-${Uh(e.max,2)})`,!1})),o}});return jd(e,i)},i=t=>{if("T4"!==t&&"T6"!==t)throw new Error(`T[${t}] must be T4 or T6`);let r=zf(t.replace("T","")),i="";i="T4"===t?"nameEngineeringEng":"nameEng";let o=Cd(Cd({},n),{},{getType:(e,t)=>{let n=Hi(e,"iRobFrQt",""),o=Hi(e,"iRobBqQt",""),a="";try{a=Sd("key",kh(n,o,{numOfType:r}),i)}catch(e){console.log(e)}return a}});return jd(e,o)},o=t=>{if("T4"!==t&&"T6"!==t)throw new Error(`T[${t}] must be T4 or T6`);let r=zf(t.replace("T","")),i="";i="T4"===t?"nameEngineeringEng":"nameEng";let o=Cd(Cd({},n),{},{getType:(e,t)=>{let n=Hi(e,"iRobFrQt",""),o=Hi(e,"iRobBqQt",""),a="";try{a=Sd("key",Lh(n,o,{numOfType:r}),i)}catch(e){console.log(e)}return a}});return jd(e,o)},a=t=>{if("T4"!==t&&"T6"!==t)throw new Error(`T[${t}] must be T4 or T6`);let r=zf(t.replace("T","")),i="";i="T4"===t?"nameEngineeringEng":"nameEng";let o=Cd(Cd({},n),{},{getType:(e,t)=>{let n=Hi(e,"iRobFrQtn",""),o=Hi(e,"iRobBqQtn",""),a="";try{a=Sd("key",Dh(n,o,{numOfType:r}),i)}catch(e){console.log(e)}return a}});return jd(e,o)},u=t=>{if("T4"!==t&&"T6"!==t)throw new Error(`T[${t}] must be T4 or T6`);let r=zf(t.replace("T","")),i="";i="T4"===t?"nameEngineeringEng":"nameEng";let o=Cd(Cd({},n),{},{getType:(e,t)=>{let n=Hi(e,"iRamFrQt",""),o=Hi(e,"iRamBqQt",""),a="";try{a=Sd("key",Ch(n,o,{numOfType:r}),i)}catch(e){console.log(e)}return a}});return jd(e,o)},l={Ic:()=>r("Ic"),Icn:()=>r("Icn"),Robertson1986T6:()=>i("T6"),Robertson1986T4:()=>i("T4"),Robertson1990T6:()=>o("T6"),Robertson1990T4:()=>o("T4"),Robertson2009T6:()=>a("T6"),Robertson2009T4:()=>a("T4"),RamseyT6:()=>u("T6"),RamseyT4:()=>u("T4")};if(!ch(l,t))throw console.log(`invalid method[${t}]`,l),new Error(`invalid method[${t}]`);let s=(0,l[t])();return s=Dd(s,n),s}var _d={getKpSoilGroupsTn:function(){return{soilGroupsT4:Td,soilGroupsT6:Od,soilGroupsT9:Fd}},genLayer:jd,calcLayersByMerge:Dd,calcLayer:qd,calcLayers:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Lf(t))throw new Error(`methods[${t}] is not an effective array`);return Po(t,(t=>({method:t,ltdt:qd(e,t,n)})))}},Ad=Hu;var Nd=function(e,t){return!!(null==e?0:e.length)&&Ad(e,t,0)>-1};var zd=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var Id=br,Ud=function(){},Gd=Id&&1/Gn(new Id([,-0]))[1]==1/0?function(e){return new Id(e)}:Ud,Bd=jn,Qd=Nd,Hd=zd,Wd=qn,Vd=Gd,Yd=Gn;var Zd=function(e,t,n){var r=-1,i=Qd,o=e.length,a=!0,u=[],l=u;if(n)a=!1,i=Hd;else if(o>=200){var s=t?null:Vd(e);if(s)return Yd(s);a=!1,i=Wd,l=new Bd}else l=t?[]:u;e:for(;++r<o;){var f=e[r],c=t?t(f):f;if(f=n||0!==f?f:0,a&&c==c){for(var p=l.length;p--;)if(l[p]===c)continue e;t&&l.push(c),u.push(f)}else i(l,c,n)||(l!==u&&l.push(c),u.push(f))}return u},Kd=$o,Jd=Zd;var Xd=function(e,t){return e&&e.length?Jd(e,Kd(t)):[]},ev=di;var tv=function(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],a=t(o);if(null!=a&&(void 0===u?a==a&&!ev(a):n(a,u)))var u=a,l=o}return l};var nv=function(e,t){return e>t},rv=tv,iv=nv,ov=$o;var av=function(e,t){return e&&e.length?rv(e,ov(t),iv):void 0};function uv(e,t){if(!Tl(e))return[];if(!Tl(t))return[];let n=function(e,t){return Tl(e)&&Tl(t)?e.split(t):[]}(e,t);n=Po(n,Ml);let r=[];return ze(n,(function(e){Tl(e)&&r.push(e)})),r}var lv=Jr;var sv=function(e,t){return lv(e,t)};function fv(e,t){function n(e){return kf(e)?e:[e]}if(Ef(e))return!1;if(0===(e=n(e)).length)return!1;if(Ef(e))return!1;if(0===(t=n(t)).length)return!1;for(let n=0;n<e.length;n++)for(let r=0;r<t.length;r++)if(sv(e[n],t[r]))return!0;return!1}function cv(e,t){return Fu(t)||(t=.1),e=Math.ceil(e/t)*t}function pv(e,t){return Fu(t)||(t=.1),e=Math.floor(e/t)*t}function hv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Hi(t,"keyDepth");Tl(n)||(n="depth");let r=Hi(t,"keyDepthStart");Tl(r)||(r="depthStart");let i=Hi(t,"keyDepthEnd");Tl(i)||(i="depthEnd");let o=Hi(t,"approximate");Cl(o)||(o=!1);let a=-1e20;return ze(e,(e=>{Ol(e[r])&&(a=Math.max(a,Ql(e[r]))),Ol(e[i])&&(a=Math.max(a,Ql(e[i]))),Ol(e[n])&&(a=Math.max(a,Ql(e[n])))})),o&&(a=cv(a)),a}function dv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Hi(t,"keyDepth");Tl(n)||(n="depth");let r=Hi(t,"keyDepthStart");Tl(r)||(r="depthStart");let i=Hi(t,"keyDepthEnd");Tl(i)||(i="depthEnd");let o=Hi(t,"approximate");Cl(o)||(o=!1);let a=1e20;return ze(e,(e=>{Ol(e[r])&&(a=Math.min(a,Ql(e[r]))),Ol(e[i])&&(a=Math.min(a,Ql(e[i]))),Ol(e[n])&&(a=Math.min(a,Ql(e[n])))})),o&&(a=pv(a)),a}var vv={getDepthMaxCeil:cv,getDepthMinFloor:pv,getDepthMax:hv,getDepthMin:dv,getDepthMaxMin:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Hi(t,"keyDepth");Tl(n)||(n="depth");let r=Hi(t,"keyDepthStart");Tl(r)||(r="depthStart");let i=Hi(t,"keyDepthEnd");Tl(i)||(i="depthEnd");let o=Hi(t,"approximate");return Cl(o)||(o=!1),{depthMax:hv(e,t),depthMin:dv(e,t)}}};function gv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mv(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gv(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gv(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!ch(e,"depthStart"))throw new Error("invalid depthStart");if(!ch(e,"depthEnd"))throw new Error("invalid depthEnd");If(t)||(t=1),t=zf(t);let n=null;Ol(e.depthStart)&&(n=Uh(e.depthStart,t));let r=null;if(Ol(e.depthEnd)&&(r=Uh(e.depthEnd,t)),Tl(n)&&Tl(r)&&n===r&&(n=null,r=null),e.depthStart=n,e.depthEnd=r,ch(e,"depth")){let n=null;Ol(e.depth)&&(n=Uh(e.depth,t+1)),e.depth=n}return e}function yv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=Po(e,(e=>bv(e,t,n))),e=Kf(e,(e=>null!==e.depthStart&&null!==e.depthEnd))}function wv(e){let t=!1;if(!Tl(e))throw console.log("invalid type",e),new Error("invalid type");return t=e.indexOf("/")>=0,t}function xv(e){return"sand"===e||"silty-sand"===e||"clayey-sand"===e}function $v(e){return!!wv(e)||!!xv(e)}function Mv(e){return xv(e)?"sand":function(e){return"silt"===e||"sandy-silt"===e||"clayey-silt"===e}(e)?"silt":function(e){return"clay"===e||"sandy-clay"===e||"silty-clay"===e}(e)?"clay":e}function Sv(e,t){let n=`${dc(e)},${dc(t)}`;return n=uv(n,","),n=xc(n,","),n}function Rv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Hi(n,"combineMethod");if("none"!==r&&"general"!==r&&"generalAndNoSand"!==r&&(r="general"),"none"===r)return t;let i=Hi(n,"keyTestRela");Tl(i)||(i="testRela");let o=Hi(n,"keySampleGroupId");Tl(o)||(o="sampleGroupId");let a=Hi(n,"combineDepthMin");a=Ol(a)?Ql(a):null;let u=Hi(n,"combineRatioLim");Ol(u)||(u=.11),u=Ql(u);let l=Hi(n,"combineDisableType"),s=Hi(n,"combineDisableTestRela"),f=Hi(n,"combineThicknessMax");function c(){t=Cu(t);let n=rf(t)-1,c=[];if(ze(t,((e,i)=>{if(null!==a&&Ql(e.depthStart)<=a)return!0;let o={},f=i,p=e,h=p.type,d=p.testRela,v=Ql(p.depthEnd)-Ql(p.depthStart);if("general"===r&&wv(p.type))return!0;if("generalAndNoSand"===r&&$v(p.type))return!0;if(Lf(l)&&fv(l,h))return!0;if(Lf(s)){if(fv(s,uv(d,",")))return!0}else if("all"===s&&Tl(d))return!0;let g=Mv(h);ch(o,g)||(o[g]=0),o[g]+=v;let m=null;ze(mf(1,n+1),(e=>{let i=f+e;if(i>n)return!1;let a=t[i],c=a.type,h=a.testRela,d=Ql(a.depthEnd)-Ql(a.depthStart);if("general"===r&&wv(a.type))return!1;if("generalAndNoSand"===r&&$v(a.type))return!1;if(Lf(l)&&fv(l,c))return!1;if(Lf(s)){if(fv(s,uv(h,",")))return!1}else if("all"===s&&Tl(h))return!1;let v=Mv(c);if(ch(o,v)||(o[v]=0),o[v]+=d,2!==rf(Ee(o)))return!1;let g=(e=>{let t=Ee(e);if(rf(t)<=1)return 0;if(rf(t)>=3)return 1;let n=e[t[0]],r=e[t[1]],i=n+r,o=Math.abs(n-r);return i<=0?1:o/i})(o);g<=u&&(m={kgs:Cu(o),kgsRatio:g,k0:f,kn:i,tks:Ql(a.depthEnd)-Ql(p.depthStart)})})),null!==m&&c.push(m)})),rf(c)>0&&Ol(f)&&(c=Kf(c,(e=>e.tks<=f))),rf(c)>0){let n=av(c,"tks"),r=((e,t)=>{let n=Ee(t);if(2!==rf(n))return"";let r=n[0],i=n[1],o="";return"sand"!==r&&"sand"!==i||(o+=""),"silt"!==r&&"silt"!==i||(o+=""),"clay"!==r&&"clay"!==i||(o+=""),o+="",e.getSoilGroupByKV("nameCht",o,"key")})(e,n.kgs);if(!Tl(r))throw console.log("vdMax.kgs",n.kgs),new Error("invalid soilGroupKey");t[n.k0].type=r,t[n.k0].depthEnd=t[n.kn].depthEnd;let a=t[n.k0][i],u=t[n.k0][o];for(let e=n.k0+1;e<=n.kn;e++)a+=`,${dc(t[e][i])}`,u+=`,${dc(t[e][o])}`,t[e]={needDelete:!0};t[n.k0][i]=xc(uv(a,","),","),t[n.k0][o]=xc(uv(u,","),","),t=Kf(t,(e=>!ch(e,"needDelete")))}return t}f=Ol(f)?Ql(f):null;let p=rf(t);t=c();let h=rf(t);for(;p!==h;)p=h,t=c(),h=rf(t);return t}function kv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Hi(n,"combineMethod");try{t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Hi(t,"mergeMethod");if("none"!==n&&"general"!==n&&"type"!==n&&"gtype"!==n&&(n="general"),"none"===n)return e;let r=Hi(t,"keyTestRela");Tl(r)||(r="testRela");let i=Hi(t,"keySampleGroupId");Tl(i)||(i="sampleGroupId");let o=Hi(t,"mergeDisableType"),a=Hi(t,"mergeDisableTestRela");function u(){e=Cu(e);let t=rf(e)-1;return ze(e,((u,l)=>{if(l>=t)return!1;let s=!1,f=l,c=u,p=c.type,h=c.testRela,d=Ql(c.depthEnd)-Ql(c.depthStart),v=f+1,g=e[v],m=g.type,b=g.testRela,y=Ql(g.depthEnd)-Ql(g.depthStart),w=Mv(p),x=Mv(m);if(!s&&("general"===n||"type"===n)&&p===m&&(s=!0),!s&&("general"===n||"gtype"===n)&&w===x){if(Lf(o)&&p!==m&&(fv(o,p)||fv(o,m)))return!0;if(p!==m)if(Lf(a)){if(fv(a,uv(h,","))||fv(a,uv(b,",")))return!0}else if("all"===a&&(Tl(h)||Tl(b)))return!0;s=!0}return!s||(d>=y?(e[f].depthEnd=e[v].depthEnd,e[f][r]=Sv(e[f][r],e[v][r]),e[f][i]=Sv(e[f][i],e[v][i]),e[v]={needDelete:!0}):(e[v].depthStart=e[f].depthStart,e[v][r]=Sv(e[v][r],e[f][r]),e[v][i]=Sv(e[v][i],e[f][i]),e[f]={needDelete:!0}),!1)})),e=Kf(e,(e=>!ch(e,"needDelete")))}let l=rf(e);e=u();let s=rf(e);for(;l!==s;)l=s,e=u(),s=rf(e);return e}(t,n)}catch(e){throw console.log(e,"layers",t,"opt",n),new Error(e)}try{t=Rv(e,t,n)}catch(e){throw console.log(e,"layers",t,"opt",n),new Error(e)}try{t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Hi(t,"removeMethod");if("none"!==n&&"general"!==n&&"type"!==n&&"gtype"!==n&&(n="general"),"none"===n)return e;let r=Hi(t,"keyDepthStart");Tl(r)||(r="depthStart");let i=Hi(t,"keyDepthEnd");Tl(i)||(i="depthEnd");let o=Hi(t,"keyType");Tl(o)||(o="type");let a=Hi(t,"keyTestRela");Tl(a)||(a="testRela");let u=Hi(t,"keySampleGroupId");Tl(u)||(u="sampleGroupId");let l=Hi(t,"removeDisableGeneralType"),s=Hi(t,"removeDepthMin");s=Ol(s)?Ql(s):null;let f=Hi(t,"removeThicknessMax");if(!Ol(f))return e;if(f=Ql(f),f<=0)return e;let c=Hi(t,"removeDisableType"),p=Hi(t,"removeDisableTestRela"),h=oh(e,{keyDepthStart:r,keyDepthEnd:i});if(rf(h)>0)throw new Error(xc(h,", "));let d=e=>{let t=Hi(e,r,null);Ol(t)&&(t=Ql(t));let n=Hi(e,i,null);Ol(n)&&(n=Ql(n));let u=null;null!==t&&null!==n&&(u=n-t);let l=Hi(e,o,null),s=null;return Tl(l)&&(s=Mv(l)),{tk:u,type:l,gtype:s,testRela:Hi(e,a,null)}},v=function(t,n){let l=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("up"===t)e[n][r]=e[n-1][r],e[n][a]=Sv(e[n][a],e[n-1][a]),e[n][u]=Sv(e[n][u],e[n-1][u]),l&&(e[n][o]=e[n-1][o]),e[n-1]={needDelete:!0};else{if("down"!==t)throw new Error(`invalid mode(${t})`);e[n][i]=e[n+1][i],e[n][a]=Sv(e[n][a],e[n+1][a]),e[n][u]=Sv(e[n][u],e[n+1][u]),l&&(e[n][o]=e[n+1][o]),e[n+1]={needDelete:!0}}};function g(){return e=Cu(e),ze(e,((t,r)=>{if(null!==s&&Ql(t.depthStart)<=s)return!0;let i=Hi(e,r-1,null),o=Hi(e,r+0,null),a=Hi(e,r+1,null),u=d(i),h=Hi(u,"tk"),g=Hi(u,"type"),m=Hi(u,"gtype"),b=Hi(u,"testRela"),y=!1;Lf(c)&&fv(c,g)&&(y=!0);let w=!1;Lf(l)&&fv(l,m)&&(w=!0);let x=!1;Lf(p)?fv(p,uv(b,","))&&(x=!0):"all"===p&&Tl(b)&&(x=!0);let $=!y&&!w&&!x,M=d(o),S=Hi(M,"tk"),R=Hi(M,"type"),k=Hi(M,"gtype"),E=Hi(M,"testRela");if(Lf(c)&&fv(c,R))return!0;if(Lf(l)&&fv(l,k))return!0;if(Lf(p)){if(fv(p,uv(E,",")))return!0}else if("all"===p&&Tl(E))return!0;let L=d(a),D=Hi(L,"tk"),P=Hi(L,"type"),C=Hi(L,"gtype"),T=Hi(L,"testRela"),O=!1;Lf(c)&&fv(c,P)&&(O=!0);let F=!1;Lf(l)&&fv(l,C)&&(F=!0);let j=!1;Lf(p)?fv(p,uv(T,","))&&(j=!0):"all"===p&&Tl(T)&&(j=!0);let q=!O&&!F&&!j;if(S<=f){if("general"===n||"type"===n){if(null!==g&&R===g&&$)return v("up",r),!1;if(null!==P&&R===P&&q)return v("down",r),!1}if("general"===n||"gtype"===n){if(null!==m&&k===m&&$)return v("up",r),!1;if(null!==C&&k===C&&q)return v("down",r),!1}if(null!==h&&null!==D)if(h>=D){if($)return v("up",r,!0),!1}else if(q)return v("down",r,!0),!1;if(null===h&&null!==D)if(S>=D){if(q)return v("down",r),!1}else if(q)return v("down",r,!0),!1;if(null!==h&&null===D)if(S>=h){if($)return v("up",r),!1}else if($)return v("up",r,!0),!1;if(null!==S)return 0===r?(v("up",r+1),!1):(v("down",r-1),!1)}})),e=Kf(e,(e=>!ch(e,"needDelete")))}let m=rf(e);e=g();let b=rf(e);for(;m!==b;)m=b,e=g(),b=rf(e);return e}(t,n)}catch(e){throw console.log(e,"layers",t,"opt",n),new Error(e)}return t}function Ev(){return[{mergeMethod:"type",mergeDisableTestRela:"all",combineMethod:"none",combineDepthMin:"",combineRatioLimForAll:"",combineRatioLimForMix:"",combineRatioLimForSimple:"",combineDisableTestRela:[],combineThicknessMax:2,removeMethod:"type",removeDepthMin:"",removeDisableGeneralType:[],removeDisableTestRela:"all",removeThicknessMaxForAll:"0.49",removeThicknessMaxForMix:"",removeThicknessMaxForSimple:""}]}function Lv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Hi(n,"useMix");Cl(r)||(r=!0);let i=Hi(n,"stages");return kf(i)||(i=[{mergeMethod:"type",mergeDisableTestRela:"all",combineMethod:"none",combineDepthMin:"",combineRatioLimForAll:"",combineRatioLimForMix:"",combineRatioLimForSimple:"",combineDisableTestRela:[],combineThicknessMax:2,removeMethod:"type",removeDepthMin:"",removeDisableGeneralType:[],removeDisableTestRela:"all",removeThicknessMaxForAll:"0.49",removeThicknessMaxForMix:"",removeThicknessMaxForSimple:""}]),ze(i,(i=>{let o=Hi(i,"numLayersLessThen",null);if(Fu(o))return!(rf(t)<=o);let a=Hi(i,"mergeMethod",""),u=Hi(i,"mergeDisableTestRela",[]),l=Hi(i,"combineMethod",""),s=Hi(i,"combineDepthMin",""),f="",c=Hi(i,"combineRatioLimForAll",""),p=Hi(i,"combineRatioLimForMix",""),h=Hi(i,"combineRatioLimForSimple","");if("none"!==l)if(Ol(c))f=c;else{if(!Ol(p)||!Ol(h)){let e="stage.combineRatioLimForAll(ForMixForSimple)";throw console.log(e),new Error(e)}f=r?p:h}let d=Hi(i,"combineDisableTestRela",[]),v=Hi(i,"combineThicknessMax",""),g=Hi(i,"removeMethod",""),m=Hi(i,"removeDepthMin",""),b=Hi(i,"removeDisableGeneralType",[]),y="",w=Hi(i,"removeThicknessMaxForAll",""),x=Hi(i,"removeThicknessMaxForMix",""),$=Hi(i,"removeThicknessMaxForSimple","");if(Ol(w))y=w;else{if(!Ol(x)||!Ol($)){let e="stage.removeThicknessMaxForAll(ForMixForSimple)";throw console.log(e),new Error(e)}y=r?x:$}let M=Hi(i,"removeDisableTestRela",[]);t=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=mv(mv({},n),r),o=rf(t);t=kv(e,t,i);let a=rf(t);for(;o!==a;)o=a,t=kv(e,t,i),a=rf(t);return t}(t,{mergeMethod:a,mergeDisableTestRela:u,combineMethod:l,combineDepthMin:s,combineRatioLim:f,combineDisableTestRela:d,combineThicknessMax:v,removeMethod:g,removeDepthMin:m,removeDisableGeneralType:b,removeThicknessMax:y,removeDisableTestRela:M})})),t}var Dv={getSlIntegrateStagesForTest:Ev,getSlIntegrateStagesForDesign:function(){return[{mergeMethod:"general",mergeDisableTestRela:[],combineMethod:"none",combineDepthMin:"",combineRatioLimForAll:"",combineRatioLimForMix:"",combineRatioLimForSimple:"",combineDisableTestRela:[],combineThicknessMax:2,removeMethod:"general",removeDepthMin:"",removeDisableGeneralType:[],removeDisableTestRela:[],removeThicknessMaxForAll:"0.49",removeThicknessMaxForMix:"",removeThicknessMaxForSimple:""},{numLayersLessThen:35},{mergeMethod:"general",mergeDisableTestRela:[],combineMethod:"general",combineDepthMin:"",combineRatioLimForAll:"",combineRatioLimForMix:"0.11",combineRatioLimForSimple:"0",combineDisableTestRela:[],combineThicknessMax:2,removeMethod:"general",removeDepthMin:"",removeDisableGeneralType:[],removeDisableTestRela:[],removeThicknessMaxForAll:"0.51",removeThicknessMaxForMix:"",removeThicknessMaxForSimple:""},{numLayersLessThen:35},{mergeMethod:"general",mergeDisableTestRela:[],combineMethod:"general",combineDepthMin:"",combineRatioLimForAll:"",combineRatioLimForMix:"0.11",combineRatioLimForSimple:"0",combineDisableTestRela:[],combineThicknessMax:2,removeMethod:"general",removeDepthMin:"",removeDisableGeneralType:[],removeDisableTestRela:[],removeThicknessMaxForAll:"0.76",removeThicknessMaxForMix:"",removeThicknessMaxForSimple:""},{numLayersLessThen:35},{mergeMethod:"general",mergeDisableTestRela:[],combineMethod:"general",combineDepthMin:"",combineRatioLimForAll:"",combineRatioLimForMix:"0.11",combineRatioLimForSimple:"0",combineDisableTestRela:[],combineThicknessMax:2,removeMethod:"general",removeDepthMin:"",removeDisableGeneralType:[],removeDisableTestRela:[],removeThicknessMaxForAll:"1.01",removeThicknessMaxForMix:"",removeThicknessMaxForSimple:""},{numLayersLessThen:35},{mergeMethod:"general",mergeDisableTestRela:[],combineMethod:"general",combineDepthMin:"",combineRatioLimForAll:"",combineRatioLimForMix:"0.21",combineRatioLimForSimple:"0",combineDisableTestRela:[],combineThicknessMax:2,removeMethod:"general",removeDepthMin:"",removeDisableGeneralType:[],removeDisableTestRela:[],removeThicknessMaxForAll:"1.01",removeThicknessMaxForMix:"0",removeThicknessMaxForSimple:"0"},{numLayersLessThen:35},{mergeMethod:"general",mergeDisableTestRela:[],combineMethod:"general",combineDepthMin:"",combineRatioLimForAll:"",combineRatioLimForMix:"0.21",combineRatioLimForSimple:"0",combineDisableTestRela:[],combineThicknessMax:2,removeMethod:"general",removeDepthMin:"",removeDisableGeneralType:[],removeDisableTestRela:[],removeThicknessMaxForAll:"1.26",removeThicknessMaxForMix:"0",removeThicknessMaxForSimple:"0"},{numLayersLessThen:35},{mergeMethod:"general",mergeDisableTestRela:[],combineMethod:"general",combineDepthMin:"",combineRatioLimForAll:"",combineRatioLimForMix:"0.41",combineRatioLimForSimple:"0",combineDisableTestRela:[],combineThicknessMax:2,removeMethod:"general",removeDepthMin:"",removeDisableGeneralType:[],removeDisableTestRela:[],removeThicknessMaxForAll:"1.26",removeThicknessMaxForMix:"0",removeThicknessMaxForSimple:"0"},{numLayersLessThen:35},{mergeMethod:"general",mergeDisableTestRela:[],combineMethod:"general",combineDepthMin:"",combineRatioLimForAll:"",combineRatioLimForMix:"0.41",combineRatioLimForSimple:"0",combineDisableTestRela:[],combineThicknessMax:2,removeMethod:"general",removeDepthMin:"",removeDisableGeneralType:[],removeDisableTestRela:[],removeThicknessMaxForAll:"1.51",removeThicknessMaxForMix:"0",removeThicknessMaxForSimple:"0"},{numLayersLessThen:35},{mergeMethod:"general",mergeDisableTestRela:[],combineMethod:"general",combineDepthMin:"",combineRatioLimForAll:"",combineRatioLimForMix:"0.41",combineRatioLimForSimple:"0",combineDisableTestRela:[],combineThicknessMax:3,removeMethod:"general",removeDepthMin:"",removeDisableGeneralType:[],removeDisableTestRela:[],removeThicknessMaxForAll:"1.76",removeThicknessMaxForMix:"0",removeThicknessMaxForSimple:"0"},{numLayersLessThen:35},{mergeMethod:"general",mergeDisableTestRela:[],combineMethod:"general",combineDepthMin:"",combineRatioLimForAll:"",combineRatioLimForMix:"0.41",combineRatioLimForSimple:"0",combineDisableTestRela:[],combineThicknessMax:4,removeMethod:"general",removeDepthMin:"",removeDisableGeneralType:[],removeDisableTestRela:[],removeThicknessMaxForAll:"2.01",removeThicknessMaxForMix:"0",removeThicknessMaxForSimple:"0"},{numLayersLessThen:35},{mergeMethod:"general",mergeDisableTestRela:[],combineMethod:"general",combineDepthMin:"",combineRatioLimForAll:"",combineRatioLimForMix:"0.41",combineRatioLimForSimple:"0",combineDisableTestRela:[],combineThicknessMax:5,removeMethod:"general",removeDepthMin:"",removeDisableGeneralType:[],removeDisableTestRela:[],removeThicknessMaxForAll:"2.26",removeThicknessMaxForMix:"0",removeThicknessMaxForSimple:"0"},{numLayersLessThen:35},{mergeMethod:"general",mergeDisableTestRela:[],combineMethod:"general",combineDepthMin:"",combineRatioLimForAll:"",combineRatioLimForMix:"0.41",combineRatioLimForSimple:"0",combineDisableTestRela:[],combineThicknessMax:6,removeMethod:"general",removeDepthMin:"",removeDisableGeneralType:[],removeDisableTestRela:[],removeThicknessMaxForAll:"2.51",removeThicknessMaxForMix:"0",removeThicknessMaxForSimple:"0"}]},compressLayerByDig:bv,compressLayersByDig:yv,compressLayersByLabAndCpt:function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=Hi(r,"cutCptLen");if(!Ol(i))throw new Error(`cutCptLen[${i}] is not a number`);i=Ql(i);let o=i/2,a=Hi(r,"useSoilTypeSpec");"USCS"!==a&&"ISO"!==a&&(a="ISO");let u=Hi(r,"useSimplify");"simplifyRobertson1986"!==u&&"simplifyRobertson1990"!==u&&"simplifyRobertson2009"!==u&&"simplifyRamsey"!==u&&(u="simplifyRobertson1990");let l=Hi(r,"thicknessMaxForInfluence");Ol(l)||(l=1.5),l=Ql(l);let s=Hi(r,"depthMax");if(Ol(s)&&(s=Ql(s)),Lf(t)||(t=[]),Lf(n)||(n=[]),0===rf(t)&&0===rf(n))throw new Error("CPT");let f=!(0===rf(t)||0===rf(n)),c=hv([...n,...t],{useCeil:!0});Fu(s)||(s=c);let p={};"USCS"===a?p.numOfType=3:"ISO"===a&&(p.numOfType=5);let h=[];ze(n,(e=>{let t=mv(mv(mv({},r),p),{},{data:e}),n="";"simplifyRobertson1986"===u?n=kh(e.iRobRfqt,e.iRobBqqt,t):"simplifyRobertson1990"===u?n=Lh(e.iRobFrQt,e.iRobBqQt,t):"simplifyRobertson2009"===u?n=Dh(e.iRobFrQtn,e.iRobBqQtn,t):"simplifyRamsey"===u&&(n=Ch(e.iRamFrQt,e.iRamBqQt,t)),Tl(n)&&h.push({type:n,depth:Ql(e.depth)})}));let d={ranger:{depthHalf:o},methodSmooth:"maxCount"},v=[];try{v=mc(h,"type",d)}catch(e){console.log(e)}let g=[];ze(t,(e=>{if("GPP"!==e.test)return!0;let t=Hi(e,"layerSoilTypeISO",""),n=null;return Tl(t)&&(n=t),null===n||(!(Ol(e.depth)&&Ol(e.depthStart)&&Ol(e.depthEnd))||void g.push({type:n,test:e.test,testRela:e.testRela,sampleGroupId:e.sampleGroupId,depth:Ql(e.depth),depthStart:Ql(e.depthStart),depthEnd:Ql(e.depthEnd)}))}));let m=cc(g,"depth");ze(m,((e,t)=>{rf(e)>1&&console.log("",t,Cu(Po(e,(e=>({test:e.test,testRela:e.testRela,sampleGroupId:e.sampleGroupId,depth:e.depth})))))})),g=Xd(g,"depth"),g=Cs(g,"depth"),ze(g,((e,t)=>{if(0===t)return!0;let n=Hi(g,t-1),r=e;ih(n.depthEnd,">",r.depthStart)&&console.log("",n,r)}));let b=oh(g,{stateConn:"overlap"});if(rf(b)>0)throw console.log("",xc(b,", ")),new Error("");let y=rf(g)-1;g=Po(g,((e,t)=>{let n=Hi(e,"depthStart");Ol(n)&&(n=Ql(n));let r=Hi(e,"depthEnd");Ol(r)&&(r=Ql(r));let i=Hi(e,"depth");if(Ol(i)&&(i=Ql(i)),null!==n&&null!==r&&null!==i){let o=r-n;if(o<=0&&console.log(`[${o}]<=0`,e),o>0&&o<l){if(t>0){let e=Hi(g,t-1),r=Hi(e,"depthEnd"),o=Hi(e,"depth");Ol(o)&&(o=Ql(o),i-o>l?n=i-l/2:Ol(r)&&(n=(n+r)/2))}else n=i-l/2;if(t<y){let e=Hi(g,t+1),n=Hi(e,"depthStart"),o=Hi(e,"depth");Ol(o)&&(o=Ql(o),o-i>l?r=i+l/2:Ol(n)&&(r=(r+n)/2))}else r=i+l/2;n=Math.max(n,0),r=Math.min(r,s),e.depthStartNew=n,e.depthEndNew=r}}return e})),g=Po(g,((e,t)=>(Fu(e.depthStartNew)&&(e.depthStart=e.depthStartNew,delete e.depthStartNew),Fu(e.depthEndNew)&&(e.depthEnd=e.depthEndNew,delete e.depthEndNew),e.depth=(e.depthStart+e.depthEnd)/2,e)));let w=Cu(v);ze(g,(e=>{w=Kf(w,(t=>t.depth<e.depthStart||t.depth>e.depthEnd))})),ze(g,(e=>{w.push(e)})),w=Cs(w,"depth");let x=rf(w)-1;w=Po(w,((e,t)=>{let n=t,r=t+1,i=Hi(w,t-1),o=Hi(i,"depthEnd"),a=Hi(i,"depth"),u=Hi(w,n),l=Hi(u,"depthStart"),f=Hi(u,"depthEnd"),c=Hi(u,"depth"),p=Hi(w,r),h=Hi(p,"depthStart"),d=Hi(p,"depth");return 0===t?e.depthStart=0:Ol(l)?e.depthStart=l:Ol(o)?e.depthStart=o:Ol(c)&&Ol(a)?e.depthStart=(c+a)/2:console.log("depthStart",o,c,a),t===x?e.depthEnd=s:Ol(f)?e.depthEnd=f:Ol(h)?e.depthEnd=h:Ol(c)&&Ol(d)?e.depthEnd=(c+d)/2:console.log("depthEnd",h,c,d),e.depth=(e.depthStart+e.depthEnd)/2,e}));let $=[];try{$=Yh(w,{depthEndMax:s})}catch(e){console.log("psMerge",w),console.log(e)}let M=oh($);if(rf(M)>0)throw console.log("",xc(M,", ")),new Error("");let S=!1;if(ze($,(e=>{Tl(e.type)||(console.log("type",e),S=!0)})),S)throw new Error("type");try{$=yv($,r)}catch(e){console.log(e)}try{$=Lv(e,$,mv(mv({},r),{},{useMix:f}))}catch(e){console.log(e)}try{$=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Hi(t,"depthMax");Ol(n)&&(n=Ql(n));let r=[];return ze(e,(e=>{let t=null;Ol(e.depthStart)&&(t=Ql(e.depthStart));let i=null;if(Ol(e.depthEnd)&&(i=Ql(e.depthEnd)),Fu(n)){if(t=Math.min(t,n),i=Math.min(i,n),t>=i)return console.log("depthStart >= depthEnd",t,i),!0;e.depthStart=t,e.depthEnd=i}r.push(e)})),yv(e=r,t)}($,r)}catch(e){console.log(e)}try{$=function(e){let t=[];return ze(e,(e=>{t.push({type:e.type,depthStart:e.depthStart,depthEnd:e.depthEnd})})),t}($)}catch(e){console.log(e)}let R=rf($);return console.log(`${dc(r.modeName)}:`,R),""===r.modeName&&(R<=19||R>=40)&&console.log(`${r.modeName}[${R}]<=19>=40`),$}};;var Pv=tv,Cv=function(e,t){return e<t},Tv=Te;var Ov=function(e){return e&&e.length?Pv(e,Tv,Cv):void 0},Fv=tv,jv=nv,qv=Te;var _v=function(e){return e&&e.length?Fv(e,qv,jv):void 0},Av=Fi;var Nv=function(e){return Av(e).toLowerCase()},zv=E,Iv=L;var Uv=function(e){return Iv(e)&&"[object RegExp]"==zv(e)},Gv=Y,Bv=Z&&Z.isRegExp,Qv=Bv?Gv(Bv):Uv,Hv=Ti,Wv=Iu,Vv=Xu,Yv=Es,Zv=Qv,Kv=vl,Jv=Fi;var Xv=function(e,t,n){return n&&"number"!=typeof n&&Yv(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=Jv(e))&&("string"==typeof t||null!=t&&!Zv(t))&&!(t=Hv(t))&&Vv(e)?Wv(Kv(e),0,n):e.split(t,n):[]};function eg(e,t){return Tl(e)&&If(t)?0===(t=zf(t))?"":e.substring(0,t):""}function tg(e,t){if(!Tl(e))return"";if(!If(t))return"";if(0===(t=zf(t)))return"";let n=e.length-t;return n<0&&(n=0),e.substr(n,t)}let ng="in x-range",rg="out of x-range",ig="order list",og="reverse order list";function ag(e,t){let n=null,r=null;return n=e[0].x,r=e[rf(e)-1].x,t<n?{err:rg,msg:`x[${t}] less than lower limit[${n}]`,data:{ps:e,x:t,xmin:n,xmax:r}}:t>r?{err:rg,msg:`x[${t}] greater than upper limit[${r}]`,data:{ps:e,x:t,xmin:n,xmax:r}}:ng}function ug(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!kf(e))return{err:"ps is not an array"};if(!Fu(t))return{err:"x is not a number"};let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(rf(e)<=0)return[];let n=Hi(t,"keyX");Tl(n)||(n="x");let r=Hi(t,"keyY");Tl(r)||(r="y");let i=[];return ze(e,(e=>{let t=null,o=null;kf(e)&&rf(e)>=2?(t=Hi(e,0),o=Hi(e,1)):(t=Hi(e,n,null),o=Hi(e,r,null)),Ol(t)&&Ol(o)&&(t=Il(t),o=Il(o),i.push({x:t,y:o}))})),i}(e,n);if(Hi(r,"err"))return Hi(r,"err");if(0===rf(r))return{err:"ps(length=0) is not an effective array",ps:e,psEff:r};if(1===rf(r))return{err:"ps(length=1) is one point only",ps:e,psEff:r};let i=function(e){let t=!0,n=!0;for(let r=1;r<rf(e);r++){let i=e[r-1],o=e[r];if(t&&i.x>o.x&&(t=!1),n&&i.x<o.x&&(n=!1),i.x===o.x)return{err:`x can not be equal: i=${r}, x=${i.x}`}}return t?ig:n?og:"no"}(r);if("no"===i)return{err:"psEff is not increasing or decreasing"};i===og&&(i=ig,r=hc(r));let o=Hi(n,"mode");"linear"!==o&&"stairs"!==o&&"blocks"!==o&&(o="linear");try{if("linear"===o)return function(e,t){let n=ag(e,t);if(n!==ng)return n;let r=null;for(let n=1;n<rf(e);n++){let i=e[n-1],o=e[n];if(i.x<=t&&t<=o.x){r=((t-i.x)*o.y+(o.x-t)*i.y)/(o.x-i.x);break}}return null===r?{err:rg}:r}(r,t);if("blocks"===o)return function(e,t){let n=ag(e,t);if(n!==ng)return n;let r=null;for(let n=1;n<rf(e);n++){let i=e[n-1],o=e[n],a=i.x,u=o.x;if(a<=t&&t<=u){r=o.y;break}}return null===r?{err:rg}:r}(r,t);if("stairs"===o)return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Hi(n,"xMin");if(Fu(r)){if(r>e[0].x)return{err:`xMin=${r} > ps[0].x=${e[0].x}`};r===e[0].x||(e=[{x:r,y:e[0].y},...e])}let i=Hi(n,"xMax");if(Fu(i)){if(i<e[rf(e)-1].x)return{err:`xMax=${i} < ps[size(ps)-1].x=${e[rf(e)-1].x}`};if(i===e[rf(e)-1].x);else{let t={x:i,y:e[rf(e)-1].y};e=[...e,t]}}let o=ag(e,t);if(o!==ng)return o;let a=null;for(let n=0;n<rf(e);n++){let r=Hi(e,n-1,null),i=Hi(e,n,null),o=Hi(e,n+1,null),u=i.x;r&&(u=(r.x+i.x)/2);let l=i.x;if(o&&(l=(o.x+i.x)/2),u<=t&&t<=l){a=i.y;break}}return null===a?{err:rg}:a}(r,t,n)}catch(e){return{err:e.toString()}}}var lg=Ie;var sg=function(e,t){return lg(t,(function(t){return e[t]}))},fg=sg,cg=Ee;var pg=function(e){return null==e?[]:fg(e,cg(e))};let hg=lf.rw;function dg(e,t){return e*hg/(1+t)}function vg(e,t){return e-t*hg/(1+t)}function gg(e,t){return(e-hg)*t/(t-1)}function mg(e,t){return(e+t)*hg/(1+t)}function bg(e,t){return e+t*hg/(1+t)}function yg(e,t){return e*(t-1)/t+hg}function wg(e,t){return(e*hg-t)/t}function xg(e,t){return(e-t)/(t-hg-e)}function $g(e,t){return(e*hg-t)/(t-hg)}function Mg(e,t){return e*(1+t)/hg}function Sg(e,t){return e/(e-(t-hg))}function Rg(e,t){return(e+e*t-t*hg)/hg}function kg(e,t,n,r){let i={},o=Hi(arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},"returnFuncs");function a(){let o,a,u,l,s=!1;return!Fu(o)&&Fu(n)&&Fu(r)&&(o=dg(n,r)),!Fu(o)&&Fu(t)&&Fu(r)&&(o=vg(t,r)),!Fu(o)&&Fu(t)&&Fu(n)&&1!==n&&(o=gg(t,n)),Fu(e)?Math.abs(e-o)>o/100*5&&(i.ck_rd=`[${e}][${o}]`):(e=o,s=!0),!Fu(a)&&Fu(n)&&Fu(r)&&(a=mg(n,r)),!Fu(a)&&Fu(e)&&Fu(r)&&(a=bg(e,r)),!Fu(a)&&Fu(e)&&Fu(n)&&(a=yg(e,n)),Fu(t)?Math.abs(t-a)>a/100*5&&(i.ck_rsat=`[${t}][${a}]`):(t=a,s=!0),!Fu(u)&&Fu(n)&&Fu(e)&&(u=wg(n,e)),!Fu(u)&&Fu(t)&&Fu(e)&&t-hg-e!=0&&(u=xg(e,t)),!Fu(u)&&Fu(t)&&Fu(n)&&t-hg!=0&&(u=$g(n,t)),Fu(r)?Math.abs(r-u)>u/100*5&&(i.ck_e=`[${r}][${u}]`):(r=u,s=!0),!Fu(l)&&Fu(e)&&Fu(r)&&(l=Mg(e,r)),!Fu(l)&&Fu(e)&&Fu(t)&&e-(t-hg)!=0&&(l=Sg(e,t)),!Fu(l)&&Fu(t)&&Fu(r)&&(l=Rg(t,r)),Fu(n)?Math.abs(n-l)>l/100*5&&(i.ck_GS=`[${n}][${l}]`):(n=l,s=!0),s}Cl(o)||(o=!1),Ol(e)?((e=Ql(e))<=0&&(i.rd=`[${e}]<=0`),e<=hg&&(i.rd=`[${e}]<=[${hg}]`)):e=null,Ol(t)?((t=Ql(t))<=0&&(i.rsat=`[${t}]<=0`),t<=hg&&(i.rsat=`[${t}]<=[${hg}]`)):t=null,Ol(n)?(n=Ql(n))<=0&&(i.GS=`[${n}]<=0`):n=null,Ol(r)?(r=Ql(r))<=0&&(i.e=`[${r}]<=0`):r=null;let u=0;if(u+=Ol(e)?1:0,u+=Ol(t)?1:0,u+=Ol(n)?1:0,u+=Ol(r)?1:0,u>=2){let e=a();for(;e;)e=a()}let l={rd:e,rsat:t,GS:n,e:r};if(El(i)){let e=xc(pg(i),", ");l.err=e}return o&&(l.coreFuncs={get_rd_from_GS_e:dg,get_rd_from_rsat_e:vg,get_rd_from_rsat_GS:gg,get_rsat_from_GS_e:mg,get_rsat_from_rd_e:bg,get_rsat_from_rd_GS:yg,get_e_from_GS_rd:wg,get_e_from_rd_rsat:xg,get_e_from_GS_rsat:$g,get_GS_from_rd_e:Mg,get_GS_from_rd_rsat:Sg,get_GS_from_rsat_e:Rg}),l}function Eg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eg(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}let Dg=1/lf.g*1e3/1e4;function Pg(e){let t=Ml(dc(e));return""!==t?`[${t}]`:""}function Cg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"new",n=eg(e,1),r=eg(e,2);if("new"===t)return"C"===n||"O"===n||"P"===n||"M"===n&&"ML"!==r&&"MH"!==r;if("classic"===t)return"S"!==n&&"G"!==n;throw new Error(`invalid mode[${t}]`)}function Tg(e,t,n){if(rf(e)<=0)return{err:"invalid vx"};if(rf(t)<=0)return{err:"invalid vy"};if(rf(e)!==rf(t))return{err:"size of vx is not equal to size of vy"};let r=ug(Po(e,((n,r)=>({x:e[r],y:t[r]}))),n);return r.err&&"ps is not effective array"===r.err&&(r.err=""),r}function Og(e,t,n){return((n-e.x)*t.y+(t.x-n)*e.y)/(t.x-e.x)}function Fg(e,t){let n=[],r=[{volumetricStrain:10,data:[[1.15304,.6],[1.10234,.0413661],[1.10234,.0348459],[1.04383,.0253621],[.956072,.0161746],[.722041,.0093581],[0,0]]},{volumetricStrain:5,data:[[3.00384,.6],[2.97459,.0591482],[2.94533,.0523317],[2.82832,.0431443],[2.56503,.0348459],[2.12623,.0253621],[1.21936,.0126182],[0,0]]},{volumetricStrain:4,data:[[5.11012,.6],[5.11012,.111606],[5.05161,.103604],[5.02236,.0947126],[4.87609,.0849324],[4.72982,.0754486],[4.52504,.0656684],[4.20325,.0579628],[3.82295,.0499608],[3.32563,.0407733],[2.53578,.0286221],[1.5704,.0161746],[0,0]]},{volumetricStrain:3,data:[[7.68446,.6],[7.53819,.234896],[7.53819,.212964],[7.50893,.191033],[7.39192,.165249],[7.33341,.142428],[7.24565,.125831],[7.07012,.111013],[6.8946,.09738],[6.66057,.0887852],[6.45579,.0804869],[6.07549,.0730776],[5.66594,.0665575],[5.28564,.0606301],[4.75907,.0523317],[4.08623,.043737],[0,0]]},{volumetricStrain:2,data:[[14.1203,.6],[14.091,.248529],[13.974,.231043],[13.7985,.216521],[13.6815,.201702],[13.3597,.184513],[13.2134,.173843],[13.0087,.16347],[12.7161,.152208],[12.131,.139168],[11.546,.12761],[10.8439,.116644],[0,0]]},{volumetricStrain:1,data:[[27.5771,.6],[27.5771,.541935],[27.6063,.507852],[27.5478,.485625],[27.5186,.465471],[27.5186,.445022],[27.4893,.424869],[27.3723,.41005],[27.1675,.392268],[26.9335,.376264],[26.5532,.357889],[26.2021,.339514],[25.7048,.324399],[25.1783,.311655],[24.6224,.298022],[23.9496,.282908],[23.2182,.269571],[22.4576,.256531],[21.7556,.244676],[20.8779,.232525],[19.9126,.218892],[0,0]]},{volumetricStrain:.5,data:[[33.0183,.6],[33.0183,.570979],[32.9598,.554086],[32.9013,.536007],[32.6965,.516743],[32.5502,.500147],[32.3747,.482068],[32.0529,.464582],[31.6726,.445022],[31.3216,.425461],[30.9998,.410939],[30.5025,.394935],[29.9466,.376264],[29.3908,.356704],[28.3962,.335958],[27.1383,.313137],[25.5586,.287057],[23.7156,.261865],[21.8141,.238452],[19.7078,.212964],[0,0]]},{volumetricStrain:.2,data:[[35.4,.6],[35.3,.574535],[35.1,.555864],[34.9,.539267],[34.6,.515558],[34.3,.497183],[34,.477919],[33.4544,.455691],[33,.434353],[32.6087,.415385],[31.8774,.397306],[30.8242,.369151],[30.0051,.348998],[29.069,.327067],[28.1329,.308099],[27.1383,.291799],[25.8218,.271349],[24.3884,.252974],[23.2768,.237859],[21.8726,.220373],[19.9711,.200517],[18.5961,.186291],[17.1627,.170583],[15.583,.154876],[14.3543,.14065],[12.8331,.124942],[10.7269,.103307],[8.59132,.081376],[6.39729,.0612228],[4.17399,.0389951],[2.15548,.0188419],[0,0]]},{volumetricStrain:.1,data:[[36.7,.6],[36.5,.571572],[36.2,.544602],[35.8,.520596],[35.4,.490366],[35,.466657],[34.6,.446207],[34.2,.424869],[33.5,.404419],[32.7,.379228],[32,.358482],[30.9998,.331809],[29.5956,.305432],[28.0159,.278758],[26.9335,.262162],[25.266,.238156],[23.2768,.214446],[21.2875,.192515],[19.0642,.170583],[16.8117,.149541],[14.5006,.129684],[12.2481,.108938],[10.0248,.0881925],[7.77222,.0671502],[5.63669,.0472934],[4.70056,.038106],[3.23787,.0259548],[2.38951,.0194347],[.926818,.00669077],[0,0]]}];r=Po(r,(e=>{let t=Po(e.data,(e=>e[1])),n=Po(e.data,(e=>e[0]));return e.vx=t,e.vy=n,e}));let i=Po(r,"volumetricStrain"),o=Po(r,(e=>{let n=Tg(e.vx,e.vy,t);return Hi(n,"err")?n.err:n})),a=o[0],u=[o[0]],l=[i[0]];ze(o,((e,t)=>{t>0&&o[t]>=a&&(a=o[t],u.push(o[t]),l.push(i[t]))})),o=u,i=l;let s=Tg(o,i,e);if(Hi(s,"err"))if("out of x-range"===s.err){let r=s.data.ps,i=_v(o),a=Ov(o);if(e>i){let o=r[rf(r)-1].y;n.push(` N160=${e} > N160Max=${i}CSR=${t}vstr=${o}%`),s=o}else if(e<a){let i=Og(r[0],r[1],e);n.push(` N160=${e} < N160Min=${a}CSR=${t}2vstr=${i}%`),s=i}else n.push(""),s=""}else n.push(s.err),s="";return{err:n,vstr:s}}function jg(e,t){let n=[],r=[{N172:3,data:[[0,5.48516],[.791714,5.48516],[.889946,5.48274],[.957602,5.47549],[.972564,5.43681],[.981021,5.37154],[.982973,4.71396],[.984274,4.17243],[.985575,3.45201],[.988177,2.61312],[.992081,2.25532],[.996634,1.94104],[1.00379,1.68961],[1.01095,1.54214],[1.02981,1.32698],[1.04347,1.16501],[1.06624,1.00303],[1.09096,.879735],[1.11503,.773363],[1.1391,.703254],[1.17944,.616222],[1.23018,.529191],[1.28873,.444576],[1.35378,.384138],[1.41558,.333369],[1.48064,.275348],[1.5548,.231832],[2,0]]},{N172:6,data:[[0,4.51524],[.789554,4.51524],[.890726,4.51176],[.938502,4.49784],[.957238,4.45954],[.960985,4.31681],[.962858,3.76677],[.964732,3.36294],[.966605,2.92778],[.971289,2.57618],[.97691,2.27679],[.980657,2.07487],[.990962,1.85903],[1.00314,1.57705],[1.01813,1.35773],[1.03686,1.18367],[1.05935,1.02005],[1.08089,.88428],[1.09401,.818136],[1.13148,.696291],[1.17082,.60926],[1.22367,.517103],[1.28287,.437324],[1.34597,.376885],[1.40778,.323699],[1.47673,.268096],[1.55154,.222162],[2,0]]},{N172:10,data:[[0,3.50567],[.738969,3.50567],[.841077,3.50219],[.896347,3.49523],[.912272,3.43953],[.919767,3.34206],[.928198,3.02874],[.938502,2.64928],[.94787,2.29419],[.961922,1.9774],[.972226,1.74763],[.989088,1.50743],[1.00876,1.28811],[1.03031,1.11404],[1.05466,.953905],[1.08745,.807692],[1.12398,.682366],[1.16333,.584891],[1.21673,.50134],[1.27762,.421271],[1.33757,.358608],[1.39752,.306389],[1.46966,.25417],[1.54366,.205433],[2,0]]},{N172:14,data:[[0,2.77461],[.693066,2.77461],[.763325,2.77113],[.797049,2.73283],[.815784,2.68061],[.831709,2.57966],[.867307,2.26634],[.88979,2.01221],[.915083,1.74763],[.936629,1.54224],[.960985,1.34729],[.991898,1.12797],[1.01532,.978274],[1.04248,.852949],[1.0734,.731104],[1.10712,.623185],[1.14834,.539634],[1.18206,.480453],[1.22797,.414309],[1.28417,.36209],[1.34975,.299427],[1.4275,.240245],[1.51368,.184545],[2,0]]},{N172:20,data:[[0,2.17235],[.511332,2.17235],[.605009,2.16539],[.660279,2.13406],[.69213,2.1062],[.722107,2.0505],[.751147,1.95999],[.794238,1.75808],[.825152,1.6049],[.865433,1.40299],[.901968,1.24285],[.939439,1.06182],[.994709,.859911],[1.04717,.689329],[1.09869,.550078],[1.15021,.459565],[1.20267,.386459],[1.25888,.327277],[1.31228,.271577],[1.38441,.22632],[1.46403,.177583],[2,0]]},{N172:25,data:[[0,1.73371],[.396108,1.73371],[.49447,1.71978],[.544119,1.69542],[.579716,1.65712],[.619998,1.58053],[.660279,1.48306],[.703371,1.37862],[.734285,1.28463],[.775503,1.17671],[.816721,1.06182],[.865433,.93998],[.910399,.82858],[.956301,.724142],[1.00595,.602297],[1.0556,.508303],[1.11743,.403865],[1.16989,.337721],[1.22703,.285502],[1.27855,.247208],[1.33663,.208914],[1.4172,.167139],[1.49963,.132326],[2,0]]},{N172:30,data:[[0,1.30203],[.264959,1.30203],[.388614,1.29159],[.476671,1.26026],[.527257,1.20108],[.588147,1.11056],[.647164,1.01657],[.694003,.919093],[.759578,.804211],[.821405,.689329],[.884169,.591853],[.964732,.47349],[1.02469,.386459],[1.09963,.309871],[1.16895,.25417],[1.24764,.19847],[1.32726,.156695],[1.40876,.125364],[1.48558,.100995],[1.55303,.0870696],[1.63453,.0627007],[2,0]]}];r=Po(r,(e=>{let t=Po(e.data,(e=>e[0])),n=Po(e.data,(e=>e[1]));return e.vx=t,e.vy=n,e}));let i=Po(r,"N172"),o=Po(r,(e=>{let n=Tg(e.vx,e.vy,t);return Hi(n,"err")?n.err:n})),a=o[0],u=[o[0]],l=[i[0]];ze(o,((e,t)=>{t>0&&o[t]<=a&&(a=o[t],u.push(o[t]),l.push(i[t]))})),o=u,i=l;let s=Tg(i,o,e);if(Hi(s,"err"))if("out of x-range"===s.err){let r=s.data.ps,o=_v(i),a=Ov(i);if(e>o){let i=r[rf(r)-1].y;n.push(` N172=${e} > N172Max=${o}FS=${t}vstr=${i}%`),s=i}else if(e<a){let i=Og(r[0],r[1],e);n.push(` N172=${e} < N172Min=${a}FS=${t}2vstr=${i}%`),s=i}else n.push(""),s=""}else n.push(s.err),s="";return{err:n,vstr:s}}function qg(e,t,n,r){let i=[],o=0;!function(){if(n<0)return i.push(`Volumetric Strain(Tokimatsu And Seed): CSR${Pg(n)}<0`),void(o="");n>.6&&(i.push("Volumetric Strain(Tokimatsu And Seed): CSR0.60.6"),n=.6),o=Fg(e,n),rf(o.err)>0&&ze(o.err,(e=>{i.push(`Volumetric Strain(Tokimatsu And Seed): ${e}`)})),o=o.vstr}();let a=0;return function(){if(r<0)return i.push(`Volumetric Strain(Ishihara And Yoshimine): FS${Pg(r)}<0`),void(a="");r>=2&&(r=2),a=jg(t,r),rf(a.err)>0&&ze(a.err,(e=>{i.push(`Volumetric Strain(Ishihara And Yoshimine): ${e}`)})),a=a.vstr}(),{err:i,vstrTS:o,vstrIY:a}}function _g(e){let{ver:t="2012",noLiqueMode:n="new",waterLevelDesign:r,soilClassification:i,depth:o,N60:a,FC:u,PI:l,sv:s,svpUsual:f,svpDesign:c,PGA:p,Mw:h}=e,d=[],v="",g="",m="",b="",y="",w="",x="",$="",M="",S="",R="",k="",E="";function L(){let e={rrd:g,ks:m,CN:b,N160:y,N160cs:w,N172:x,CRR75:$,CRR:M,CSR:S,FS:R,vstrTS:k,vstrIY:E,err:xc(d,"; ")};return ze(e,((t,n)=>{Tl(t)||Ol(t)||(e[n]="")})),e}let D=!1,P=!1;for(;;){if("2012"!==t&&"2017"!==t)return d.push(`ver${Pg(t)}20122017`),L();if(!Ol(o))return d.push(`depth${Pg(o)}`),L();if(o=Ql(o),o<0)return d.push(`depth${Pg(o)}<0`),L();if("new"!==n&&"classic"!==n&&(d.push(`noLiqueMode${Pg(n)}'new''classic''new'`),n="new"),Ol(r)?(r=Ql(r),r<0&&(d.push(`waterLevelDesign${Pg(r)}<00(m)`),r=0)):(d.push(`waterLevelDesign${Pg(r)}0(m)`),r=0),Tl(i)||(d.push(`soilClassification${Pg(i)}SW`),i="SW"),(o<r||Cg(i,n))&&(D=!0),o>20&&(D=!0),"NP"===Ml(dc(l))&&(l=0),Ol(l)?Ql(l)>7&&(D=!0):d.push(`PI${Pg(l)}NP`),Ol(a)?(a=Ql(a),a<0&&(d.push(`N60${Pg(a)}<0`),P=!0),a>=50&&(D=!0)):(d.push(`N60${Pg(a)}`),P=!0),Ol(u)?(u=Ql(u),u<0&&(d.push(`FC${Pg(u)}<0`),P=!0)):(d.push(`FC${Pg(u)}`),P=!0),!Ol(f))return d.push(`svpUsual${Pg(f)}`),L();if(f=Ql(f),f<0)return d.push(`svpUsual${Pg(f)}<0`),L();if(!Ol(c))return d.push(`svpDesign${Pg(c)}`),L();if(c=Ql(c),c<0)return d.push(`svpDesign${Pg(c)}<0`),L();if(!Ol(s))return d.push(`sv${Pg(s)}`),L();if(s=Ql(s),s<0)return d.push(`sv${Pg(s)}<0`),L();if(!Ol(p))return d.push(`PGA${Pg(p)}`),L();if(p=Ql(p),p<0)return d.push(`PGA${Pg(p)}<0`),L();if(!Ol(h))return d.push(`Mw${Pg(h)}`),L();if(h=Ql(h),h<0)return d.push(`Mw${Pg(h)}<0`),L();break}if(!0===D)return d=[],M="-",S="-",R=10,L();if(!0===P)return L();let C=null;"2012"===t?C=-3.3:"2017"===t&&(C=-1.8),v=(h/7.5)**C,g=o<=10?1-.01*o:1.2-.03*o,m=u<=10?1:1+.07*Math.sqrt(u-10);let T=1e3*lf.Pa;if(b=Math.min(Math.sqrt(T/f),1.7),y=b*a,w=m*y,w>=39)return M="-",S="-",R=10,L();$=.08+.0035*w/(1-w/39),M=$*v,Fu(M)&&(M=Math.min(M,1e20)),S=null,S=c>0?s/c*.65*p*g:1e20,Fu(S)&&(S=Math.min(S,1e20)),Fu(S)&&S>0&&(R=M/S),Fu(R)&&R>10&&(R=10),M<0&&d.push(`CRR${Pg(M)}<0`),S<=0&&d.push(`CSR${Pg(S)}<=0`),R<0&&(d.push(`FS${Pg(R)}<00`),R=0),x=y/1.2;let O=qg(y,x,S,R);return d=[...d,...O.err],k=O.vstrTS,E=O.vstrIY,L()}function Ag(e){let{ver:t="1996",noLiqueMode:n="new",waterLevelDesign:r,soilClassification:i,vibrationType:o,depth:a,N60:u,FC:l,PI:s,D50:f,D10:c,sv:p,svpUsual:h,svpDesign:d,PGA:v}=e,g=[],m="",b="",y="",w="",x="",$="",M="",S="",R="",k="",E="",L="",D="",P="",C="",T="";function O(){let e={rrd:m,N160:E,N172:y,c1:w,c2:x,cFC:$,Na:M,RL:S,cw:R,CN:k,CRR75:"",CRR:L,CSR:D,FS:P,vstrTS:C,vstrIY:T,err:xc(g,"; ")};return ze(e,((t,n)=>{Tl(t)||Ol(t)||(e[n]="")})),e}let F=!1,j=!1;for(;;){if("1996"!==t&&"2017"!==t)return g.push(`ver${Pg(t)} 19962017`),O();if(!Ol(a))return g.push(`depth${Pg(a)}`),O();if(a=Ql(a),a<0)return g.push(`depth${Pg(a)}<0`),O();if("new"!==n&&"classic"!==n&&(g.push(`noLiqueMode${Pg(n)}'new''classic''new'`),n="new"),Ol(r)?(r=Ql(r),r<0&&(g.push(`waterLevelDesign${Pg(r)}<00(m)`),r=0)):(g.push(`waterLevelDesign${Pg(r)}0(m)`),r=0),Tl(i)||(g.push(`soilClassification${Pg(i)}SW`),i="SW"),Cg(i,n)&&(F=!0),a>20&&(F=!0),Ol(u)?(u=Ql(u),u<0&&(g.push(`N60${Pg(u)}<0`),j=!0),u>=50&&(F=!0)):(g.push(`N60${Pg(u)}`),j=!0),(a<r||r>10)&&(F=!0),Ol(l)?(l=Ql(l),l<0?(g.push(`FC${Pg(l)}<0`),j=!0):l<=35||("NP"===Ml(dc(s))&&(s=0),Ol(s)?(s=Ql(s),s<15||(F=!0)):g.push(`PI${Pg(s)}NP`))):(g.push(`FC${Pg(l)}`),j=!0),Ol(f)||g.push(`D50${Pg(f)}`),Ol(c)||g.push(`D10${Pg(c)}`),Ol(f)&&Ol(c)&&(f=Ql(f),c=Ql(c),f>10&&(F=!0),c>1&&(F=!0)),Ol(o)?(o=zf(o),1!==o&&2!==o&&(g.push(`vibrationType${Pg(o)}121`),o=1)):(g.push(`vibrationType${Pg(o)}1`),o=1),!Ol(h))return g.push(`svpUsual${Pg(h)}`),O();if(h=Ql(h),h<0)return g.push(`svpUsual${Pg(h)}<0`),O();if(!Ol(d))return g.push(`svpDesign${Pg(d)}`),O();if(d=Ql(d),d<0)return g.push(`svpDesign${Pg(d)}<0`),O();if(!Ol(p))return g.push(`sv${Pg(p)}`),O();if(p=Ql(p),p<0)return g.push(`sv${Pg(p)}<0`),O();if(!Ol(v))return g.push(`PGA${Pg(v)}`),O();if(v=Ql(v),v<0)return g.push(`PGA${Pg(v)}<0`),O();break}if(!0===F)return g=[],L="-",D="-",P=10,O();if(!0===j)return O();m=1-.015*a,b=u/1.2,k=170/(h+70),y=k*b;M=(()=>{let e=0,n="";return Ol(f)?n=Ql(f)<2?"sand":"gravel":!function(e){let t=eg(e,1),n=eg(e,2);return"S"===t||"ML"===n||"MH"===n}(i)?function(e){return"G"===eg(e,1)}(i)&&(n="gravel"):n="sand","sand"!==n&&"gravel"!==n&&(g.push(`D50${Pg(f)}${Pg(i)}`),n="sand"),"sand"===n?"1996"===t?e=(()=>{let e=0;return w=l<10?1:l<60?(l+40)/50:l/20-1,x=l<10?0:(l-10)/18,e=w*y+x,e})():"2017"===t&&(e=(()=>{let e=0;return $=l<10?1:l<40?(l+20)/30:(l-16)/12,e=$*(y+2.47)-2.47,e})()):"gravel"===n&&(Ol(f)||(g.push(`D50${Pg(f)}D50D5010(mm)`),f=10),f=Ql(f),e=(1-.361*Math.log10(f/2))*y),e})(),M<14?"1996"===t?S=.0882*Math.sqrt(M/1.7):"2017"===t&&(S=.0882*Math.sqrt((.85*M+2.1)/1.7)):S=.0882*Math.sqrt(M/1.7)+16e-7*(M-14)**4.5,R=2===o?S<=.1?1:S<=.4?3.3*S+.67:2:1,L=R*S,Fu(L)&&(L=Math.min(L,1e20)),D=null,D=d>0?m*v*p/d:1e20,Fu(D)&&(D=Math.min(D,1e20)),Fu(D)&&D>0&&(P=L/D),Fu(P)&&P>10&&(P=10),L<0&&g.push(`CRR${Pg(L)}<0`),D<=0&&g.push(`CSR${Pg(D)}<=0`),P<0&&(g.push(`FS${Pg(P)}<00`),P=0),E=y/(60/72);let q=qg(E,y,D,P);return g=[...g,...q.err],C=q.vstrTS,T=q.vstrIY,O()}function Ng(e,t,n,r,i,o,a,u){let l=null;l=zh({depth:e,sv:o/1e3,svp:a/1e3,qc:n,fs:r,u0:sf(e,"MPa"),u2:i},t,{useCnLeq:u,unitSvSvp:"MPa"});return l}function zg(e){let{ver:t="2012",waterLevelDesign:n,depth:r,coe_a:i,qc:o,fs:a,u2:u,svp:l,svpUsual:s,svpDesign:f,sv:c,PGA:p,Mw:h}=e,d=[],v="",g={},m="",b="",y="",w="",x="",$="",M="",S="",R="",k="",E="",L="",D="";function P(){let e=Lg(Lg({},g),{},{rrd:b,Ic:y,Icn:w,qc1N:$,Kc:R,qc1Ncs:M,CRR75:k,CRR:E,CSR:L,FS:D,msg:v,err:xc(d,"; ")});return ze(e,((t,n)=>{Tl(t)||Ol(t)||(e[n]="")})),e}let C=!1,T=!1;for(;;){if("2012"!==t&&"2017"!==t&&"2021"!==t)return d.push(`ver${Pg(t)}201220172021`),P();if(Ol(i)?i=Ql(i):(d.push(`coe_a${Pg(i)}0.8`),i=.8),!Ol(r))return d.push(`depth${Pg(r)}`),P();if(r=Ql(r),r<0)return d.push(`depth${Pg(r)}<0`),P();if(Ol(n)?(n=Ql(n),n<0&&(d.push(`waterLevelDesign${Pg(n)}<00(m)`),n=0)):(d.push(`waterLevelDesign${Pg(n)}0(m)`),n=0),r<n&&(v=`: [${r}][${n}]`,C=!0),r>20&&(v=`: [${r}]20m`,C=!0),Ol(o)?(o=Ql(o),o<0&&(d.push(`qc${Pg(o)}<0`),T=!0)):(d.push(`qc${Pg(o)}`),T=!0),Ol(a)?(a=Ql(a),a<0&&(d.push(`fs${Pg(a)}<0`),T=!0)):(d.push(`fs${Pg(a)}`),T=!0),Ol(u)?u=Ql(u):(d.push(`u2${Pg(u)}`),T=!0),Ol(l)&&(l=Ql(l),s=l,f=l),!Ol(s))return d.push(`svpUsual${Pg(s)}`),P();if(s=Ql(s),s<0)return d.push(`svpUsual${Pg(s)}<0`),P();if(!Ol(f))return d.push(`svpDesign${Pg(f)}`),P();if(f=Ql(f),f<0)return d.push(`svpDesign${Pg(f)}<0`),P();if(!Ol(c))return d.push(`sv${Pg(c)}`),P();if(c=Ql(c),c<0)return d.push(`sv${Pg(c)}<0`),P();if(!Ol(p))return d.push(`PGA${Pg(p)}`),P();if(p=Ql(p),p<0)return d.push(`PGA${Pg(p)}<0`),P();if(!Ol(h))return d.push(`Mw${Pg(h)}`),P();if(h=Ql(h),h<0)return d.push(`Mw${Pg(h)}<0`),P();break}if(!0===C)return d=[],E="-",L="-",D=10,P();if(!0===T)return P();if(g=Ng(r,i,o,a,u,c,s,!0),y=Hi(g,"Ic",null),w=Hi(g,"Icn",null),x=Hi(g,"qt",null),S=Hi(g,"Rf",null),!Ol(x))return d.push(`qt${Pg(x)}`),P();c*=Dg,s*=Dg,f*=Dg,x=1e3*x*Dg;let O=null;if("2012"===t?O=-3.3:"2017"!==t&&"2021"!==t||(O=-1.8),m=(h/7.5)**O,b=r<=10?1-.01*r:1.2-.03*r,$=1.7/(s+.7)*x,R=S<=.1?1:.4*S**2-.08*S+1.004,M=R*$,M>=180)return v=`: qc1Ncs[${M}]>=180`,E="-",L="-",D=10,P();if(k=.09+28e-5*M/(1-M/180),E=k*m,Fu(E)&&(E=Math.min(E,1e20)),L=null,L=f>0?.65*p*(c/f)*b:1e20,Fu(L)&&(L=Math.min(L,1e20)),Fu(L)&&L>0&&(D=E/L),Fu(D)&&D>10&&(D=10),"2021"===t){let e=null;if(null===e&&Fu(w)&&(e=w),null===e&&Fu(y)&&(d.push("IcnIc"),e=y),e>2.6)return v=`: Ic[${e}]>2.6`,E="-",L="-",D=10,P()}return E<0&&d.push(`CRR${Pg(E)}<0`),L<=0&&d.push(`CSR${Pg(L)}<=0`),D<0&&(d.push(`FS${Pg(D)}<00`),D=0),D>=1&&(v=`: FS[${D}]>=1`),P()}let Ig={SPT:{sptSeed:function(e){let{noLiqueMode:t="new",waterLevelDesign:n,soilClassification:r,depth:i,N60:o,FC:a,sv:u,svpUsual:l,svpDesign:s,PGA:f,Mw:c}=e,p=[],h="",d="",v="",g="",m="",b="",y="",w="",x="",$="",M="";function S(){let e={rrd:d,CN:v,N160:g,N172:m,CRR75:b,CRR:y,CSR:w,FS:x,vstrTS:$,vstrIY:M,err:xc(p,"; ")};return ze(e,((t,n)=>{Tl(t)||Ol(t)||(e[n]="")})),e}let R=!1,k=!1;for(;;){if(!Ol(i))return p.push(`depth${Pg(i)}`),S();if(i=Ql(i),i<0)return p.push(`depth${Pg(i)}<0`),S();if("new"!==t&&"classic"!==t&&(p.push(`noLiqueMode${Pg(t)}'new''classic''new'`),t="new"),Ol(n)?(n=Ql(n),n<0&&(p.push(`waterLevelDesign${Pg(n)}<00(m)`),n=0)):(p.push(`waterLevelDesign${Pg(n)}0(m)`),n=0),Tl(r)||(p.push(`soilClassification${Pg(r)}SW`),r="SW"),(i<n||Cg(r,t))&&(R=!0),i>20&&(R=!0),Ol(o)?(o=Ql(o),o<0&&(p.push(`N60${Pg(o)}<0`),k=!0),o>=50&&(R=!0)):(p.push(`N60${Pg(o)}`),k=!0),Ol(a)?(a=Ql(a),a<0&&(p.push(`FC${Pg(a)}<0`),k=!0)):(p.push(`FC${Pg(a)}`),k=!0),!Ol(l))return p.push(`svpUsual${Pg(l)}`),S();if(l=Ql(l),l<0)return p.push(`svpUsual${Pg(l)}<0`),S();if(!Ol(s))return p.push(`svpDesign${Pg(s)}`),S();if(s=Ql(s),s<0)return p.push(`svpDesign${Pg(s)}<0`),S();if(!Ol(u))return p.push(`sv${Pg(u)}`),S();if(u=Ql(u),u<0)return p.push(`sv${Pg(u)}<0`),S();if(!Ol(f))return p.push(`PGA${Pg(f)}`),S();if(f=Ql(f),f<0)return p.push(`PGA${Pg(f)}<0`),S();if(!Ol(c))return p.push(`Mw${Pg(c)}`),S();if(c=Ql(c),c<0)return p.push(`Mw${Pg(c)}<0`),S();break}if(!0===R)return p=[],y="-",w="-",x=10,S();if(!0===k)return S();h=(c/7.5)**-1.11,d=(1-.4113*i**.5+.04052*i+.001753*i**1.5)/(1-.4177*i**.5+.05729*i-.006205*i**1.5+.00121*i**2);let E=1e3*lf.Pa;v=Math.min(Math.sqrt(E/l),1.7),g=v*o;let L=[{FC:5,data:[[0,.0496622],[2.65306,.0547297],[4.38776,.0628378],[6.02041,.0719595],[7.55102,.0831081],[8.97959,.100338],[10.5102,.114527],[12.2449,.131757],[13.5714,.146959],[14.7959,.161149],[16.1224,.177365],[17.7551,.193581],[19.1837,.211824],[20.7143,.232095],[22.0408,.248311],[23.2653,.265541],[24.5918,.285811],[25.6122,.307095],[26.4286,.327365],[27.2449,.347635],[27.9592,.372973],[28.3673,.398311],[28.7755,.423649],[28.9796,.444932],[29.2857,.473311],[29.3,.6],[100,100]]},{FC:15,data:[[0,.065],[1.63265,.068],[2.85714,.074],[3.87755,.082],[5.10204,.0932432],[6.22449,.110473],[7.44898,.123649],[8.57143,.136824],[9.69388,.151014],[10.9184,.164189],[11.9388,.178378],[13.0612,.192568],[13.8776,.203716],[14.6939,.214865],[16.1224,.232095],[17.551,.251351],[18.5714,.270608],[19.898,.288851],[20.7143,.308108],[21.4286,.327365],[22.0408,.347635],[22.449,.370946],[22.8571,.393243],[23.2653,.417568],[23.6735,.439865],[23.9796,.460135],[24.05,.483446],[24.0816,.515878],[24.1,.6],[100,101]]},{FC:35,data:[[0,.075],[1.32653,.082],[2.44898,.09],[3.26531,.0962838],[4.79592,.116554],[6.22449,.134797],[7.34694,.152027],[8.87755,.171284],[10.102,.185473],[11.4286,.20777],[13.2653,.228041],[14.5918,.247297],[15.7143,.267568],[16.7347,.287838],[17.7551,.313176],[18.6735,.343581],[19.1837,.364865],[19.6939,.382095],[20.102,.410473],[20.4082,.433784],[20.5102,.464189],[20.7143,.490541],[20.9184,.519932],[20.92,.6],[100,102]]}],D=Po(L,"FC");L=Po(L,(e=>{let t=Po(e.data,(e=>e[0])),n=Po(e.data,(e=>e[1]));return e.vx=t,e.vy=n,e}));let P=Po(L,(e=>{let t=Tg(e.vx,e.vy,g);return Hi(t,"err")?t.err:t}));if(b=Tg(D,P,a),Hi(b,"err")){if("out of x-range"!==b.err)return p.push(b.err),b="",S();{let e=b.data.ps,t=_v(D),n=Ov(D);if(a>t)b=Og(e[rf(e)-2],e[rf(e)-1],a),p.push(` FC=${a} > FCMax=${t}2CRR75=${b}`);else{if(!(a<n))return p.push(""),b="",S();b=Og(e[0],e[1],a),b=Math.max(b,0),p.push(` FC=${a} < FCMin=${n}2CRR75=${b}`)}}}if(!Fu(b))return p.push(`CRR75${Pg(b)}`),S();b>.6&&(p.push(`CRR75${Pg(b)}0.60.6`),b=.6),y=b*h,Fu(y)&&(y=Math.min(y,1e20)),w=null,w=s>0?u/s*.65*f*d:1e20,Fu(w)&&(w=Math.min(w,1e20)),Fu(w)&&w>0&&(x=y/w),Fu(x)&&x>10&&(x=10),y<0&&p.push(`CRR${Pg(y)}<0`),w<=0&&p.push(`CSR${Pg(w)}<=0`),x<0&&(p.push(`FS${Pg(x)}<00`),x=0),m=g/1.2;let C=qg(g,m,w,x);return p=[...p,...C.err],$=C.vstrTS,M=C.vstrIY,S()},sptHBF2012:e=>_g(e=Lg(Lg({},e),{},{ver:"2012"})),sptHBF2017:e=>_g(e=Lg(Lg({},e),{},{ver:"2017"})),sptNCEER:function(e){let{noLiqueMode:t="new",waterLevelDesign:n,soilClassification:r,depth:i,N60:o,FC:a,sv:u,svpUsual:l,svpDesign:s,PGA:f,Mw:c}=e,p=[],h="",d="",v="",g="",m="",b="",y="",w="",x="",$="",M="",S="",R="",k="";function E(){let e={rrd:d,alpha:v,beta:g,CN:m,N160:b,N160cs:y,N172:w,CRR75:x,CRR:$,CSR:M,FS:S,vstrTS:R,vstrIY:k,err:xc(p,"; ")};return ze(e,((t,n)=>{Tl(t)||Ol(t)||(e[n]="")})),e}let L=!1,D=!1;for(;;){if(!Ol(i))return p.push(`depth${Pg(i)}`),E();if(i=Ql(i),i<0)return p.push(`depth${Pg(i)}<0`),E();if("new"!==t&&"classic"!==t&&(p.push(`noLiqueMode${Pg(t)}'new''classic''new'`),t="new"),Ol(n)?(n=Ql(n),n<0&&(p.push(`waterLevelDesign${Pg(n)}<00(m)`),n=0)):(p.push(`waterLevelDesign${Pg(n)}0(m)`),n=0),Tl(r)||(p.push(`soilClassification${Pg(r)}SW`),r="SW"),(i<n||Cg(r,t))&&(L=!0),i>20&&(L=!0),Ol(o)?(o=Ql(o),o<0&&(p.push(`N60${Pg(o)}<0`),D=!0),o>=50&&(L=!0)):(p.push(`N60${Pg(o)}`),D=!0),Ol(a)?(a=Ql(a),a<0&&(p.push(`FC${Pg(a)}<0`),D=!0)):(p.push(`FC${Pg(a)}`),D=!0),!Ol(l))return p.push(`svpUsual${Pg(l)}`),E();if(l=Ql(l),l<0)return p.push(`svpUsual${Pg(l)}<0`),E();if(!Ol(s))return p.push(`svpDesign${Pg(s)}`),E();if(s=Ql(s),s<0)return p.push(`svpDesign${Pg(s)}<0`),E();if(!Ol(u))return p.push(`sv${Pg(u)}`),E();if(u=Ql(u),u<0)return p.push(`sv${Pg(u)}<0`),E();if(!Ol(f))return p.push(`PGA${Pg(f)}`),E();if(f=Ql(f),f<0)return p.push(`PGA${Pg(f)}<0`),E();if(!Ol(c))return p.push(`Mw${Pg(c)}`),E();if(c=Ql(c),c<0)return p.push(`Mw${Pg(c)}<0`),E();break}if(!0===L)return p=[],$="-",M="-",S=10,E();if(!0===D)return E();h=(c/7.5)**-2.56,d=(1-.4113*i**.5+.04052*i+.001753*i**1.5)/(1-.4177*i**.5+.05729*i-.006205*i**1.5+.00121*i**2),v=a<=5?0:a<=35?Math.exp(1.76-190/a**2):5,g=a<=5?1:a<=35?.99+a**1.5/1e3:1.2;let P=1e3*lf.Pa;if(m=Math.min(Math.sqrt(P/l),1.7),b=m*o,y=v+g*b,y>=30)return $="-",M="-",S=10,E();x=(.04844+-.004721*y+6136e-7*y**2+-1673e-8*y**3)/(1+-.1248*y+.009578*y**2+-3285e-7*y**3+3714e-9*y**4),$=x*h,Fu($)&&($=Math.min($,1e20)),M=null,M=s>0?u/s*.65*f*d:1e20,Fu(M)&&(M=Math.min(M,1e20)),Fu(M)&&M>0&&(S=$/M),Fu(S)&&S>10&&(S=10),$<0&&p.push(`CRR${Pg($)}<0`),M<=0&&p.push(`CSR${Pg(M)}<=0`),S<0&&(p.push(`FS${Pg(S)}<00`),S=0),w=b/1.2;let C=qg(b,w,M,S);return p=[...p,...C.err],R=C.vstrTS,k=C.vstrIY,E()},sptNJRA1996:e=>Ag(e=Lg(Lg({},e),{},{ver:"1996"})),sptNJRA2017:e=>Ag(e=Lg(Lg({},e),{},{ver:"2017"})),sptTY:function(e){let{noLiqueMode:t="new",waterLevelDesign:n,soilClassification:r,depth:i,a:o,n:a,Cr:u,Cs:l,N60:s,FC:f,sv:c,svpUsual:p,svpDesign:h,PGA:d,Mw:v}=e,g=[],m="",b="",y="",w="",x="",$="",M="",S="",R="",k="",E="",L="";function D(){let e={rrd:m,N160:M,N172:y,dNf:w,Na:x,CN:$,CRR75:"",CRR:S,CSR:R,FS:k,vstrTS:E,vstrIY:L,err:xc(g,"; ")};return ze(e,((t,n)=>{Tl(t)||Ol(t)||(e[n]="")})),e}let P=!1,C=!1;for(;;){if(!Ol(i))return g.push(`depth${Pg(i)}`),D();if(i=Ql(i),i<0)return g.push(`depth${Pg(i)}<0`),D();if("new"!==t&&"classic"!==t&&(g.push(`noLiqueMode${Pg(t)}'new''classic''new'`),t="new"),Ol(n)?(n=Ql(n),n<0&&(g.push(`waterLevelDesign${Pg(n)}<00(m)`),n=0)):(g.push(`waterLevelDesign${Pg(n)}0(m)`),n=0),Tl(r)||(g.push(`soilClassification${Pg(r)}SW`),r="SW"),(i<n||Cg(r,t))&&(P=!0),i>20&&(P=!0),Ol(s)?(s=Ql(s),s<0&&(g.push(`N60${Pg(s)}<0`),C=!0),s>=50&&(P=!0)):(g.push(`N60${Pg(s)}`),C=!0),Ol(f)?(f=Ql(f),f<0&&(g.push(`FC${Pg(f)}<0`),C=!0)):(g.push(`FC${Pg(f)}`),C=!0),!Ol(p))return g.push(`svpUsual${Pg(p)}`),D();if(p=Ql(p),p<0)return g.push(`svpUsual${Pg(p)}<0`),D();if(!Ol(h))return g.push(`svpDesign${Pg(h)}`),D();if(h=Ql(h),h<0)return g.push(`svpDesign${Pg(h)}<0`),D();if(!Ol(c))return g.push(`sv${Pg(c)}`),D();if(c=Ql(c),c<0)return g.push(`sv${Pg(c)}<0`),D();if(!Ol(d))return g.push(`PGA${Pg(d)}`),D();if(d=Ql(d),d<0)return g.push(`PGA${Pg(d)}<0`),D();if(!Ol(v))return g.push(`Mw${Pg(v)}`),D();if(v=Ql(v),v<0)return g.push(`Mw${Pg(v)}<0`),D();break}if(!0===P)return g=[],S="-",R="-",k=10,D();if(!0===C)return D();Ol(o)||(o=.45),o=Ql(o),Ol(a)||(a=14),a=Ql(a),Ol(u)||(u=.57),u=Ql(u),Ol(l)||(l=85),l=Ql(l),m=1-.015*i,b=s/1.2,$=170/(p+70),y=$*b,w=f<=5?0:f<=10?f-5:.1*f+4,x=y+w,S=o*u*(16*Math.sqrt(x)/100+(16*Math.sqrt(x)/l)**a),Fu(S)&&(S=Math.min(S,1e20)),R=null,R=h>0?.1*(v-1)*d*(c/h)*m:1e20,Fu(R)&&(R=Math.min(R,1e20)),Fu(R)&&R>0&&(k=S/R),Fu(k)&&k>10&&(k=10),S<0&&g.push(`CRR${Pg(S)}<0`),R<=0&&g.push(`CSR${Pg(R)}<=0`),k<0&&(g.push(`FS${Pg(k)}<00`),k=0),M=y/(60/72);let T=qg(M,y,R,k);return g=[...g,...T.err],E=T.vstrTS,L=T.vstrIY,D()}},CPT:{cptHBF2012:e=>zg(e=Lg(Lg({},e),{},{ver:"2012"})),cptHBF2017:e=>zg(e=Lg(Lg({},e),{},{ver:"2017"})),cptHBF2021:e=>zg(e=Lg(Lg({},e),{},{ver:"2021"})),cptNCEER1997:e=>function(e){let{ver:t="1997",waterLevelDesign:n,depth:r,coe_a:i,qc:o,fs:a,u2:u,svp:l,svpUsual:s,svpDesign:f,sv:c,PGA:p,Mw:h}=e,d=[],v={},g="",m="",b="",y="",w="",x="",$="",M="",S="",R="",k="",E="",L="";function D(){Ol($)&&($/=Dg),Ol(S)&&(S/=Dg);let e=Lg(Lg({},v),{},{rrd:m,Qt1n:$,Ic:b,Kc:M,Qt1ncs:S,CRR75:R,CRR:k,CSR:E,FS:L,err:xc(d,"; ")});return ze(e,((t,n)=>{Tl(t)||Ol(t)||(e[n]="")})),e}let P=!1,C=!1;for(;;){if("1997"!==t)return d.push(`ver${Pg(t)}1997`),D();if(Ol(i)?i=Ql(i):(d.push(`coe_a${Pg(i)}0.8`),i=.8),!Ol(r))return d.push(`depth${Pg(r)}`),D();if(r=Ql(r),r<0)return d.push(`depth${Pg(r)}<0`),D();if(Ol(n)?(n=Ql(n),n<0&&(d.push(`waterLevelDesign${Pg(n)}<00(m)`),n=0)):(d.push(`waterLevelDesign${Pg(n)}0(m)`),n=0),r<n&&(P=!0),r>20&&(P=!0),Ol(o)?(o=Ql(o),o<0&&(d.push(`qc${Pg(o)}<0`),C=!0)):(d.push(`qc${Pg(o)}`),C=!0),Ol(a)?(a=Ql(a),a<0&&(d.push(`fs${Pg(a)}<0`),C=!0)):(d.push(`fs${Pg(a)}`),C=!0),Ol(u)?u=Ql(u):(d.push(`u2${Pg(u)}`),C=!0),Ol(l)&&(l=Ql(l),s=l,f=l),!Ol(s))return d.push(`svpUsual${Pg(s)}`),D();if(s=Ql(s),s<0)return d.push(`svpUsual${Pg(s)}<0`),D();if(!Ol(f))return d.push(`svpDesign${Pg(f)}`),D();if(f=Ql(f),f<0)return d.push(`svpDesign${Pg(f)}<0`),D();if(!Ol(c))return d.push(`sv${Pg(c)}`),D();if(c=Ql(c),c<0)return d.push(`sv${Pg(c)}<0`),D();if(!Ol(p))return d.push(`PGA${Pg(p)}`),D();if(p=Ql(p),p<0)return d.push(`PGA${Pg(p)}<0`),D();if(!Ol(h))return d.push(`Mw${Pg(h)}`),D();if(h=Ql(h),h<0)return d.push(`Mw${Pg(h)}<0`),D();break}if(!0===P)return d=[],k="-",E="-",L=10,D();if(!0===C)return D();if(v=Ng(r,i,o,a,u,c,s,!1),y=Hi(v,"Fr",null),b=Hi(v,"Ic",null),w=Hi(v,"qt",null),x=Hi(v,"Qt",null),!Ol(w))return d.push(`qt${Pg(w)}`),D();c*=Dg,s*=Dg,f*=Dg,w=1e3*w*Dg,g=(h/7.5)**-2.56,m=(1-.4113*r**.5+.04052*r+.001753*r**1.5)/(1-.4177*r**.5+.05729*r-.006205*r**1.5+.00121*r**2);let T=x,O=y,F=Math.sqrt((3.47-Math.log10(T))**2+(Math.log10(O)+1.22)**2);if(F<=2.6){let e=1e3*lf.Pa;e*=Dg,$=s>0?w/e*(e/s)**.5:1e20;let t=Math.sqrt((3.47-Math.log10($))**2+(Math.log10(O)+1.22)**2);t<=2.6?b=t:($=s>0?w/e*(e/s)**.75:1e20,b=Math.sqrt((3.47-Math.log10($))**2+(Math.log10(O)+1.22)**2))}else $=T,b=F;return b>=2.6?(k="-",E="-",L=10,D()):(b<=1.64?M=1:(M=-.403*b**4+5.581*b**3-21.63*b**2+33.75*b-17.88,b<2.36&&O<.5&&(M=1)),S=M*$,S>=160?(k="-",E="-",L=10,D()):(R=null,R=S<50?S/1e3*.833+.05:93*(S/1e3)**3+.08,k=R*g,Fu(k)&&(k=Math.min(k,1e20)),E=null,E=f>0?.65*p*(c/f)*m:1e20,Fu(E)&&(E=Math.min(E,1e20)),Fu(E)&&E>0&&(L=k/E),Fu(L)&&L>10&&(L=10),k<0&&d.push(`CRR${Pg(k)}<0`),E<=0&&d.push(`CSR${Pg(E)}<=0`),L<0&&(d.push(`FS${Pg(L)}<00`),L=0),D()))}(e=Lg(Lg({},e),{},{ver:"1997"})),cptRobertson2009:e=>function(e){let{ver:t="2009",waterLevelDesign:n,depth:r,coe_a:i,qc:o,fs:a,u2:u,svp:l,svpUsual:s,svpDesign:f,sv:c,tou_s:p,su:h,PGA:d,Mw:v}=e,g=[],m={},b="",y="",w="",x="",$="",M="",S="",R="",k="",E="",L="",D="",P="",C="",T="";function O(){let e=Lg(Lg({},m),{},{rrd:y,Kc:w,Kalpha:x,Fr:$,Ic:M,Icn:S,Qt:k,Qtn:E,Qtncs:L,CRR75:D,CRR:P,CSR:C,FS:T,err:xc(g,"; ")});return ze(e,((t,n)=>{Tl(t)||Ol(t)||(e[n]="")})),e}let F=!1,j=!1;for(;;){if("2009"!==t)return g.push(`ver${Pg(t)}2009`),O();if(Ol(i)?i=Ql(i):(g.push(`coe_a${Pg(i)}0.8`),i=.8),!Ol(r))return g.push(`depth${Pg(r)}`),O();if(r=Ql(r),r<0)return g.push(`depth${Pg(r)}<0`),O();if(Ol(n)?(n=Ql(n),n<0&&(g.push(`waterLevelDesign${Pg(n)}<00(m)`),n=0)):(g.push(`waterLevelDesign${Pg(n)}0(m)`),n=0),r<n&&(F=!0),r>20&&(F=!0),Ol(o)?(o=Ql(o),o<0&&(g.push(`qc${Pg(o)}<0`),j=!0)):(g.push(`qc${Pg(o)}`),j=!0),Ol(a)?(a=Ql(a),a<0&&(g.push(`fs${Pg(a)}<0`),j=!0)):(g.push(`fs${Pg(a)}`),j=!0),Ol(u)?u=Ql(u):(g.push(`u2${Pg(u)}`),j=!0),Ol(l)&&(l=Ql(l),s=l,f=l),!Ol(s))return g.push(`svpUsual${Pg(s)}`),O();if(s=Ql(s),s<0)return g.push(`svpUsual${Pg(s)}<0`),O();if(!Ol(f))return g.push(`svpDesign${Pg(f)}`),O();if(f=Ql(f),f<0)return g.push(`svpDesign${Pg(f)}<0`),O();if(!Ol(c))return g.push(`sv${Pg(c)}`),O();if(c=Ql(c),c<0)return g.push(`sv${Pg(c)}<0`),O();if(!Ol(p))return g.push(`tou_s${Pg(p)}`),O();if(p=Ql(p),p<0)return g.push(`tou_s${Pg(p)}<0`),O();if(!Ol(h))return g.push(`su${Pg(h)}`),O();if(h=Ql(h),h<0)return g.push(`su${Pg(h)}<0`),O();if(!Ol(d))return g.push(`PGA${Pg(d)}`),O();if(d=Ql(d),d<0)return g.push(`PGA${Pg(d)}<0`),O();if(!Ol(v))return g.push(`Mw${Pg(v)}`),O();if(v=Ql(v),v<0)return g.push(`Mw${Pg(v)}<0`),O();break}if(!0===F)return g=[],P="-",C="-",T=10,O();if(!0===j)return O();if(m=Ng(r,i,o,a,u,c,s,!1),$=Hi(m,"Fr",null),M=Hi(m,"Ic",null),S=Hi(m,"Icn",null),R=Hi(m,"qt",null),k=Hi(m,"Qt",null),E=Hi(m,"Qtn",null),!Ol(R))return g.push(`qt${Pg(R)}`),O();c*=Dg,s*=Dg,f*=Dg,R=1e3*R*Dg;let q=null;null===q&&Fu(S)&&(q=S),null===q&&Fu(M)&&(g.push("IcnIc"),q=M);let _=null;return null===_&&Fu(E)&&(_=E),null===_&&Fu(k)&&(g.push("QtnQt"),_=k),b=(v/7.5)**-2.56,y=(1-.4113*r**.5+.04052*r+.001753*r**1.5)/(1-.4177*r**.5+.05729*r-.006205*r**1.5+.00121*r**2),L=null,D=null,q<=2.5?(q<=1.64?w=1:(w=-.403*q**4+5.581*q**3-21.63*q**2+33.75*q-17.88,q<2.36&&$<.5&&(w=1)),L=w*_,D=L<50?L/1e3*.833+.05:93*(L/1e3)**3+.08):q<2.7?(w=6e-7*q**16.76,L=w*_,D=L<50?L/1e3*.833+.05:93*(L/1e3)**3+.08):(x=1.344-.344/(1-p/h)**.638,L=x*_,D=.053*L),P=D*b,Fu(P)&&(P=Math.min(P,1e20)),C=null,C=f>0?.65*d*(c/f)*y:1e20,Fu(C)&&(C=Math.min(C,1e20)),Fu(C)&&C>0&&(T=P/C),Fu(T)&&T>10&&(T=10),P<0&&g.push(`CRR${Pg(P)}<0`),C<=0&&g.push(`CSR${Pg(C)}<=0`),T<0&&(g.push(`FS${Pg(T)}<00`),T=0),O()}(e=Lg(Lg({},e),{},{ver:"2009"})),cptJuang2002:e=>function(e){let{ver:t="2002",waterLevelDesign:n,depth:r,coe_a:i,qc:o,fs:a,u2:u,svp:l,svpUsual:s,svpDesign:f,sv:c,PGA:p,Mw:h}=e,d=[],v={},g="",m="",b="",y="",w="",x="",$="",M="",S="",R="",k="";function E(){let e=Lg(Lg({},v),{},{rrd:m,qc1N:x,Ic:b,qc1Ncs:$,CRR75:M,CRR:S,CSR:R,FS:k,err:xc(d,"; ")});return ze(e,((t,n)=>{Tl(t)||Ol(t)||(e[n]="")})),e}let L=!1,D=!1;for(;;){if("2002"!==t)return d.push(`ver${Pg(t)}2002`),E();if(Ol(i)?i=Ql(i):(d.push(`coe_a${Pg(i)}0.8`),i=.8),!Ol(r))return d.push(`depth${Pg(r)}`),E();if(r=Ql(r),r<0)return d.push(`depth${Pg(r)}<0`),E();if(Ol(n)?(n=Ql(n),n<0&&(d.push(`waterLevelDesign${Pg(n)}<00(m)`),n=0)):(d.push(`waterLevelDesign${Pg(n)}0(m)`),n=0),r<n&&(L=!0),r>20&&(L=!0),Ol(o)?(o=Ql(o),o<0&&(d.push(`qc${Pg(o)}<0`),D=!0)):(d.push(`qc${Pg(o)}`),D=!0),Ol(a)?(a=Ql(a),a<0&&(d.push(`fs${Pg(a)}<0`),D=!0)):(d.push(`fs${Pg(a)}`),D=!0),Ol(u)?u=Ql(u):(d.push(`u2${Pg(u)}`),D=!0),Ol(l)&&(l=Ql(l),s=l,f=l),!Ol(s))return d.push(`svpUsual${Pg(s)}`),E();if(s=Ql(s),s<0)return d.push(`svpUsual${Pg(s)}<0`),E();if(!Ol(f))return d.push(`svpDesign${Pg(f)}`),E();if(f=Ql(f),f<0)return d.push(`svpDesign${Pg(f)}<0`),E();if(!Ol(c))return d.push(`sv${Pg(c)}`),E();if(c=Ql(c),c<0)return d.push(`sv${Pg(c)}<0`),E();if(!Ol(p))return d.push(`PGA${Pg(p)}`),E();if(p=Ql(p),p<0)return d.push(`PGA${Pg(p)}<0`),E();if(!Ol(h))return d.push(`Mw${Pg(h)}`),E();if(h=Ql(h),h<0)return d.push(`Mw${Pg(h)}<0`),E();break}if(!0===L)return d=[],S="-",R="-",k=10,E();if(!0===D)return E();if(v=Ng(r,i,o,a,u,c,s,!1),y=Hi(v,"Fr",null),w=Hi(v,"qt",null),!Ol(w))return d.push(`qt${Pg(w)}`),E();c*=Dg,s*=Dg,f*=Dg,w=1e3*w*Dg,g=(h/7.5)**-2.56,m=(1-.4113*r**.5+.04052*r+.001753*r**1.5)/(1-.4177*r**.5+.05729*r-.006205*r**1.5+.00121*r**2);let P=y;x=null,s>0&&(x=w/Math.sqrt(s)),b=null,Fu(x)&&Fu(P)&&(b=Math.sqrt((3.47-Math.log10(x))**2+(Math.log10(P)+1.22)**2)),$=null,Fu(x)&&Fu(b)&&($=x*(2.429*b**4-16.943*b**3+44.551*b**2-51.497*b+22.802));let C=-.016*(s/100)**3+.178*(s/100)**2-s/100*.063+.903;return M=null,Fu(C)&&Fu($)&&(M=C*Math.exp(1.264*($/100)**1.25-2.957)),S=null,Fu(M)&&Fu(g)&&(S=M*g),Fu(S)&&(S=Math.min(S,1e20)),R=null,R=f>0?.65*p*(c/f)*m:1e20,Fu(R)&&(R=Math.min(R,1e20)),Fu(R)&&R>0&&(k=S/R),Fu(k)&&k>10&&(k=10),S<0&&d.push(`CRR${Pg(S)}<0`),R<=0&&d.push(`CSR${Pg(R)}<=0`),k<0&&(d.push(`FS${Pg(k)}<00`),k=0),E()}(e=Lg(Lg({},e),{},{ver:"2002"})),cptKuAndJuang2012:e=>function(e){let{ver:t="2012",waterLevelDesign:n,depth:r,coe_a:i,qc:o,fs:a,u2:u,svp:l,svpUsual:s,svpDesign:f,sv:c,PGA:p,Mw:h}=e,d=[],v={},g="",m="",b="",y="",w="",x="",$="",M="",S="",R="",k="",E="",L="",D="",P="",C="";function T(){let e=Lg(Lg({},v),{},{rrd:m,Fr:b,Bq:y,Ic:w,Icn:x,Qt:M,Qtn:S,Icbj:R,Csigma:k,Ksigma:E,CRR75:L,CRR:D,CSR:P,FS:C,err:xc(d,"; ")});return ze(e,((t,n)=>{Tl(t)||Ol(t)||(e[n]="")})),e}let O=!1,F=!1;for(;;){if("2012"!==t)return d.push(`ver${Pg(t)}2012`),T();if(Ol(i)?i=Ql(i):(d.push(`coe_a${Pg(i)}0.8`),i=.8),!Ol(r))return d.push(`depth${Pg(r)}`),T();if(r=Ql(r),r<0)return d.push(`depth${Pg(r)}<0`),T();if(Ol(n)?(n=Ql(n),n<0&&(d.push(`waterLevelDesign${Pg(n)}<00(m)`),n=0)):(d.push(`waterLevelDesign${Pg(n)}0(m)`),n=0),r<n&&(O=!0),r>20&&(O=!0),Ol(o)?(o=Ql(o),o<0&&(d.push(`qc${Pg(o)}<0`),F=!0)):(d.push(`qc${Pg(o)}`),F=!0),Ol(a)?(a=Ql(a),a<0&&(d.push(`fs${Pg(a)}<0`),F=!0)):(d.push(`fs${Pg(a)}`),F=!0),Ol(u)?u=Ql(u):(d.push(`u2${Pg(u)}`),F=!0),Ol(l)&&(l=Ql(l),s=l,f=l),!Ol(s))return d.push(`svpUsual${Pg(s)}`),T();if(s=Ql(s),s<0)return d.push(`svpUsual${Pg(s)}<0`),T();if(!Ol(f))return d.push(`svpDesign${Pg(f)}`),T();if(f=Ql(f),f<0)return d.push(`svpDesign${Pg(f)}<0`),T();if(!Ol(c))return d.push(`sv${Pg(c)}`),T();if(c=Ql(c),c<0)return d.push(`sv${Pg(c)}<0`),T();if(!Ol(p))return d.push(`PGA${Pg(p)}`),T();if(p=Ql(p),p<0)return d.push(`PGA${Pg(p)}<0`),T();if(!Ol(h))return d.push(`Mw${Pg(h)}`),T();if(h=Ql(h),h<0)return d.push(`Mw${Pg(h)}<0`),T();break}if(!0===O)return d=[],D="-",P="-",C=10,T();if(!0===F)return T();if(v=Ng(r,i,o,a,u,c,s,!0),$=Hi(v,"qt",null),b=Hi(v,"Fr",null),y=Hi(v,"Bq",null),w=Hi(v,"Ic",null),x=Hi(v,"Icn",null),M=Hi(v,"Qt",null),S=Hi(v,"Qtn",null),!Ol($))return d.push(`qt${Pg($)}`),T();c*=Dg,s*=Dg,f*=Dg;let j=null;null===j&&Fu(x)&&(j=x),null===j&&Fu(w)&&(d.push("IcnIc"),j=w);let q=null;null===q&&Fu(S)&&(q=S),null===q&&Fu(M)&&(d.push("QtnQt"),q=M),g=6.9*Math.exp(-h/4)-.058,g=Math.min(g,1.8);let _=-1.012-1.126*Math.sin(r/11.73+5.133),A=.106+.118*Math.sin(r/11.28+5.142);if(m=Math.exp(_+A*h),m=Math.min(m,1),R=null,!(Fu(M)&&Fu(y)&&Fu(b)))return d.push("Ic(BJ)"),T();R=Math.sqrt((3-Math.log10(M*(1-y)+1))**2+(Math.log10(b)+1.22)**2);let N=R*(q/100)-14.7,z=.909*R**3-7.47*R+19.28,I=.059+.015*R**2;L=.05+Math.exp(N+z*(q/100)**I),Fu(L)&&(L=Math.min(L,1e20)),k=null,k=S<=37?.063:S<211?1/(37.3-8.27*S**.264):.3,k=Math.min(k,.3);let U=1e3*lf.Pa;return U*=Dg,E=1-k*Math.log(s/U),E=Math.min(E,1),D=L*g*E,Fu(D)&&(D=Math.min(D,1e20)),P=null,P=f>0?.65*p*(c/f)*m:1e20,Fu(P)&&(P=Math.min(P,1e20)),Fu(P)&&P>0&&(C=D/P),Fu(C)&&C>10&&(C=10),D<0&&d.push(`CRR${Pg(D)}<0`),P<=0&&d.push(`CSR${Pg(P)}<=0`),C<0&&(d.push(`FS${Pg(C)}<00`),C=0),T()}(e=Lg(Lg({},e),{},{ver:"2012"})),cptOlsen1997:e=>function(e){let{ver:t="1997",waterLevelDesign:n,depth:r,coe_a:i,qc:o,fs:a,u2:u,svp:l,svpUsual:s,svpDesign:f,sv:c,PGA:p,Mw:h}=e,d=[],v={},g="",m="",b="",y="",w="",x="",$="",M="",S="";function R(){let e=Lg(Lg({},v),{},{rrd:m,qc1:y,Rf:w,CRR75:x,CRR:$,CSR:M,FS:S,err:xc(d,"; ")});return ze(e,((t,n)=>{Tl(t)||Ol(t)||(e[n]="")})),e}let k=!1,E=!1;for(;;){if("1997"!==t)return d.push(`ver${Pg(t)}1997`),R();if(Ol(i)?i=Ql(i):(d.push(`coe_a${Pg(i)}0.8`),i=.8),!Ol(r))return d.push(`depth${Pg(r)}`),R();if(r=Ql(r),r<0)return d.push(`depth${Pg(r)}<0`),R();if(Ol(n)?(n=Ql(n),n<0&&(d.push(`waterLevelDesign${Pg(n)}<00(m)`),n=0)):(d.push(`waterLevelDesign${Pg(n)}0(m)`),n=0),r<n&&(k=!0),r>20&&(k=!0),Ol(o)?(o=Ql(o),o<0&&(d.push(`qc${Pg(o)}<0`),E=!0)):(d.push(`qc${Pg(o)}`),E=!0),Ol(a)?(a=Ql(a),a<0&&(d.push(`fs${Pg(a)}<0`),E=!0)):(d.push(`fs${Pg(a)}`),E=!0),Ol(u)?u=Ql(u):(d.push(`u2${Pg(u)}`),E=!0),Ol(l)&&(l=Ql(l),s=l,f=l),!Ol(s))return d.push(`svpUsual${Pg(s)}`),R();if(s=Ql(s),s<0)return d.push(`svpUsual${Pg(s)}<0`),R();if(!Ol(f))return d.push(`svpDesign${Pg(f)}`),R();if(f=Ql(f),f<0)return d.push(`svpDesign${Pg(f)}<0`),R();if(!Ol(c))return d.push(`sv${Pg(c)}`),R();if(c=Ql(c),c<0)return d.push(`sv${Pg(c)}<0`),R();if(!Ol(p))return d.push(`PGA${Pg(p)}`),R();if(p=Ql(p),p<0)return d.push(`PGA${Pg(p)}<0`),R();if(!Ol(h))return d.push(`Mw${Pg(h)}`),R();if(h=Ql(h),h<0)return d.push(`Mw${Pg(h)}<0`),R();break}return!0===k?(d=[],$="-",M="-",S=10,R()):!0===E?R():(v=Ng(r,i,o,a,u,c,s,!1),b=Hi(v,"qt",null),w=Hi(v,"Rf",null),Ol(b)?(c*=Dg,s*=Dg,f*=Dg,b=1e3*b*Dg,g=(h/7.5)**-2.56,m=(1-.4113*r**.5+.04052*r+.001753*r**1.5)/(1-.4177*r**.5+.05729*r-.006205*r**1.5+.00121*r**2),y=s>0?b/s**.7:1e20,x=.00128*y-.025+.17*w-.028*w**2+.0016*w**3,$=x*g,Fu($)&&($=Math.min($,1e20)),M=null,M=f>0?.65*p*(c/f)*m:1e20,Fu(M)&&(M=Math.min(M,1e20)),Fu(M)&&M>0&&(S=$/M),Fu(S)&&S>10&&(S=10),$<0&&d.push(`CRR${Pg($)}<0`),M<=0&&d.push(`CSR${Pg(M)}<=0`),S<0&&(d.push(`FS${Pg(S)}<00`),S=0),R()):(d.push(`qt${Pg(b)}`),R()))}(e=Lg(Lg({},e),{},{ver:"1997"})),cptShibata1988:e=>function(e){let{ver:t="1988",waterLevelDesign:n,depth:r,coe_a:i,qc:o,fs:a,u2:u,svp:l,svpUsual:s,svpDesign:f,sv:c,PGA:p,Mw:h,D50:d}=e,v=[],g={},m="",b="",y="",w="",x="",$="",M="",S="";function R(){Ol(x)&&(x/=Dg);let e=Lg(Lg({},g),{},{rrd:b,qc1:w,qc1cr:x,CRR75:"",CRR:$,CSR:M,FS:S,err:xc(v,"; ")});return ze(e,((t,n)=>{Tl(t)||Ol(t)||(e[n]="")})),e}let k,E=!1,L=!1;for(;;){if("1988"!==t)return v.push(`ver${Pg(t)}1988`),R();if(Ol(i)?i=Ql(i):(v.push(`coe_a${Pg(i)}0.8`),i=.8),!Ol(r))return v.push(`depth${Pg(r)}`),R();if(r=Ql(r),r<0)return v.push(`depth${Pg(r)}<0`),R();if(Ol(n)?(n=Ql(n),n<0&&(v.push(`waterLevelDesign${Pg(n)}<00(m)`),n=0)):(v.push(`waterLevelDesign${Pg(n)}0(m)`),n=0),r<n&&(E=!0),r>20&&(E=!0),Ol(o)?(o=Ql(o),o<0&&(v.push(`qc${Pg(o)}<0`),L=!0)):(v.push(`qc${Pg(o)}`),L=!0),Ol(a)?(a=Ql(a),a<0&&(v.push(`fs${Pg(a)}<0`),L=!0)):(v.push(`fs${Pg(a)}`),L=!0),Ol(u)?u=Ql(u):(v.push(`u2${Pg(u)}`),L=!0),Ol(d)?(d=Ql(d),d<0&&(v.push(`D50${Pg(d)}<0`),L=!0)):(v.push(`D50${Pg(d)}`),L=!0),Ol(l)&&(l=Ql(l),s=l,f=l),!Ol(s))return v.push(`svpUsual${Pg(s)}`),R();if(s=Ql(s),s<0)return v.push(`svpUsual${Pg(s)}<0`),R();if(!Ol(f))return v.push(`svpDesign${Pg(f)}`),R();if(f=Ql(f),f<0)return v.push(`svpDesign${Pg(f)}<0`),R();if(!Ol(c))return v.push(`sv${Pg(c)}`),R();if(c=Ql(c),c<0)return v.push(`sv${Pg(c)}<0`),R();if(!Ol(p))return v.push(`PGA${Pg(p)}`),R();if(p=Ql(p),p<0)return v.push(`PGA${Pg(p)}<0`),R();if(!Ol(h))return v.push(`Mw${Pg(h)}`),R();if(h=Ql(h),h<0)return v.push(`Mw${Pg(h)}<0`),R();break}if(!0===E)return v=[],$="-",M="-",S=10,R();if(!0===L)return R();if(g=Ng(r,i,o,a,u,c,s,!1),y=Hi(g,"qt",null),!Ol(y))return v.push(`qt${Pg(y)}`),R();c*=Dg,s*=Dg,f*=Dg,y=1e3*y*Dg,m=(h/7.5)**-2.56,b=1-.015*r,w=1.7/(s+.7)*y,k=d>=.25?1:d/.25;let D=null;D=f>0?.1*(m-1)*p*(c/f)*b:1e20;let P=null;return P=-.1!==D?(D-.1)/(D+.1):1e20,x=k*(50+200*P),x=_v(x),$=w,M=x,Fu(M)&&M>0&&(S=$/M),Fu(S)&&S>10&&(S=10),$<0&&v.push(`CRR${Pg($)}<0`),M<=0&&v.push(`CSR${Pg(M)}<=0`),S<0&&(v.push(`FS${Pg(S)}<00`),S=0),R()}(e=Lg(Lg({},e),{},{ver:"1988"}))},VS:{vsHBF:function(e){let{waterLevelDesign:t,depth:n,Vs:r,FC:i,svpDesign:o,sv:a,PGA:u,Mw:l}=e,s=[],f="",c="",p="",h="",d="";function v(){let e={CRR75:c,CRR:p,CSR:h,FS:d,err:xc(s,"; ")};return ze(e,((t,n)=>{Tl(t)||Ol(t)||(e[n]="")})),e}if(Ol(t)||(s.push(`waterLevelDesign${Pg(t)}0(m)`),t=0),t=Ql(t),t<0&&(s.push(`waterLevelDesign${Pg(t)}<00(m)`),t=0),!Ol(n))return s.push(`depth${Pg(n)}`),v();if(n=Ql(n),n<0)return s.push(`depth${Pg(n)}<0`),v();if(!Ol(r))return s.push(`Vs${Pg(r)}`),v();if(r=Ql(r),r<0)return s.push(`Vs${Pg(r)}<0`),v();if(!Ol(i))return s.push(`FC${Pg(i)}`),v();if(i=Ql(i),i<0)return s.push(`FC${Pg(i)}<0`),v();if(!Ol(o))return s.push(`svpDesign${Pg(o)}`),v();if(o=Ql(o),o<0)return s.push(`svpDesign${Pg(o)}<0`),v();if(!Ol(a))return s.push(`sv${Pg(a)}`),v();if(a=Ql(a),a<0)return s.push(`sv${Pg(a)}<0`),v();if(!Ol(u))return s.push(`PGA${Pg(u)}`),v();if(u=Ql(u),u<0)return s.push(`PGA${Pg(u)}<0`),v();if(!Ol(l))return s.push(`Mw${Pg(l)}`),v();if(l=Ql(l),l<0)return s.push(`Mw${Pg(l)}<0`),v();f=(l/7.5)**-3.3;let g,m=(1-.4113*n**.5+.04052*n+.001753*n**1.5)/(1-.4177*n**.5+.05729*n-.006205*n**1.5+.00121*n**2),b=1/Math.sqrt(o)*r;console.log("svpDesign,Vs"),g=i<=10?1:29e-5*i**2-.00355*i+1.00651;let y=g*(b-100);return y=Math.min(y,134.5),c=null,c=b<=100?.09:.09+22e-5*y/(1-y/135),p=c*f,Fu(p)&&(p=Math.min(p,1e20)),h=null,h=o>0?.65*u*(a/o)*m:1e20,Fu(h)&&(h=Math.min(h,1e20)),Fu(h)&&h>0&&(d=p/h),Fu(d)&&d>10&&(d=10),n>20?(p="-",h="-",d=10,v()):(p<0&&s.push(`CRR${Pg(p)}<0`),h<=0&&s.push(`CSR${Pg(h)}<=0`),d<0&&(s.push(`FS${Pg(d)}<00`),d=0),v())},vsAndrus:function(e){let{waterLevelDesign:t,depth:n,Vs:r,FC:i,svpDesign:o,sv:a,PGA:u,Mw:l}=e,s=[],f="",c="",p="",h="";function d(){let e={CRR75:f,CRR:c,CSR:p,FS:h,err:xc(s,"; ")};return ze(e,((t,n)=>{Tl(t)||Ol(t)||(e[n]="")})),e}if(Ol(t)||(s.push(`waterLevelDesign${Pg(t)}0(m)`),t=0),t=Ql(t),t<0&&(s.push(`waterLevelDesign${Pg(t)}<00(m)`),t=0),!Ol(n))return s.push(`depth${Pg(n)}`),d();if(n=Ql(n),n<0)return s.push(`depth${Pg(n)}<0`),d();if(!Ol(r))return s.push(`Vs${Pg(r)}`),d();if(r=Ql(r),r<0)return s.push(`Vs${Pg(r)}<0`),d();if(!Ol(i))return s.push(`FC${Pg(i)}`),d();if(i=Ql(i),i<0)return s.push(`FC${Pg(i)}<0`),d();if(!Ol(o))return s.push(`svpDesign${Pg(o)}`),d();if(o=Ql(o),o<0)return s.push(`svpDesign${Pg(o)}<0`),d();if(!Ol(a))return s.push(`sv${Pg(a)}`),d();if(a=Ql(a),a<0)return s.push(`sv${Pg(a)}<0`),d();if(!Ol(u))return s.push(`PGA${Pg(u)}`),d();if(u=Ql(u),u<0)return s.push(`PGA${Pg(u)}<0`),d();if(!Ol(l))return s.push(`Mw${Pg(l)}`),d();if(l=Ql(l),l<0)return s.push(`Mw${Pg(l)}<0`),d();let v,g=(l/7.5)**-3.3,m=(1-.4113*n**.5+.04052*n+.001753*n**1.5)/(1-.4177*n**.5+.05729*n-.006205*n**1.5+.00121*n**2),b=1/Math.sqrt(o)*r;return console.log("svpDesign,Vs"),v=i<=5?215:i<=35?215-.5*(i-5):200,f=.022*(b/100)**2+2.8*(1/(v-b)-1/v),f=_v(f),c=f*g,Fu(c)&&(c=Math.min(c,1e20)),p=null,p=o>0?.65*u*(a/o)*m:1e20,Fu(p)&&(p=Math.min(p,1e20)),Fu(p)&&p>0&&(h=c/p),Fu(h)&&h>10&&(h=10),n>20?(c="-",p="-",h=10,d()):(c<0&&s.push(`CRR${Pg(c)}<0`),p<=0&&s.push(`CSR${Pg(p)}<=0`),h<0&&(s.push(`FS${Pg(h)}<00`),h=0),d())},vsNCEER:function(e){let{waterLevelDesign:t,depth:n,Vs:r,FC:i,svpDesign:o,sv:a,PGA:u,Mw:l}=e,s=[],f="",c="",p="",h="";function d(){let e={CRR75:f,CRR:c,CSR:p,FS:h,err:xc(s,"; ")};return ze(e,((t,n)=>{Tl(t)||Ol(t)||(e[n]="")})),e}if(Ol(t)||(s.push(`waterLevelDesign${Pg(t)}0(m)`),t=0),t=Ql(t),t<0&&(s.push(`waterLevelDesign${Pg(t)}<00(m)`),t=0),!Ol(n))return s.push(`depth${Pg(n)}`),d();if(n=Ql(n),n<0)return s.push(`depth${Pg(n)}<0`),d();if(!Ol(r))return s.push(`Vs${Pg(r)}`),d();if(r=Ql(r),r<0)return s.push(`Vs${Pg(r)}<0`),d();if(!Ol(i))return s.push(`FC${Pg(i)}`),d();if(i=Ql(i),i<0)return s.push(`FC${Pg(i)}<0`),d();if(!Ol(o))return s.push(`svpDesign${Pg(o)}`),d();if(o=Ql(o),o<0)return s.push(`svpDesign${Pg(o)}<0`),d();if(!Ol(a))return s.push(`sv${Pg(a)}`),d();if(a=Ql(a),a<0)return s.push(`sv${Pg(a)}<0`),d();if(!Ol(u))return s.push(`PGA${Pg(u)}`),d();if(u=Ql(u),u<0)return s.push(`PGA${Pg(u)}<0`),d();if(!Ol(l))return s.push(`Mw${Pg(l)}`),d();if(l=Ql(l),l<0)return s.push(`Mw${Pg(l)}<0`),d();let v,g=(l/7.5)**-3.3,m=(1-.4113*n**.5+.04052*n+.001753*n**1.5)/(1-.4177*n**.5+.05729*n-.006205*n**1.5+.00121*n**2),b=1/Math.sqrt(o)*r;return console.log("svpDesign"),v=i<=5?220:i<=35?210:200,f=.03*(b/100)**2+.9*(1/(v-b)-1/v),f=_v(f),c=f*g,Fu(c)&&(c=Math.min(c,1e20)),p=null,p=o>0?.65*u*(a/o)*m:1e20,Fu(p)&&(p=Math.min(p,1e20)),Fu(p)&&p>0&&(h=c/p),Fu(h)&&h>10&&(h=10),n>20?(c="-",p="-",h=10,d()):(c<0&&s.push(`CRR${Pg(c)}<0`),p<=0&&s.push(`CSR${Pg(p)}<=0`),h<0&&(s.push(`FS${Pg(h)}<00`),h=0),d())}}};let Ug={mLiques:Ig,mSettls:{SPT:{sptVolumetricStrainTokimatsuAndSeed:Fg,sptVolumetricStrainIshiharaAndYoshimine:jg}},calc:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",t=arguments.length>1?arguments[1]:void 0,n=Hi(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},"unitSvSvp");if("kPa"!==n&&"MPa"!==n)throw new Error(`opt.unitSvSvp[${n}] need kPa or MPa`);let r="depth",i="depthStart",o="depthEnd",a=e=>{let t=Hi(e,0,[]);return Ee(t)};if(!Lf(t))throw new Error("");if(!Tl(e))throw new Error("kind()");if("SPT"!==e&&"CPT"!==e&&"VS"!==e)throw new Error(`kind()${Pg(e)}: SPT, CPT, VS`);t=Cu(t);let u=oh(t);if(rf(u)>0)throw new Error(xc(u,", "));t=Cs(t,(e=>Ql(e[i])));let l=Hi(t,"0.waterLevelUsual",0),s=Hi(t,"0.waterLevelDesign",0),f=Hi(t,"0.Mw",""),c=Hi(t,"0.PGA",""),p=Hi(t,"0.vibrationType","");return t=((e,t,a,u,l,s,f)=>{f=Po(f,((e,t)=>(e.Mw=u,e.PGA=l,e.vibrationType=s,e))),t=Ql(t),a=Ql(a),f=((e,t,n,a)=>(n=Ql(n),a=Ql(a),Po(e,((e,t)=>{let u=Hi(e,"err","");e.waterLevelUsual=n,e.waterLevelDesign=a;let l=Hi(e,i,null),s=Hi(e,o,null);if(Ol(l)&&Ol(s)){l=Ql(l),s=Ql(s);let t=(l+s)/2;e[r]=t}else e[r]="";let f=Hi(e,"e",null),c=Hi(e,"GS",null),p=kg(Hi(e,"rd",null),Hi(e,"rsat",null),c,f);return Hi(p,"err")&&(""===u?u=p.err:u.indexOf(p.err)<0&&(u+=`, ${p.err}`),e.err=u),Fu(p.rd)?e.rd=p.rd:e.rd="",Fu(p.rsat)?e.rsat=p.rsat:e.rsat="",Fu(p.GS)?e.GS=p.GS:e.GS="",Fu(p.e)?e.e=p.e:e.e="",e}))))(f,0,t,a);let c=!0;return ze(f,(e=>{let t=Ol(e.sv),n=Ol(e.svp),r=Ol(e.svpUsual)&&Ol(e.svpDesign);if(!(t&&(n||r)))return c=!1,!1})),c?("MPa"===n&&(f=Po(f,((e,t)=>(Fu(e.sv)&&(e.sv*=1e3),Fu(e.svp)&&(e.svp*=1e3),Fu(e.svpUsual)&&(e.svpUsual*=1e3),Fu(e.svpDesign)&&(e.svpDesign*=1e3),e)))),ze(f,((e,t)=>{Fu(e.sv)&&uh(e.sv,e[r],"kPa","sv"),Fu(e.svp)&&uh(e.svp,e[r],"kPa","svp"),Fu(e.svpUsual)&&uh(e.svpUsual,e[r],"kPa","svpUsual"),Fu(e.svpDesign)&&uh(e.svpDesign,e[r],"kPa","svpDesign")})),f=Po(f,((e,n)=>{e.waterLevelUsual=t,e.waterLevelDesign=a;let u=Hi(e,i,null),l=Hi(e,o,null);if(!Ol(u))throw new Error(` ${n} (depthStart): ${u}`);if(!Ol(l))throw new Error(` ${n} (depthEnd): ${l}`);return u=Ql(u),l=Ql(l),e[r]=(l+u)/2,e}))):f=sh(f,{waterLevelUsual:t,waterLevelDesign:a,unitSvSvp:"kPa"}),f})(0,l,s,f,c,p,t),t=Po(t,((t,n)=>((e,t)=>(t=Cu(t),ze(Ig[e],((e,n)=>{let r=e(t);ze(r,((e,r)=>{t[`${n}-${r}`]=e}))})),t))(e,t))),"SPT"===e&&(t=(e=>{e=Cu(e);let t=a(e);return ze(t,(t=>{if(t.indexOf("-FS")>=0){let n=t.replace("-FS",""),a=0;e=Po(e,((e,u)=>{if(Ol(e[i])&&Ol(e[o])&&Ol(e[r])&&Ol(e[t])){let n=Ql(e[i]),u=Ql(e[o]),l=Ql(e[r]),s=Ql(e[t]),f=1-Math.min(Math.max(s,0),1);a+=f*(10-.5*l)*(u-n)}return e[`${n}-PL`]=a,e}))}})),e})(t)),"SPT"===e&&(t=(e=>{e=Cu(e);let t=a(e);return ze(t,(t=>{if(t.indexOf("-vstr")>=0){let n=Xv(t,"-vstr"),r=Hi(n,0,""),a=Hi(n,1,""),u=0;e=Po(e,((e,n)=>{if(Ol(e[i])&&Ol(e[o])&&Ol(e[t])){let n=Ql(e[i]),r=Ql(e[o]),a=Ql(e[t])/100;u+=a*(r-n)}return e[`${r}-stl${a}`]=u,e}))}})),e})(t)),t=Po(t,(t=>{let n={},r=Nv(e),i=rf(r);return ze(t,((e,t)=>{eg(t,i)!==r&&(n[t]=e)})),ze(Ig[e],((e,r)=>{let i=rf(r),o="",a="";ze(t,((e,t)=>{eg(t,i)===r&&("-err"===tg(t,4)?(o=t,a=e):n[t]=e)})),""!==o&&(n[o]=a)})),n})),ze(t,((e,n)=>{ze(e,((e,r)=>{Tl(e)||Ol(e)||(t[n][r]="")}))})),"MPa"===n&&(t=Po(t,(e=>(Fu(e.sv)&&(e.sv/=1e3),Fu(e.svp)&&(e.svp/=1e3),Fu(e.svpUsual)&&(e.svpUsual/=1e3),Fu(e.svpDesign)&&(e.svpDesign/=1e3),e)))),t}};function Gg(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(!Lf(e))return n;let r=Hi(t,"keyDepth");return Tl(r)||(r="depth"),e=Cu(e),ze(e,((e,t)=>{let i=Hi(e,r,null);Ol(i)||n.push(` ${t} ${r}[${i}]`)})),rf(n)>0||(e=Cs(e,(e=>Ql(e[r]))),ze(e,((t,i)=>{if(0===i)return!0;let o=Hi(e,`${i-1}.${r}`,null),a=Hi(t,r,null);o=Ql(o),a=Ql(a),ih(o,">=",a)&&n.push(` ${i-1} ${r}[${o}] ${i} ${r}[${a}]`)}))),n}var Bg=Ao,Qg=Ni,Hg=U,Wg=me,Vg=Ii;var Yg=function(e,t,n,r){if(!Wg(e))return e;for(var i=-1,o=(t=Qg(t,e)).length,a=o-1,u=e;null!=u&&++i<o;){var l=Vg(t[i]),s=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(i!=a){var f=u[l];void 0===(s=r?r(f,l,u):void 0)&&(s=Wg(f)?f:Hg(t[i+1])?[]:{})}Bg(u,l,s),u=u[l]}return e},Zg=Yg;var Kg=function(e,t,n){return null==e?e:Zg(e,t,n)};function Jg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jg(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function em(e,t,n){let r=Hi(e,`${n}.${t}`);return r=Ol(r)?Ql(r):null,r}function tm(e,t,n,r,i,o){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},u=Hi(a,"dir");"before"!==u&&"after"!==u&&(u="after");let l=Hi(a,"searchMode");if("all"!==l&&"no"!==l&&"peak"!==l&&"half-closed-value"!==l&&"double-closed-value"!==l&&"closed-value"!==l&&(l="all"),0===rf(e))return null;if("no"===l)return{k:r,depth:Hi(e,`${r}.${t}`),value:Hi(e,`${r}.${n}`)};if(!Ol(o))return{k:r,depth:Hi(e,`${r}.${t}`),value:Hi(e,`${r}.${n}`)};let s=em(e,t,r),f=[];if("after"===u)for(let o=r+1;o<rf(e)-1;o++){let r=em(e,t,o),a=em(e,n,o),u=Math.abs(r-s)>i;f.push({k:o,depth:r,value:a,outRange:u})}else for(let o=r-1;o>0;o--){let r=em(e,t,o),a=em(e,n,o),u=Math.abs(r-s)>i;f.push({k:o,depth:r,value:a,outRange:u})}let c=[];for(let e=0;e<f.length;e++){let t=f[e];if(Fu(t.depth)){if(t.outRange&&rf(c)>0)break;Fu(t.value)&&c.push(t)}}if(0===rf(c))return null;if("all"===l||"peak"===l)for(let e=1;e<c.length-1;e++){let t=c[e-1],n=c[e+0],r=c[e+1],i=1;if(0!==o&&(i=n.value/o),n.value>=t.value&&n.value>=r.value&&t.value!==r.value&&i>.5&&i<2)return{k:n.k,depth:n.depth,value:n.value}}if("all"===l||"closed-value"===l){let e=1e20,t=null;for(let n=0;n<c.length;n++){let r=c[n+0];if(r.outRange)break;let i=Math.abs(r.value-o);e>i&&(e=i,t={k:r.k,depth:r.depth,value:r.value})}if(null!==t)return t}let p=null;if("all"===l||"half-closed-value"===l){let e=1e20,t=null;for(let n=0;n<c.length;n++){let r=c[n+0],i=Math.abs(r.value-o/2);e>i&&(e=i,t={diff:e,k:r.k,depth:r.depth,value:r.value})}null!==t&&(p=t)}let h=null;if("all"===l||"double-closed-value"===l){let e=1e20,t=null;for(let n=0;n<c.length;n++){let r=c[n+0],i=Math.abs(r.value-1.5*o);e>i&&(e=i,t={diff:e,k:r.k,depth:r.depth,value:r.value})}null!==t&&(h=t)}if(null!==p&&null===h)return delete p.diff,p;if(null===p&&null!==h)return delete h.diff,h;if(null===p&&null===h){let e=null;return e=p.diff<=h.diff?p:h,delete e.diff,e}return null}var nm=Kl;var rm=function(e){return(null==e?0:e.length)?nm(e,Infinity):[]},im=c,om=Fe,am=Pf,um=4294967295,lm=Math.min;var sm=function(e,t){if((e=am(e))<1||e>9007199254740991)return[];var n=um,r=lm(e,um);t=om(t),e-=um;for(var i=im(r,t);++n<e;)t(n);return i},fm=Fi;var cm=function(e){return fm(e).toUpperCase()};function pm(e,t,n){if(!Tl(e))return"";if(!Tl(t))return"";if(!Sl(n))return"";let r=new RegExp(t,"g");return String(e).replace(r,n)}function hm(e){if(!Of(e))return!1;return zf(e)>0}function dm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Tl(e)&&If(t)?(n=hm(n)?zf(n):1,e.substring(t,t+n)):""}let vm={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};function gm(e){return bm(e,1)}function mm(e){return bm(e,360)}function bm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e.indexOf("%")>=0){if(!Ol(e=pm(e,"%","")))throw new Error("invalid color: value is not a number");e=Ql(e)/100}else{if(!Ol(e))throw new Error("invalid color: value is not a number");e=Ql(e)/t}if(e>1)throw new Error("invalid color: value > 1");if(e<0)throw new Error("invalid color: value < 0");return e}function ym(e){if(!Ol(e))throw new Error("invalid color: value is not a number");if((e=Ql(e))>1)throw new Error("invalid color: value > 1");if(e<0)throw new Error("invalid color: value < 0");return e}function wm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba";if(!kf(e))throw new Error("invalid colors array");let n=Hi(e,0,0),r=Hi(e,1,0),i=Hi(e,2,0),o=Hi(e,3,1);if(t=t.split(""),4!==rf(t))throw new Error("tar.length !== 4");return{[Hi(t,0)]:n,[Hi(t,1)]:r,[Hi(t,2)]:i,[Hi(t,3)]:o}}function xm(e){e=function(e,t){return Tl(e)&&If(t)?0===(t=zf(t))?e:tg(e,e.length-t):""}(e,1);let t=rf(e);if(2===t)e=`${e}${e}${e}ff`;else if(3===t){let t=dm(e,0,1),n=dm(e,1,1),r=dm(e,2,1);e=`${t}${t}${n}${n}${r}${r}ff`}else if(6===t)e=`${e}ff`;else if(8!==t)throw new Error("invalid hex color");function n(e){if(2!==rf(e))throw new Error("hex.length of color is not equal to 2");if(!Ol(e=parseInt(e,16)))throw new Error("invalid hex of color");return(e=Ql(e))/255}return{r:n(dm(e,0,2)),g:n(dm(e,2,2)),b:n(dm(e,4,2)),a:n(dm(e,6,2))}}function $m(e){return e=wm(e=Po(e,((e,t)=>t<=2?bm(e,255):3===t?ym(e):null)),"rgba")}function Mm(e){return e=Cm(e=wm(e=Po(e,((e,t)=>0===t?mm(e):1===t||2===t?gm(e):3===t?ym(e):null)),"hsla"))}function Sm(e){return e=Tm(e=wm(e=Po(e,((e,t)=>0===t?mm(e):1===t||2===t?gm(e):3===t?ym(e):null)),"hsva"))}function Rm(e){if("transparent"===e)return{r:0,g:0,b:0,a:0};if(function(e){return ch(vm,e)}(e))return e=function(e){return`#${vm[e]}`}(e),xm(e);if(function(e){return"#"===eg(e,1)&&(!!/[0-9A-Fa-f]{2}/g.test(e)||(!!/[0-9A-Fa-f]{3}/g.test(e)||(!!/[0-9A-Fa-f]{6}/g.test(e)||!!/[0-9A-Fa-f]{8}/g.test(e))))}(e))return xm(e);if(function(e){return"rgb"===eg(e,3)||"rgba"===eg(e,4)}(e))return function(e){return e=pm(e,"rgba",""),e=pm(e,"rgb",""),$m(uv(e=pm(e=e.replace(/[()]/g,""),","," ")," "))}(e);if(function(e){return"hsl"===eg(e,3)||"hsla"===eg(e,4)}(e))return function(e){return e=pm(e,"hsla",""),e=pm(e,"hsl",""),Mm(uv(e=pm(e=e.replace(/[()]/g,""),","," ")," "))}(e);if(function(e){return"hsv"===eg(e,3)||"hsva"===eg(e,4)}(e))return function(e){return e=pm(e,"hsva",""),e=pm(e,"hsv",""),Sm(uv(e=pm(e=e.replace(/[()]/g,""),","," ")," "))}(e);throw new Error("format of color string is not hex-color, name-color, rgba, hsla, hsva")}function km(e,t){return!!ch(e,t=Nv(t))||!!ch(e,t=cm(t))}function Em(e,t,n){let r;return r=Hi(e,t,null),null!==r?r:(t=cm(t),r=Hi(e,t,null),null!==r?r:n)}function Lm(e){if(function(e){let t=km(e,"r"),n=km(e,"g"),r=km(e,"b");return t&&n&&r}(e))return function(e){let t=[Em(e,"r",null),Em(e,"g",null),Em(e,"b",null),Em(e,"a",1)];return t=Po(t,dc),$m(t)}(e);if(function(e){let t=km(e,"h"),n=km(e,"s"),r=km(e,"l");return t&&n&&r}(e))return function(e){let t=[Em(e,"h",null),Em(e,"s",null),Em(e,"l",null),Em(e,"a",1)];return t=Po(t,dc),Mm(t)}(e);if(function(e){let t=km(e,"h"),n=km(e,"s"),r=km(e,"v");return t&&n&&r}(e))return function(e){let t=[Em(e,"h",null),Em(e,"s",null),Em(e,"v",null),Em(e,"a",1)];return t=Po(t,dc),Sm(t)}(e);throw new Error("color object is not rgba, hsla, hsva")}function Dm(e){let t,n,r=e.r,i=e.g,o=e.b,a=Math.max(r,i,o),u=Math.min(r,i,o),l=(a+u)/2;if(a===u)t=n=0;else{let e=a-u;switch(n=l>.5?e/(2-a-u):e/(a+u),a){case r:t=(i-o)/e+(i<o?6:0);break;case i:t=(o-r)/e+2;break;case o:t=(r-i)/e+4}t/=6}return{h:t,s:n,l:l,a:e.a}}function Pm(e){let t,n,r=e.r,i=e.g,o=e.b,a=Math.max(r,i,o),u=Math.min(r,i,o),l=a,s=a-u;if(n=0===a?0:s/a,a===u)t=0;else{switch(a){case r:t=(i-o)/s+(i<o?6:0);break;case i:t=(o-r)/s+2;break;case o:t=(r-i)/s+4}t/=6}return{h:t,s:n,v:l,a:e.a}}function Cm(e){let t,n,r,i=e.h,o=e.s,a=e.l;function u(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(0===o)t=n=r=a;else{let e=a<.5?a*(1+o):a+o-a*o,l=2*a-e;t=u(l,e,i+1/3),n=u(l,e,i),r=u(l,e,i-1/3)}return{r:t,g:n,b:r,a:e.a}}function Tm(e){let t,n,r,i=e.h,o=e.s,a=e.v,u=Math.floor(6*i),l=6*i-u,s=a*(1-o),f=a*(1-l*o),c=a*(1-(1-l)*o);switch(u%6){case 0:t=a,n=c,r=s;break;case 1:t=f,n=a,r=s;break;case 2:t=s,n=a,r=c;break;case 3:t=s,n=f,r=a;break;case 4:t=c,n=s,r=a;break;case 5:t=a,n=s,r=f}return{r:t,g:n,b:r,a:e.a}}function Om(e){let t=Math.round(255*e).toString(16);if(1===rf(t))return`0${t}`;if(2===rf(t))return t;throw new Error("invalid value")}function Fm(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.r,r=e.g,i=e.b,o=e.a,a=`${Om(n)}${Om(r)}${Om(i)}`;return t&&(a=`${a}${Om(o)}`),a}function jm(e){return Math.min(1,Math.max(0,e))}function qm(e,t){if(!Tl(t))throw new Error("fmtOutput is not string");if(!gb[t])throw console.log(`fmtOutput must be [${Ee(gb)}]`),new Error("invalid fmtOutput");return e=gb[t](e)}function _m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(t<0||t>1)throw new Error("amount < 0 or > 1");let r=Dm(e);return r.h+=t,r.h=r.h%1,qm(Cm(r),n)}function Am(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"toRgbString";if(t<0||t>1)throw new Error("w1 < 0 or > 1");if(r<0||r>1)throw new Error("w1 < 0 or > 1");return qm({r:e.r*t+n.r*r,g:e.g*t+n.g*r,b:e.b*t+n.b*r,a:e.a*t+n.a*r},i)}function Nm(e){return`${Nf(100*e,1)}%`}function zm(e){return Nf(e,0)}function Im(e){return Nf(e,3)}function Um(e){return{r:zm(255*e.r),g:zm(255*e.g),b:zm(255*e.b)}}function Gm(e){return`rgb(${zm(255*e.r)}, ${zm(255*e.g)}, ${zm(255*e.b)})`}function Bm(e){return{r:zm(255*e.r),g:zm(255*e.g),b:zm(255*e.b),a:Im(e.a)}}function Qm(e){return`rgba(${zm(255*e.r)}, ${zm(255*e.g)}, ${zm(255*e.b)}, ${Im(e.a)})`}function Hm(e){let t=Dm(e);return{h:zm(360*t.h),s:Im(t.s),l:Im(t.l)}}function Wm(e){let t=Dm(e);return`hsl(${zm(360*t.h)}, ${Im(t.s)}, ${Im(t.l)})`}function Vm(e){let t=Dm(e);return{h:zm(360*t.h),s:Im(t.s),l:Im(t.l),a:Im(t.a)}}function Ym(e){let t=Dm(e);return`hsla(${zm(360*t.h)}, ${Im(t.s)}, ${Im(t.l)}, ${Im(t.a)})`}function Zm(e){let t=Pm(e);return{h:zm(360*t.h),s:Im(t.s),v:Im(t.v)}}function Km(e){let t=Pm(e);return`hsv(${zm(360*t.h)}, ${Im(t.s)}, ${Im(t.v)})`}function Jm(e){let t=Pm(e);return{h:zm(360*t.h),s:Im(t.s),v:Im(t.v),a:Im(t.a)}}function Xm(e){let t=Pm(e);return`hsva(${zm(360*t.h)}, ${Im(t.s)}, ${Im(t.v)}, ${Im(t.a)})`}function eb(e){return{r:Nm(e.r),g:Nm(e.g),b:Nm(e.b)}}function tb(e){return`rgb(${Nm(e.r)}, ${Nm(e.g)}, ${Nm(e.b)})`}function nb(e){return{r:Nm(e.r),g:Nm(e.g),b:Nm(e.b),a:Im(e.a)}}function rb(e){return`rgba(${Nm(e.r)}, ${Nm(e.g)}, ${Nm(e.b)}, ${Im(e.a)})`}function ib(e){let t=Dm(e);return{h:zm(360*t.h),s:Nm(t.s),l:Nm(t.l)}}function ob(e){let t=Dm(e);return`hsl(${zm(360*t.h)}, ${Nm(t.s)}, ${Nm(t.l)})`}function ab(e){let t=Dm(e);return{h:zm(360*t.h),s:Nm(t.s),l:Nm(t.l),a:Im(t.a)}}function ub(e){let t=Dm(e);return`hsla(${zm(360*t.h)}, ${Nm(t.s)}, ${Nm(t.l)}, ${Im(t.a)})`}function lb(e){let t=Pm(e);return{h:zm(360*t.h),s:Nm(t.s),v:Nm(t.v)}}function sb(e){let t=Pm(e);return`hsv(${zm(360*t.h)}, ${Nm(t.s)}, ${Nm(t.v)})`}function fb(e){let t=Pm(e);return{h:zm(360*t.h),s:Nm(t.s),v:Nm(t.v),a:Im(t.a)}}function cb(e){let t=Pm(e);return`hsva(${zm(360*t.h)}, ${Nm(t.s)}, ${Nm(t.v)}, ${Im(t.a)})`}function pb(e){let t=function(e){return Fm(e,!1)}(e);return`#${t}`}function hb(e){return`#${Fm(e)}`}function db(e){let t=null,n=null,r=null;if(Tl(e))t=Nv(Ml(e));else{if(!El(e))throw console.log("color=",e),new Error("color is not string or object");n=e}if(null!==t)try{r=Rm(t)}catch(e){throw console.log(e),new Error(`can not parse color: ${t}`)}else if(null!==n)try{r=Lm(n)}catch(e){throw console.log(e),new Error(`can not parse color: ${JSON.stringify(n)}`)}return r}function vb(e){if(!El(e))return console.log("gradient is not effective object"),e=>`rgb(${255*(e=Math.min(Math.max(e,0),1))},${255*e},${255*e})`;let t=[];return ze(e,((e,n)=>{t.push([Ql(n),Bm(db(e)),e])})),t=Cs(t,0),function(e){let n=null;for(let r=1;r<t.length;r++){let i=t[r-1][0],o=t[r-1][1],a=t[r][0],u=t[r][1];if(i<=e&&a>=e){let t=(a-e)/(a-i),r=(e-i)/(a-i);n=Am(db(o),t,db(u),r,"toRgbaString");break}}return n}}let gb={toRgb:Um,toRgbString:Gm,toRgba:Bm,toRgbaString:Qm,toHsl:Hm,toHslString:Wm,toHsla:Vm,toHslaString:Ym,toHsv:Zm,toHsvString:Km,toHsva:Jm,toHsvaString:Xm,toRgbP:eb,toRgbPString:tb,toRgbaP:nb,toRgbaPString:rb,toHslP:ib,toHslPString:ob,toHslaP:ab,toHslaPString:ub,toHsvP:lb,toHsvPString:sb,toHsvaP:fb,toHsvaPString:cb,toHexString:pb,toHex8String:hb};var mb=function(){let e={toRgb:e=>Um(db(e)),toRgbString:e=>Gm(db(e)),toRgba:e=>Bm(db(e)),toRgbaString:e=>Qm(db(e)),toHsl:e=>Hm(db(e)),toHslString:e=>Wm(db(e)),toHsla:e=>Vm(db(e)),toHslaString:e=>Ym(db(e)),toHsv:e=>Zm(db(e)),toHsvString:e=>Km(db(e)),toHsva:e=>Jm(db(e)),toHsvaString:e=>Xm(db(e)),toRgbP:e=>eb(db(e)),toRgbPString:e=>tb(db(e)),toRgbaP:e=>nb(db(e)),toRgbaPString:e=>rb(db(e)),toHslP:e=>ib(db(e)),toHslPString:e=>ob(db(e)),toHslaP:e=>ab(db(e)),toHslaPString:e=>ub(db(e)),toHsvP:e=>lb(db(e)),toHsvPString:e=>sb(db(e)),toHsvaP:e=>fb(db(e)),toHsvaPString:e=>cb(db(e)),toHexString:e=>pb(db(e)),toHex8String:e=>hb(db(e)),modSaturate:(e,t,n)=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(t<0||t>1)throw new Error("amount < 0 or > 1");let r=Dm(e);return r.s+=t,r.s=jm(r.s),qm(Cm(r),n)}(db(e),t,n),modGrey:(e,t)=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"toRgbString",n=Dm(e);return n.s=0,qm(Cm(n),t)}(db(e),t),modLighten:(e,t,n)=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(t<0||t>1)throw new Error("amount < 0 or > 1");let r=Dm(e);return r.l+=t,r.l=jm(r.l),qm(Cm(r),n)}(db(e),t,n),modBrighten:(e,t,n)=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(t<0||t>1)throw new Error("amount < 0 or > 1");return e.r+=t,e.r=jm(e.r),e.g+=t,e.g=jm(e.g),e.b+=t,e.b=jm(e.b),qm(e,n)}(db(e),t,n),modHue:(e,t,n)=>_m(db(e),t,n),modComplement:(e,t)=>function(e){return _m(e,.5,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"toRgbString")}(db(e),t),spreadHue:(e,t,n)=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(!Of(t))throw new Error("num is not integer");if((t=zf(t))<=1)return[e];let r=Dm(e),i=1/t,o=[];for(let e=0;e<t;e++)o.push(qm(Cm(r),n)),r.h+=i,r.h=r.h%1;return o}(db(e),t,n),spreadMonochromatic:(e,t,n)=>function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(!Of(t))throw new Error("num is not integer");if((t=zf(t))<=1)return[e];let r=Pm(e);r.s=1,r.l=1;let i=1/t,o=[];for(let e=0;e<t;e++)o.push(qm(Tm(r),n)),r.h-=i,r.l-=i;return o}(db(e),t,n),mix:(e,t,n,r,i)=>Am(db(e),t,db(n),r,i),getBrightness:e=>function(e){if(1!==e.a)throw new Error("alpha of color can not be equal to 1");return(299*e.r+587*e.g+114*e.b)/1e3}(db(e)),getLuminance:e=>function(e){if(1!==e.a)throw new Error("alpha of color can not be equal to 1");let t,n,r,i=e.r,o=e.g,a=e.b;return t=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),n=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4),r=a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4),.2126*t+.7152*n+.0722*r}(db(e)),interp:vb};return e}();function bb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Hi(t,"listL");Lf(n)||(n=[.35,.7]);let r=Hi(t,"listS");Lf(r)||(r=[.9,.5,.2]);let i=Hi(t,"opacity");Ol(i)||(i=1),i=Ql(i),i=Math.max(i,0),i=Math.min(i,1);let o=Hi(t,"hueSliceNum");hm(o)||(o=5),o=zf(o);let a=[];ze(n,(function(e){ze(r,(function(t){sm(o,(function(n){let r=mb.toRgbaString({h:360*n/o,s:t,l:e,a:i});a.push(r)}))}))}));let u=e%a.length;return a[u]}function yb(e){let t=function(){let e=Hi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},"scale");Ol(e)||(e=1);let t=[];return t.push(["circle",5]),t.push(["square",5]),t.push(["diamond",6]),t.push(["cross",5]),t.push(["plus",5]),t.push(["eradiate",6]),t.push(["rdout",6]),t.push(["gateway",7]),t.push(["hloff",7]),t.push(["star",5]),t.push(["triangle",5]),t.push(["triangle-down",5]),t.push(["triangle-right",5]),t.push(["checkok",5]),t.push(["crescent",5]),t.push(["lightning",5]),t.push(["spades",5]),t.push(["waterdrop",5]),t.push(["bird",5]),t.push(["fire",5]),t.push(["music",5]),t.push(["apple",5]),t.push(["cloud",5]),t.push(["heart",5]),t}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n=e%t.length;return{symbol:t[n][0],size:t[n][1]}}function wb(e,t,n,r){let i;if("line"===e||"line(grey)"===e){let r="rgba(100, 140, 220, 1)";"line(grey)"===e&&(r="#999"),i={type:"line",name:t,data:n,lineWidth:1,color:r,marker:{enabled:!1}}}else if("marker"===e)i={type:"scatter",name:t,data:n,lineWidth:0,color:"transparent",dashStyle:null,marker:{enabled:!0,symbol:"circle",radius:4,lineWidth:0,fillColor:"rgba(100,170,255,1)",lineColor:"rgba(20,100,200,1)"}};else if("markers"===e){let e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=bb(e,t),r=bb(e,{opacity:.2}),i=yb(e,t);return{lineColor:n,lineStyle:"Solid",marker:i.symbol,markerEdgecolor:n,markerFacecolor:r,markerSize:i.size}}(r);i={type:"scatter",name:t,data:n,lineWidth:0,color:"transparent",dashStyle:null,marker:{enabled:!0,symbol:e.marker,radius:e.markerSize,lineWidth:1,fillColor:e.markerFacecolor,lineColor:e.markerEdgecolor}}}else if("dot point"===e)i={type:"scatter",name:t,data:n,lineWidth:0,color:"transparent",dashStyle:null,marker:{enabled:!0,symbol:"circle",radius:2,lineWidth:0,fillColor:"rgba(255, 34, 102, 1)",lineColor:"transparent"}};else if("small point"===e)i={type:"scatter",name:t,data:n,lineWidth:0,color:"transparent",dashStyle:null,marker:{enabled:!0,symbol:"circle",radius:1,lineWidth:0,fillColor:"rgba(100, 140, 220, 1)",lineColor:"transparent"}};else{if("marker point"!==e)throw console.log("displayDataMode",e),new Error(`invalid displayDataMode[${e}]`);i={type:"scatter",name:t,data:n,lineWidth:0,color:"transparent",dashStyle:null,marker:{enabled:!0,symbol:"circle",radius:4,lineWidth:1,fillColor:"transparent",lineColor:"#f26"}}}return i}function xb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.plotLeft,r=e.plotTop,i=e.plotWidth,o=e.plotHeight,a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Hi(t,"indXAxis");If(n)||(n=0),n=zf(n);let r=Hi(t,"indYAxis");If(r)||(r=0),r=zf(r);let i=e.xAxis[n].min;i||(i=0);let o=e.xAxis[n].max;o||(o=0);let a=e.yAxis[r].min;a||(a=0);let u=e.yAxis[r].max;return u||(u=0),{xLimMin:i,xLimMax:o,yLimMin:a,yLimMax:u}}(e,t),u=Hi(t,"cvLim");Rl(u)&&(a=u(a));let{xLimMin:l,xLimMax:s,yLimMin:f,yLimMax:c}=a,p=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=(e[0]-l)/(s-l),u=(e[1]-f)/(c-f);if(t){let e=a;a=u,u=e}return[a*i+n,(1-u)*o+r]};return{lims:a,cvp:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(e=>{let t=Hi(e,"0");if(Fu(t))return"point";let n=Hi(e,"0.0");if(Fu(n))return"points";throw console.log("p",e),new Error("invalid type of p")})(e);if("point"===n)return p(e,t);if("points"===n){return Po(e,(e=>p(e,t)))}throw new Error("invalid type")}}}function $b(e){let t=Hi(e,"x")||Hi(e,"0");Ol(t)||(t=0),t=Ql(t);let n=Hi(e,"y")||Hi(e,"1");return Ol(n)||(n=0),n=Ql(n),[t,n]}function Mb(e){let t=Hi(e,"w")||Hi(e,"0");Ol(t)||(t=0),t=Ql(t);let n=Hi(e,"h")||Hi(e,"1");return Ol(n)||(n=0),n=Ql(n),[t,n]}let Sb="__fontFamily__";function Rb(){let e=function(){let e=null;try{e=window.Highcharts}catch(e){}return e}(),t=Hi(e,Sb);return Tl(t)||(t="'Times New Roman', 'DFKai-SB', 'DFKaiShu-SB-Estd-BF', 'KaiU', ''"),t}function kb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Eb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kb(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lb(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},[o,a]=$b(t),[u,l]=Mb(n),s=t;!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=Hi(r,"edgeWidth");Ol(i)||(i=1),i=Ql(i),i=Math.max(i,0);let o=Hi(r,"edgeColor");Tl(o)||(o="#000");let a=Hi(r,"faceColor");Tl(a)||(a="transparent");let u=Hi(r,"radius");Ol(u)||(u=0),u=Ql(u),u=Math.max(u,0);let l=Hi(r,"zIndex");Fu(l)||(l=void 0);let[s,f]=$b(t),[c,p]=Mb(n);e.renderer.rect(s,f,c,p).attr({name:"hcextra",fill:a,"stroke-width":i,stroke:o,r:u,zIndex:l}).add()}(e,{x:o-u/2,y:a-l/2},n,i),function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=Hi(r,"fontSize");Ol(i)||(i=11),i=Ql(i),i=Math.max(i,6);let o=Hi(r,"textAlign");"left"!==o&&"center"!==o&&"rigth"!==o&&(o="center"),o={left:"start",center:"middle",rigth:"end"}[o];let a=Hi(r,"zIndex");Fu(a)||(a=void 0);let u=Hi(r,"style");El(u)||(u={});let l=Hi(r,"attr");El(l)||(l={});let[s,f]=$b(t),c=e.renderer,p=e.renderer.g().add();p.attr({transform:`translate(${s},${f})`,zIndex:a}),c.text(n,0,0).css(Eb({color:"#000",fontFamily:Rb(),fontSize:`${i}pt`},u)).attr(Eb({name:"hcextra","text-anchor":o,"alignment-baseline":"central",zIndex:a},l)).add(p)}(e,s,r,i)}function Db(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11;return`<span style="font-family:${Rb()}; font-size:${t}pt;">${dc(e)}</span>`}function Pb(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11;return`<br><span style="font-family:${Rb()}; font-size:${t}pt;">${dc(e)}</span>`}function Cb(e){return Tl(e)?` (${e})`:""}var Tb={genHtText:Db,genHtTextSub:Pb,genTextParentheses:Cb,getFontfamily:Rb};function Ob(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ob(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ob(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Hi(e,"dataPoints",[]),n=Hi(e,"dataPointsColor",void 0),r=Hi(e,"dataPointsMarkerSize",void 0),i=Hi(e,"dataPointsMultiSeries",void 0),o=Hi(e,"marginTop",70),a=Hi(e,"marginBottom",10),u=Hi(e,"marginLeft",90),l=Hi(e,"marginRight",1),s=Hi(e,"xLabel",""),f=Hi(e,"xLabelFontSize",12),c=Hi(e,"xTickLabelFontSize",12),p=Hi(e,"xDig",void 0),h=Hi(e,"xLimMin",void 0),d=Hi(e,"xLimMax",void 0),v=Hi(e,"xSoftMin",void 0),g=Hi(e,"xSoftMax",void 0),m=Hi(e,"useAutoXSoftMax",!0),b=Hi(e,"ratioAutoXSoftMax",1.5),y=Hi(e,"xTickInterval",void 0),w=Hi(e,"yLabel",""),x=Hi(e,"yLabelFontSize",12),$=Hi(e,"yTickLabelFontSize",12),M=Hi(e,"yDig",void 0),S=Hi(e,"yLimMin",0),R=Hi(e,"yLimMax",void 0),k=Hi(e,"ySoftMin",void 0),E=Hi(e,"ySoftMax",void 0),L=Hi(e,"useAutoYSoftMax",!0),D=Hi(e,"ratioAutoYSoftMax",1.1),P=Hi(e,"condenseYLabel",!1),C=Hi(e,"displayDataMode","line"),T=Hi(e,"useLegend",!1),O=Hi(e,"useTooltip",!0),F=Hi(e,"addStaticPP",!1),j=Hi(e,"addFS1",!1),q=Hi(e,"addIcRanges",!1),_={marginTop:o,marginBottom:a,marginLeft:P?1:u,marginRight:l},A=[],N=!0;if(ze(t,((e,t)=>{if(rf(e.data)>0)return N=!1,!1})),N&&(t=[[[0,0]]],O=!1,T=!1),ze(t,((e,t)=>{let o=Hi(e,"mode",""),a=null;if(""===o){let o=t;Of(Hi(e,"colorIndex"))&&(o=zf(e.colorIndex)),a=wb(C,e.name,e.data,o),Tl(n)&&(a.marker.fillColor=n),Ol(r)&&(a.marker.radius=Ql(r)),i&&(a.marker.symbol=yb(t).symbol,a.marker.fillColor=bb(t)),Hi(e,"compare")&&(a.marker.radius-=1,a.marker.fillColor="transparent",a.marker.lineColor="rgba(0,0,0,0.5)")}else{if("custom"!==o)throw new Error(`invalid mode[${o}]`);a=e}El(a)&&A.push(a)})),L&&!Fu(E)&&!Fu(R)){let e=Po(A,(e=>Po(e.data,0)));e=rm(e),E=_v(e)*D}if(m&&!Fu(g)&&!Fu(d)){let e=Po(A,(e=>Po(e.data,1)));e=rm(e),g=_v(e)*b}if(F){let e=null;if(Fu(R))e=R;else{let t=Po(A,(e=>Po(e.data,"0",null)));t=rm(t),e=_v(t)}let t={name:"static pp",data:[[0,0],[e,1*e*.00981]],lineWidth:2,color:"#f26",marker:{enabled:!1}};A.push(t)}if(j){let e=null;if(Fu(R))e=R;else{let t=Po(A,(e=>Po(e.data,"0",null)));t=rm(t),e=_v(t)}let t={name:"FS=1",data:[[0,1],[e,1]],lineWidth:2,color:"#f26",marker:{enabled:!1}};A.push(t)}let z,I=!0;if(q){I=!1;let e=hh();z=Po(e,(e=>({from:e.min,to:e.max,color:e.color,borderColor:"rgba(255,255,255,0.5)",borderWidth:1})))}let U={credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}},boost:{enabled:!1},chart:Fb(Fb({animation:!1,inverted:!0},_),{},{backgroundColor:"transparent",plotBorderColor:"#222",plotBorderWidth:1,events:{render:function(){if(N){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Hi(t,"invXY");Cl(n)||(n=!1);let r=xb(e,t),{xLimMin:i,xLimMax:o,yLimMin:a,yLimMax:u}=r.lims,l=[(i+o)/2,(a+u)/2];l=r.cvp(l,n),Lb(e,l,{w:100,h:24},"",{edgeColor:"#f26",faceColor:"#fff",zIndex:10})}(this,{invXY:!0})}}}}),plotOptions:{series:{animation:!1}},title:{text:""},xAxis:{crosshair:!0,title:{useHTML:!0,text:w,margin:5,style:{fontFamily:Rb(),fontSize:x+"pt",color:"#000",textAlign:"center",lineHeight:"1.1rem"}},lineColor:"rgba(0,0,0,0.8)",lineWidth:1,gridLineColor:"rgba(0,0,0,0.2)",gridLineWidth:1,minorGridLineColor:"rgba(0,0,0,0.1)",minorGridLineWidth:0,tickPosition:"inside",tickColor:"#222",tickWidth:1,minorTickPosition:"inside",minorTickColor:"#666",minorTickLength:5,minorTickWidth:1,softMin:k,softMax:E,labels:{autoRotation:0,style:{fontSize:$+"px",color:"#222"},formatter:function(){return Fu(M)?Uh(this.value,M):this.value}}},yAxis:{crosshair:!0,opposite:!0,title:{useHTML:!0,text:s,margin:0,y:-5,style:{fontFamily:Rb(),fontSize:f+"pt",color:"#000",textAlign:"center",lineHeight:"1.1rem"}},plotBands:z,plotLines:undefined,lineColor:"rgba(0,0,0,0.8)",lineWidth:1,tickInterval:y,gridLineColor:"rgba(0,0,0,0.2)",gridLineWidth:I?1:0,minorGridLineColor:"rgba(0,0,0,0.1)",minorGridLineWidth:0,tickPosition:"inside",tickColor:"#222",tickWidth:1,minorTickPosition:"inside",minorTickColor:"#666",minorTickLength:5,minorTickWidth:1,softMin:v,softMax:g,labels:{autoRotation:0,y:5,style:{fontSize:c+"px",color:"#222"},formatter:function(){return Fu(p)?Uh(this.value,p):this.value}}},tooltip:{enabled:!1},legend:{enabled:!1},series:A};return Fu(S)&&(U.xAxis.min=S,U.xAxis.endOnTick=!1),Fu(R)&&(U.xAxis.max=R,U.xAxis.endOnTick=!1),Fu(h)&&(U.yAxis.min=h,U.yAxis.endOnTick=!1),Fu(d)&&(U.yAxis.max=d,U.yAxis.endOnTick=!1),T&&(U.legend={enabled:!0,shared:!0,useHTML:!0,floating:!0,layout:"vertical",align:"right",verticalAlign:"bottom",x:-10,y:-10,backgroundColor:"rgba(255,255,255,0.8)",borderColor:"#aaa",borderWidth:1,symbolWidth:25}),O&&(U.tooltip={enabled:!0,shared:!0,useHTML:!0}),U}function qb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qb(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ab=Zd;var Nb=function(e){return e&&e.length?Ab(e):[]};e._cpt=dh,e._hc=Tb,e._share=uf,e._soilGroup=Ld,e.calcCpt=Ih,e.calcCptClassify=Oh,e.calcCptUnitWeight=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Hi(t,"unitSvSvp");if("kPa"!==n&&"MPa"!==n)throw new Error(`opt.unitSvSvp[${n}] need kPa or MPa`);let r=Hi(t,"rsatIni");if(Ol(r)||(r=Hh),r=Ql(r),r<=0)throw new Error(`rsatIni[${r}]<=0`);let i=Hi(t,"coe_a");if(Ol(i)||(i=.8),i=Ql(i),i<=0)throw new Error(`coe_a[${i}]<=0`);let o=Hi(t,"keyDepth");Tl(o)||(o="depth");let a=Hi(t,"keyDepthStart");Tl(a)||(a="depthStart");let u=Hi(t,"keyDepthEnd");Tl(u)||(u="depthEnd"),e=qh(e=Cu(e));let l=Hi(e,`0.${o}`),s=Hi(e,`0.${a}`),f=Hi(e,`0.${u}`);return!Ol(l)||Ol(s)||Ol(f)?!Ol(l)&&Ol(s)&&Ol(f)&&(e=Po(e,((e,t)=>{let n=Hi(e,a),r=Hi(e,u);if(!Ol(n)||!Ol(r))throw console.log(t,e),new Error(` ${t} (${a})(${u})`);{n=Ql(n),r=Ql(r);let t=(n+r)/2;e[o]=t}return e}))):e=Gh(e,t),e=Po(e,(e=>(e.rsat=r,e))),e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Hi(t,"waterLevel");Ol(n)||(n=0),n=Ql(n);let r=Hi(t,"rdiff");Ol(r)||(r=3),r=Ql(r);let i=n,o=n;return e=Cu(e),e=Po(e,((e,t)=>{let n=Hi(e,"rsat");if(!Ol(n))throw console.log("stress",t,e),new Error("stress: rsat");n=Ql(n);let i=n-r;return e.rsat=n,e.rd=i,e})),e=sh(e,Qh(Qh({},t),{},{waterLevelUsual:i,waterLevelDesign:o,unitSvSvp:"MPa"})),Po(e,(e=>{let t=Hi(e,"svpUsual");return e.svp=t,delete e.svpUsual,delete e.svpDesign,delete e.waterLevelUsual,delete e.waterLevelDesign,e}))}(e=Po(e,(e=>(e.u0=sf(e.depth,"MPa"),e))),t),e=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Hi(n,"countMax");Of(r)||(r=100),r=zf(r);let i=-1,o=!0,a=e;for(;o;){i++;let e=Vh(a,t,n);if(o=e.bUpdate,a=e.ltdt,i>=r)break}return a}(e,i,t),"kPa"===n&&(e=Po(e,(e=>(e.sv*=1e3,e.svp*=1e3,e)))),e},e.calcDepthStartEndByConnect=Yh,e.calcDepthStartEndByGroup=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(!Lf(e))throw new Error("");let r=Hi(t,"keyDepth");Tl(r)||(r="depth");let i=Hi(t,"keyGroup");Tl(i)||(i="group");let o=Hi(t,"keyDepthStart");Tl(o)||(o="depthStart");let a=Hi(t,"keyDepthEnd");Tl(a)||(a="depthEnd");let u=Hi(t,"depthEndMax");if(u=Ol(u)?Ql(u):null,e=Cu(e),ze(e,((e,t)=>{let o=Hi(e,r,null);Ol(o)||n.push(` ${t} ${r}[${o}]`);let a=Hi(e,i,"");Tl(a)||Ol(a)||n.push(` ${t} ${i}[${a}]`)})),rf(n)>0)throw new Error(xc(n,"; "));if(e=Cs(e,(e=>Ql(e[r]))),ze(e,((t,i)=>{if(0===i)return!0;let o=Hi(e,`${i-1}.${r}`,null),a=Hi(t,r,null);o=Ql(o),a=Ql(a),ih(o,">=",a)&&n.push(` ${i-1} ${r}[${o}] ${i} ${r}[${a}]`)})),rf(n)>0)throw new Error(xc(n,"; "));let l={};ze(e,(e=>{let t=e[i];l[t]=!0}));let s=Ee(l);if(0===rf(s))throw new Error("");e=Gh(e,{keyDepth:r,keyDepthStart:o,keyDepthEnd:a,depthEndMax:u});let f=Cu(e),c=-1;for(;c++,!(c>=rf(e)-1);){let t=Hi(e,c),n=Hi(e,c+1);Hi(t,i,"g1")===Hi(n,i,"g2")&&(e[c][a]=e[c+1][a],fd(e,c+1),c--)}let p=Po(e,(e=>({[i]:e[i],[o]:e[o],[a]:e[a]})));return p=Po(p,(e=>{let t=e[o],n=e[a],i=[],u=[];return ze(f,((e,o)=>{let a=e[r];if(ih(a,">=",t)&&ih(a,"<=",n)&&(i.push(o),u.push(e)),ih(a,">",n))return!1})),e.rows=Cu(u),fd(f,i),e})),p},e.calcDepthStartEndFromCenter=Gh,e.calcLayers=_d,e.calcLayersByCompress=Dv,e.calcLayersByMerge=Dd,e.calcLiquefaction=Ug,e.calcVerticalStress=fh,e.checkDepth=Gg,e.checkDepthStartEnd=oh,e.cnst=lf,e.complementDepthData=function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!Tl(t))throw new Error("invalid keyDepth");if(!Tl(n))throw new Error("invalid keyValue");if(!Lf(r))throw new Error("invalid keysValueCmp");e=Cu(e);let o=Hi(i,"searchLen");Ol(o)||(o=.5);let a=Hi(i,"beforeSearchMode");"all"!==a&&"no"!==a&&"peak"!==a&&"half-closed-value"!==a&&"double-closed-value"!==a&&"closed-value"!==a&&(a="no");let u=Hi(i,"afterSearchMode");"all"!==u&&"no"!==u&&"peak"!==u&&"half-closed-value"!==u&&"double-closed-value"!==u&&"closed-value"!==u&&(u="all");let l=Hi(i,"cmpMode");"linear-fill"!==l&&"cut"!==l&&(l="linear-fill");let s=function(e,t,n){let r=[];return ze(e,((i,o)=>{if(0===o)return!0;let a=em(e,t,o-1),u=em(e,n,o-1),l=em(e,n,o);Ol(u)&&!Ol(l)&&r.push({k:o-1,depth:a,value:u})})),r}(e,t,n);return ze(s,(i=>{let s=null;if(s=function(e,t,n,r,i,o){return tm(e,t,n,r,i,o,Xg({dir:"before"},arguments.length>6&&void 0!==arguments[6]?arguments[6]:{}))}(e,t,n,i.k,o,Hi(i,"value"),{searchMode:a}),null===s)return!0;let f=null;if(f=function(e,t,n,r,i,o){return tm(e,t,n,r,i,o,Xg({dir:"after"},arguments.length>6&&void 0!==arguments[6]?arguments[6]:{}))}(e,t,n,i.k,o,Hi(s,"value")||Hi(i,"value"),{searchMode:u}),null===f)return!0;"linear-fill"===l?e=function(e,t,n,r){if(n===r)return;if(n>r)throw new Error("k0 > k1");let i=Cu(e);return ze(t,(t=>{let o=em(e,t,n),a=em(e,t,r),u=r-n;for(let e=n;e<=r;e++)Kg(i,`${e}.${t}`,(r-e)/u*o+(e-n)/u*a)})),i}(e,r,s.k,f.k):"cut"===l&&(e=function(e,t,n,r){if(n===r)return;if(n>r)throw new Error("k0 > k1");let i=Cu(e);return ze(t,(e=>{for(let t=n;t<=r;t++)Kg(i,`${t}.${e}`,"")})),i}(e,r,s.k,f.k))})),e},e.getCptDepthHcOpt=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Hi(n,"xLabelPre",""),i=Hi(n,"useXLabelChtAndEng",!0),o=Hi(n,"useXYLabelEng",!0),a=Hi(n,"useYLabel",!0),u=Hi(n,"yLabelCht",""),l=Hi(n,"yLabelEng","Depth below seabed"),s=Hi(n,"yLabelTextSizeCht",12),f=Hi(n,"yLabelTextSizeEng",10),c=Hi(n,"yUnit","m"),p=Hi(n,"yDig",void 0),h=Hi(n,"yLimMin",void 0),d=Hi(n,"yLimMax",void 0),v="";async function g(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=Hi(r,"xLabelPre",""),u=Hi(r,"xLabelCht",""),l=Hi(r,"xLabelEng",void 0),s=Hi(r,"xLabelTextSizePre",14),f=Hi(r,"xLabelTextSizeCht",12),v=Hi(r,"xLabelTextSizeEng",10),g=Hi(r,"xUnit",void 0);i||(u="",l="");let m="";Tl(a)&&(m+=Db(a,s)+"<br>"),Tl(u)&&(Tl(g)?m+=Db(u+Cb(g),f):m+=Db(u,f)),o&&Tl(l)&&(m+=Pb(l+Cb(g),v));let b=[{name:"",data:af(e,t,!0)}];return jb(Fb(Fb(Fb({},n),r),{},{dataPoints:b,xLabel:m,yUnit:c,yDig:p,yLimMin:h,yLimMax:d}))}a&&(Tl(u)&&(Tl(c)?v+=Db(u+Cb(c),s):v+=Db(u,s)),o&&l&&(v+=Pb(l+Cb(c),f)));let m=null;if("qc"===t)m=await g(e,"qc",{yLabel:v,xLabelPre:r,xLabelCht:" q<sub>c</sub>",xLabelEng:"Cone resistance",xUnit:"MPa",xLimMin:0,xSoftMax:30,xTickInterval:10});else if("qt"===t)m=await g(e,"qt",{yLabel:v,xLabelPre:r,xLabelCht:" q<sub>t</sub>",xLabelEng:"Corrected cone resistance",xUnit:"MPa",xLimMin:0,xSoftMax:30});else if("qnet"===t)m=await g(e,"qnet",{yLabel:v,xLabelPre:r,xLabelCht:" q<sub>net</sub>",xLabelEng:"Net corrected cone resistance",xUnit:"MPa",xLimMin:0,xSoftMax:30});else if("Qt"===t)m=await g(e,"Qt",{yLabel:v,xLabelPre:r,xLabelCht:" Q<sub>t</sub>",xLabelEng:"Normalized cone resistance Q<sub>t</sub>",xUnit:"",xLimMin:0,xLimMax:150});else if("Qtn"===t)m=await g(e,"Qtn",{yLabel:v,xLabelPre:r,xLabelCht:" Q<sub>tn</sub>",xLabelEng:"Normalized cone resistance Q<sub>tn</sub>",xUnit:"",xLimMin:0,xLimMax:150});else if("fs"===t)m=await g(e,"fs",{yLabel:v,xLabelPre:r,xLabelCht:" f<sub>s</sub>",xLabelEng:"Sleeve friction",xUnit:"MPa",xLimMin:0,xSoftMax:1.2,xTickInterval:.2});else if("Rf"===t)m=await g(e,"Rf",{yLabel:v,xLabelPre:r,xLabelCht:" R<sub>f</sub>",xLabelEng:"Friction ratio",xUnit:"%",xLimMin:0,xSoftMax:8,xTickInterval:2});else if("Fr"===t)m=await g(e,"Fr",{yLabel:v,xLabelPre:r,xLabelCht:" F<sub>r</sub>",xLabelEng:"Normalized friction ratio",xUnit:"%",xLimMin:0,xSoftMax:8,xTickInterval:2});else if("u2"===t)m=await g(e,"u2",{yLabel:v,xLabelPre:r,xLabelCht:" u<sub>2</sub>",xLabelEng:"Pore pressure",xUnit:"MPa",addStaticPP:!0});else if("Bq"===t)m=await g(e,"Bq",{yLabel:v,xLabelPre:r,xLabelCht:" B<sub>q</sub>",xLabelEng:"Pore pressure ratio",xUnit:"",xLimMin:-1,xLimMax:3});else if("rsat"===t)m=await g(e,"rsat",{yLabel:v,xLabelPre:r,xLabelCht:" <sub>sat</sub>",xLabelEng:"Saturated unit weight",xUnit:"kN/m",xLimMin:16,xLimMax:22,xTickInterval:2});else if("Ic"===t)m=await g(e,"Ic",{yLabel:v,xLabelPre:r,xLabelCht:" I<sub>c</sub>",xLabelEng:"Soil behaviour type index",xUnit:"",xLimMin:1,xLimMax:5,xTickInterval:1,addIcRanges:!0});else if("Icn"===t)m=await g(e,"Icn",{yLabel:v,xLabelPre:r,xLabelCht:" I<sub>cn</sub>",xLabelEng:"Soil behaviour type index",xUnit:"",xLimMin:1,xLimMax:5,xTickInterval:1,addIcRanges:!0});else if("Rob:Bq-qt"===t)m=await g(e,"iRobBqqt",{yLabel:v,xLabelPre:r,xLabelCht:"Robertson B<sub>q</sub>-q<sub>t</sub>",xLabelEng:"Zone index",xUnit:"",xLimMin:0,xLimMax:14,displayDataMode:"dot point"});else if("Rob:Rf-qt"===t)m=await g(e,"iRobRfqt",{yLabel:v,xLabelPre:r,xLabelCht:"Robertson R<sub>f</sub>-q<sub>t</sub>",xLabelEng:"Zone index",xUnit:"",xLimMin:0,xLimMax:14,displayDataMode:"dot point"});else if("Rob:Bq-Qt"===t)m=await g(e,"iRobBqQt",{yLabel:v,xLabelPre:r,xLabelCht:"Robertson B<sub>q</sub>-Q<sub>t</sub>",xLabelEng:"Zone index",xUnit:"",xLimMin:0,xLimMax:10,displayDataMode:"dot point"});else if("Rob:Bq-Qtn"===t)m=await g(e,"iRobBqQtn",{yLabel:v,xLabelPre:r,xLabelCht:"Robertson B<sub>q</sub>-Q<sub>tn</sub>",xLabelEng:"Zone index",xUnit:"",xLimMin:0,xLimMax:10,displayDataMode:"dot point"});else if("Rob:Fr-Qt"===t)m=await g(e,"iRobFrQt",{yLabel:v,xLabelPre:r,xLabelCht:"Robertson F<sub>r</sub>-Q<sub>t</sub>",xLabelEng:"Zone index",xUnit:"",xLimMin:0,xLimMax:10,displayDataMode:"dot point"});else if("Rob:Fr-Qtn"===t)m=await g(e,"iRobFrQtn",{yLabel:v,xLabelPre:r,xLabelCht:"Robertson F<sub>r</sub>-Q<sub>tn</sub>",xLabelEng:"Zone index",xUnit:"",xLimMin:0,xLimMax:10,displayDataMode:"dot point"});else if("Ram:Bq-Qt"===t)m=await g(e,"iRamBqQt",{yLabel:v,xLabelPre:r,xLabelCht:"Ramsey B<sub>q</sub>-Q<sub>t</sub>",xLabelEng:"Zone index",xUnit:"",xLimMin:0,xLimMax:10,displayDataMode:"dot point"});else if("Ram:Fr-Qt"===t)m=await g(e,"iRamFrQt",{yLabel:v,xLabelPre:r,xLabelCht:"Ramsey F<sub>r</sub>-Q<sub>t</sub>",xLabelEng:"Zone index",xUnit:"",xLimMin:0,xLimMax:10,displayDataMode:"dot point"});else if("cptHBF2021-CRR"===t)m=await g(e,"cptHBF2021-CRR",{yLabel:v,xLabelPre:r,xLabelCht:"HBF(2021) CRR",xLabelEng:"CRR",xUnit:"",xLimMin:0,xLimMax:2});else if("cptHBF2021-CSR"===t)m=await g(e,"cptHBF2021-CSR",{yLabel:v,xLabelPre:r,xLabelCht:"HBF(2021) CSR",xLabelEng:"CSR",xUnit:""});else if("cptHBF2021-FS"===t)m=await g(e,"cptHBF2021-FS",{yLabel:v,xLabelPre:r,xLabelCht:"HBF(2021) FS",xLabelEng:"FS",xUnit:"",xLimMin:0,xLimMax:2,addFS1:!0});else if("cptRobertson2009-CRR"===t)m=await g(e,"cptRobertson2009-CRR",{yLabel:v,xLabelPre:r,xLabelCht:"Robertson(2009) CRR",xLabelEng:"CRR",xUnit:"",xLimMin:0,xLimMax:2});else if("cptRobertson2009-CSR"===t)m=await g(e,"cptRobertson2009-CSR",{yLabel:v,xLabelPre:r,xLabelCht:"Robertson(2009) CSR",xLabelEng:"CSR",xUnit:""});else if("cptRobertson2009-FS"===t)m=await g(e,"cptRobertson2009-FS",{yLabel:v,xLabelPre:r,xLabelCht:"Robertson(2009) FS",xLabelEng:"FS",xUnit:"",xLimMin:0,xLimMax:2,addFS1:!0});else if("cptKuAndJuang2012-CRR"===t)m=await g(e,"cptKuAndJuang2012-CRR",{yLabel:v,xLabelPre:r,xLabelCht:"Ku & Juang(2012) CRR",xLabelEng:"CRR",xUnit:"",xLimMin:0,xLimMax:2});else if("cptKuAndJuang2012-CSR"===t)m=await g(e,"cptKuAndJuang2012-CSR",{yLabel:v,xLabelPre:r,xLabelCht:"Ku & Juang(2012) CSR",xLabelEng:"CSR",xUnit:""});else{if("cptKuAndJuang2012-FS"!==t)throw new Error(`invalid retKind[${t}]`);m=await g(e,"cptKuAndJuang2012-FS",{yLabel:v,xLabelPre:r,xLabelCht:"Ku & Juang(2012) FS",xLabelEng:"FS",xUnit:"",xLimMin:0,xLimMax:2,addFS1:!0})}return m},e.getDepthMaxMin=vv,e.groupByDepthStartEnd=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=[];if(!Lf(e))throw new Error("");if(!Lf(t)&&!El(t))throw new Error("");let i=Hi(n,"keyDepth");Tl(i)||(i="depth");let o=Hi(n,"keyDepthStart");Tl(o)||(o="depthStart");let a=Hi(n,"keyDepthEnd");if(Tl(a)||(a="depthEnd"),e=Cu(e),ze(e,((e,t)=>{let n=Hi(e,i,null);Ol(n)||r.push(` ${t} ${i}[${n}]`)})),rf(r)>0)throw new Error(xc(r,"; "));let u=Gg(e=Cs(e,(e=>Ql(e[i]))),{keyDepth:i});if(rf(u)>0)throw new Error(xc(u,", "));if(El(t)&&(t=[t]),ze(t,((e,t)=>{let n=Hi(e,o,null),i=Hi(e,a,null);Ol(n)||r.push(` ${t} ${o}[${n}]`),Ol(i)||r.push(` ${t} ${a}[${i}]`)})),rf(r)>0)throw new Error(xc(r,"; "));if(ze(t,((e,n)=>{let i=Hi(e,o,null),u=Hi(e,a,null);if(i=Ql(i),u=Ql(u),ih(i,">",u)&&r.push(` ${n} ${o}[${i}]${a}[${u}]`),0===n)return!0;let l=Hi(t,n-1),s=Hi(l,a,null);s=Ql(s),ih(s,">",i)&&r.push(` ${n} ${a}[${s}] ${n+1} ${o}[${i}]`)})),rf(r)>0)throw new Error(xc(r,"; "));let l=Cu(e),s=Cu(t);return s=Po(s,((e,t)=>{let n=Hi(e,o,null),r=Hi(e,a,null);n=Ql(n),r=Ql(r);let u=[],s=[];return ze(l,((e,t)=>{let o=e[i];if(ih(o,">=",n)&&ih(o,"<=",r)&&(u.push(t),s.push(e)),ih(o,">",r))return!1})),e.rows=Cu(s),fd(l,u),e})),s},e.intrpDefParam=cf,e.judge=ih,e.mergeByDepthStartEnd=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Lf(e))throw new Error("");let n=Hi(t,"keyDepthStart");Tl(n)||(n="depthStart");let r=Hi(t,"keyDepthEnd");Tl(r)||(r="depthEnd");let i=Hi(t,"keyValue");Tl(i)||(i="value");let o=Hi(t,"funMerge"),a=Hi(t,"typeMerge");"up"!==a&&"down"!==a&&(a="down");let u=oh(e=Cu(e),{keyDepthStart:n,keyDepthEnd:r});if(rf(u)>0)throw new Error(xc(u,", "));let l=e=>{let t=!1;for(let u=1;u<rf(e);u++){let l=e[u-1],s=e[u],f=Hi(l,n,null),c=Hi(l,i,null),p=Hi(s,r,null),h=Hi(s,i,null);if(null!==c&&null!==h&&c===h){let i=null;if(Rl(o)){if(i=o(l,s),!El(i))throw new Error(`funMerge[${i}]`)}else"up"===a?i=_b(_b({},s),l):"down"===a&&(i=_b(_b({},l),s));i[n]=f,i[r]=p,(e=Cu(e))[u-1]=i,fd(e,u),t=!0;break}}return{merge:t,rows:e}},s=l(e=Cs(e,(e=>Ql(e[n]))));for(;s.merge;)s=l(e),e=s.rows;return e},e.relaPlasticityParams=function(e,t,n){let r={};function i(){let i,o,a,u=!1;return Fu(e)&&Fu(n)&&e<=n&&(r.ck_LL_PL=`[${e}]<=[${n}]`),Fu(e)&&Fu(t)&&(i=e-t),Fu(i)&&(Fu(n)?i<=0?r.ck_PL=`[${i}]<=0`:i>=100?r.ck_PL=`[${i}]>=100`:Math.abs(n-i)>i/100*5&&(r.ck_PL=`[${n}][${i}]`):(n=i,u=!0)),Fu(e)&&Fu(n)&&(o=e-n),Fu(o)&&(Fu(t)?o<=0?r.ck_PI=`[${o}]<=0`:o>=100?r.ck_PI=`[${o}]>=100`:Math.abs(t-o)>o/100*5&&(r.ck_PI=`[${t}][${o}]`):(t=o,u=!0)),Fu(n)&&Fu(t)&&(a=n+t),Fu(a)&&(Fu(e)?a<=0?r.ck_LL=`[${a}]<=0`:a>=100?r.ck_LL=`[${a}]>=100`:Math.abs(e-a)>a/100*5&&(r.ck_LL=`[${e}][${a}]`):(e=a,u=!0)),u}Ol(e)?(e=Ql(e))<=0&&(r.LL=`[${e}]<=0`):e=null,Ol(n)?(n=Ql(n))<=0&&(r.PL=`[${n}]<=0`):n=null,Ol(t)?(t=Ql(t))<=0&&(r.PI=`[${t}]<=0`):t=null;let o=0;if(o+=Ol(e)?1:0,o+=Ol(n)?1:0,o+=Ol(t)?1:0,o>=2){let e=i();for(;e;)e=i()}let a={LL:e,PL:n,PI:t};if(El(r)){let e=xc(pg(r),", ");a.err=e}return a},e.relaPorousParams=kg,e.sepDepthStartEndByDepth=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!Lf(e))throw new Error("");if(!Lf(t))return e;let r=Hi(n,"keyDepthStart");Tl(r)||(r="depthStart");let i=Hi(n,"keyDepthEnd");Tl(i)||(i="depthEnd");let o=Hi(n,"keyDepth");Tl(o)||(o="depth");let a=oh(e=Cu(e),{keyDepthStart:r,keyDepthEnd:i});if(rf(a)>0)throw new Error(xc(a,", "));e=Cs(e,(e=>Ql(e[r])));let u=Gg(t,{keyDepth:o});if(rf(u)>0)throw new Error(xc(u,", "));let l=Po(t,(e=>e[o]));l=Nb(l);let s=(e,t)=>(e=Cu(e),ze(e,((n,o)=>{let a=Hi(n,r,null),u=Hi(n,i,null);if(a=Ql(a),u=Ql(u),ih(t,">",a)&&ih(t,"<",u)){let a=Cu(n),u=Cu(n);return a[i]=t,u[r]=t,fd(e,o),e=function(e,t,n){if(!kf(e))return[];if(kf(n)||(n=[n]),!If(t))return e;if((t=zf(t))>rf(e))return e;let r=e;try{r=[...e.slice(0,t),...n,...e.slice(t)]}catch(e){}return r}(e,o,[a,u]),!1}})),e);return ze(l,(t=>{e=s(e,t)})),e},e.smoothDepthByKey=mc}));
//# sourceMappingURL=w-geo.umd.js.map
