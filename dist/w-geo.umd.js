/*!
 * w-geo v1.1.58
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["w-geo"]={})}(this,(function(e){"use strict";var t=Array.isArray,r="object"==typeof global&&global&&global.Object===Object&&global,n="object"==typeof self&&self&&self.Object===Object&&self,i=r||n||Function("return this")(),o=i.Symbol,l=Object.prototype,u=l.hasOwnProperty,a=l.toString,s=o?o.toStringTag:void 0;var f=Object.prototype.toString;var c="[object Null]",h="[object Undefined]",p=o?o.toStringTag:void 0;function d(e){return null==e?void 0===e?h:c:p&&p in Object(e)?function(e){var t=u.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var i=a.call(e);return n&&(t?e[s]=r:delete e[s]),i}(e):function(e){return f.call(e)}(e)}function g(e){return null!=e&&"object"==typeof e}var v="[object Symbol]";function m(e){return"symbol"==typeof e||g(e)&&d(e)==v}var y=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,b=/^\w*$/;function w(e,r){if(t(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!m(e))||(b.test(e)||!y.test(e)||null!=r&&e in Object(r))}function $(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var S="[object AsyncFunction]",x="[object Function]",M="[object GeneratorFunction]",P="[object Proxy]";function E(e){if(!$(e))return!1;var t=d(e);return t==x||t==M||t==S||t==P}var k,O=i["__core-js_shared__"],j=(k=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"";var D=Function.prototype.toString;function L(e){if(null!=e){try{return D.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var C=/^\[object .+?Constructor\]$/,R=Function.prototype,q=Object.prototype,F=R.toString,_=q.hasOwnProperty,A=RegExp("^"+F.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function N(e){return!(!$(e)||(t=e,j&&j in t))&&(E(e)?A:C).test(L(e));var t}function I(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return N(r)?r:void 0}var z=I(Object,"create");var T=Object.prototype.hasOwnProperty;var G=Object.prototype.hasOwnProperty;function U(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function B(e,t){return e===t||e!=e&&t!=t}function Q(e,t){for(var r=e.length;r--;)if(B(e[r][0],t))return r;return-1}U.prototype.clear=function(){this.__data__=z?z(null):{},this.size=0},U.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},U.prototype.get=function(e){var t=this.__data__;if(z){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return T.call(t,e)?t[e]:void 0},U.prototype.has=function(e){var t=this.__data__;return z?void 0!==t[e]:G.call(t,e)},U.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=z&&void 0===t?"__lodash_hash_undefined__":t,this};var H=Array.prototype.splice;function W(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}W.prototype.clear=function(){this.__data__=[],this.size=0},W.prototype.delete=function(e){var t=this.__data__,r=Q(t,e);return!(r<0)&&(r==t.length-1?t.pop():H.call(t,r,1),--this.size,!0)},W.prototype.get=function(e){var t=this.__data__,r=Q(t,e);return r<0?void 0:t[r][1]},W.prototype.has=function(e){return Q(this.__data__,e)>-1},W.prototype.set=function(e,t){var r=this.__data__,n=Q(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};var V=I(i,"Map");function Y(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function Z(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Z.prototype.clear=function(){this.size=0,this.__data__={hash:new U,map:new(V||W),string:new U}},Z.prototype.delete=function(e){var t=Y(this,e).delete(e);return this.size-=t?1:0,t},Z.prototype.get=function(e){return Y(this,e).get(e)},Z.prototype.has=function(e){return Y(this,e).has(e)},Z.prototype.set=function(e,t){var r=Y(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};var K="Expected a function";function X(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(K);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var l=e.apply(this,n);return r.cache=o.set(i,l)||o,l};return r.cache=new(X.Cache||Z),r}X.Cache=Z;var J,ee,te,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ne=/\\(\\)?/g,ie=(J=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,r,n,i){t.push(n?i.replace(ne,"$1"):r||e)})),t},ee=X(J,(function(e){return 500===te.size&&te.clear(),e})),te=ee.cache,ee),oe=ie;function le(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var ue=1/0,ae=o?o.prototype:void 0,se=ae?ae.toString:void 0;function fe(e){if("string"==typeof e)return e;if(t(e))return le(e,fe)+"";if(m(e))return se?se.call(e):"";var r=e+"";return"0"==r&&1/e==-ue?"-0":r}function ce(e){return null==e?"":fe(e)}function he(e,r){return t(e)?e:w(e,r)?[e]:oe(ce(e))}var pe=1/0;function de(e){if("string"==typeof e||m(e))return e;var t=e+"";return"0"==t&&1/e==-pe?"-0":t}function ge(e,t){for(var r=0,n=(t=he(t,e)).length;null!=e&&r<n;)e=e[de(t[r++])];return r&&r==n?e:void 0}function ve(e,t,r){var n=null==e?void 0:ge(e,t);return void 0===n?r:n}function me(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}var ye,be=function(e,t,r){for(var n=-1,i=Object(e),o=r(e),l=o.length;l--;){var u=o[ye?l:++n];if(!1===t(i[u],u,i))break}return e},we=be;function $e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Se(e){return g(e)&&"[object Arguments]"==d(e)}var xe=Object.prototype,Me=xe.hasOwnProperty,Pe=xe.propertyIsEnumerable,Ee=Se(function(){return arguments}())?Se:function(e){return g(e)&&Me.call(e,"callee")&&!Pe.call(e,"callee")},ke=Ee;var Oe="object"==typeof e&&e&&!e.nodeType&&e,je=Oe&&"object"==typeof module&&module&&!module.nodeType&&module,De=je&&je.exports===Oe?i.Buffer:void 0,Le=(De?De.isBuffer:void 0)||function(){return!1},Ce=9007199254740991,Re=/^(?:0|[1-9]\d*)$/;function qe(e,t){var r=typeof e;return!!(t=null==t?Ce:t)&&("number"==r||"symbol"!=r&&Re.test(e))&&e>-1&&e%1==0&&e<t}var Fe=9007199254740991;function _e(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Fe}var Ae={};function Ne(e){return function(t){return e(t)}}Ae["[object Float32Array]"]=Ae["[object Float64Array]"]=Ae["[object Int8Array]"]=Ae["[object Int16Array]"]=Ae["[object Int32Array]"]=Ae["[object Uint8Array]"]=Ae["[object Uint8ClampedArray]"]=Ae["[object Uint16Array]"]=Ae["[object Uint32Array]"]=!0,Ae["[object Arguments]"]=Ae["[object Array]"]=Ae["[object ArrayBuffer]"]=Ae["[object Boolean]"]=Ae["[object DataView]"]=Ae["[object Date]"]=Ae["[object Error]"]=Ae["[object Function]"]=Ae["[object Map]"]=Ae["[object Number]"]=Ae["[object Object]"]=Ae["[object RegExp]"]=Ae["[object Set]"]=Ae["[object String]"]=Ae["[object WeakMap]"]=!1;var Ie="object"==typeof e&&e&&!e.nodeType&&e,ze=Ie&&"object"==typeof module&&module&&!module.nodeType&&module,Te=ze&&ze.exports===Ie&&r.process,Ge=function(){try{var e=ze&&ze.require&&ze.require("util").types;return e||Te&&Te.binding&&Te.binding("util")}catch(e){}}(),Ue=Ge&&Ge.isTypedArray,Be=Ue?Ne(Ue):function(e){return g(e)&&_e(e.length)&&!!Ae[d(e)]},Qe=Object.prototype.hasOwnProperty;function He(e,r){var n=t(e),i=!n&&ke(e),o=!n&&!i&&Le(e),l=!n&&!i&&!o&&Be(e),u=n||i||o||l,a=u?$e(e.length,String):[],s=a.length;for(var f in e)!r&&!Qe.call(e,f)||u&&("length"==f||o&&("offset"==f||"parent"==f)||l&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||qe(f,s))||a.push(f);return a}var We=Object.prototype;function Ve(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||We)}function Ye(e,t){return function(r){return e(t(r))}}var Ze=Ye(Object.keys,Object),Ke=Object.prototype.hasOwnProperty;function Xe(e){if(!Ve(e))return Ze(e);var t=[];for(var r in Object(e))Ke.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Je(e){return null!=e&&_e(e.length)&&!E(e)}function et(e){return Je(e)?He(e):Xe(e)}var tt=function(e,t){return function(r,n){if(null==r)return r;if(!Je(r))return e(r,n);for(var i=r.length,o=t?i:-1,l=Object(r);(t?o--:++o<i)&&!1!==n(l[o],o,l););return r}}((function(e,t){return e&&we(e,t,et)})),rt=tt;function nt(e){return e}function it(e){return"function"==typeof e?e:nt}function ot(e,r){return(t(e)?me:rt)(e,it(r))}function lt(e){var t=this.__data__=new W(e);this.size=t.size}lt.prototype.clear=function(){this.__data__=new W,this.size=0},lt.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},lt.prototype.get=function(e){return this.__data__.get(e)},lt.prototype.has=function(e){return this.__data__.has(e)},lt.prototype.set=function(e,t){var r=this.__data__;if(r instanceof W){var n=r.__data__;if(!V||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Z(n)}return r.set(e,t),this.size=r.size,this};function ut(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Z;++t<r;)this.add(e[t])}function at(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function st(e,t){return e.has(t)}ut.prototype.add=ut.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ut.prototype.has=function(e){return this.__data__.has(e)};var ft=1,ct=2;function ht(e,t,r,n,i,o){var l=r&ft,u=e.length,a=t.length;if(u!=a&&!(l&&a>u))return!1;var s=o.get(e),f=o.get(t);if(s&&f)return s==t&&f==e;var c=-1,h=!0,p=r&ct?new ut:void 0;for(o.set(e,t),o.set(t,e);++c<u;){var d=e[c],g=t[c];if(n)var v=l?n(g,d,c,t,e,o):n(d,g,c,e,t,o);if(void 0!==v){if(v)continue;h=!1;break}if(p){if(!at(t,(function(e,t){if(!st(p,t)&&(d===e||i(d,e,r,n,o)))return p.push(t)}))){h=!1;break}}else if(d!==g&&!i(d,g,r,n,o)){h=!1;break}}return o.delete(e),o.delete(t),h}var pt=i.Uint8Array;function dt(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function gt(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var vt=1,mt=2,yt="[object Boolean]",bt="[object Date]",wt="[object Error]",$t="[object Map]",St="[object Number]",xt="[object RegExp]",Mt="[object Set]",Pt="[object String]",Et="[object Symbol]",kt="[object ArrayBuffer]",Ot="[object DataView]",jt=o?o.prototype:void 0,Dt=jt?jt.valueOf:void 0;function Lt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Ct(e,r,n){var i=r(e);return t(e)?i:Lt(i,n(e))}function Rt(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var l=e[r];t(l,r,e)&&(o[i++]=l)}return o}function qt(){return[]}var Ft=Object.prototype.propertyIsEnumerable,_t=Object.getOwnPropertySymbols,At=_t?function(e){return null==e?[]:(e=Object(e),Rt(_t(e),(function(t){return Ft.call(e,t)})))}:qt;function Nt(e){return Ct(e,et,At)}var It=1,zt=Object.prototype.hasOwnProperty;var Tt=I(i,"DataView"),Gt=I(i,"Promise"),Ut=I(i,"Set"),Bt=I(i,"WeakMap"),Qt="[object Map]",Ht="[object Promise]",Wt="[object Set]",Vt="[object WeakMap]",Yt="[object DataView]",Zt=L(Tt),Kt=L(V),Xt=L(Gt),Jt=L(Ut),er=L(Bt),tr=d;(Tt&&tr(new Tt(new ArrayBuffer(1)))!=Yt||V&&tr(new V)!=Qt||Gt&&tr(Gt.resolve())!=Ht||Ut&&tr(new Ut)!=Wt||Bt&&tr(new Bt)!=Vt)&&(tr=function(e){var t=d(e),r="[object Object]"==t?e.constructor:void 0,n=r?L(r):"";if(n)switch(n){case Zt:return Yt;case Kt:return Qt;case Xt:return Ht;case Jt:return Wt;case er:return Vt}return t});var rr=tr,nr=1,ir="[object Arguments]",or="[object Array]",lr="[object Object]",ur=Object.prototype.hasOwnProperty;function ar(e,r,n,i,o,l){var u=t(e),a=t(r),s=u?or:rr(e),f=a?or:rr(r),c=(s=s==ir?lr:s)==lr,h=(f=f==ir?lr:f)==lr,p=s==f;if(p&&Le(e)){if(!Le(r))return!1;u=!0,c=!1}if(p&&!c)return l||(l=new lt),u||Be(e)?ht(e,r,n,i,o,l):function(e,t,r,n,i,o,l){switch(r){case Ot:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case kt:return!(e.byteLength!=t.byteLength||!o(new pt(e),new pt(t)));case yt:case bt:case St:return B(+e,+t);case wt:return e.name==t.name&&e.message==t.message;case xt:case Pt:return e==t+"";case $t:var u=dt;case Mt:var a=n&vt;if(u||(u=gt),e.size!=t.size&&!a)return!1;var s=l.get(e);if(s)return s==t;n|=mt,l.set(e,t);var f=ht(u(e),u(t),n,i,o,l);return l.delete(e),f;case Et:if(Dt)return Dt.call(e)==Dt.call(t)}return!1}(e,r,s,n,i,o,l);if(!(n&nr)){var d=c&&ur.call(e,"__wrapped__"),g=h&&ur.call(r,"__wrapped__");if(d||g){var v=d?e.value():e,m=g?r.value():r;return l||(l=new lt),o(v,m,n,i,l)}}return!!p&&(l||(l=new lt),function(e,t,r,n,i,o){var l=r&It,u=Nt(e),a=u.length;if(a!=Nt(t).length&&!l)return!1;for(var s=a;s--;){var f=u[s];if(!(l?f in t:zt.call(t,f)))return!1}var c=o.get(e),h=o.get(t);if(c&&h)return c==t&&h==e;var p=!0;o.set(e,t),o.set(t,e);for(var d=l;++s<a;){var g=e[f=u[s]],v=t[f];if(n)var m=l?n(v,g,f,t,e,o):n(g,v,f,e,t,o);if(!(void 0===m?g===v||i(g,v,r,n,o):m)){p=!1;break}d||(d="constructor"==f)}if(p&&!d){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(e),o.delete(t),p}(e,r,n,i,o,l))}function sr(e,t,r,n,i){return e===t||(null==e||null==t||!g(e)&&!g(t)?e!=e&&t!=t:ar(e,t,r,n,sr,i))}var fr=1,cr=2;function hr(e){return e==e&&!$(e)}function pr(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}function dr(e){var t=function(e){for(var t=et(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,hr(i)]}return t}(e);return 1==t.length&&t[0][2]?pr(t[0][0],t[0][1]):function(r){return r===e||function(e,t,r,n){var i=r.length,o=i,l=!n;if(null==e)return!o;for(e=Object(e);i--;){var u=r[i];if(l&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<o;){var a=(u=r[i])[0],s=e[a],f=u[1];if(l&&u[2]){if(void 0===s&&!(a in e))return!1}else{var c=new lt;if(n)var h=n(s,f,a,e,t,c);if(!(void 0===h?sr(f,s,fr|cr,n,c):h))return!1}}return!0}(r,e,t)}}function gr(e,t){return null!=e&&t in Object(e)}function vr(e,r){return null!=e&&function(e,r,n){for(var i=-1,o=(r=he(r,e)).length,l=!1;++i<o;){var u=de(r[i]);if(!(l=null!=e&&n(e,u)))break;e=e[u]}return l||++i!=o?l:!!(o=null==e?0:e.length)&&_e(o)&&qe(u,o)&&(t(e)||ke(e))}(e,r,gr)}var mr=1,yr=2;function br(e){return function(t){return null==t?void 0:t[e]}}function wr(e){return w(e)?br(de(e)):function(e){return function(t){return ge(t,e)}}(e)}function $r(e){return"function"==typeof e?e:null==e?nt:"object"==typeof e?t(e)?(r=e[0],n=e[1],w(r)&&hr(n)?pr(de(r),n):function(e){var t=ve(e,r);return void 0===t&&t===n?vr(e,r):sr(n,t,mr|yr)}):dr(e):wr(e);var r,n}function Sr(e,t){var r=-1,n=Je(e)?Array(e.length):[];return rt(e,(function(e,i,o){n[++r]=t(e,i,o)})),n}function xr(e,r){return(t(e)?le:Sr)(e,$r(r))}var Mr=o?o.isConcatSpreadable:void 0;function Pr(e){return t(e)||ke(e)||!!(Mr&&e&&e[Mr])}function Er(e,t,r,n,i){var o=-1,l=e.length;for(r||(r=Pr),i||(i=[]);++o<l;){var u=e[o];t>0&&r(u)?t>1?Er(u,t-1,r,n,i):Lt(i,u):n||(i[i.length]=u)}return i}function kr(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=e==e,o=m(e),l=void 0!==t,u=null===t,a=t==t,s=m(t);if(!u&&!s&&!o&&e>t||o&&l&&a&&!u&&!s||n&&l&&a||!r&&a||!i)return 1;if(!n&&!o&&!s&&e<t||s&&r&&i&&!n&&!o||u&&r&&i||!l&&i||!a)return-1}return 0}function Or(e,r,n){r=r.length?le(r,(function(e){return t(e)?function(t){return ge(t,1===e.length?e[0]:e)}:e})):[nt];var i=-1;return r=le(r,Ne($r)),function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(Sr(e,(function(e,t,n){return{criteria:le(r,(function(t){return t(e)})),index:++i,value:e}})),(function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,l=i.length,u=r.length;++n<l;){var a=kr(i[n],o[n]);if(a)return n>=u?a:a*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,n)}))}var jr=Math.max;function Dr(e,t,r){return t=jr(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=jr(n.length-t,0),l=Array(o);++i<o;)l[i]=n[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=n[i];return u[t]=r(l),function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,u)}}var Lr=function(){try{var e=I(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Cr=Lr,Rr=Cr?function(e,t){return Cr(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:nt,qr=Rr,Fr=Date.now;var _r=function(e){var t=0,r=0;return function(){var n=Fr(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(qr),Ar=_r;function Nr(e,t){return Ar(Dr(e,t,nt),e+"")}function Ir(e,t,r){if(!$(r))return!1;var n=typeof t;return!!("number"==n?Je(r)&&qe(t,r.length):"string"==n&&t in r)&&B(r[t],e)}var zr=Nr((function(e,t){if(null==e)return[];var r=t.length;return r>1&&Ir(e,t[0],t[1])?t=[]:r>2&&Ir(t[0],t[1],t[2])&&(t=[t[0]]),Or(e,Er(t,1),[])}));function Tr(e){return"[object String]"===Object.prototype.toString.call(e)}function Gr(e){return!(!Tr(e)||""===e)}function Ur(e){return e!=e}function Br(e){let t=!1;if(Gr(e))t=!isNaN(Number(e));else if(function(e){return"[object Number]"===Object.prototype.toString.call(e)}(e)){if(Ur(e))return!1;t=!0}return t}var Qr=/\s/;var Hr=/^\s+/;function Wr(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&Qr.test(e.charAt(t)););return t}(e)+1).replace(Hr,""):e}var Vr=NaN,Yr=/^[-+]0x[0-9a-f]+$/i,Zr=/^0b[01]+$/i,Kr=/^0o[0-7]+$/i,Xr=parseInt;function Jr(e){if("number"==typeof e)return e;if(m(e))return Vr;if($(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=$(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Wr(e);var r=Zr.test(e);return r||Kr.test(e)?Xr(e.slice(2),r?2:8):Yr.test(e)?Vr:+e}var en=1/0,tn=17976931348623157e292;function rn(e){return e?(e=Jr(e))===en||e===-en?(e<0?-1:1)*tn:e==e?e:0:0===e?e:0}function nn(e){if(!Br(e))return 0;return rn(e)}var on="[object String]";var ln=br("length"),un=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function an(e){return un.test(e)}var sn="\\ud800-\\udfff",fn="["+sn+"]",cn="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",hn="\\ud83c[\\udffb-\\udfff]",pn="[^"+sn+"]",dn="(?:\\ud83c[\\udde6-\\uddff]){2}",gn="[\\ud800-\\udbff][\\udc00-\\udfff]",vn="(?:"+cn+"|"+hn+")"+"?",mn="[\\ufe0e\\ufe0f]?",yn=mn+vn+("(?:\\u200d(?:"+[pn,dn,gn].join("|")+")"+mn+vn+")*"),bn="(?:"+[pn+cn+"?",cn,dn,gn,fn].join("|")+")",wn=RegExp(hn+"(?="+hn+")|"+bn+yn,"g");function $n(e){return an(e)?function(e){for(var t=wn.lastIndex=0;wn.test(e);)++t;return t}(e):ln(e)}var Sn="[object Map]",xn="[object Set]";function Mn(e){if(null==e)return 0;if(Je(e))return"string"==typeof(r=e)||!t(r)&&g(r)&&d(r)==on?$n(e):e.length;var r,n=rr(e);return n==Sn||n==xn?e.size:Xe(e).length}var Pn=Array.prototype.reverse;function En(e){return null==e?e:Pn.call(e)}var kn="[object Number]";function On(e){return"number"==typeof e||g(e)&&d(e)==kn}function jn(e){return"[object Array]"===Object.prototype.toString.call(e)}let Dn="in x-range",Ln="out of x-range",Cn="order list",Rn="reverse order list";function qn(e,t){let r=null,n=null;return r=e[0].x,n=e[Mn(e)-1].x,t<r?{err:Ln,msg:`x[${t}] less than lower limit[${r}]`,data:{ps:e,x:t,xmin:r,xmax:n}}:t>n?{err:Ln,msg:`x[${t}] greater than upper limit[${n}]`,data:{ps:e,x:t,xmin:r,xmax:n}}:Dn}function Fn(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!jn(e))return{err:"ps is not an array"};{let e=!Br(t),r=!jn(t);if(e&&r)return{err:"px is not a number or an array"}}let n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Mn(e)<=0)return[];let r=ve(t,"keyX");Gr(r)||(r="x");let n=ve(t,"keyY");Gr(n)||(n="y");let i=[];return ot(e,(e=>{let t=null,o=null;jn(e)&&Mn(e)>=2?(t=ve(e,0),o=ve(e,1)):(t=ve(e,r,null),o=ve(e,n,null)),Br(t)&&Br(o)&&(t=Jr(t),o=Jr(o),i.push({x:t,y:o}))})),i}(e,r);if(ve(n,"err"))return ve(n,"err");if(0===Mn(n))return{err:"ps(length=0) is not an effective array",ps:e,psEff:n};if(1===Mn(n))return{err:"ps(length=1) is one point only",ps:e,psEff:n};let i=function(e){let t=!0,r=!0;for(let n=1;n<Mn(e);n++){let i=e[n-1],o=e[n];if(t&&i.x>o.x&&(t=!1),r&&i.x<o.x&&(r=!1),i.x===o.x)return{err:`x can not be equal: i=${n}, x=${i.x}`}}return t?Cn:r?Rn:"no"}(n);if("no"===i)return{err:"psEff is not increasing or decreasing"};i===Rn&&(i=Cn,n=En(n));let o=!jn(t);o&&(t=[t]);let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Mn(e)<=0)return[];let r=ve(t,"keyX");Gr(r)||(r="x");let n=[];return ot(e,(e=>{let t=null;t=Br(e)?Jr(e):jn(e)&&Mn(e)>=1?ve(e,0):ve(e,r,null),Br(t)&&(t=Jr(t),n.push({x:t}))})),n}(t,r),u=ve(r,"mode");"linear"!==u&&"stairs"!==u&&"blocks"!==u&&(u="linear");let a,s=xr(l,((e,t)=>{let i=ve(e,"x"),o=null;try{"linear"===u?o=function(e,t){let r=qn(e,t);if(r!==Dn)return r;let n=null;for(let r=1;r<Mn(e);r++){let i=e[r-1],o=e[r];if(i.x<=t&&t<=o.x){n=((t-i.x)*o.y+(o.x-t)*i.y)/(o.x-i.x);break}}return null===n?{err:Ln}:n}(n,i):"blocks"===u?o=function(e,t){let r=qn(e,t);if(r!==Dn)return r;let n=null;for(let r=1;r<Mn(e);r++){let i=e[r-1],o=e[r],l=i.x,u=o.x;if(l<=t&&t<=u){n=o.y;break}}return null===n?{err:Ln}:n}(n,i):"stairs"===u&&(o=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=ve(r,"xMin");if(On(n)){if(n>e[0].x)return{err:`xMin=${n} > ps[0].x=${e[0].x}`};n===e[0].x||(e=[{x:n,y:e[0].y},...e])}let i=ve(r,"xMax");if(On(i)){if(i<e[Mn(e)-1].x)return{err:`xMax=${i} < ps[size(ps)-1].x=${e[Mn(e)-1].x}`};if(i===e[Mn(e)-1].x);else{let t={x:i,y:e[Mn(e)-1].y};e=[...e,t]}}let o=qn(e,t);if(o!==Dn)return o;let l=null;for(let r=0;r<Mn(e);r++){let n=ve(e,r-1,null),i=ve(e,r,null),o=ve(e,r+1,null),u=i.x;n&&(u=(n.x+i.x)/2);let a=i.x;if(o&&(a=(o.x+i.x)/2),u<=t&&t<=a){l=i.y;break}}return null===l?{err:Ln}:l}(n,i,r))}catch(e){o={err:e.toString()}}return o}));return a=o?s[0]:s,a}var _n="[object Boolean]";function An(e){return!0===(t=e)||!1===t||g(t)&&d(t)==_n;var t}function Nn(e,t){return On(t)||(t=.1),e=Math.ceil(e/t)*t}function In(e,t){return On(t)||(t=.1),e=Math.floor(e/t)*t}function zn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"keyDepth");Gr(r)||(r="depth");let n=ve(t,"keyDepthStart");Gr(n)||(n="depthStart");let i=ve(t,"keyDepthEnd");Gr(i)||(i="depthEnd");let o=ve(t,"approximate");An(o)||(o=!1);let l=-1e20;return ot(e,(e=>{Br(e[n])&&(l=Math.max(l,nn(e[n]))),Br(e[i])&&(l=Math.max(l,nn(e[i]))),Br(e[r])&&(l=Math.max(l,nn(e[r])))})),o&&(l=Nn(l)),l}function Tn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"keyDepth");Gr(r)||(r="depth");let n=ve(t,"keyDepthStart");Gr(n)||(n="depthStart");let i=ve(t,"keyDepthEnd");Gr(i)||(i="depthEnd");let o=ve(t,"approximate");An(o)||(o=!1);let l=1e20;return ot(e,(e=>{Br(e[n])&&(l=Math.min(l,nn(e[n]))),Br(e[i])&&(l=Math.min(l,nn(e[i]))),Br(e[r])&&(l=Math.min(l,nn(e[r])))})),o&&(l=In(l)),l}var Gn={calcDepthMaxCeil:Nn,calcDepthMinFloor:In,calcDepthMax:zn,calcDepthMin:Tn,calcDepthMaxMin:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"keyDepth");Gr(r)||(r="depth");let n=ve(t,"keyDepthStart");Gr(n)||(n="depthStart");let i=ve(t,"keyDepthEnd");Gr(i)||(i="depthEnd");let o=ve(t,"approximate");return An(o)||(o=!1),{depthMax:zn(e,t),depthMin:Tn(e,t)}}};function Un(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!Gr(t))throw new Error("invalid keyDepth");if(!Gr(r))throw new Error("invalid keyTarget");let i=ve(n,"keyDepthStart");Gr(i)||(i="depthStart");let o=ve(n,"keyDepthEnd");Gr(o)||(o="depthEnd");let l=ve(n,"mode");Gr(l)||(l="stairs");let u=[];ot(e,(e=>{let n=ve(e,t,null),i=ve(e,r,null);Br(n)&&Br(i)&&(n=nn(n),i=nn(i),u.push({x:n,y:i}))})),u=zr(u,"x");let a={mode:l,xMin:0,xMax:zn(e,{keyDepth:t,keyDepthStart:i,keyDepthEnd:o,useCeil:!0})};return e=>{let t=!1;Br(e)&&(t=!0,e=[e=nn(e)]);let r=xr(e,(e=>Fn(u,e,a)));return t&&(r=r[0]),r}}let Bn={eps:1e-6,g:9.81,rw:9.81,Pa:.10139616,assesment_rd:18.03986577,assesment_rsat:21.26597315};var Qn=Array.prototype.join;function Hn(e,t){return null==e?"":Qn.call(e,t)}function Wn(e,t,r){"__proto__"==t&&Cr?Cr(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Vn=Object.prototype.hasOwnProperty;function Yn(e,t,r){var n=e[t];Vn.call(e,t)&&B(n,r)&&(void 0!==r||t in e)||Wn(e,t,r)}function Zn(e,t,r,n){var i=!r;r||(r={});for(var o=-1,l=t.length;++o<l;){var u=t[o],a=n?n(r[u],e[u],u,r,e):void 0;void 0===a&&(a=e[u]),i?Wn(r,u,a):Yn(r,u,a)}return r}var Kn=Object.prototype.hasOwnProperty;function Xn(e){if(!$(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=Ve(e),r=[];for(var n in e)("constructor"!=n||!t&&Kn.call(e,n))&&r.push(n);return r}function Jn(e){return Je(e)?He(e,!0):Xn(e)}var ei="object"==typeof e&&e&&!e.nodeType&&e,ti=ei&&"object"==typeof module&&module&&!module.nodeType&&module,ri=ti&&ti.exports===ei?i.Buffer:void 0,ni=ri?ri.allocUnsafe:void 0;function ii(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var oi=Ye(Object.getPrototypeOf,Object),li=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Lt(t,At(e)),e=oi(e);return t}:qt,ui=li;function ai(e){return Ct(e,Jn,ui)}var si=Object.prototype.hasOwnProperty;function fi(e){var t=new e.constructor(e.byteLength);return new pt(t).set(new pt(e)),t}var ci=/\w*$/;var hi=o?o.prototype:void 0,pi=hi?hi.valueOf:void 0;var di="[object Boolean]",gi="[object Date]",vi="[object Map]",mi="[object Number]",yi="[object RegExp]",bi="[object Set]",wi="[object String]",$i="[object Symbol]",Si="[object ArrayBuffer]",xi="[object DataView]",Mi="[object Float32Array]",Pi="[object Float64Array]",Ei="[object Int8Array]",ki="[object Int16Array]",Oi="[object Int32Array]",ji="[object Uint8Array]",Di="[object Uint8ClampedArray]",Li="[object Uint16Array]",Ci="[object Uint32Array]";function Ri(e,t,r){var n,i=e.constructor;switch(t){case Si:return fi(e);case di:case gi:return new i(+e);case xi:return function(e,t){var r=t?fi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case Mi:case Pi:case Ei:case ki:case Oi:case ji:case Di:case Li:case Ci:return function(e,t){var r=t?fi(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}(e,r);case vi:return new i;case mi:case wi:return new i(e);case yi:return function(e){var t=new e.constructor(e.source,ci.exec(e));return t.lastIndex=e.lastIndex,t}(e);case bi:return new i;case $i:return n=e,pi?Object(pi.call(n)):{}}}var qi=Object.create,Fi=function(){function e(){}return function(t){if(!$(t))return{};if(qi)return qi(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),_i=Fi;var Ai=Ge&&Ge.isMap,Ni=Ai?Ne(Ai):function(e){return g(e)&&"[object Map]"==rr(e)};var Ii=Ge&&Ge.isSet,zi=Ii?Ne(Ii):function(e){return g(e)&&"[object Set]"==rr(e)},Ti=1,Gi=2,Ui=4,Bi="[object Arguments]",Qi="[object Function]",Hi="[object GeneratorFunction]",Wi="[object Object]",Vi={};function Yi(e,r,n,i,o,l){var u,a=r&Ti,s=r&Gi,f=r&Ui;if(n&&(u=o?n(e,i,o,l):n(e)),void 0!==u)return u;if(!$(e))return e;var c=t(e);if(c){if(u=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&si.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!a)return ii(e,u)}else{var h=rr(e),p=h==Qi||h==Hi;if(Le(e))return function(e,t){if(t)return e.slice();var r=e.length,n=ni?ni(r):new e.constructor(r);return e.copy(n),n}(e,a);if(h==Wi||h==Bi||p&&!o){if(u=s||p?{}:function(e){return"function"!=typeof e.constructor||Ve(e)?{}:_i(oi(e))}(e),!a)return s?function(e,t){return Zn(e,ui(e),t)}(e,function(e,t){return e&&Zn(t,Jn(t),e)}(u,e)):function(e,t){return Zn(e,At(e),t)}(e,function(e,t){return e&&Zn(t,et(t),e)}(u,e))}else{if(!Vi[h])return o?e:{};u=Ri(e,h,a)}}l||(l=new lt);var d=l.get(e);if(d)return d;l.set(e,u),zi(e)?e.forEach((function(t){u.add(Yi(t,r,n,t,e,l))})):Ni(e)&&e.forEach((function(t,i){u.set(i,Yi(t,r,n,i,e,l))}));var g=c?void 0:(f?s?ai:Nt:s?Jn:et)(e);return me(g||e,(function(t,i){g&&(t=e[i=t]),Yn(u,i,Yi(t,r,n,i,e,l))})),u}Vi[Bi]=Vi["[object Array]"]=Vi["[object ArrayBuffer]"]=Vi["[object DataView]"]=Vi["[object Boolean]"]=Vi["[object Date]"]=Vi["[object Float32Array]"]=Vi["[object Float64Array]"]=Vi["[object Int8Array]"]=Vi["[object Int16Array]"]=Vi["[object Int32Array]"]=Vi["[object Map]"]=Vi["[object Number]"]=Vi[Wi]=Vi["[object RegExp]"]=Vi["[object Set]"]=Vi["[object String]"]=Vi["[object Symbol]"]=Vi["[object Uint8Array]"]=Vi["[object Uint8ClampedArray]"]=Vi["[object Uint16Array]"]=Vi["[object Uint32Array]"]=!0,Vi["[object Error]"]=Vi[Qi]=Vi["[object WeakMap]"]=!1;var Zi=1,Ki=4;function Xi(e){return Yi(e,Zi|Ki)}function Ji(e){return"[object Object]"===Object.prototype.toString.call(e)}function eo(e){return!!function(e){return"[object Undefined]"===Object.prototype.toString.call(e)}(e)||(!!function(e){return"[object Null]"===Object.prototype.toString.call(e)}(e)||(!!function(e){if(Ji(e)){for(let t in e)return!1;return!0}return!1}(e)||(!!function(e){return!(!Tr(e)||""!==e)}(e)||(!!function(e){return!!jn(e)&&0===e.length}(e)||!!Ur(e)))))}function to(e){return!!jn(e)&&(0!==e.length&&(1!==e.length||!eo(e[0])))}
/*!
   *  decimal.js v10.4.3
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   */var ro,no,io=9e15,oo=1e9,lo="0123456789abcdef",uo="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",ao="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",so={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-io,maxE:io,crypto:!1},fo=!0,co="[DecimalError] ",ho=co+"Invalid argument: ",po=co+"Precision limit exceeded",go=co+"crypto unavailable",vo="[object Decimal]",mo=Math.floor,yo=Math.pow,bo=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,wo=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,$o=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,So=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,xo=1e7,Mo=7,Po=uo.length-1,Eo=ao.length-1,ko={toStringTag:vo};function Oo(e){var t,r,n,i=e.length-1,o="",l=e[0];if(i>0){for(o+=l,t=1;t<i;t++)n=e[t]+"",(r=Mo-n.length)&&(o+=Io(r)),o+=n;l=e[t],(r=Mo-(n=l+"").length)&&(o+=Io(r))}else if(0===l)return"0";for(;l%10==0;)l/=10;return o+l}function jo(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ho+e)}function Do(e,t,r,n){var i,o,l,u;for(o=e[0];o>=10;o/=10)--t;return--t<0?(t+=Mo,i=0):(i=Math.ceil((t+1)/Mo),t%=Mo),o=yo(10,Mo-t),u=e[i]%o|0,null==n?t<3?(0==t?u=u/100|0:1==t&&(u=u/10|0),l=r<4&&99999==u||r>3&&49999==u||5e4==u||0==u):l=(r<4&&u+1==o||r>3&&u+1==o/2)&&(e[i+1]/o/100|0)==yo(10,t-2)-1||(u==o/2||0==u)&&0==(e[i+1]/o/100|0):t<4?(0==t?u=u/1e3|0:1==t?u=u/100|0:2==t&&(u=u/10|0),l=(n||r<4)&&9999==u||!n&&r>3&&4999==u):l=((n||r<4)&&u+1==o||!n&&r>3&&u+1==o/2)&&(e[i+1]/o/1e3|0)==yo(10,t-3)-1,l}function Lo(e,t,r){for(var n,i,o=[0],l=0,u=e.length;l<u;){for(i=o.length;i--;)o[i]*=t;for(o[0]+=lo.indexOf(e.charAt(l++)),n=0;n<o.length;n++)o[n]>r-1&&(void 0===o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}ko.absoluteValue=ko.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Ro(e)},ko.ceil=function(){return Ro(new this.constructor(this),this.e+1,2)},ko.clampedTo=ko.clamp=function(e,t){var r=this,n=r.constructor;if(e=new n(e),t=new n(t),!e.s||!t.s)return new n(NaN);if(e.gt(t))throw Error(ho+t);return r.cmp(e)<0?e:r.cmp(t)>0?t:new n(r)},ko.comparedTo=ko.cmp=function(e){var t,r,n,i,o=this,l=o.d,u=(e=new o.constructor(e)).d,a=o.s,s=e.s;if(!l||!u)return a&&s?a!==s?a:l===u?0:!l^a<0?1:-1:NaN;if(!l[0]||!u[0])return l[0]?a:u[0]?-s:0;if(a!==s)return a;if(o.e!==e.e)return o.e>e.e^a<0?1:-1;for(t=0,r=(n=l.length)<(i=u.length)?n:i;t<r;++t)if(l[t]!==u[t])return l[t]>u[t]^a<0?1:-1;return n===i?0:n>i^a<0?1:-1},ko.cosine=ko.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+Mo,n.rounding=1,r=function(e,t){var r,n,i;if(t.isZero())return t;n=t.d.length,n<32?i=(1/Yo(4,r=Math.ceil(n/3))).toString():(r=16,i="2.3283064365386962890625e-10");e.precision+=r,t=Vo(e,1,t.times(i),new e(1));for(var o=r;o--;){var l=t.times(t);t=l.times(l).minus(l).times(8).plus(1)}return e.precision-=r,t}(n,Zo(n,r)),n.precision=e,n.rounding=t,Ro(2==no||3==no?r.neg():r,e,t,!0)):new n(1):new n(NaN)},ko.cubeRoot=ko.cbrt=function(){var e,t,r,n,i,o,l,u,a,s,f=this,c=f.constructor;if(!f.isFinite()||f.isZero())return new c(f);for(fo=!1,(o=f.s*yo(f.s*f,1/3))&&Math.abs(o)!=1/0?n=new c(o.toString()):(r=Oo(f.d),(o=((e=f.e)-r.length+1)%3)&&(r+=1==o||-2==o?"0":"00"),o=yo(r,1/3),e=mo((e+1)/3)-(e%3==(e<0?-1:2)),(n=new c(r=o==1/0?"5e"+e:(r=o.toExponential()).slice(0,r.indexOf("e")+1)+e)).s=f.s),l=(e=c.precision)+3;;)if(s=(a=(u=n).times(u).times(u)).plus(f),n=Co(s.plus(f).times(u),s.plus(a),l+2,1),Oo(u.d).slice(0,l)===(r=Oo(n.d)).slice(0,l)){if("9999"!=(r=r.slice(l-3,l+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(Ro(n,e+1,1),t=!n.times(n).times(n).eq(f));break}if(!i&&(Ro(u,e+1,0),u.times(u).times(u).eq(f))){n=u;break}l+=4,i=1}return fo=!0,Ro(n,e,c.rounding,t)},ko.decimalPlaces=ko.dp=function(){var e,t=this.d,r=NaN;if(t){if(r=((e=t.length-1)-mo(this.e/Mo))*Mo,e=t[e])for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r},ko.dividedBy=ko.div=function(e){return Co(this,new this.constructor(e))},ko.dividedToIntegerBy=ko.divToInt=function(e){var t=this.constructor;return Ro(Co(this,new t(e),0,1,1),t.precision,t.rounding)},ko.equals=ko.eq=function(e){return 0===this.cmp(e)},ko.floor=function(){return Ro(new this.constructor(this),this.e+1,3)},ko.greaterThan=ko.gt=function(e){return this.cmp(e)>0},ko.greaterThanOrEqualTo=ko.gte=function(e){var t=this.cmp(e);return 1==t||0===t},ko.hyperbolicCosine=ko.cosh=function(){var e,t,r,n,i,o=this,l=o.constructor,u=new l(1);if(!o.isFinite())return new l(o.s?1/0:NaN);if(o.isZero())return u;r=l.precision,n=l.rounding,l.precision=r+Math.max(o.e,o.sd())+4,l.rounding=1,(i=o.d.length)<32?t=(1/Yo(4,e=Math.ceil(i/3))).toString():(e=16,t="2.3283064365386962890625e-10"),o=Vo(l,1,o.times(t),new l(1),!0);for(var a,s=e,f=new l(8);s--;)a=o.times(o),o=u.minus(a.times(f.minus(a.times(f))));return Ro(o,l.precision=r,l.rounding=n,!0)},ko.hyperbolicSine=ko.sinh=function(){var e,t,r,n,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(t=o.precision,r=o.rounding,o.precision=t+Math.max(i.e,i.sd())+4,o.rounding=1,(n=i.d.length)<3)i=Vo(o,2,i,i,!0);else{e=(e=1.4*Math.sqrt(n))>16?16:0|e,i=Vo(o,2,i=i.times(1/Yo(5,e)),i,!0);for(var l,u=new o(5),a=new o(16),s=new o(20);e--;)l=i.times(i),i=i.times(u.plus(l.times(a.times(l).plus(s))))}return o.precision=t,o.rounding=r,Ro(i,t,r,!0)},ko.hyperbolicTangent=ko.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,Co(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)},ko.inverseCosine=ko.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),i=r.precision,o=r.rounding;return-1!==n?0===n?t.isNeg()?Ao(r,i,o):new r(0):new r(NaN):t.isZero()?Ao(r,i+4,o).times(.5):(r.precision=i+6,r.rounding=1,t=t.asin(),e=Ao(r,i+4,o).times(.5),r.precision=i,r.rounding=o,e.minus(t))},ko.inverseHyperbolicCosine=ko.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,fo=!1,r=r.times(r).minus(1).sqrt().plus(r),fo=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)},ko.inverseHyperbolicSine=ko.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,fo=!1,r=r.times(r).plus(1).sqrt().plus(r),fo=!0,n.precision=e,n.rounding=t,r.ln())},ko.inverseHyperbolicTangent=ko.atanh=function(){var e,t,r,n,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=o.precision,t=o.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?Ro(new o(i),e,t,!0):(o.precision=r=n-i.e,i=Co(i.plus(1),new o(1).minus(i),r+e,1),o.precision=e+4,o.rounding=1,i=i.ln(),o.precision=e,o.rounding=t,i.times(.5))):new o(NaN)},ko.inverseSine=ko.asin=function(){var e,t,r,n,i=this,o=i.constructor;return i.isZero()?new o(i):(t=i.abs().cmp(1),r=o.precision,n=o.rounding,-1!==t?0===t?((e=Ao(o,r+4,n).times(.5)).s=i.s,e):new o(NaN):(o.precision=r+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=r,o.rounding=n,i.times(2)))},ko.inverseTangent=ko.atan=function(){var e,t,r,n,i,o,l,u,a,s=this,f=s.constructor,c=f.precision,h=f.rounding;if(s.isFinite()){if(s.isZero())return new f(s);if(s.abs().eq(1)&&c+4<=Eo)return(l=Ao(f,c+4,h).times(.25)).s=s.s,l}else{if(!s.s)return new f(NaN);if(c+4<=Eo)return(l=Ao(f,c+4,h).times(.5)).s=s.s,l}for(f.precision=u=c+10,f.rounding=1,e=r=Math.min(28,u/Mo+2|0);e;--e)s=s.div(s.times(s).plus(1).sqrt().plus(1));for(fo=!1,t=Math.ceil(u/Mo),n=1,a=s.times(s),l=new f(s),i=s;-1!==e;)if(i=i.times(a),o=l.minus(i.div(n+=2)),i=i.times(a),void 0!==(l=o.plus(i.div(n+=2))).d[t])for(e=t;l.d[e]===o.d[e]&&e--;);return r&&(l=l.times(2<<r-1)),fo=!0,Ro(l,f.precision=c,f.rounding=h,!0)},ko.isFinite=function(){return!!this.d},ko.isInteger=ko.isInt=function(){return!!this.d&&mo(this.e/Mo)>this.d.length-2},ko.isNaN=function(){return!this.s},ko.isNegative=ko.isNeg=function(){return this.s<0},ko.isPositive=ko.isPos=function(){return this.s>0},ko.isZero=function(){return!!this.d&&0===this.d[0]},ko.lessThan=ko.lt=function(e){return this.cmp(e)<0},ko.lessThanOrEqualTo=ko.lte=function(e){return this.cmp(e)<1},ko.logarithm=ko.log=function(e){var t,r,n,i,o,l,u,a,s=this,f=s.constructor,c=f.precision,h=f.rounding;if(null==e)e=new f(10),t=!0;else{if(r=(e=new f(e)).d,e.s<0||!r||!r[0]||e.eq(1))return new f(NaN);t=e.eq(10)}if(r=s.d,s.s<0||!r||!r[0]||s.eq(1))return new f(r&&!r[0]?-1/0:1!=s.s?NaN:r?0:1/0);if(t)if(r.length>1)o=!0;else{for(i=r[0];i%10==0;)i/=10;o=1!==i}if(fo=!1,l=Bo(s,u=c+5),n=t?_o(f,u+10):Bo(e,u),Do((a=Co(l,n,u,1)).d,i=c,h))do{if(l=Bo(s,u+=10),n=t?_o(f,u+10):Bo(e,u),a=Co(l,n,u,1),!o){+Oo(a.d).slice(i+1,i+15)+1==1e14&&(a=Ro(a,c+1,0));break}}while(Do(a.d,i+=10,h));return fo=!0,Ro(a,c,h)},ko.minus=ko.sub=function(e){var t,r,n,i,o,l,u,a,s,f,c,h,p=this,d=p.constructor;if(e=new d(e),!p.d||!e.d)return p.s&&e.s?p.d?e.s=-e.s:e=new d(e.d||p.s!==e.s?p:NaN):e=new d(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(s=p.d,h=e.d,u=d.precision,a=d.rounding,!s[0]||!h[0]){if(h[0])e.s=-e.s;else{if(!s[0])return new d(3===a?-0:0);e=new d(p)}return fo?Ro(e,u,a):e}if(r=mo(e.e/Mo),f=mo(p.e/Mo),s=s.slice(),o=f-r){for((c=o<0)?(t=s,o=-o,l=h.length):(t=h,r=f,l=s.length),o>(n=Math.max(Math.ceil(u/Mo),l)+2)&&(o=n,t.length=1),t.reverse(),n=o;n--;)t.push(0);t.reverse()}else{for((c=(n=s.length)<(l=h.length))&&(l=n),n=0;n<l;n++)if(s[n]!=h[n]){c=s[n]<h[n];break}o=0}for(c&&(t=s,s=h,h=t,e.s=-e.s),l=s.length,n=h.length-l;n>0;--n)s[l++]=0;for(n=h.length;n>o;){if(s[--n]<h[n]){for(i=n;i&&0===s[--i];)s[i]=xo-1;--s[i],s[n]+=xo}s[n]-=h[n]}for(;0===s[--l];)s.pop();for(;0===s[0];s.shift())--r;return s[0]?(e.d=s,e.e=Fo(s,r),fo?Ro(e,u,a):e):new d(3===a?-0:0)},ko.modulo=ko.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?Ro(new n(r),n.precision,n.rounding):(fo=!1,9==n.modulo?(t=Co(r,e.abs(),0,3,1)).s*=e.s:t=Co(r,e,0,n.modulo,1),t=t.times(e),fo=!0,r.minus(t))},ko.naturalExponential=ko.exp=function(){return Uo(this)},ko.naturalLogarithm=ko.ln=function(){return Bo(this)},ko.negated=ko.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Ro(e)},ko.plus=ko.add=function(e){var t,r,n,i,o,l,u,a,s,f,c=this,h=c.constructor;if(e=new h(e),!c.d||!e.d)return c.s&&e.s?c.d||(e=new h(e.d||c.s===e.s?c:NaN)):e=new h(NaN),e;if(c.s!=e.s)return e.s=-e.s,c.minus(e);if(s=c.d,f=e.d,u=h.precision,a=h.rounding,!s[0]||!f[0])return f[0]||(e=new h(c)),fo?Ro(e,u,a):e;if(o=mo(c.e/Mo),n=mo(e.e/Mo),s=s.slice(),i=o-n){for(i<0?(r=s,i=-i,l=f.length):(r=f,n=o,l=s.length),i>(l=(o=Math.ceil(u/Mo))>l?o+1:l+1)&&(i=l,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for((l=s.length)-(i=f.length)<0&&(i=l,r=f,f=s,s=r),t=0;i;)t=(s[--i]=s[i]+f[i]+t)/xo|0,s[i]%=xo;for(t&&(s.unshift(t),++n),l=s.length;0==s[--l];)s.pop();return e.d=s,e.e=Fo(s,n),fo?Ro(e,u,a):e},ko.precision=ko.sd=function(e){var t,r=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(ho+e);return r.d?(t=No(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t},ko.round=function(){var e=this,t=e.constructor;return Ro(new t(e),e.e+1,t.rounding)},ko.sine=ko.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+Mo,n.rounding=1,r=function(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:Vo(e,2,t,t);r=(r=1.4*Math.sqrt(n))>16?16:0|r,t=t.times(1/Yo(5,r)),t=Vo(e,2,t,t);for(var i,o=new e(5),l=new e(16),u=new e(20);r--;)i=t.times(t),t=t.times(o.plus(i.times(l.times(i).minus(u))));return t}(n,Zo(n,r)),n.precision=e,n.rounding=t,Ro(no>2?r.neg():r,e,t,!0)):new n(NaN)},ko.squareRoot=ko.sqrt=function(){var e,t,r,n,i,o,l=this,u=l.d,a=l.e,s=l.s,f=l.constructor;if(1!==s||!u||!u[0])return new f(!s||s<0&&(!u||u[0])?NaN:u?l:1/0);for(fo=!1,0==(s=Math.sqrt(+l))||s==1/0?(((t=Oo(u)).length+a)%2==0&&(t+="0"),s=Math.sqrt(t),a=mo((a+1)/2)-(a<0||a%2),n=new f(t=s==1/0?"5e"+a:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+a)):n=new f(s.toString()),r=(a=f.precision)+3;;)if(n=(o=n).plus(Co(l,o,r+2,1)).times(.5),Oo(o.d).slice(0,r)===(t=Oo(n.d)).slice(0,r)){if("9999"!=(t=t.slice(r-3,r+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(Ro(n,a+1,1),e=!n.times(n).eq(l));break}if(!i&&(Ro(o,a+1,0),o.times(o).eq(l))){n=o;break}r+=4,i=1}return fo=!0,Ro(n,a,f.rounding,e)},ko.tangent=ko.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,(r=r.sin()).s=1,r=Co(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,Ro(2==no||4==no?r.neg():r,e,t,!0)):new n(NaN)},ko.times=ko.mul=function(e){var t,r,n,i,o,l,u,a,s,f=this,c=f.constructor,h=f.d,p=(e=new c(e)).d;if(e.s*=f.s,!(h&&h[0]&&p&&p[0]))return new c(!e.s||h&&!h[0]&&!p||p&&!p[0]&&!h?NaN:h&&p?0*e.s:e.s/0);for(r=mo(f.e/Mo)+mo(e.e/Mo),(a=h.length)<(s=p.length)&&(o=h,h=p,p=o,l=a,a=s,s=l),o=[],n=l=a+s;n--;)o.push(0);for(n=s;--n>=0;){for(t=0,i=a+n;i>n;)u=o[i]+p[n]*h[i-n-1]+t,o[i--]=u%xo|0,t=u/xo|0;o[i]=(o[i]+t)%xo|0}for(;!o[--l];)o.pop();return t?++r:o.shift(),e.d=o,e.e=Fo(o,r),fo?Ro(e,c.precision,c.rounding):e},ko.toBinary=function(e,t){return Ko(this,2,e,t)},ko.toDecimalPlaces=ko.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(jo(e,0,oo),void 0===t?t=n.rounding:jo(t,0,8),Ro(r,e+r.e+1,t))},ko.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=qo(n,!0):(jo(e,0,oo),void 0===t?t=i.rounding:jo(t,0,8),r=qo(n=Ro(new i(n),e+1,t),!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r},ko.toFixed=function(e,t){var r,n,i=this,o=i.constructor;return void 0===e?r=qo(i):(jo(e,0,oo),void 0===t?t=o.rounding:jo(t,0,8),r=qo(n=Ro(new o(i),e+i.e+1,t),!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r},ko.toFraction=function(e){var t,r,n,i,o,l,u,a,s,f,c,h,p=this,d=p.d,g=p.constructor;if(!d)return new g(p);if(s=r=new g(1),n=a=new g(0),l=(o=(t=new g(n)).e=No(d)-p.e-1)%Mo,t.d[0]=yo(10,l<0?Mo+l:l),null==e)e=o>0?t:s;else{if(!(u=new g(e)).isInt()||u.lt(s))throw Error(ho+u);e=u.gt(t)?o>0?t:s:u}for(fo=!1,u=new g(Oo(d)),f=g.precision,g.precision=o=d.length*Mo*2;c=Co(u,t,0,1,1),1!=(i=r.plus(c.times(n))).cmp(e);)r=n,n=i,i=s,s=a.plus(c.times(i)),a=i,i=t,t=u.minus(c.times(i)),u=i;return i=Co(e.minus(r),n,0,1,1),a=a.plus(i.times(s)),r=r.plus(i.times(n)),a.s=s.s=p.s,h=Co(s,n,o,1).minus(p).abs().cmp(Co(a,r,o,1).minus(p).abs())<1?[s,n]:[a,r],g.precision=f,fo=!0,h},ko.toHexadecimal=ko.toHex=function(e,t){return Ko(this,16,e,t)},ko.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),null==e){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),void 0===t?t=n.rounding:jo(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(fo=!1,r=Co(r,e,0,t,1).times(e),fo=!0,Ro(r)):(e.s=r.s,r=e),r},ko.toNumber=function(){return+this},ko.toOctal=function(e,t){return Ko(this,8,e,t)},ko.toPower=ko.pow=function(e){var t,r,n,i,o,l,u=this,a=u.constructor,s=+(e=new a(e));if(!(u.d&&e.d&&u.d[0]&&e.d[0]))return new a(yo(+u,s));if((u=new a(u)).eq(1))return u;if(n=a.precision,o=a.rounding,e.eq(1))return Ro(u,n,o);if((t=mo(e.e/Mo))>=e.d.length-1&&(r=s<0?-s:s)<=9007199254740991)return i=zo(a,u,r,n),e.s<0?new a(1).div(i):Ro(i,n,o);if((l=u.s)<0){if(t<e.d.length-1)return new a(NaN);if(0==(1&e.d[t])&&(l=1),0==u.e&&1==u.d[0]&&1==u.d.length)return u.s=l,u}return(t=0!=(r=yo(+u,s))&&isFinite(r)?new a(r+"").e:mo(s*(Math.log("0."+Oo(u.d))/Math.LN10+u.e+1)))>a.maxE+1||t<a.minE-1?new a(t>0?l/0:0):(fo=!1,a.rounding=u.s=1,r=Math.min(12,(t+"").length),(i=Uo(e.times(Bo(u,n+r)),n)).d&&Do((i=Ro(i,n+5,1)).d,n,o)&&(t=n+10,+Oo((i=Ro(Uo(e.times(Bo(u,t+r)),t),t+5,1)).d).slice(n+1,n+15)+1==1e14&&(i=Ro(i,n+1,0))),i.s=l,fo=!0,a.rounding=o,Ro(i,n,o))},ko.toPrecision=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=qo(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(jo(e,1,oo),void 0===t?t=i.rounding:jo(t,0,8),r=qo(n=Ro(new i(n),e,t),e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r},ko.toSignificantDigits=ko.toSD=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(jo(e,1,oo),void 0===t?t=r.rounding:jo(t,0,8)),Ro(new r(this),e,t)},ko.toString=function(){var e=this,t=e.constructor,r=qo(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r},ko.truncated=ko.trunc=function(){return Ro(new this.constructor(this),this.e+1,1)},ko.valueOf=ko.toJSON=function(){var e=this,t=e.constructor,r=qo(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};var Co=function(){function e(e,t,r){var n,i=0,o=e.length;for(e=e.slice();o--;)n=e[o]*t+i,e[o]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,o,l,u,a){var s,f,c,h,p,d,g,v,m,y,b,w,$,S,x,M,P,E,k,O,j=n.constructor,D=n.s==i.s?1:-1,L=n.d,C=i.d;if(!(L&&L[0]&&C&&C[0]))return new j(n.s&&i.s&&(L?!C||L[0]!=C[0]:C)?L&&0==L[0]||!C?0*D:D/0:NaN);for(a?(p=1,f=n.e-i.e):(a=xo,p=Mo,f=mo(n.e/p)-mo(i.e/p)),k=C.length,P=L.length,y=(m=new j(D)).d=[],c=0;C[c]==(L[c]||0);c++);if(C[c]>(L[c]||0)&&f--,null==o?(S=o=j.precision,l=j.rounding):S=u?o+(n.e-i.e)+1:o,S<0)y.push(1),d=!0;else{if(S=S/p+2|0,c=0,1==k){for(h=0,C=C[0],S++;(c<P||h)&&S--;c++)x=h*a+(L[c]||0),y[c]=x/C|0,h=x%C|0;d=h||c<P}else{for((h=a/(C[0]+1)|0)>1&&(C=e(C,h,a),L=e(L,h,a),k=C.length,P=L.length),M=k,w=(b=L.slice(0,k)).length;w<k;)b[w++]=0;(O=C.slice()).unshift(0),E=C[0],C[1]>=a/2&&++E;do{h=0,(s=t(C,b,k,w))<0?($=b[0],k!=w&&($=$*a+(b[1]||0)),(h=$/E|0)>1?(h>=a&&(h=a-1),1==(s=t(g=e(C,h,a),b,v=g.length,w=b.length))&&(h--,r(g,k<v?O:C,v,a))):(0==h&&(s=h=1),g=C.slice()),(v=g.length)<w&&g.unshift(0),r(b,g,w,a),-1==s&&(s=t(C,b,k,w=b.length))<1&&(h++,r(b,k<w?O:C,w,a)),w=b.length):0===s&&(h++,b=[0]),y[c++]=h,s&&b[0]?b[w++]=L[M]||0:(b=[L[M]],w=1)}while((M++<P||void 0!==b[0])&&S--);d=void 0!==b[0]}y[0]||y.shift()}if(1==p)m.e=f,ro=d;else{for(c=1,h=y[0];h>=10;h/=10)c++;m.e=c+f*p-1,Ro(m,u?o+m.e+1:o,l,d)}return m}}();function Ro(e,t,r,n){var i,o,l,u,a,s,f,c,h,p=e.constructor;e:if(null!=t){if(!(c=e.d))return e;for(i=1,u=c[0];u>=10;u/=10)i++;if((o=t-i)<0)o+=Mo,l=t,a=(f=c[h=0])/yo(10,i-l-1)%10|0;else if((h=Math.ceil((o+1)/Mo))>=(u=c.length)){if(!n)break e;for(;u++<=h;)c.push(0);f=a=0,i=1,l=(o%=Mo)-Mo+1}else{for(f=u=c[h],i=1;u>=10;u/=10)i++;a=(l=(o%=Mo)-Mo+i)<0?0:f/yo(10,i-l-1)%10|0}if(n=n||t<0||void 0!==c[h+1]||(l<0?f:f%yo(10,i-l-1)),s=r<4?(a||n)&&(0==r||r==(e.s<0?3:2)):a>5||5==a&&(4==r||n||6==r&&(o>0?l>0?f/yo(10,i-l):0:c[h-1])%10&1||r==(e.s<0?8:7)),t<1||!c[0])return c.length=0,s?(t-=e.e+1,c[0]=yo(10,(Mo-t%Mo)%Mo),e.e=-t||0):c[0]=e.e=0,e;if(0==o?(c.length=h,u=1,h--):(c.length=h+1,u=yo(10,Mo-o),c[h]=l>0?(f/yo(10,i-l)%yo(10,l)|0)*u:0),s)for(;;){if(0==h){for(o=1,l=c[0];l>=10;l/=10)o++;for(l=c[0]+=u,u=1;l>=10;l/=10)u++;o!=u&&(e.e++,c[0]==xo&&(c[0]=1));break}if(c[h]+=u,c[h]!=xo)break;c[h--]=0,u=1}for(o=c.length;0===c[--o];)c.pop()}return fo&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function qo(e,t,r){if(!e.isFinite())return Qo(e);var n,i=e.e,o=Oo(e.d),l=o.length;return t?(r&&(n=r-l)>0?o=o.charAt(0)+"."+o.slice(1)+Io(n):l>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(e.e<0?"e":"e+")+e.e):i<0?(o="0."+Io(-i-1)+o,r&&(n=r-l)>0&&(o+=Io(n))):i>=l?(o+=Io(i+1-l),r&&(n=r-i-1)>0&&(o=o+"."+Io(n))):((n=i+1)<l&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-l)>0&&(i+1===l&&(o+="."),o+=Io(n))),o}function Fo(e,t){var r=e[0];for(t*=Mo;r>=10;r/=10)t++;return t}function _o(e,t,r){if(t>Po)throw fo=!0,r&&(e.precision=r),Error(po);return Ro(new e(uo),t,1,!0)}function Ao(e,t,r){if(t>Eo)throw Error(po);return Ro(new e(ao),t,r,!0)}function No(e){var t=e.length-1,r=t*Mo+1;if(t=e[t]){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function Io(e){for(var t="";e--;)t+="0";return t}function zo(e,t,r,n){var i,o=new e(1),l=Math.ceil(n/Mo+4);for(fo=!1;;){if(r%2&&Xo((o=o.times(t)).d,l)&&(i=!0),0===(r=mo(r/2))){r=o.d.length-1,i&&0===o.d[r]&&++o.d[r];break}Xo((t=t.times(t)).d,l)}return fo=!0,o}function To(e){return 1&e.d[e.d.length-1]}function Go(e,t,r){for(var n,i=new e(t[0]),o=0;++o<t.length;){if(!(n=new e(t[o])).s){i=n;break}i[r](n)&&(i=n)}return i}function Uo(e,t){var r,n,i,o,l,u,a,s=0,f=0,c=0,h=e.constructor,p=h.rounding,d=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(fo=!1,a=d):a=t,u=new h(.03125);e.e>-2;)e=e.times(u),c+=5;for(a+=n=Math.log(yo(2,c))/Math.LN10*2+5|0,r=o=l=new h(1),h.precision=a;;){if(o=Ro(o.times(e),a,1),r=r.times(++f),Oo((u=l.plus(Co(o,r,a,1))).d).slice(0,a)===Oo(l.d).slice(0,a)){for(i=c;i--;)l=Ro(l.times(l),a,1);if(null!=t)return h.precision=d,l;if(!(s<3&&Do(l.d,a-n,p,s)))return Ro(l,h.precision=d,p,fo=!0);h.precision=a+=10,r=o=u=new h(1),f=0,s++}l=u}}function Bo(e,t){var r,n,i,o,l,u,a,s,f,c,h,p=1,d=e,g=d.d,v=d.constructor,m=v.rounding,y=v.precision;if(d.s<0||!g||!g[0]||!d.e&&1==g[0]&&1==g.length)return new v(g&&!g[0]?-1/0:1!=d.s?NaN:g?0:d);if(null==t?(fo=!1,f=y):f=t,v.precision=f+=10,n=(r=Oo(g)).charAt(0),!(Math.abs(o=d.e)<15e14))return s=_o(v,f+2,y).times(o+""),d=Bo(new v(n+"."+r.slice(1)),f-10).plus(s),v.precision=y,null==t?Ro(d,y,m,fo=!0):d;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=Oo((d=d.times(e)).d)).charAt(0),p++;for(o=d.e,n>1?(d=new v("0."+r),o++):d=new v(n+"."+r.slice(1)),c=d,a=l=d=Co(d.minus(1),d.plus(1),f,1),h=Ro(d.times(d),f,1),i=3;;){if(l=Ro(l.times(h),f,1),Oo((s=a.plus(Co(l,new v(i),f,1))).d).slice(0,f)===Oo(a.d).slice(0,f)){if(a=a.times(2),0!==o&&(a=a.plus(_o(v,f+2,y).times(o+""))),a=Co(a,new v(p),f,1),null!=t)return v.precision=y,a;if(!Do(a.d,f-10,m,u))return Ro(a,v.precision=y,m,fo=!0);v.precision=f+=10,s=l=d=Co(c.minus(1),c.plus(1),f,1),h=Ro(d.times(d),f,1),i=u=1}a=s,i+=2}}function Qo(e){return String(e.s*e.s/0)}function Ho(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);n++);for(i=t.length;48===t.charCodeAt(i-1);--i);if(t=t.slice(n,i)){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%Mo,r<0&&(n+=Mo),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Mo;n<i;)e.d.push(+t.slice(n,n+=Mo));t=t.slice(n),n=Mo-t.length}else n-=i;for(;n--;)t+="0";e.d.push(+t),fo&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function Wo(e,t){var r,n,i,o,l,u,a,s,f;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),So.test(t))return Ho(e,t)}else if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(wo.test(t))r=16,t=t.toLowerCase();else if(bo.test(t))r=2;else{if(!$o.test(t))throw Error(ho+t);r=8}for((o=t.search(/p/i))>0?(a=+t.slice(o+1),t=t.substring(2,o)):t=t.slice(2),l=(o=t.indexOf("."))>=0,n=e.constructor,l&&(o=(u=(t=t.replace(".","")).length)-o,i=zo(n,new n(r),o,2*o)),o=f=(s=Lo(t,r,xo)).length-1;0===s[o];--o)s.pop();return o<0?new n(0*e.s):(e.e=Fo(s,f),e.d=s,fo=!1,l&&(e=Co(e,i,4*u)),a&&(e=e.times(Math.abs(a)<54?yo(2,a):Il.pow(2,a))),fo=!0,e)}function Vo(e,t,r,n,i){var o,l,u,a,s=e.precision,f=Math.ceil(s/Mo);for(fo=!1,a=r.times(r),u=new e(n);;){if(l=Co(u.times(a),new e(t++*t++),s,1),u=i?n.plus(l):n.minus(l),n=Co(l.times(a),new e(t++*t++),s,1),void 0!==(l=u.plus(n)).d[f]){for(o=f;l.d[o]===u.d[o]&&o--;);if(-1==o)break}o=u,u=n,n=l,l=o}return fo=!0,l.d.length=f+1,l}function Yo(e,t){for(var r=e;--t;)r*=e;return r}function Zo(e,t){var r,n=t.s<0,i=Ao(e,e.precision,1),o=i.times(.5);if((t=t.abs()).lte(o))return no=n?4:1,t;if((r=t.divToInt(i)).isZero())no=n?3:2;else{if((t=t.minus(r.times(i))).lte(o))return no=To(r)?n?2:3:n?4:1,t;no=To(r)?n?1:4:n?3:2}return t.minus(i).abs()}function Ko(e,t,r,n){var i,o,l,u,a,s,f,c,h,p=e.constructor,d=void 0!==r;if(d?(jo(r,1,oo),void 0===n?n=p.rounding:jo(n,0,8)):(r=p.precision,n=p.rounding),e.isFinite()){for(d?(i=2,16==t?r=4*r-3:8==t&&(r=3*r-2)):i=t,(l=(f=qo(e)).indexOf("."))>=0&&(f=f.replace(".",""),(h=new p(1)).e=f.length-l,h.d=Lo(qo(h),10,i),h.e=h.d.length),o=a=(c=Lo(f,10,i)).length;0==c[--a];)c.pop();if(c[0]){if(l<0?o--:((e=new p(e)).d=c,e.e=o,c=(e=Co(e,h,r,n,0,i)).d,o=e.e,s=ro),l=c[r],u=i/2,s=s||void 0!==c[r+1],s=n<4?(void 0!==l||s)&&(0===n||n===(e.s<0?3:2)):l>u||l===u&&(4===n||s||6===n&&1&c[r-1]||n===(e.s<0?8:7)),c.length=r,s)for(;++c[--r]>i-1;)c[r]=0,r||(++o,c.unshift(1));for(a=c.length;!c[a-1];--a);for(l=0,f="";l<a;l++)f+=lo.charAt(c[l]);if(d){if(a>1)if(16==t||8==t){for(l=16==t?4:3,--a;a%l;a++)f+="0";for(a=(c=Lo(f,i,t)).length;!c[a-1];--a);for(l=1,f="1.";l<a;l++)f+=lo.charAt(c[l])}else f=f.charAt(0)+"."+f.slice(1);f=f+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)f="0"+f;f="0."+f}else if(++o>a)for(o-=a;o--;)f+="0";else o<a&&(f=f.slice(0,o)+"."+f.slice(o))}else f=d?"0p+0":"0";f=(16==t?"0x":2==t?"0b":8==t?"0o":"")+f}else f=Qo(e);return e.s<0?"-"+f:f}function Xo(e,t){if(e.length>t)return e.length=t,!0}function Jo(e){return new this(e).abs()}function el(e){return new this(e).acos()}function tl(e){return new this(e).acosh()}function rl(e,t){return new this(e).plus(t)}function nl(e){return new this(e).asin()}function il(e){return new this(e).asinh()}function ol(e){return new this(e).atan()}function ll(e){return new this(e).atanh()}function ul(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,o=n+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(r=t.s<0?Ao(this,n,i):new this(0)).s=e.s:!e.d||t.isZero()?(r=Ao(this,o,1).times(.5)).s=e.s:t.s<0?(this.precision=o,this.rounding=1,r=this.atan(Co(e,t,o,1)),t=Ao(this,o,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(Co(e,t,o,1)):(r=Ao(this,o,1).times(t.s>0?.25:.75)).s=e.s:r=new this(NaN),r}function al(e){return new this(e).cbrt()}function sl(e){return Ro(e=new this(e),e.e+1,2)}function fl(e,t,r){return new this(e).clamp(t,r)}function cl(e){if(!e||"object"!=typeof e)throw Error(co+"Object expected");var t,r,n,i=!0===e.defaults,o=["precision",1,oo,"rounding",0,8,"toExpNeg",-io,0,"toExpPos",0,io,"maxE",0,io,"minE",-io,0,"modulo",0,9];for(t=0;t<o.length;t+=3)if(r=o[t],i&&(this[r]=so[r]),void 0!==(n=e[r])){if(!(mo(n)===n&&n>=o[t+1]&&n<=o[t+2]))throw Error(ho+r+": "+n);this[r]=n}if(r="crypto",i&&(this[r]=so[r]),void 0!==(n=e[r])){if(!0!==n&&!1!==n&&0!==n&&1!==n)throw Error(ho+r+": "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(go);this[r]=!0}else this[r]=!1}return this}function hl(e){return new this(e).cos()}function pl(e){return new this(e).cosh()}function dl(e,t){return new this(e).div(t)}function gl(e){return new this(e).exp()}function vl(e){return Ro(e=new this(e),e.e+1,3)}function ml(){var e,t,r=new this(0);for(fo=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return fo=!0,new this(1/0);r=t}return fo=!0,r.sqrt()}function yl(e){return e instanceof Il||e&&e.toStringTag===vo||!1}function bl(e){return new this(e).ln()}function wl(e,t){return new this(e).log(t)}function $l(e){return new this(e).log(2)}function Sl(e){return new this(e).log(10)}function xl(){return Go(this,arguments,"lt")}function Ml(){return Go(this,arguments,"gt")}function Pl(e,t){return new this(e).mod(t)}function El(e,t){return new this(e).mul(t)}function kl(e,t){return new this(e).pow(t)}function Ol(e){var t,r,n,i,o=0,l=new this(1),u=[];if(void 0===e?e=this.precision:jo(e,1,oo),n=Math.ceil(e/Mo),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));o<n;)(i=t[o])>=429e7?t[o]=crypto.getRandomValues(new Uint32Array(1))[0]:u[o++]=i%1e7;else{if(!crypto.randomBytes)throw Error(go);for(t=crypto.randomBytes(n*=4);o<n;)(i=t[o]+(t[o+1]<<8)+(t[o+2]<<16)+((127&t[o+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,o):(u.push(i%1e7),o+=4);o=n/4}else for(;o<n;)u[o++]=1e7*Math.random()|0;for(n=u[--o],e%=Mo,n&&e&&(i=yo(10,Mo-e),u[o]=(n/i|0)*i);0===u[o];o--)u.pop();if(o<0)r=0,u=[0];else{for(r=-1;0===u[0];r-=Mo)u.shift();for(n=1,i=u[0];i>=10;i/=10)n++;n<Mo&&(r-=Mo-n)}return l.e=r,l.d=u,l}function jl(e){return Ro(e=new this(e),e.e+1,this.rounding)}function Dl(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function Ll(e){return new this(e).sin()}function Cl(e){return new this(e).sinh()}function Rl(e){return new this(e).sqrt()}function ql(e,t){return new this(e).sub(t)}function Fl(){var e=0,t=arguments,r=new this(t[e]);for(fo=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return fo=!0,Ro(r,this.precision,this.rounding)}function _l(e){return new this(e).tan()}function Al(e){return new this(e).tanh()}function Nl(e){return Ro(e=new this(e),e.e+1,1)}ko[Symbol.for("nodejs.util.inspect.custom")]=ko.toString,ko[Symbol.toStringTag]="Decimal";var Il=ko.constructor=function e(t){var r,n,i;function o(e){var t,r,n,i=this;if(!(i instanceof o))return new o(e);if(i.constructor=o,yl(e))return i.s=e.s,void(fo?!e.d||e.e>o.maxE?(i.e=NaN,i.d=null):e.e<o.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"===(n=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(t=0,r=e;r>=10;r/=10)t++;return void(fo?t>o.maxE?(i.e=NaN,i.d=null):t<o.minE?(i.e=0,i.d=[0]):(i.e=t,i.d=[e]):(i.e=t,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):Ho(i,e.toString())}if("string"!==n)throw Error(ho+e);return 45===(r=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===r&&(e=e.slice(1)),i.s=1),So.test(e)?Ho(i,e):Wo(i,e)}if(o.prototype=ko,o.ROUND_UP=0,o.ROUND_DOWN=1,o.ROUND_CEIL=2,o.ROUND_FLOOR=3,o.ROUND_HALF_UP=4,o.ROUND_HALF_DOWN=5,o.ROUND_HALF_EVEN=6,o.ROUND_HALF_CEIL=7,o.ROUND_HALF_FLOOR=8,o.EUCLID=9,o.config=o.set=cl,o.clone=e,o.isDecimal=yl,o.abs=Jo,o.acos=el,o.acosh=tl,o.add=rl,o.asin=nl,o.asinh=il,o.atan=ol,o.atanh=ll,o.atan2=ul,o.cbrt=al,o.ceil=sl,o.clamp=fl,o.cos=hl,o.cosh=pl,o.div=dl,o.exp=gl,o.floor=vl,o.hypot=ml,o.ln=bl,o.log=wl,o.log10=Sl,o.log2=$l,o.max=xl,o.min=Ml,o.mod=Pl,o.mul=El,o.pow=kl,o.random=Ol,o.round=jl,o.sign=Dl,o.sin=Ll,o.sinh=Cl,o.sqrt=Rl,o.sub=ql,o.sum=Fl,o.tan=_l,o.tanh=Al,o.trunc=Nl,void 0===t&&(t={}),t&&!0!==t.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],r=0;r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return o.config(t),o}(so);function zl(e,t){return new Il(e).eq(t)}function Tl(e,t,r){if("==="===t)return zl(e,r);if("!=="===t)return function(e,t){return!zl(e,t)}(e,r);if(">="===t)return function(e,t){return new Il(e).gte(t)}(e,r);if(">"===t)return function(e,t){return new Il(e).gt(t)}(e,r);if("<="===t)return function(e,t){return new Il(e).lte(t)}(e,r);if("<"===t)return function(e,t){return new Il(e).lt(t)}(e,r);throw console.log(t),new Error("invalid op")}function Gl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];if(!to(e))throw new Error("");let n=ve(t,"keyDepth");Gr(n)||(n="depth");let i=ve(t,"keyDepthStart");Gr(i)||(i="depthStart");let o=ve(t,"keyDepthEnd");Gr(o)||(o="depthEnd");let l=ve(t,"depthEndMax");if(l=Br(l)?nn(l):null,ot(e=Xi(e),((e,t)=>{let i=ve(e,n,null);Br(i)||r.push(` ${t} ${n}[${i}]`)})),Mn(r)>0)throw new Error(Hn(r,"; "));if(ot(e=zr(e,(e=>nn(e[n]))),((t,i)=>{if(0===i)return!0;let o=ve(e,`${i-1}.${n}`,null),l=ve(t,n,null);o=nn(o),l=nn(l),Tl(o,">=",l)&&r.push(` ${i-1} ${n}[${o}] ${i} ${n}[${l}]`)})),Mn(r)>0)throw new Error(Hn(r,"; "));let u=Mn(e)-1;if(e=xr(e,((t,r)=>{let l=ve(e,r-1),a=t,s=ve(e,r+1),f=ve(l,n,null),c=ve(a,n,null),h=ve(s,n,null),p=null;if(0===r){if(p=0,!Br(c))throw new Error("dc1 is not a number");c=nn(c),p=Math.min(p,c)}else{if(!Br(f)||!Br(c))throw new Error("unexpected error: invalid ds");f=nn(f),c=nn(c),p=(f+c)/2}let d=null;if(r===u){if(!Br(c))throw new Error("dc1 is not a number");d=nn(c)}else{if(!Br(c)||!Br(h))throw new Error("unexpected error: invalid de");c=nn(c),h=nn(h),d=(c+h)/2}return t[i]=p,t[o]=d,t})),On(l)){Tl(e[u][o],"<",l)&&(e[u][o]=l)}return e}function Ul(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];if(!to(e))return r;let n=ve(t,"keyDepthStart");Gr(n)||(n="depthStart");let i=ve(t,"keyDepthEnd");Gr(i)||(i="depthEnd");let o=ve(t,"stateConn");return"conn"!==o&&"overlap"!==o&&(o="conn"),ot(e,((e,t)=>{let o=ve(e,n,null),l=ve(e,i,null);Br(o)||r.push(` ${t} ${n}[${o}]`),Br(l)||r.push(` ${t} ${i}[${l}]`)})),ot(e=zr(e,(e=>nn(e[n]))),((t,l)=>{let u=ve(t,n,null),a=ve(t,i,null);if(u=nn(u),a=nn(a),Tl(u,">",a)&&r.push(` ${l} ${n}[${u}]${i}[${a}]`),0===l)return!0;let s=ve(e,l-1),f=ve(s,i,null);f=nn(f),"conn"===o?Tl(f,"!==",u)&&r.push(` ${l} ${i}[${f}] ${l+1} ${n}[${u}]`):"overlap"===o&&Tl(f,">",u)&&r.push(` ${l} ${i}[${f}] ${l+1} ${n}[${u}]`)})),r}uo=new Il(uo),ao=new Il(ao);let Bl=Bn.rw;function Ql(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=ve(r,"keyDepth");Gr(n)||(n="depth");let i=ve(r,"keyDepthStart");Gr(i)||(i="depthStart");let o=ve(r,"keyDepthEnd");Gr(o)||(o="depthEnd");let l=ve(r,"keyRd");Gr(l)||(l="rd");let u=ve(r,"keyRsat");Gr(u)||(u="rsat"),e=Xi(e);let a=0;return e=xr(e,((e,r)=>{let s=ve(e,"err",""),f=ve(e,i,null),c=ve(e,o,null);try{if(!Br(f))throw new Error(` ${r} (${i}): ${f}`);if(!Br(c))throw new Error(` ${r} (${o}): ${c}`);f=nn(f),c=nn(c),e[n]=(c+f)/2;let s=null;if(f<t&&c>t){let n=ve(e,u,null);if(!Br(n))throw new Error(` ${r} (rsat): ${n}`);let i=ve(e,l,null);if(!Br(i))throw new Error(` ${r} (rd): ${i}`);i=nn(i);let o=t-f,a=c-t;s=(o*i+a*n)/(o+a)}else if(c<=t){let t=ve(e,l,null);if(!Br(t))throw new Error(` ${r} (rd): ${t}`);s=t}else{if(!(f>=t))throw new Error("");{let t=ve(e,u,null);if(!Br(t))throw new Error(` ${r} (rsat): ${t}`);s=t}}0===a&&f>0&&(a=f*s);let h=(c-f)*s,p=a+h/2;e.sv=p,a+=h;let d=Math.max((f+c)/2-t,0)*Bl;e.svp=Math.max(p-d,0)}catch(t){let r=t.toString();""===s?s=r:s.indexOf(r)<0&&(s+=`, ${r}`),e.sv="",e.svp="",e.err=s}return e})),e}function Hl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!to(e))throw new Error("");let r=ve(t,"unitSvSvp");if("kPa"!==r&&"MPa"!==r)throw new Error(`opt.unitSvSvp[${r}] need kPa or MPa`);let n=ve(t,"keyDepth");Gr(n)||(n="depth");let i=ve(t,"keyDepthStart");Gr(i)||(i="depthStart");let o=ve(t,"keyDepthEnd");Gr(o)||(o="depthEnd");let l=ve(t,"keyRd");Gr(l)||(l="rd");let u=ve(t,"keyRsat");Gr(u)||(u="rsat");let a=Ul(e=Xi(e),t);if(Mn(a)>0)throw new Error(Hn(a,"; "));e=zr(e,(e=>nn(e[i])));let s=ve(t,"waterLevelUsual");Br(s)||(s=0),s=nn(s);let f=ve(t,"waterLevelDesign");Br(f)||(f=0),f=nn(f);let c=Ql(e,s,{keyDepth:n,keyDepthStart:i,keyDepthEnd:o,keyRd:l,keyRsat:u}),h=Ql(e,f,{keyDepth:n,keyDepthStart:i,keyDepthEnd:o,keyRd:l,keyRsat:u});return e=xr(e,((e,t)=>{e.waterLevelUsual=s,e.waterLevelDesign=f;let r=c[t],i=h[t];return e.sv=r.sv,e.svpUsual=r.svp,e.svpDesign=i.svp,e[n]=r[n],e})),"MPa"===r&&(e=xr(e,(e=>(e.sv/=1e3,e.svpUsual/=1e3,e.svpDesign/=1e3,e)))),e}function Wl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"keyDepth");Gr(r)||(r="depth");let n=ve(t,"keyDepthStart");Gr(n)||(n="depthStart");let i=ve(t,"keyDepthEnd");Gr(i)||(i="depthEnd");let o=ve(t,"keyRd");Gr(o)||(o="rd");let l=ve(t,"keyRsat");Gr(l)||(l="rsat");let u=ve(t,"waterLevelUsual");Br(u)||(u=0),u=nn(u);let a=ve(t,"waterLevelDesign");Br(a)||(a=0),a=nn(a);let s=[];if(ot(e,(e=>{let t=ve(e,r);if(!Br(t))return!0;t=nn(t);let n=ve(e,o);if(!Br(n))return!0;n=nn(n);let i=ve(e,l);if(!Br(i))return!0;i=nn(i),s.push({[r]:t,[o]:n,[l]:i})})),0===Mn(s))return null;s=zr(s,r);let f=ve(s,`0.${r}`);f=Math.min(f,0);let c=ve(s,`${Mn(s)-1}.${r}`);c=Math.max(c,1),c*=2,s=[{[r]:f,[o]:0,[l]:0},...s,{[r]:c,[o]:Bn.assesment_rd,[l]:Bn.assesment_rsat}],s=Gl(s);let h=null;try{h=Hl(s,{keyDepth:r,keyDepthStart:n,keyDepthEnd:i,keyRd:o,keyRsat:l,waterLevelUsual:u,waterLevelDesign:a,unitSvSvp:"kPa"})}catch(e){throw console.log(e),new Error("")}let p=[],d=[],g=[],v=[];return ot(h,((e,t)=>{p.push([e.depth,e.sv]),d.push([e.depth,Math.min(e.svpUsual,e.svpDesign)]);let r=ve(s,t);g.push([r.depth,r[o]]),v.push([r.depth,r[l]])})),{svs:p,svps:d,rds:g,rsats:v}}let Vl="-",Yl="NP",Zl=`is not a number or '${Vl}' or '${Yl}'`,Kl=Zl;function Xl(e){let t=null;if(Br(e))t=nn(e);else{if(e!==Vl&&e!==Yl)throw new Error(`LL[${e}] ${Zl}`);t=40}return t}function Jl(e){let t=null;if(Br(e))t=nn(e);else{if(e!==Vl&&e!==Yl)throw new Error(`PI[${e}] ${Zl}`);t=0}return t}function eu(e,t){let r=!0;try{On(e=t(e))?(e<0||e>100)&&(r=!1):r=!1}catch(e){r=!1}return r}let tu=e=>eu(e,Xl),ru=e=>eu(e,Jl);function nu(e,t){return e>=4&&t>=1&&t<=3}function iu(e,t){return e>=6&&t>=1&&t<=3}function ou(e,t){let r=null,n=null;r=Jl(e),n=Xl(t);let i=.73*(n-20);return r>7&&r>=i?"C":r<4||r<i?"M":"C-M"}function lu(e){return lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(e)}function uu(e){var t=function(e,t){if("object"!==lu(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==lu(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===lu(t)?t:String(t)}function au(e,t,r){return(t=uu(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function su(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}function fu(e,t,r){var n=e.length;return r=void 0===r?n:r,!t&&r>=n?e:su(e,t,r)}function cu(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function hu(e){return e!=e}function pu(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):cu(e,hu,r)}var du="\\ud800-\\udfff",gu="["+du+"]",vu="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",mu="\\ud83c[\\udffb-\\udfff]",yu="[^"+du+"]",bu="(?:\\ud83c[\\udde6-\\uddff]){2}",wu="[\\ud800-\\udbff][\\udc00-\\udfff]",$u="(?:"+vu+"|"+mu+")"+"?",Su="[\\ufe0e\\ufe0f]?",xu=Su+$u+("(?:\\u200d(?:"+[yu,bu,wu].join("|")+")"+Su+$u+")*"),Mu="(?:"+[yu+vu+"?",vu,bu,wu,gu].join("|")+")",Pu=RegExp(mu+"(?="+mu+")|"+Mu+xu,"g");function Eu(e){return an(e)?function(e){return e.match(Pu)||[]}(e):function(e){return e.split("")}(e)}function ku(e,t,r){if((e=ce(e))&&(r||void 0===t))return Wr(e);if(!e||!(t=fe(t)))return e;var n=Eu(e),i=Eu(t),o=function(e,t){for(var r=-1,n=e.length;++r<n&&pu(t,e[r],0)>-1;);return r}(n,i),l=function(e,t){for(var r=e.length;r--&&pu(t,e[r],0)>-1;);return r}(n,i)+1;return fu(n,o,l).join("")}function Ou(e){let t=Object.prototype.toString.call(e);return"[object Function]"===t||"[object AsyncFunction]"===t}function ju(e){if(Ji(e)){for(let t in e)return!0;return!1}return!1}function Du(e){var t=rn(e),r=t%1;return t==t?r?t-r:t:0}function Lu(e){return!!Br(e)&&(e=nn(e),"number"==typeof(t=e)&&t==Du(t));var t}var Cu=i.isFinite,Ru=Math.min;var qu=function(e){var t=Math[e];return function(e,r){if(e=Jr(e),(r=null==r?0:Ru(Du(r),292))&&Cu(e)){var n=(ce(e)+"e").split("e");return+((n=(ce(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}("round"),Fu=qu;function _u(e){if(!Br(e))return 0;e=nn(e);let t=Fu(e);return"0"===String(t)?0:t}function Au(e,t){let r=null;if(Gr(t)){let n=ve(e,t);Br(n)&&(r=nn(n))}else Ou(t)&&(r=t(e));return r}function Nu(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[];ot(e,(function(e){let i=Au(e,"depth"),o=Au(e,t);return null===i||(!r&&null===o||void n.push([i,o]))}));let i=0;return ot(n,(e=>{On(e[1])||(i+=1)})),i===Mn(n)&&(n=[]),n}var Iu={pickData:Au,extractLtdtDepthAndData:Nu,extractLtdtDataXY:function(e,t,r){let n=[];return ot(e,(function(e){let i=Au(e,t),o=Au(e,r);if(null===i||null===o)return!0;n.push([i,o])})),n=zr(n,0),n}};function zu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kPa";if("kPa"!==t&&"MPa"!==t)throw new Error(`unit[${t}] need kPa or MPa`);if(!Br(e))return null;let r=(e=nn(e))*Bn.rw;return"MPa"===t&&(r/=1e3),r}function Tu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"kPa";if("kPa"!==t&&"MPa"!==t)throw new Error(`unit[${t}] need kPa or MPa`);if(!Br(e))return null;let r=(e=nn(e))*Bn.assesment_rsat,n=zu(e,"kPa"),i=r-n;i=Math.max(i,0);let o=e*Bn.assesment_rd;return"MPa"===t&&(r/=1e3,n/=1e3,o/=1e3),{sv:r,svp:i,svdry:o}}var Gu={intrpDefPp:zu,intrpDefSvSvp:Tu},Uu=Math.ceil,Bu=Math.max;var Qu=function(e){return function(t,r,n){return n&&"number"!=typeof n&&Ir(t,r,n)&&(r=n=void 0),t=rn(t),void 0===r?(r=t,t=0):r=rn(r),function(e,t,r,n){for(var i=-1,o=Bu(Uu((t-e)/(r||1)),0),l=Array(o);o--;)l[n?o:++i]=e,e+=r;return l}(t,r,n=void 0===n?t<r?1:-1:rn(n),e)}}(),Hu=Qu;function Wu(e,t){for(var r=-1,n=t.length,i=Array(n),o=null==e;++r<n;)i[r]=o?void 0:ve(e,t[r]);return i}function Vu(e){return(null==e?0:e.length)?Er(e,1):[]}function Yu(e){return Ar(Dr(e,void 0,Vu),e+"")}var Zu=Yu(Wu);function Ku(e){if(!Lu(e))return!1;return _u(e)>=0}function Xu(e,t){for(var r,n=-1,i=e.length;++n<i;){var o=t(e[n]);void 0!==o&&(r=void 0===r?o:r+o)}return r}var Ju=NaN;function ea(e){return function(e,t){var r=null==e?0:e.length;return r?Xu(e,t)/r:Ju}(e,nt)}function ta(e,t){var r=[];return rt(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function ra(e,r){return(t(e)?Rt:ta)(e,$r(r))}function na(e){if(!jn(e))return null;if(0===Mn(e))return null;let t=function(e){return to(e)?e=xr(e=ra(e=Xi(e),Br),nn):[]}(e);return 0===Mn(t)?null:ea(t)}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var ia={};!function(e,t){e.exports=function(){var e=function(e,t){var r=Array.prototype.concat,n=Array.prototype.slice,i=Object.prototype.toString;function o(t,r){var n=t>r?t:r;return e.pow(10,17-~~(e.log(n>0?n:-n)*e.LOG10E))}var l=Array.isArray||function(e){return"[object Array]"===i.call(e)};function u(e){return"[object Function]"===i.call(e)}function a(e){return"number"==typeof e&&e-e==0}function s(e){return r.apply([],e)}function f(){return new f._init(arguments)}function c(){return 0}function h(){return 1}function p(e,t){return e===t?1:0}f.fn=f.prototype,f._init=function(e){if(l(e[0]))if(l(e[0][0])){u(e[1])&&(e[0]=f.map(e[0],e[1]));for(var t=0;t<e[0].length;t++)this[t]=e[0][t];this.length=e[0].length}else this[0]=u(e[1])?f.map(e[0],e[1]):e[0],this.length=1;else if(a(e[0]))this[0]=f.seq.apply(null,e),this.length=1;else{if(e[0]instanceof f)return f(e[0].toArray());this[0]=[],this.length=1}return this},f._init.prototype=f.prototype,f._init.constructor=f,f.utils={calcRdx:o,isArray:l,isFunction:u,isNumber:a,toVector:s},f._random_fn=e.random,f.setRandom=function(e){if("function"!=typeof e)throw new TypeError("fn is not a function");f._random_fn=e},f.extend=function(e){var t,r;if(1===arguments.length){for(r in e)f[r]=e[r];return this}for(t=1;t<arguments.length;t++)for(r in arguments[t])e[r]=arguments[t][r];return e},f.rows=function(e){return e.length||1},f.cols=function(e){return e[0].length||1},f.dimensions=function(e){return{rows:f.rows(e),cols:f.cols(e)}},f.row=function(e,t){return l(t)?t.map((function(t){return f.row(e,t)})):e[t]},f.rowa=function(e,t){return f.row(e,t)},f.col=function(e,t){if(l(t)){var r=f.arange(e.length).map((function(){return new Array(t.length)}));return t.forEach((function(t,n){f.arange(e.length).forEach((function(i){r[i][n]=e[i][t]}))})),r}for(var n=new Array(e.length),i=0;i<e.length;i++)n[i]=[e[i][t]];return n},f.cola=function(e,t){return f.col(e,t).map((function(e){return e[0]}))},f.diag=function(e){for(var t=f.rows(e),r=new Array(t),n=0;n<t;n++)r[n]=[e[n][n]];return r},f.antidiag=function(e){for(var t=f.rows(e)-1,r=new Array(t),n=0;t>=0;t--,n++)r[n]=[e[n][t]];return r},f.transpose=function(e){var t,r,n,i,o,u=[];for(l(e[0])||(e=[e]),r=e.length,n=e[0].length,o=0;o<n;o++){for(t=new Array(r),i=0;i<r;i++)t[i]=e[i][o];u.push(t)}return 1===u.length?u[0]:u},f.map=function(e,t,r){var n,i,o,u,a;for(l(e[0])||(e=[e]),i=e.length,o=e[0].length,u=r?e:new Array(i),n=0;n<i;n++)for(u[n]||(u[n]=new Array(o)),a=0;a<o;a++)u[n][a]=t(e[n][a],n,a);return 1===u.length?u[0]:u},f.cumreduce=function(e,t,r){var n,i,o,u,a;for(l(e[0])||(e=[e]),i=e.length,o=e[0].length,u=r?e:new Array(i),n=0;n<i;n++)for(u[n]||(u[n]=new Array(o)),o>0&&(u[n][0]=e[n][0]),a=1;a<o;a++)u[n][a]=t(u[n][a-1],e[n][a]);return 1===u.length?u[0]:u},f.alter=function(e,t){return f.map(e,t,!0)},f.create=function(e,t,r){var n,i,o=new Array(e);for(u(t)&&(r=t,t=e),n=0;n<e;n++)for(o[n]=new Array(t),i=0;i<t;i++)o[n][i]=r(n,i);return o},f.zeros=function(e,t){return a(t)||(t=e),f.create(e,t,c)},f.ones=function(e,t){return a(t)||(t=e),f.create(e,t,h)},f.rand=function(e,t){return a(t)||(t=e),f.create(e,t,f._random_fn)},f.identity=function(e,t){return a(t)||(t=e),f.create(e,t,p)},f.symmetric=function(e){var t,r,n=e.length;if(e.length!==e[0].length)return!1;for(t=0;t<n;t++)for(r=0;r<n;r++)if(e[r][t]!==e[t][r])return!1;return!0},f.clear=function(e){return f.alter(e,c)},f.seq=function(e,t,r,n){u(n)||(n=!1);var i,l=[],a=o(e,t),s=(t*a-e*a)/((r-1)*a),f=e;for(i=0;f<=t&&i<r;f=(e*a+s*a*++i)/a)l.push(n?n(f,i):f);return l},f.arange=function(e,r,n){var i,o=[];if(n=n||1,r===t&&(r=e,e=0),e===r||0===n)return[];if(e<r&&n<0)return[];if(e>r&&n>0)return[];if(n>0)for(i=e;i<r;i+=n)o.push(i);else for(i=e;i>r;i+=n)o.push(i);return o},f.slice=function(){function e(e,r,n,i){var o,l=[],u=e.length;if(r===t&&n===t&&i===t)return f.copy(e);if(i=i||1,(r=(r=r||0)>=0?r:u+r)===(n=(n=n||e.length)>=0?n:u+n)||0===i)return[];if(r<n&&i<0)return[];if(r>n&&i>0)return[];if(i>0)for(o=r;o<n;o+=i)l.push(e[o]);else for(o=r;o>n;o+=i)l.push(e[o]);return l}function r(t,r){var n,i;return a((r=r||{}).row)?a(r.col)?t[r.row][r.col]:e(f.rowa(t,r.row),(n=r.col||{}).start,n.end,n.step):a(r.col)?e(f.cola(t,r.col),(i=r.row||{}).start,i.end,i.step):(i=r.row||{},n=r.col||{},e(t,i.start,i.end,i.step).map((function(t){return e(t,n.start,n.end,n.step)})))}return r}(),f.sliceAssign=function(r,n,i){var o,l;if(a(n.row)){if(a(n.col))return r[n.row][n.col]=i;n.col=n.col||{},n.col.start=n.col.start||0,n.col.end=n.col.end||r[0].length,n.col.step=n.col.step||1,o=f.arange(n.col.start,e.min(r.length,n.col.end),n.col.step);var u=n.row;return o.forEach((function(e,t){r[u][e]=i[t]})),r}if(a(n.col)){n.row=n.row||{},n.row.start=n.row.start||0,n.row.end=n.row.end||r.length,n.row.step=n.row.step||1,l=f.arange(n.row.start,e.min(r[0].length,n.row.end),n.row.step);var s=n.col;return l.forEach((function(e,t){r[e][s]=i[t]})),r}return i[0].length===t&&(i=[i]),n.row.start=n.row.start||0,n.row.end=n.row.end||r.length,n.row.step=n.row.step||1,n.col.start=n.col.start||0,n.col.end=n.col.end||r[0].length,n.col.step=n.col.step||1,l=f.arange(n.row.start,e.min(r.length,n.row.end),n.row.step),o=f.arange(n.col.start,e.min(r[0].length,n.col.end),n.col.step),l.forEach((function(e,t){o.forEach((function(n,o){r[e][n]=i[t][o]}))})),r},f.diagonal=function(e){var t=f.zeros(e.length,e.length);return e.forEach((function(e,r){t[r][r]=e})),t},f.copy=function(e){return e.map((function(e){return a(e)?e:e.map((function(e){return e}))}))};var d=f.prototype;return d.length=0,d.push=Array.prototype.push,d.sort=Array.prototype.sort,d.splice=Array.prototype.splice,d.slice=Array.prototype.slice,d.toArray=function(){return this.length>1?n.call(this):n.call(this)[0]},d.map=function(e,t){return f(f.map(this,e,t))},d.cumreduce=function(e,t){return f(f.cumreduce(this,e,t))},d.alter=function(e){return f.alter(this,e),this},function(e){for(var t=0;t<e.length;t++)!function(e){d[e]=function(t){var r,n=this;return t?(setTimeout((function(){t.call(n,d[e].call(n))})),this):(r=f[e](this),l(r)?f(r):r)}}(e[t])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(e){for(var t=0;t<e.length;t++)!function(e){d[e]=function(t,r){var n=this;return r?(setTimeout((function(){r.call(n,d[e].call(n,t))})),this):f(f[e](this,t))}}(e[t])}("row col".split(" ")),function(e){for(var t=0;t<e.length;t++)!function(e){d[e]=function(){return f(f[e].apply(null,arguments))}}(e[t])}("create zeros ones rand identity".split(" ")),f}(Math);return function(e,t){var r=e.utils.isFunction;function n(e,t){return e-t}function i(e,r,n){return t.max(r,t.min(e,n))}e.sum=function(e){for(var t=0,r=e.length;--r>=0;)t+=e[r];return t},e.sumsqrd=function(e){for(var t=0,r=e.length;--r>=0;)t+=e[r]*e[r];return t},e.sumsqerr=function(t){for(var r,n=e.mean(t),i=0,o=t.length;--o>=0;)i+=(r=t[o]-n)*r;return i},e.sumrow=function(e){for(var t=0,r=e.length;--r>=0;)t+=e[r];return t},e.product=function(e){for(var t=1,r=e.length;--r>=0;)t*=e[r];return t},e.min=function(e){for(var t=e[0],r=0;++r<e.length;)e[r]<t&&(t=e[r]);return t},e.max=function(e){for(var t=e[0],r=0;++r<e.length;)e[r]>t&&(t=e[r]);return t},e.unique=function(e){for(var t={},r=[],n=0;n<e.length;n++)t[e[n]]||(t[e[n]]=!0,r.push(e[n]));return r},e.mean=function(t){return e.sum(t)/t.length},e.meansqerr=function(t){return e.sumsqerr(t)/t.length},e.geomean=function(r){var n=r.map(t.log),i=e.mean(n);return t.exp(i)},e.median=function(e){var t=e.length,r=e.slice().sort(n);return 1&t?r[t/2|0]:(r[t/2-1]+r[t/2])/2},e.cumsum=function(t){return e.cumreduce(t,(function(e,t){return e+t}))},e.cumprod=function(t){return e.cumreduce(t,(function(e,t){return e*t}))},e.diff=function(e){var t,r=[],n=e.length;for(t=1;t<n;t++)r.push(e[t]-e[t-1]);return r},e.rank=function(e){var t,r=[],i={};for(t=0;t<e.length;t++)i[a=e[t]]?i[a]++:(i[a]=1,r.push(a));var o=r.sort(n),l={},u=1;for(t=0;t<o.length;t++){var a,s=i[a=o[t]],f=(u+(u+s-1))/2;l[a]=f,u+=s}return e.map((function(e){return l[e]}))},e.mode=function(e){var t,r=e.length,i=e.slice().sort(n),o=1,l=0,u=0,a=[];for(t=0;t<r;t++)i[t]===i[t+1]?o++:(o>l?(a=[i[t]],l=o,u=0):o===l&&(a.push(i[t]),u++),o=1);return 0===u?a[0]:a},e.range=function(t){return e.max(t)-e.min(t)},e.variance=function(t,r){return e.sumsqerr(t)/(t.length-(r?1:0))},e.pooledvariance=function(t){return t.reduce((function(t,r){return t+e.sumsqerr(r)}),0)/(t.reduce((function(e,t){return e+t.length}),0)-t.length)},e.deviation=function(t){for(var r=e.mean(t),n=t.length,i=new Array(n),o=0;o<n;o++)i[o]=t[o]-r;return i},e.stdev=function(r,n){return t.sqrt(e.variance(r,n))},e.pooledstdev=function(r){return t.sqrt(e.pooledvariance(r))},e.meandev=function(r){for(var n=e.mean(r),i=[],o=r.length-1;o>=0;o--)i.push(t.abs(r[o]-n));return e.mean(i)},e.meddev=function(r){for(var n=e.median(r),i=[],o=r.length-1;o>=0;o--)i.push(t.abs(r[o]-n));return e.median(i)},e.coeffvar=function(t){return e.stdev(t)/e.mean(t)},e.quartiles=function(e){var r=e.length,i=e.slice().sort(n);return[i[t.round(r/4)-1],i[t.round(r/2)-1],i[t.round(3*r/4)-1]]},e.quantiles=function(e,r,o,l){var u,a,s,f,c,h=e.slice().sort(n),p=[r.length],d=e.length;for(void 0===o&&(o=3/8),void 0===l&&(l=3/8),u=0;u<r.length;u++)s=d*(a=r[u])+(o+a*(1-o-l)),f=t.floor(i(s,1,d-1)),c=i(s-f,0,1),p[u]=(1-c)*h[f-1]+c*h[f];return p},e.percentile=function(e,t,r){var i=e.slice().sort(n),o=t*(i.length+(r?1:-1))+(r?0:1),l=parseInt(o),u=o-l;return l+1<i.length?i[l-1]+u*(i[l]-i[l-1]):i[l-1]},e.percentileOfScore=function(e,t,r){var n,i,o=0,l=e.length,u=!1;for("strict"===r&&(u=!0),i=0;i<l;i++)n=e[i],(u&&n<t||!u&&n<=t)&&o++;return o/l},e.histogram=function(r,n){n=n||4;var i,o=e.min(r),l=(e.max(r)-o)/n,u=r.length,a=[];for(i=0;i<n;i++)a[i]=0;for(i=0;i<u;i++)a[t.min(t.floor((r[i]-o)/l),n-1)]+=1;return a},e.covariance=function(t,r){var n,i=e.mean(t),o=e.mean(r),l=t.length,u=new Array(l);for(n=0;n<l;n++)u[n]=(t[n]-i)*(r[n]-o);return e.sum(u)/(l-1)},e.corrcoeff=function(t,r){return e.covariance(t,r)/e.stdev(t,1)/e.stdev(r,1)},e.spearmancoeff=function(t,r){return t=e.rank(t),r=e.rank(r),e.corrcoeff(t,r)},e.stanMoment=function(r,n){for(var i=e.mean(r),o=e.stdev(r),l=r.length,u=0,a=0;a<l;a++)u+=t.pow((r[a]-i)/o,n);return u/r.length},e.skewness=function(t){return e.stanMoment(t,3)},e.kurtosis=function(t){return e.stanMoment(t,4)-3};var o=e.prototype;!function(t){for(var n=0;n<t.length;n++)!function(t){o[t]=function(n,i){var l=[],u=0,a=this;if(r(n)&&(i=n,n=!1),i)return setTimeout((function(){i.call(a,o[t].call(a,n))})),this;if(this.length>1){for(a=!0===n?this:this.transpose();u<a.length;u++)l[u]=e[t](a[u]);return l}return e[t](this[0],n)}}(t[n])}("cumsum cumprod".split(" ")),function(t){for(var n=0;n<t.length;n++)!function(t){o[t]=function(n,i){var l=[],u=0,a=this;if(r(n)&&(i=n,n=!1),i)return setTimeout((function(){i.call(a,o[t].call(a,n))})),this;if(this.length>1){for("sumrow"!==t&&(a=!0===n?this:this.transpose());u<a.length;u++)l[u]=e[t](a[u]);return!0===n?e[t](e.utils.toVector(l)):l}return e[t](this[0],n)}}(t[n])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(t){for(var n=0;n<t.length;n++)!function(t){o[t]=function(){var n,i=[],l=0,u=this,a=Array.prototype.slice.call(arguments);if(r(a[a.length-1])){n=a[a.length-1];var s=a.slice(0,a.length-1);return setTimeout((function(){n.call(u,o[t].apply(u,s))})),this}n=void 0;var f=function(r){return e[t].apply(u,[r].concat(a))};if(this.length>1){for(u=u.transpose();l<u.length;l++)i[l]=f(u[l]);return i}return f(this[0])}}(t[n])}("quantiles percentileOfScore".split(" "))}(e,Math),function(e,t){e.gammaln=function(e){var r,n,i,o=0,l=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],u=1.000000000190015;for(i=(n=r=e)+5.5,i-=(r+.5)*t.log(i);o<6;o++)u+=l[o]/++n;return t.log(2.5066282746310007*u/r)-i},e.loggam=function(e){var r,n,i,o,l,u,a,s=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(r=e,a=0,1==e||2==e)return 0;for(e<=7&&(r=e+(a=t.floor(7-e))),n=1/(r*r),i=2*t.PI,l=s[9],u=8;u>=0;u--)l*=n,l+=s[u];if(o=l/r+.5*t.log(i)+(r-.5)*t.log(r)-r,e<=7)for(u=1;u<=a;u++)o-=t.log(r-1),r-=1;return o},e.gammafn=function(e){var r,n,i,o,l=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],u=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],a=!1,s=0,f=0,c=0,h=e;if(e>171.6243769536076)return 1/0;if(h<=0){if(!(o=h%1+36e-17))return 1/0;a=(1&h?-1:1)*t.PI/t.sin(t.PI*o),h=1-h}for(i=h,n=h<1?h++:(h-=s=(0|h)-1)-1,r=0;r<8;++r)c=(c+l[r])*n,f=f*n+u[r];if(o=c/f+1,i<h)o/=i;else if(i>h)for(r=0;r<s;++r)o*=h,h++;return a&&(o=a/o),o},e.gammap=function(t,r){return e.lowRegGamma(t,r)*e.gammafn(t)},e.lowRegGamma=function(r,n){var i,o=e.gammaln(r),l=r,u=1/r,a=u,s=n+1-r,f=1/1e-30,c=1/s,h=c,p=1,d=-~(8.5*t.log(r>=1?r:1/r)+.4*r+17);if(n<0||r<=0)return NaN;if(n<r+1){for(;p<=d;p++)u+=a*=n/++l;return u*t.exp(-n+r*t.log(n)-o)}for(;p<=d;p++)h*=(c=1/(c=(i=-p*(p-r))*c+(s+=2)))*(f=s+i/f);return 1-h*t.exp(-n+r*t.log(n)-o)},e.factorialln=function(t){return t<0?NaN:e.gammaln(t+1)},e.factorial=function(t){return t<0?NaN:e.gammafn(t+1)},e.combination=function(r,n){return r>170||n>170?t.exp(e.combinationln(r,n)):e.factorial(r)/e.factorial(n)/e.factorial(r-n)},e.combinationln=function(t,r){return e.factorialln(t)-e.factorialln(r)-e.factorialln(t-r)},e.permutation=function(t,r){return e.factorial(t)/e.factorial(t-r)},e.betafn=function(r,n){if(!(r<=0||n<=0))return r+n>170?t.exp(e.betaln(r,n)):e.gammafn(r)*e.gammafn(n)/e.gammafn(r+n)},e.betaln=function(t,r){return e.gammaln(t)+e.gammaln(r)-e.gammaln(t+r)},e.betacf=function(e,r,n){var i,o,l,u,a=1e-30,s=1,f=r+n,c=r+1,h=r-1,p=1,d=1-f*e/c;for(t.abs(d)<a&&(d=a),u=d=1/d;s<=100&&(d=1+(o=s*(n-s)*e/((h+(i=2*s))*(r+i)))*d,t.abs(d)<a&&(d=a),p=1+o/p,t.abs(p)<a&&(p=a),u*=(d=1/d)*p,d=1+(o=-(r+s)*(f+s)*e/((r+i)*(c+i)))*d,t.abs(d)<a&&(d=a),p=1+o/p,t.abs(p)<a&&(p=a),u*=l=(d=1/d)*p,!(t.abs(l-1)<3e-7));s++);return u},e.gammapinv=function(r,n){var i,o,l,u,a,s,f=0,c=n-1,h=1e-8,p=e.gammaln(n);if(r>=1)return t.max(100,n+100*t.sqrt(n));if(r<=0)return 0;for(n>1?(a=t.log(c),s=t.exp(c*(a-1)-p),u=r<.5?r:1-r,i=(2.30753+.27061*(o=t.sqrt(-2*t.log(u))))/(1+o*(.99229+.04481*o))-o,r<.5&&(i=-i),i=t.max(.001,n*t.pow(1-1/(9*n)-i/(3*t.sqrt(n)),3))):i=r<(o=1-n*(.253+.12*n))?t.pow(r/o,1/n):1-t.log(1-(r-o)/(1-o));f<12;f++){if(i<=0)return 0;if((i-=o=(l=(e.lowRegGamma(n,i)-r)/(o=n>1?s*t.exp(-(i-c)+c*(t.log(i)-a)):t.exp(-i+c*t.log(i)-p)))/(1-.5*t.min(1,l*((n-1)/i-1))))<=0&&(i=.5*(i+o)),t.abs(o)<h*i)break}return i},e.erf=function(e){var r,n,i,o,l=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],u=l.length-1,a=!1,s=0,f=0;for(e<0&&(e=-e,a=!0),n=4*(r=2/(2+e))-2;u>0;u--)i=s,s=n*s-f+l[u],f=i;return o=r*t.exp(-e*e+.5*(l[0]+n*s)-f),a?o-1:1-o},e.erfc=function(t){return 1-e.erf(t)},e.erfcinv=function(r){var n,i,o,l,u=0;if(r>=2)return-100;if(r<=0)return 100;for(l=r<1?r:2-r,n=-.70711*((2.30753+.27061*(o=t.sqrt(-2*t.log(l/2))))/(1+o*(.99229+.04481*o))-o);u<2;u++)n+=(i=e.erfc(n)-l)/(1.1283791670955126*t.exp(-n*n)-n*i);return r<1?n:-n},e.ibetainv=function(r,n,i){var o,l,u,a,s,f,c,h,p,d,g=1e-8,v=n-1,m=i-1,y=0;if(r<=0)return 0;if(r>=1)return 1;for(n>=1&&i>=1?(u=r<.5?r:1-r,f=(2.30753+.27061*(a=t.sqrt(-2*t.log(u))))/(1+a*(.99229+.04481*a))-a,r<.5&&(f=-f),c=(f*f-3)/6,h=2/(1/(2*n-1)+1/(2*i-1)),p=f*t.sqrt(c+h)/h-(1/(2*i-1)-1/(2*n-1))*(c+5/6-2/(3*h)),f=n/(n+i*t.exp(2*p))):(o=t.log(n/(n+i)),l=t.log(i/(n+i)),f=r<(a=t.exp(n*o)/n)/(p=a+(s=t.exp(i*l)/i))?t.pow(n*p*r,1/n):1-t.pow(i*p*(1-r),1/i)),d=-e.gammaln(n)-e.gammaln(i)+e.gammaln(n+i);y<10;y++){if(0===f||1===f)return f;if((f-=a=(s=(e.ibeta(f,n,i)-r)/(a=t.exp(v*t.log(f)+m*t.log(1-f)+d)))/(1-.5*t.min(1,s*(v/f-m/(1-f)))))<=0&&(f=.5*(f+a)),f>=1&&(f=.5*(f+a+1)),t.abs(a)<g*f&&y>0)break}return f},e.ibeta=function(r,n,i){var o=0===r||1===r?0:t.exp(e.gammaln(n+i)-e.gammaln(n)-e.gammaln(i)+n*t.log(r)+i*t.log(1-r));return!(r<0||r>1)&&(r<(n+1)/(n+i+2)?o*e.betacf(r,n,i)/n:1-o*e.betacf(1-r,i,n)/i)},e.randn=function(r,n){var i,o,l,u,a;if(n||(n=r),r)return e.create(r,n,(function(){return e.randn()}));do{i=e._random_fn(),o=1.7156*(e._random_fn()-.5),a=(l=i-.449871)*l+(u=t.abs(o)+.386595)*(.196*u-.25472*l)}while(a>.27597&&(a>.27846||o*o>-4*t.log(i)*i*i));return o/i},e.randg=function(r,n,i){var o,l,u,a,s,f,c=r;if(i||(i=n),r||(r=1),n)return(f=e.zeros(n,i)).alter((function(){return e.randg(r)})),f;r<1&&(r+=1),o=r-1/3,l=1/t.sqrt(9*o);do{do{a=1+l*(s=e.randn())}while(a<=0);a*=a*a,u=e._random_fn()}while(u>1-.331*t.pow(s,4)&&t.log(u)>.5*s*s+o*(1-a+t.log(a)));if(r==c)return o*a;do{u=e._random_fn()}while(0===u);return t.pow(u,1/c)*o*a},function(t){for(var r=0;r<t.length;r++)!function(t){e.fn[t]=function(){return e(e.map(this,(function(r){return e[t](r)})))}}(t[r])}("gammaln gammafn factorial factorialln".split(" ")),function(t){for(var r=0;r<t.length;r++)!function(t){e.fn[t]=function(){return e(e[t].apply(null,arguments))}}(t[r])}("randn".split(" "))}(e,Math),function(e,t){function r(e,r,n,i){for(var o,l=0,u=1,a=1,s=1,f=0,c=0;t.abs((a-c)/a)>i;)c=a,u=s+(o=-(r+f)*(r+n+f)*e/(r+2*f)/(r+2*f+1))*u,a=(l=a+o*l)+(o=(f+=1)*(n-f)*e/(r+2*f-1)/(r+2*f))*a,l/=s=u+o*s,u/=s,a/=s,s=1;return a/r}function n(e){return e/t.abs(e)}function i(r,n,i){var o=12,l=6,u=-30,a=-50,s=60,f=8,c=3,h=2,p=3,d=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],g=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],v=.5*r;if(v>=f)return 1;var m,y=2*e.normal.cdf(v,0,1,1,0)-1;y=y>=t.exp(a/i)?t.pow(y,i):0;for(var b=v,w=(f-v)/(m=r>c?h:p),$=b+w,S=0,x=i-1,M=1;M<=m;M++){for(var P=0,E=.5*($+b),k=.5*($-b),O=1;O<=o;O++){var j,D=E+k*(l<O?d[(j=o-O+1)-1]:-d[(j=O)-1]),L=D*D;if(L>s)break;var C=2*e.normal.cdf(D,0,1,1,0)*.5-2*e.normal.cdf(D,r,1,1,0)*.5;C>=t.exp(u/x)&&(P+=C=g[j-1]*t.exp(-.5*L)*t.pow(C,x))}S+=P*=2*k*i/t.sqrt(2*t.PI),b=$,$+=w}return(y+=S)<=t.exp(u/n)?0:(y=t.pow(y,n))>=1?1:y}function o(e,r,n){var i=.322232421088,o=.099348462606,l=-1,u=.588581570495,a=-.342242088547,s=.531103462366,f=-.204231210125,c=.10353775285,h=-453642210148e-16,p=.0038560700634,d=.8832,g=.2368,v=1.214,m=1.208,y=1.4142,b=120,w=.5-.5*e,$=t.sqrt(t.log(1/(w*w))),S=$+(((($*h+f)*$+a)*$+l)*$+i)/(((($*p+c)*$+s)*$+u)*$+o);n<b&&(S+=(S*S*S+S)/n/4);var x=d-g*S;return n<b&&(x+=-v/n+m*S/n),S*(x*t.log(r-1)+y)}!function(t){for(var r=0;r<t.length;r++)!function(t){e[t]=function e(t,r,n){return this instanceof e?(this._a=t,this._b=r,this._c=n,this):new e(t,r,n)},e.fn[t]=function(r,n,i){var o=e[t](r,n,i);return o.data=this,o},e[t].prototype.sample=function(r){var n=this._a,i=this._b,o=this._c;return r?e.alter(r,(function(){return e[t].sample(n,i,o)})):e[t].sample(n,i,o)},function(r){for(var n=0;n<r.length;n++)!function(r){e[t].prototype[r]=function(n){var i=this._a,o=this._b,l=this._c;return n||0===n||(n=this.data),"number"!=typeof n?e.fn.map.call(n,(function(n){return e[t][r](n,i,o,l)})):e[t][r](n,i,o,l)}}(r[n])}("pdf cdf inv".split(" ")),function(r){for(var n=0;n<r.length;n++)!function(r){e[t].prototype[r]=function(){return e[t][r](this._a,this._b,this._c)}}(r[n])}("mean median mode variance".split(" "))}(t[r])}("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),e.extend(e.beta,{pdf:function(r,n,i){return r>1||r<0?0:1==n&&1==i?1:n<512&&i<512?t.pow(r,n-1)*t.pow(1-r,i-1)/e.betafn(n,i):t.exp((n-1)*t.log(r)+(i-1)*t.log(1-r)-e.betaln(n,i))},cdf:function(t,r,n){return t>1||t<0?1*(t>1):e.ibeta(t,r,n)},inv:function(t,r,n){return e.ibetainv(t,r,n)},mean:function(e,t){return e/(e+t)},median:function(t,r){return e.ibetainv(.5,t,r)},mode:function(e,t){return(e-1)/(e+t-2)},sample:function(t,r){var n=e.randg(t);return n/(n+e.randg(r))},variance:function(e,r){return e*r/(t.pow(e+r,2)*(e+r+1))}}),e.extend(e.centralF,{pdf:function(r,n,i){var o;return r<0?0:n<=2?0===r&&n<2?1/0:0===r&&2===n?1:1/e.betafn(n/2,i/2)*t.pow(n/i,n/2)*t.pow(r,n/2-1)*t.pow(1+n/i*r,-(n+i)/2):(o=n*r/(i+r*n),n*(i/(i+r*n))/2*e.binomial.pdf((n-2)/2,(n+i-2)/2,o))},cdf:function(t,r,n){return t<0?0:e.ibeta(r*t/(r*t+n),r/2,n/2)},inv:function(t,r,n){return n/(r*(1/e.ibetainv(t,r/2,n/2)-1))},mean:function(e,t){return t>2?t/(t-2):void 0},mode:function(e,t){return e>2?t*(e-2)/(e*(t+2)):void 0},sample:function(t,r){return 2*e.randg(t/2)/t/(2*e.randg(r/2)/r)},variance:function(e,t){if(!(t<=4))return 2*t*t*(e+t-2)/(e*(t-2)*(t-2)*(t-4))}}),e.extend(e.cauchy,{pdf:function(e,r,n){return n<0?0:n/(t.pow(e-r,2)+t.pow(n,2))/t.PI},cdf:function(e,r,n){return t.atan((e-r)/n)/t.PI+.5},inv:function(e,r,n){return r+n*t.tan(t.PI*(e-.5))},median:function(e){return e},mode:function(e){return e},sample:function(r,n){return e.randn()*t.sqrt(1/(2*e.randg(.5)))*n+r}}),e.extend(e.chisquare,{pdf:function(r,n){return r<0?0:0===r&&2===n?.5:t.exp((n/2-1)*t.log(r)-r/2-n/2*t.log(2)-e.gammaln(n/2))},cdf:function(t,r){return t<0?0:e.lowRegGamma(r/2,t/2)},inv:function(t,r){return 2*e.gammapinv(t,.5*r)},mean:function(e){return e},median:function(e){return e*t.pow(1-2/(9*e),3)},mode:function(e){return e-2>0?e-2:0},sample:function(t){return 2*e.randg(t/2)},variance:function(e){return 2*e}}),e.extend(e.exponential,{pdf:function(e,r){return e<0?0:r*t.exp(-r*e)},cdf:function(e,r){return e<0?0:1-t.exp(-r*e)},inv:function(e,r){return-t.log(1-e)/r},mean:function(e){return 1/e},median:function(e){return 1/e*t.log(2)},mode:function(){return 0},sample:function(r){return-1/r*t.log(e._random_fn())},variance:function(e){return t.pow(e,-2)}}),e.extend(e.gamma,{pdf:function(r,n,i){return r<0?0:0===r&&1===n?1/i:t.exp((n-1)*t.log(r)-r/i-e.gammaln(n)-n*t.log(i))},cdf:function(t,r,n){return t<0?0:e.lowRegGamma(r,t/n)},inv:function(t,r,n){return e.gammapinv(t,r)*n},mean:function(e,t){return e*t},mode:function(e,t){if(e>1)return(e-1)*t},sample:function(t,r){return e.randg(t)*r},variance:function(e,t){return e*t*t}}),e.extend(e.invgamma,{pdf:function(r,n,i){return r<=0?0:t.exp(-(n+1)*t.log(r)-i/r-e.gammaln(n)+n*t.log(i))},cdf:function(t,r,n){return t<=0?0:1-e.lowRegGamma(r,n/t)},inv:function(t,r,n){return n/e.gammapinv(1-t,r)},mean:function(e,t){return e>1?t/(e-1):void 0},mode:function(e,t){return t/(e+1)},sample:function(t,r){return r/e.randg(t)},variance:function(e,t){if(!(e<=2))return t*t/((e-1)*(e-1)*(e-2))}}),e.extend(e.kumaraswamy,{pdf:function(e,r,n){return 0===e&&1===r?n:1===e&&1===n?r:t.exp(t.log(r)+t.log(n)+(r-1)*t.log(e)+(n-1)*t.log(1-t.pow(e,r)))},cdf:function(e,r,n){return e<0?0:e>1?1:1-t.pow(1-t.pow(e,r),n)},inv:function(e,r,n){return t.pow(1-t.pow(1-e,1/n),1/r)},mean:function(t,r){return r*e.gammafn(1+1/t)*e.gammafn(r)/e.gammafn(1+1/t+r)},median:function(e,r){return t.pow(1-t.pow(2,-1/r),1/e)},mode:function(e,r){if(e>=1&&r>=1&&1!==e&&1!==r)return t.pow((e-1)/(e*r-1),1/e)},variance:function(){throw new Error("variance not yet implemented")}}),e.extend(e.lognormal,{pdf:function(e,r,n){return e<=0?0:t.exp(-t.log(e)-.5*t.log(2*t.PI)-t.log(n)-t.pow(t.log(e)-r,2)/(2*n*n))},cdf:function(r,n,i){return r<0?0:.5+.5*e.erf((t.log(r)-n)/t.sqrt(2*i*i))},inv:function(r,n,i){return t.exp(-1.4142135623730951*i*e.erfcinv(2*r)+n)},mean:function(e,r){return t.exp(e+r*r/2)},median:function(e){return t.exp(e)},mode:function(e,r){return t.exp(e-r*r)},sample:function(r,n){return t.exp(e.randn()*n+r)},variance:function(e,r){return(t.exp(r*r)-1)*t.exp(2*e+r*r)}}),e.extend(e.noncentralt,{pdf:function(r,n,i){var o=1e-14;return t.abs(i)<o?e.studentt.pdf(r,n):t.abs(r)<o?t.exp(e.gammaln((n+1)/2)-i*i/2-.5*t.log(t.PI*n)-e.gammaln(n/2)):n/r*(e.noncentralt.cdf(r*t.sqrt(1+2/n),n+2,i)-e.noncentralt.cdf(r,n,i))},cdf:function(r,n,i){var o=1e-14,l=200;if(t.abs(i)<o)return e.studentt.cdf(r,n);var u=!1;r<0&&(u=!0,i=-i);for(var a=e.normal.cdf(-i,0,1),s=o+1,f=s,c=r*r/(r*r+n),h=0,p=t.exp(-i*i/2),d=t.exp(-i*i/2-.5*t.log(2)-e.gammaln(1.5))*i;h<l||f>o||s>o;)f=s,h>0&&(p*=i*i/(2*h),d*=i*i/(2*(h+.5))),a+=.5*(s=p*e.beta.cdf(c,h+.5,n/2)+d*e.beta.cdf(c,h+1,n/2)),h++;return u?1-a:a}}),e.extend(e.normal,{pdf:function(e,r,n){return t.exp(-.5*t.log(2*t.PI)-t.log(n)-t.pow(e-r,2)/(2*n*n))},cdf:function(r,n,i){return.5*(1+e.erf((r-n)/t.sqrt(2*i*i)))},inv:function(t,r,n){return-1.4142135623730951*n*e.erfcinv(2*t)+r},mean:function(e){return e},median:function(e){return e},mode:function(e){return e},sample:function(t,r){return e.randn()*r+t},variance:function(e,t){return t*t}}),e.extend(e.pareto,{pdf:function(e,r,n){return e<r?0:n*t.pow(r,n)/t.pow(e,n+1)},cdf:function(e,r,n){return e<r?0:1-t.pow(r/e,n)},inv:function(e,r,n){return r/t.pow(1-e,1/n)},mean:function(e,r){if(!(r<=1))return r*t.pow(e,r)/(r-1)},median:function(e,r){return e*(r*t.SQRT2)},mode:function(e){return e},variance:function(e,r){if(!(r<=2))return e*e*r/(t.pow(r-1,2)*(r-2))}}),e.extend(e.studentt,{pdf:function(r,n){return n=n>1e100?1e100:n,1/(t.sqrt(n)*e.betafn(.5,n/2))*t.pow(1+r*r/n,-(n+1)/2)},cdf:function(r,n){var i=n/2;return e.ibeta((r+t.sqrt(r*r+n))/(2*t.sqrt(r*r+n)),i,i)},inv:function(r,n){var i=e.ibetainv(2*t.min(r,1-r),.5*n,.5);return i=t.sqrt(n*(1-i)/i),r>.5?i:-i},mean:function(e){return e>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(r){return e.randn()*t.sqrt(r/(2*e.randg(r/2)))},variance:function(e){return e>2?e/(e-2):e>1?1/0:void 0}}),e.extend(e.weibull,{pdf:function(e,r,n){return e<0||r<0||n<0?0:n/r*t.pow(e/r,n-1)*t.exp(-t.pow(e/r,n))},cdf:function(e,r,n){return e<0?0:1-t.exp(-t.pow(e/r,n))},inv:function(e,r,n){return r*t.pow(-t.log(1-e),1/n)},mean:function(t,r){return t*e.gammafn(1+1/r)},median:function(e,r){return e*t.pow(t.log(2),1/r)},mode:function(e,r){return r<=1?0:e*t.pow((r-1)/r,1/r)},sample:function(r,n){return r*t.pow(-t.log(e._random_fn()),1/n)},variance:function(r,n){return r*r*e.gammafn(1+2/n)-t.pow(e.weibull.mean(r,n),2)}}),e.extend(e.uniform,{pdf:function(e,t,r){return e<t||e>r?0:1/(r-t)},cdf:function(e,t,r){return e<t?0:e<r?(e-t)/(r-t):1},inv:function(e,t,r){return t+e*(r-t)},mean:function(e,t){return.5*(e+t)},median:function(t,r){return e.mean(t,r)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(t,r){return t/2+r/2+(r/2-t/2)*(2*e._random_fn()-1)},variance:function(e,r){return t.pow(r-e,2)/12}}),e.extend(e.binomial,{pdf:function(r,n,i){return 0===i||1===i?n*i===r?1:0:e.combination(n,r)*t.pow(i,r)*t.pow(1-i,n-r)},cdf:function(n,i,o){var l,u=1e-10;if(n<0)return 0;if(n>=i)return 1;if(o<0||o>1||i<=0)return NaN;var a=o,s=(n=t.floor(n))+1,f=i-n,c=s+f,h=t.exp(e.gammaln(c)-e.gammaln(f)-e.gammaln(s)+s*t.log(a)+f*t.log(1-a));return l=a<(s+1)/(c+2)?h*r(a,s,f,u):1-h*r(1-a,f,s,u),t.round(1/u*(1-l))/(1/u)}}),e.extend(e.negbin,{pdf:function(r,n,i){return r===r>>>0&&(r<0?0:e.combination(r+n-1,n-1)*t.pow(1-i,r)*t.pow(i,n))},cdf:function(t,r,n){var i=0,o=0;if(t<0)return 0;for(;o<=t;o++)i+=e.negbin.pdf(o,r,n);return i}}),e.extend(e.hypgeom,{pdf:function(r,n,i,o){if(r!=r|0)return!1;if(r<0||r<i-(n-o))return 0;if(r>o||r>i)return 0;if(2*i>n)return 2*o>n?e.hypgeom.pdf(n-i-o+r,n,n-i,n-o):e.hypgeom.pdf(o-r,n,n-i,o);if(2*o>n)return e.hypgeom.pdf(i-r,n,i,n-o);if(i<o)return e.hypgeom.pdf(r,n,o,i);for(var l=1,u=0,a=0;a<r;a++){for(;l>1&&u<o;)l*=1-i/(n-u),u++;l*=(o-a)*(i-a)/((a+1)*(n-i-o+a+1))}for(;u<o;u++)l*=1-i/(n-u);return t.min(1,t.max(0,l))},cdf:function(r,n,i,o){if(r<0||r<i-(n-o))return 0;if(r>=o||r>=i)return 1;if(2*i>n)return 2*o>n?e.hypgeom.cdf(n-i-o+r,n,n-i,n-o):1-e.hypgeom.cdf(o-r-1,n,n-i,o);if(2*o>n)return 1-e.hypgeom.cdf(i-r-1,n,i,n-o);if(i<o)return e.hypgeom.cdf(r,n,o,i);for(var l=1,u=1,a=0,s=0;s<r;s++){for(;l>1&&a<o;){var f=1-i/(n-a);u*=f,l*=f,a++}l+=u*=(o-s)*(i-s)/((s+1)*(n-i-o+s+1))}for(;a<o;a++)l*=1-i/(n-a);return t.min(1,t.max(0,l))}}),e.extend(e.poisson,{pdf:function(r,n){return n<0||r%1!=0||r<0?0:t.pow(n,r)*t.exp(-n)/e.factorial(r)},cdf:function(t,r){var n=[],i=0;if(t<0)return 0;for(;i<=t;i++)n.push(e.poisson.pdf(i,r));return e.sum(n)},mean:function(e){return e},variance:function(e){return e},sampleSmall:function(r){var n=1,i=0,o=t.exp(-r);do{i++,n*=e._random_fn()}while(n>o);return i-1},sampleLarge:function(r){var n,i,o,l,u,a,s,f,c,h,p=r;for(l=t.sqrt(p),u=t.log(p),a=.02483*(s=.931+2.53*l)-.059,f=1.1239+1.1328/(s-3.4),c=.9277-3.6224/(s-2);;){if(i=t.random()-.5,o=t.random(),h=.5-t.abs(i),n=t.floor((2*a/h+s)*i+p+.43),h>=.07&&o<=c)return n;if(!(n<0||h<.013&&o>h)&&t.log(o)+t.log(f)-t.log(a/(h*h)+s)<=n*u-p-e.loggam(n+1))return n}},sample:function(e){return e<10?this.sampleSmall(e):this.sampleLarge(e)}}),e.extend(e.triangular,{pdf:function(e,t,r,n){return r<=t||n<t||n>r?NaN:e<t||e>r?0:e<n?2*(e-t)/((r-t)*(n-t)):e===n?2/(r-t):2*(r-e)/((r-t)*(r-n))},cdf:function(e,r,n,i){return n<=r||i<r||i>n?NaN:e<=r?0:e>=n?1:e<=i?t.pow(e-r,2)/((n-r)*(i-r)):1-t.pow(n-e,2)/((n-r)*(n-i))},inv:function(e,r,n,i){return n<=r||i<r||i>n?NaN:e<=(i-r)/(n-r)?r+(n-r)*t.sqrt(e*((i-r)/(n-r))):r+(n-r)*(1-t.sqrt((1-e)*(1-(i-r)/(n-r))))},mean:function(e,t,r){return(e+t+r)/3},median:function(e,r,n){return n<=(e+r)/2?r-t.sqrt((r-e)*(r-n))/t.sqrt(2):n>(e+r)/2?e+t.sqrt((r-e)*(n-e))/t.sqrt(2):void 0},mode:function(e,t,r){return r},sample:function(r,n,i){var o=e._random_fn();return o<(i-r)/(n-r)?r+t.sqrt(o*(n-r)*(i-r)):n-t.sqrt((1-o)*(n-r)*(n-i))},variance:function(e,t,r){return(e*e+t*t+r*r-e*t-e*r-t*r)/18}}),e.extend(e.arcsine,{pdf:function(e,r,n){return n<=r?NaN:e<=r||e>=n?0:2/t.PI*t.pow(t.pow(n-r,2)-t.pow(2*e-r-n,2),-.5)},cdf:function(e,r,n){return e<r?0:e<n?2/t.PI*t.asin(t.sqrt((e-r)/(n-r))):1},inv:function(e,r,n){return r+(.5-.5*t.cos(t.PI*e))*(n-r)},mean:function(e,t){return t<=e?NaN:(e+t)/2},median:function(e,t){return t<=e?NaN:(e+t)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(r,n){return(r+n)/2+(n-r)/2*t.sin(2*t.PI*e.uniform.sample(0,1))},variance:function(e,r){return r<=e?NaN:t.pow(r-e,2)/8}}),e.extend(e.laplace,{pdf:function(e,r,n){return n<=0?0:t.exp(-t.abs(e-r)/n)/(2*n)},cdf:function(e,r,n){return n<=0?0:e<r?.5*t.exp((e-r)/n):1-.5*t.exp(-(e-r)/n)},mean:function(e){return e},median:function(e){return e},mode:function(e){return e},variance:function(e,t){return 2*t*t},sample:function(r,i){var o=e._random_fn()-.5;return r-i*n(o)*t.log(1-2*t.abs(o))}}),e.extend(e.tukey,{cdf:function(r,n,o){var l=1,u=n,a=16,s=8,f=-30,c=1e-14,h=100,p=800,d=5e3,g=25e3,v=1,m=.5,y=.25,b=.125,w=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],$=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(r<=0)return 0;if(o<2||l<1||u<2)return NaN;if(!Number.isFinite(r))return 1;if(o>g)return i(r,l,u);var S,x=.5*o,M=x*t.log(o)-o*t.log(2)-e.gammaln(x),P=x-1,E=.25*o;S=o<=h?v:o<=p?m:o<=d?y:b,M+=t.log(S);for(var k=0,O=1;O<=50;O++){for(var j=0,D=(2*O-1)*S,L=1;L<=a;L++){var C,R;s<L?(C=L-s-1,R=M+P*t.log(D+w[C]*S)-(w[C]*S+D)*E):(C=L-1,R=M+P*t.log(D-w[C]*S)+(w[C]*S-D)*E),R>=f&&(j+=i(s<L?r*t.sqrt(.5*(w[C]*S+D)):r*t.sqrt(.5*(-w[C]*S+D)),l,u)*$[C]*t.exp(R))}if(O*S>=1&&j<=c)break;k+=j}if(j>c)throw new Error("tukey.cdf failed to converge");return k>1&&(k=1),k},inv:function(r,n,i){var l=1e-4,u=50;if(i<2||n<2)return NaN;if(r<0||r>1)return NaN;if(0===r)return 0;if(1===r)return 1/0;var a,s=o(r,n,i),f=e.tukey.cdf(s,n,i)-r;a=f>0?t.max(0,s-1):s+1;for(var c,h=e.tukey.cdf(a,n,i)-r,p=1;p<u;p++)if(c=a-h*(a-s)/(h-f),f=h,s=a,c<0&&(c=0,h=-r),h=e.tukey.cdf(c,n,i)-r,a=c,t.abs(a-s)<l)return c;throw new Error("tukey.inv failed to converge")}})}(e,Math),function(e,t){var r=Array.prototype.push,n=e.utils.isArray;function i(t){return n(t)||t instanceof e}e.extend({add:function(t,r){return i(r)?(i(r[0])||(r=[r]),e.map(t,(function(e,t,n){return e+r[t][n]}))):e.map(t,(function(e){return e+r}))},subtract:function(t,r){return i(r)?(i(r[0])||(r=[r]),e.map(t,(function(e,t,n){return e-r[t][n]||0}))):e.map(t,(function(e){return e-r}))},divide:function(t,r){return i(r)?(i(r[0])||(r=[r]),e.multiply(t,e.inv(r))):e.map(t,(function(e){return e/r}))},multiply:function(t,r){var n,o,l,u,a,s,f,c;if(void 0===t.length&&void 0===r.length)return t*r;if(a=t.length,s=t[0].length,f=e.zeros(a,l=i(r)?r[0].length:s),c=0,i(r)){for(;c<l;c++)for(n=0;n<a;n++){for(u=0,o=0;o<s;o++)u+=t[n][o]*r[o][c];f[n][c]=u}return 1===a&&1===c?f[0][0]:f}return e.map(t,(function(e){return e*r}))},outer:function(t,r){return e.multiply(t.map((function(e){return[e]})),[r])},dot:function(t,r){i(t[0])||(t=[t]),i(r[0])||(r=[r]);for(var n,o,l=1===t[0].length&&1!==t.length?e.transpose(t):t,u=1===r[0].length&&1!==r.length?e.transpose(r):r,a=[],s=0,f=l.length,c=l[0].length;s<f;s++){for(a[s]=[],n=0,o=0;o<c;o++)n+=l[s][o]*u[s][o];a[s]=n}return 1===a.length?a[0]:a},pow:function(r,n){return e.map(r,(function(e){return t.pow(e,n)}))},exp:function(r){return e.map(r,(function(e){return t.exp(e)}))},log:function(r){return e.map(r,(function(e){return t.log(e)}))},abs:function(r){return e.map(r,(function(e){return t.abs(e)}))},norm:function(e,r){var n=0,o=0;for(isNaN(r)&&(r=2),i(e[0])&&(e=e[0]);o<e.length;o++)n+=t.pow(t.abs(e[o]),r);return t.pow(n,1/r)},angle:function(r,n){return t.acos(e.dot(r,n)/(e.norm(r)*e.norm(n)))},aug:function(e,t){var n,i=[];for(n=0;n<e.length;n++)i.push(e[n].slice());for(n=0;n<i.length;n++)r.apply(i[n],t[n]);return i},inv:function(t){for(var r,n=t.length,i=t[0].length,o=e.identity(n,i),l=e.gauss_jordan(t,o),u=[],a=0;a<n;a++)for(u[a]=[],r=i;r<l[0].length;r++)u[a][r-i]=l[a][r];return u},det:function e(t){if(2===t.length)return t[0][0]*t[1][1]-t[0][1]*t[1][0];for(var r=0,n=0;n<t.length;n++){for(var i=[],o=1;o<t.length;o++){i[o-1]=[];for(var l=0;l<t.length;l++)l<n?i[o-1][l]=t[o][l]:l>n&&(i[o-1][l-1]=t[o][l])}var u=n%2?-1:1;r+=e(i)*t[0][n]*u}return r},gauss_elimination:function(r,n){var i,o,l,u,a=0,s=0,f=r.length,c=r[0].length,h=1,p=0,d=[];for(i=(r=e.aug(r,n))[0].length,a=0;a<f;a++){for(o=r[a][a],s=a,u=a+1;u<c;u++)o<t.abs(r[u][a])&&(o=r[u][a],s=u);if(s!=a)for(u=0;u<i;u++)l=r[a][u],r[a][u]=r[s][u],r[s][u]=l;for(s=a+1;s<f;s++)for(h=r[s][a]/r[a][a],u=a;u<i;u++)r[s][u]=r[s][u]-h*r[a][u]}for(a=f-1;a>=0;a--){for(p=0,s=a+1;s<=f-1;s++)p+=d[s]*r[a][s];d[a]=(r[a][i-1]-p)/r[a][a]}return d},gauss_jordan:function(r,n){var i,o,l,u=e.aug(r,n),a=u.length,s=u[0].length,f=0;for(o=0;o<a;o++){var c=o;for(l=o+1;l<a;l++)t.abs(u[l][o])>t.abs(u[c][o])&&(c=l);var h=u[o];for(u[o]=u[c],u[c]=h,l=o+1;l<a;l++)for(f=u[l][o]/u[o][o],i=o;i<s;i++)u[l][i]-=u[o][i]*f}for(o=a-1;o>=0;o--){for(f=u[o][o],l=0;l<o;l++)for(i=s-1;i>o-1;i--)u[l][i]-=u[o][i]*u[l][o]/f;for(u[o][o]/=f,i=a;i<s;i++)u[o][i]/=f}return u},triaUpSolve:function(t,r){var n,i=t[0].length,o=e.zeros(1,i)[0],l=!1;return null!=r[0].length&&(r=r.map((function(e){return e[0]})),l=!0),e.arange(i-1,-1,-1).forEach((function(l){n=e.arange(l+1,i).map((function(e){return o[e]*t[l][e]})),o[l]=(r[l]-e.sum(n))/t[l][l]})),l?o.map((function(e){return[e]})):o},triaLowSolve:function(t,r){var n,i=t[0].length,o=e.zeros(1,i)[0],l=!1;return null!=r[0].length&&(r=r.map((function(e){return e[0]})),l=!0),e.arange(i).forEach((function(i){n=e.arange(i).map((function(e){return t[i][e]*o[e]})),o[i]=(r[i]-e.sum(n))/t[i][i]})),l?o.map((function(e){return[e]})):o},lu:function(t){var r,n=t.length,i=e.identity(n),o=e.zeros(t.length,t[0].length);return e.arange(n).forEach((function(e){o[0][e]=t[0][e]})),e.arange(1,n).forEach((function(l){e.arange(l).forEach((function(n){r=e.arange(n).map((function(e){return i[l][e]*o[e][n]})),i[l][n]=(t[l][n]-e.sum(r))/o[n][n]})),e.arange(l,n).forEach((function(n){r=e.arange(l).map((function(e){return i[l][e]*o[e][n]})),o[l][n]=t[r.length][n]-e.sum(r)}))})),[i,o]},cholesky:function(r){var n,i=r.length,o=e.zeros(r.length,r[0].length);return e.arange(i).forEach((function(l){n=e.arange(l).map((function(e){return t.pow(o[l][e],2)})),o[l][l]=t.sqrt(r[l][l]-e.sum(n)),e.arange(l+1,i).forEach((function(t){n=e.arange(l).map((function(e){return o[l][e]*o[t][e]})),o[t][l]=(r[l][t]-e.sum(n))/o[l][l]}))})),o},gauss_jacobi:function(r,n,i,o){for(var l,u,a,s,f=0,c=0,h=r.length,p=[],d=[],g=[];f<h;f++)for(p[f]=[],d[f]=[],g[f]=[],c=0;c<h;c++)f>c?(p[f][c]=r[f][c],d[f][c]=g[f][c]=0):f<c?(d[f][c]=r[f][c],p[f][c]=g[f][c]=0):(g[f][c]=r[f][c],p[f][c]=d[f][c]=0);for(a=e.multiply(e.multiply(e.inv(g),e.add(p,d)),-1),u=e.multiply(e.inv(g),n),l=i,s=e.add(e.multiply(a,i),u),f=2;t.abs(e.norm(e.subtract(s,l)))>o;)l=s,s=e.add(e.multiply(a,l),u),f++;return s},gauss_seidel:function(r,n,i,o){for(var l,u,a,s,f,c=0,h=r.length,p=[],d=[],g=[];c<h;c++)for(p[c]=[],d[c]=[],g[c]=[],l=0;l<h;l++)c>l?(p[c][l]=r[c][l],d[c][l]=g[c][l]=0):c<l?(d[c][l]=r[c][l],p[c][l]=g[c][l]=0):(g[c][l]=r[c][l],p[c][l]=d[c][l]=0);for(s=e.multiply(e.multiply(e.inv(e.add(g,p)),d),-1),a=e.multiply(e.inv(e.add(g,p)),n),u=i,f=e.add(e.multiply(s,i),a),c=2;t.abs(e.norm(e.subtract(f,u)))>o;)u=f,f=e.add(e.multiply(s,u),a),c+=1;return f},SOR:function(r,n,i,o,l){for(var u,a,s,f,c,h=0,p=r.length,d=[],g=[],v=[];h<p;h++)for(d[h]=[],g[h]=[],v[h]=[],u=0;u<p;u++)h>u?(d[h][u]=r[h][u],g[h][u]=v[h][u]=0):h<u?(g[h][u]=r[h][u],d[h][u]=v[h][u]=0):(v[h][u]=r[h][u],d[h][u]=g[h][u]=0);for(f=e.multiply(e.inv(e.add(v,e.multiply(d,l))),e.subtract(e.multiply(v,1-l),e.multiply(g,l))),s=e.multiply(e.multiply(e.inv(e.add(v,e.multiply(d,l))),n),l),a=i,c=e.add(e.multiply(f,i),s),h=2;t.abs(e.norm(e.subtract(c,a)))>o;)a=c,c=e.add(e.multiply(f,a),s),h++;return c},householder:function(r){for(var n,i,o,l,u=r.length,a=r[0].length,s=0,f=[],c=[];s<u-1;s++){for(n=0,l=s+1;l<a;l++)n+=r[l][s]*r[l][s];for(n=(r[s+1][s]>0?-1:1)*t.sqrt(n),i=t.sqrt((n*n-r[s+1][s]*n)/2),(f=e.zeros(u,1))[s+1][0]=(r[s+1][s]-n)/(2*i),o=s+2;o<u;o++)f[o][0]=r[o][s]/(2*i);c=e.subtract(e.identity(u,a),e.multiply(e.multiply(f,e.transpose(f)),2)),r=e.multiply(c,e.multiply(r,c))}return r},QR:function(){var r=e.sum,n=e.arange;function i(i){var o,l,u,a=i.length,s=i[0].length,f=e.zeros(s,s);for(i=e.copy(i),l=0;l<s;l++){for(f[l][l]=t.sqrt(r(n(a).map((function(e){return i[e][l]*i[e][l]})))),o=0;o<a;o++)i[o][l]=i[o][l]/f[l][l];for(u=l+1;u<s;u++)for(f[l][u]=r(n(a).map((function(e){return i[e][l]*i[e][u]}))),o=0;o<a;o++)i[o][u]=i[o][u]-i[o][l]*f[l][u]}return[i,f]}return i}(),lstsq:function(){function t(t){var r=(t=e.copy(t)).length,n=e.identity(r);return e.arange(r-1,-1,-1).forEach((function(r){e.sliceAssign(n,{row:r},e.divide(e.slice(n,{row:r}),t[r][r])),e.sliceAssign(t,{row:r},e.divide(e.slice(t,{row:r}),t[r][r])),e.arange(r).forEach((function(i){var o=e.multiply(t[i][r],-1),l=e.slice(t,{row:i}),u=e.multiply(e.slice(t,{row:r}),o);e.sliceAssign(t,{row:i},e.add(l,u));var a=e.slice(n,{row:i}),s=e.multiply(e.slice(n,{row:r}),o);e.sliceAssign(n,{row:i},e.add(a,s))}))})),n}function r(r,n){var i=!1;void 0===n[0].length&&(n=n.map((function(e){return[e]})),i=!0);var o=e.QR(r),l=o[0],u=o[1],a=r[0].length,s=e.slice(l,{col:{end:a}}),f=t(e.slice(u,{row:{end:a}})),c=e.transpose(s);void 0===c[0].length&&(c=[c]);var h=e.multiply(e.multiply(f,c),n);return void 0===h.length&&(h=[[h]]),i?h.map((function(e){return e[0]})):h}return r}(),jacobi:function(r){for(var n,i,o,l,u,a,s,f=1,c=r.length,h=e.identity(c,c),p=[];1===f;){for(u=r[0][1],o=0,l=1,n=0;n<c;n++)for(i=0;i<c;i++)n!=i&&u<t.abs(r[n][i])&&(u=t.abs(r[n][i]),o=n,l=i);for(a=r[o][o]===r[l][l]?r[o][l]>0?t.PI/4:-t.PI/4:t.atan(2*r[o][l]/(r[o][o]-r[l][l]))/2,(s=e.identity(c,c))[o][o]=t.cos(a),s[o][l]=-t.sin(a),s[l][o]=t.sin(a),s[l][l]=t.cos(a),h=e.multiply(h,s),r=e.multiply(e.multiply(e.inv(s),r),s),f=0,n=1;n<c;n++)for(i=1;i<c;i++)n!=i&&t.abs(r[n][i])>.001&&(f=1)}for(n=0;n<c;n++)p.push(r[n][n]);return[h,p]},rungekutta:function(e,t,r,n,i,o){var l,u,a;if(2===o)for(;n<=r;)i+=((l=t*e(n,i))+(u=t*e(n+t,i+l)))/2,n+=t;if(4===o)for(;n<=r;)i+=((l=t*e(n,i))+2*(u=t*e(n+t/2,i+l/2))+2*(a=t*e(n+t/2,i+u/2))+t*e(n+t,i+a))/6,n+=t;return i},romberg:function(e,r,n,i){for(var o,l,u,a,s,f=0,c=(n-r)/2,h=[],p=[],d=[];f<i/2;){for(s=e(r),u=r,a=0;u<=n;u+=c,a++)h[a]=u;for(o=h.length,u=1;u<o-1;u++)s+=(u%2!=0?4:2)*e(h[u]);s=c/3*(s+e(n)),d[f]=s,c/=2,f++}for(l=d.length,o=1;1!==l;){for(u=0;u<l-1;u++)p[u]=(t.pow(4,o)*d[u+1]-d[u])/(t.pow(4,o)-1);l=p.length,d=p,p=[],o++}return d},richardson:function(e,r,n,i){function o(e,t){for(var r,n=0,i=e.length;n<i;n++)e[n]===t&&(r=n);return r}for(var l,u,a,s,f,c=t.abs(n-e[o(e,n)+1]),h=0,p=[],d=[];i>=c;)l=o(e,n+i),u=o(e,n),p[h]=(r[l]-2*r[u]+r[2*u-l])/(i*i),i/=2,h++;for(s=p.length,a=1;1!=s;){for(f=0;f<s-1;f++)d[f]=(t.pow(4,a)*p[f+1]-p[f])/(t.pow(4,a)-1);s=d.length,p=d,d=[],a++}return p},simpson:function(e,t,r,n){for(var i,o=(r-t)/n,l=e(t),u=[],a=t,s=0,f=1;a<=r;a+=o,s++)u[s]=a;for(i=u.length;f<i-1;f++)l+=(f%2!=0?4:2)*e(u[f]);return o/3*(l+e(r))},hermite:function(e,t,r,n){for(var i,o=e.length,l=0,u=0,a=[],s=[],f=[],c=[];u<o;u++){for(a[u]=1,i=0;i<o;i++)u!=i&&(a[u]*=(n-e[i])/(e[u]-e[i]));for(s[u]=0,i=0;i<o;i++)u!=i&&(s[u]+=1/(e[u]-e[i]));f[u]=(1-2*(n-e[u])*s[u])*(a[u]*a[u]),c[u]=(n-e[u])*(a[u]*a[u]),l+=f[u]*t[u]+c[u]*r[u]}return l},lagrange:function(e,t,r){for(var n,i,o=0,l=0,u=e.length;l<u;l++){for(i=t[l],n=0;n<u;n++)l!=n&&(i*=(r-e[n])/(e[l]-e[n]));o+=i}return o},cubic_spline:function(t,r,n){for(var i,o=t.length,l=0,u=[],a=[],s=[],f=[],c=[],h=[],p=[];l<o-1;l++)c[l]=t[l+1]-t[l];for(s[0]=0,l=1;l<o-1;l++)s[l]=3/c[l]*(r[l+1]-r[l])-3/c[l-1]*(r[l]-r[l-1]);for(l=1;l<o-1;l++)u[l]=[],a[l]=[],u[l][l-1]=c[l-1],u[l][l]=2*(c[l-1]+c[l]),u[l][l+1]=c[l],a[l][0]=s[l];for(f=e.multiply(e.inv(u),a),i=0;i<o-1;i++)h[i]=(r[i+1]-r[i])/c[i]-c[i]*(f[i+1][0]+2*f[i][0])/3,p[i]=(f[i+1][0]-f[i][0])/(3*c[i]);for(i=0;i<o&&!(t[i]>n);i++);return r[i-=1]+(n-t[i])*h[i]+e.sq(n-t[i])*f[i]+(n-t[i])*e.sq(n-t[i])*p[i]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(t){var r,n,i=t.length,o=t[0].length,l=0,u=[],a=[],s=[],f=[],c=[],h=[],p=[],d=[],g=[],v=[];for(l=0;l<i;l++)u[l]=e.sum(t[l])/o;for(l=0;l<o;l++)for(p[l]=[],r=0;r<i;r++)p[l][r]=t[r][l]-u[r];for(p=e.transpose(p),l=0;l<i;l++)for(d[l]=[],r=0;r<i;r++)d[l][r]=e.dot([p[l]],[p[r]])/(o-1);for(g=(s=e.jacobi(d))[0],a=s[1],v=e.transpose(g),l=0;l<a.length;l++)for(r=l;r<a.length;r++)a[l]<a[r]&&(n=a[l],a[l]=a[r],a[r]=n,f=v[l],v[l]=v[r],v[r]=f);for(h=e.transpose(p),l=0;l<i;l++)for(c[l]=[],r=0;r<h.length;r++)c[l][r]=e.dot([v[l]],[h[r]]);return[t,a,v,c]}}),function(t){for(var r=0;r<t.length;r++)!function(t){e.fn[t]=function(r,n){var i=this;return n?(setTimeout((function(){n.call(i,e.fn[t].call(i,r))}),15),this):"number"==typeof e[t](this,r)?e[t](this,r):e(e[t](this,r))}}(t[r])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(e,Math),function(e,t){var r=[].slice,n=e.utils.isNumber,i=e.utils.isArray;function o(e,r,n,i){if(e>1||n>1||e<=0||n<=0)throw new Error("Proportions should be greater than 0 and less than 1");var o=(e*r+n*i)/(r+i);return(e-n)/t.sqrt(o*(1-o)*(1/r+1/i))}e.extend({zscore:function(){var t=r.call(arguments);return n(t[1])?(t[0]-t[1])/t[2]:(t[0]-e.mean(t[1]))/e.stdev(t[1],t[2])},ztest:function(){var n,o=r.call(arguments);return i(o[1])?(n=e.zscore(o[0],o[1],o[3]),1===o[2]?e.normal.cdf(-t.abs(n),0,1):2*e.normal.cdf(-t.abs(n),0,1)):o.length>2?(n=e.zscore(o[0],o[1],o[2]),1===o[3]?e.normal.cdf(-t.abs(n),0,1):2*e.normal.cdf(-t.abs(n),0,1)):(n=o[0],1===o[1]?e.normal.cdf(-t.abs(n),0,1):2*e.normal.cdf(-t.abs(n),0,1))}}),e.extend(e.fn,{zscore:function(e,t){return(e-this.mean())/this.stdev(t)},ztest:function(r,n,i){var o=t.abs(this.zscore(r,i));return 1===n?e.normal.cdf(-o,0,1):2*e.normal.cdf(-o,0,1)}}),e.extend({tscore:function(){var n=r.call(arguments);return 4===n.length?(n[0]-n[1])/(n[2]/t.sqrt(n[3])):(n[0]-e.mean(n[1]))/(e.stdev(n[1],!0)/t.sqrt(n[1].length))},ttest:function(){var i,o=r.call(arguments);return 5===o.length?(i=t.abs(e.tscore(o[0],o[1],o[2],o[3])),1===o[4]?e.studentt.cdf(-i,o[3]-1):2*e.studentt.cdf(-i,o[3]-1)):n(o[1])?(i=t.abs(o[0]),1==o[2]?e.studentt.cdf(-i,o[1]-1):2*e.studentt.cdf(-i,o[1]-1)):(i=t.abs(e.tscore(o[0],o[1])),1==o[2]?e.studentt.cdf(-i,o[1].length-1):2*e.studentt.cdf(-i,o[1].length-1))}}),e.extend(e.fn,{tscore:function(e){return(e-this.mean())/(this.stdev(!0)/t.sqrt(this.cols()))},ttest:function(r,n){return 1===n?1-e.studentt.cdf(t.abs(this.tscore(r)),this.cols()-1):2*e.studentt.cdf(-t.abs(this.tscore(r)),this.cols()-1)}}),e.extend({anovafscore:function(){var n,i,o,l,u,a,s,f,c=r.call(arguments);if(1===c.length){for(u=new Array(c[0].length),s=0;s<c[0].length;s++)u[s]=c[0][s];c=u}for(i=new Array,s=0;s<c.length;s++)i=i.concat(c[s]);for(o=e.mean(i),n=0,s=0;s<c.length;s++)n+=c[s].length*t.pow(e.mean(c[s])-o,2);for(n/=c.length-1,a=0,s=0;s<c.length;s++)for(l=e.mean(c[s]),f=0;f<c[s].length;f++)a+=t.pow(c[s][f]-l,2);return n/(a/=i.length-c.length)},anovaftest:function(){var t,i,o,l,u=r.call(arguments);if(n(u[0]))return 1-e.centralF.cdf(u[0],u[1],u[2]);var a=e.anovafscore(u);for(t=u.length-1,o=0,l=0;l<u.length;l++)o+=u[l].length;return i=o-t-1,1-e.centralF.cdf(a,t,i)},ftest:function(t,r,n){return 1-e.centralF.cdf(t,r,n)}}),e.extend(e.fn,{anovafscore:function(){return e.anovafscore(this.toArray())},anovaftes:function(){var t,r=0;for(t=0;t<this.length;t++)r+=this[t].length;return e.ftest(this.anovafscore(),this.length-1,r-this.length)}}),e.extend({qscore:function(){var i,o,l,u,a,s=r.call(arguments);return n(s[0])?(i=s[0],o=s[1],l=s[2],u=s[3],a=s[4]):(i=e.mean(s[0]),o=e.mean(s[1]),l=s[0].length,u=s[1].length,a=s[2]),t.abs(i-o)/(a*t.sqrt((1/l+1/u)/2))},qtest:function(){var t,n=r.call(arguments);3===n.length?(t=n[0],n=n.slice(1)):7===n.length?(t=e.qscore(n[0],n[1],n[2],n[3],n[4]),n=n.slice(5)):(t=e.qscore(n[0],n[1],n[2]),n=n.slice(3));var i=n[0],o=n[1];return 1-e.tukey.cdf(t,o,i-o)},tukeyhsd:function(t){for(var r=e.pooledstdev(t),n=t.map((function(t){return e.mean(t)})),i=t.reduce((function(e,t){return e+t.length}),0),o=[],l=0;l<t.length;++l)for(var u=l+1;u<t.length;++u){var a=e.qtest(n[l],n[u],t[l].length,t[u].length,r,i,t.length);o.push([[l,u],a])}return o}}),e.extend({normalci:function(){var n,i=r.call(arguments),o=new Array(2);return n=4===i.length?t.abs(e.normal.inv(i[1]/2,0,1)*i[2]/t.sqrt(i[3])):t.abs(e.normal.inv(i[1]/2,0,1)*e.stdev(i[2])/t.sqrt(i[2].length)),o[0]=i[0]-n,o[1]=i[0]+n,o},tci:function(){var n,i=r.call(arguments),o=new Array(2);return n=4===i.length?t.abs(e.studentt.inv(i[1]/2,i[3]-1)*i[2]/t.sqrt(i[3])):t.abs(e.studentt.inv(i[1]/2,i[2].length-1)*e.stdev(i[2],!0)/t.sqrt(i[2].length)),o[0]=i[0]-n,o[1]=i[0]+n,o},significant:function(e,t){return e<t}}),e.extend(e.fn,{normalci:function(t,r){return e.normalci(t,r,this.toArray())},tci:function(t,r){return e.tci(t,r,this.toArray())}}),e.extend(e.fn,{oneSidedDifferenceOfProportions:function(t,r,n,i){var l=o(t,r,n,i);return e.ztest(l,1)},twoSidedDifferenceOfProportions:function(t,r,n,i){var l=o(t,r,n,i);return e.ztest(l,2)}})}(e,Math),e.models=function(){function t(t){var n=t[0].length;return e.arange(n).map((function(i){var o=e.arange(n).filter((function(e){return e!==i}));return r(e.col(t,i).map((function(e){return e[0]})),e.col(t,o))}))}function r(t,r){var n=t.length,i=r[0].length-1,o=n-i-1,l=e.lstsq(r,t),u=e.multiply(r,l.map((function(e){return[e]}))).map((function(e){return e[0]})),a=e.subtract(t,u),s=e.mean(t),f=e.sum(u.map((function(e){return Math.pow(e-s,2)}))),c=e.sum(t.map((function(e,t){return Math.pow(e-u[t],2)}))),h=f+c;return{exog:r,endog:t,nobs:n,df_model:i,df_resid:o,coef:l,predict:u,resid:a,ybar:s,SST:h,SSE:f,SSR:c,R2:f/h}}function n(r){var n=t(r.exog),i=Math.sqrt(r.SSR/r.df_resid),o=n.map((function(e){var t=e.SST,r=e.R2;return i/Math.sqrt(t*(1-r))})),l=r.coef.map((function(e,t){return(e-0)/o[t]})),u=l.map((function(t){var n=e.studentt.cdf(t,r.df_resid);return 2*(n>.5?1-n:n)})),a=e.studentt.inv(.975,r.df_resid),s=r.coef.map((function(e,t){var r=a*o[t];return[e-r,e+r]}));return{se:o,t:l,p:u,sigmaHat:i,interval95:s}}function i(t){var r,n,i,o=t.R2/t.df_model/((1-t.R2)/t.df_resid);return{F_statistic:o,pvalue:1-(r=o,n=t.df_model,i=t.df_resid,e.beta.cdf(r/(i/n+r),n/2,i/2))}}function o(e,t){var o=r(e,t),l=n(o),u=i(o),a=1-(1-o.R2)*((o.nobs-1)/o.df_resid);return o.t=l,o.f=u,o.adjust_R2=a,o}return{ols:o}}(),e.extend({buildxmatrix:function(){for(var t=new Array(arguments.length),r=0;r<arguments.length;r++){var n=[1];t[r]=n.concat(arguments[r])}return e(t)},builddxmatrix:function(){for(var t=new Array(arguments[0].length),r=0;r<arguments[0].length;r++){var n=[1];t[r]=n.concat(arguments[0][r])}return e(t)},buildjxmatrix:function(t){for(var r=new Array(t.length),n=0;n<t.length;n++)r[n]=t[n];return e.builddxmatrix(r)},buildymatrix:function(t){return e(t).transpose()},buildjymatrix:function(e){return e.transpose()},matrixmult:function(t,r){var n,i,o,l,u;if(t.cols()==r.rows()){if(r.rows()>1){for(l=[],n=0;n<t.rows();n++)for(l[n]=[],i=0;i<r.cols();i++){for(u=0,o=0;o<t.cols();o++)u+=t.toArray()[n][o]*r.toArray()[o][i];l[n][i]=u}return e(l)}for(l=[],n=0;n<t.rows();n++)for(l[n]=[],i=0;i<r.cols();i++){for(u=0,o=0;o<t.cols();o++)u+=t.toArray()[n][o]*r.toArray()[i];l[n][i]=u}return e(l)}},regress:function(t,r){var n=e.xtranspxinv(t),i=t.transpose(),o=e.matrixmult(e(n),i);return e.matrixmult(o,r)},regresst:function(t,r,n){var i=e.regress(t,r),o={anova:{}},l=e.jMatYBar(t,i);o.yBar=l;var u=r.mean();o.anova.residuals=e.residuals(r,l),o.anova.ssr=e.ssr(l,u),o.anova.msr=o.anova.ssr/(t[0].length-1),o.anova.sse=e.sse(r,l),o.anova.mse=o.anova.sse/(r.length-(t[0].length-1)-1),o.anova.sst=e.sst(r,u),o.anova.mst=o.anova.sst/(r.length-1),o.anova.r2=1-o.anova.sse/o.anova.sst,o.anova.r2<0&&(o.anova.r2=0),o.anova.fratio=o.anova.msr/o.anova.mse,o.anova.pvalue=e.anovaftest(o.anova.fratio,t[0].length-1,r.length-(t[0].length-1)-1),o.anova.rmse=Math.sqrt(o.anova.mse),o.anova.r2adj=1-o.anova.mse/o.anova.mst,o.anova.r2adj<0&&(o.anova.r2adj=0),o.stats=new Array(t[0].length);for(var a,s,f,c=e.xtranspxinv(t),h=0;h<i.length;h++)a=Math.sqrt(o.anova.mse*Math.abs(c[h][h])),s=Math.abs(i[h]/a),f=e.ttest(s,r.length-t[0].length-1,n),o.stats[h]=[i[h],a,s,f];return o.regress=i,o},xtranspx:function(t){return e.matrixmult(t.transpose(),t)},xtranspxinv:function(t){var r=e.matrixmult(t.transpose(),t);return e.inv(r)},jMatYBar:function(t,r){var n=e.matrixmult(t,r);return new e(n)},residuals:function(t,r){return e.matrixsubtract(t,r)},ssr:function(e,t){for(var r=0,n=0;n<e.length;n++)r+=Math.pow(e[n]-t,2);return r},sse:function(e,t){for(var r=0,n=0;n<e.length;n++)r+=Math.pow(e[n]-t[n],2);return r},sst:function(e,t){for(var r=0,n=0;n<e.length;n++)r+=Math.pow(e[n]-t,2);return r},matrixsubtract:function(t,r){for(var n=new Array(t.length),i=0;i<t.length;i++){n[i]=new Array(t[i].length);for(var o=0;o<t[i].length;o++)n[i][o]=t[i][o]-r[i][o]}return e(n)}}),e.jStat=e,e}()}({get exports(){return ia},set exports(e){ia=e}});let oa=ia.jStat,la={beta:{pdf:oa.beta.pdf,cdf:oa.beta.cdf,inv:oa.beta.inv,sample:oa.beta.sample},centralF:{pdf:oa.centralF.pdf,cdf:oa.centralF.cdf,inv:oa.centralF.inv,sample:oa.centralF.sample},cauchy:{pdf:oa.cauchy.pdf,cdf:oa.cauchy.cdf,inv:oa.cauchy.inv,sample:oa.cauchy.sample},chisquare:{pdf:oa.chisquare.pdf,cdf:oa.chisquare.cdf,inv:oa.chisquare.inv,sample:oa.chisquare.sample},exponential:{pdf:oa.exponential.pdf,cdf:oa.exponential.cdf,inv:oa.exponential.inv,sample:oa.exponential.sample},gamma:{pdf:oa.gamma.pdf,cdf:oa.gamma.cdf,inv:oa.gamma.inv,sample:oa.gamma.sample},invgamma:{pdf:oa.invgamma.pdf,cdf:oa.invgamma.cdf,inv:oa.invgamma.inv,sample:oa.invgamma.sample},kumaraswamy:{pdf:oa.kumaraswamy.pdf,cdf:oa.kumaraswamy.cdf,inv:oa.kumaraswamy.inv,sample:oa.kumaraswamy.sample},lognormal:{pdf:oa.lognormal.pdf,cdf:oa.lognormal.cdf,inv:oa.lognormal.inv,sample:oa.lognormal.sample},normal:{pdf:oa.normal.pdf,cdf:oa.normal.cdf,inv:oa.normal.inv,sample:oa.normal.sample},pareto:{pdf:oa.pareto.pdf,cdf:oa.pareto.cdf,inv:oa.pareto.inv,sample:(e,t)=>{throw new Error("invalid pareto.sample")}},studentt:{pdf:oa.studentt.pdf,cdf:oa.studentt.cdf,inv:oa.studentt.inv,sample:oa.studentt.sample},tukey:{pdf:(e,t,r)=>{throw new Error("invalid tukey.pdf")},cdf:oa.tukey.cdf,inv:oa.tukey.inv,sample:(e,t)=>{throw new Error("invalid tukey.sample")}},weibull:{pdf:oa.weibull.pdf,cdf:oa.weibull.cdf,inv:oa.weibull.inv,sample:oa.weibull.sample},uniform:{pdf:oa.uniform.pdf,cdf:oa.uniform.cdf,inv:oa.uniform.inv,sample:oa.uniform.sample},binomial:{pdf:oa.binomial.pdf,cdf:oa.binomial.cdf,inv:(e,t,r)=>{throw new Error("invalid binomial.inv")},sample:(e,t)=>{throw new Error("invalid binomial.sample")}},negbin:{pdf:oa.negbin.pdf,cdf:oa.negbin.cdf,inv:(e,t,r)=>{throw new Error("invalid negbin.inv")},sample:(e,t)=>{throw new Error("invalid negbin.sample")}},hypgeom:{pdf:oa.hypgeom.pdf,cdf:oa.hypgeom.cdf,inv:(e,t,r,n)=>{throw new Error("invalid hypgeom.inv")},sample:(e,t,r)=>{throw new Error("invalid hypgeom.sample")}},poisson:{pdf:oa.poisson.pdf,cdf:oa.poisson.cdf,inv:(e,t)=>{throw new Error("invalid poisson.inv")},sample:oa.poisson.sample},triangular:{pdf:oa.triangular.pdf,cdf:oa.triangular.cdf,inv:(e,t,r,n)=>{throw new Error("invalid triangular.inv")},sample:oa.triangular.sample},arcsine:{pdf:oa.arcsine.pdf,cdf:oa.arcsine.cdf,inv:oa.arcsine.inv,sample:oa.arcsine.sample},std:e=>oa.stdev(e,!1),sampleStd:e=>oa.stdev(e,!0),emquantile:(e,t)=>oa.quantiles(e,[t],.4,.4)[0],emquantiles:oa.quantiles,percentile:oa.percentile};function ua(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var l=e[i];t(n,l,r(l),e)}return n}function aa(e,t,r,n){return rt(e,(function(e,i,o){t(n,e,r(e),o)})),n}var sa,fa,ca=Object.prototype.hasOwnProperty,ha=(sa=function(e,t,r){ca.call(e,r)?e[r].push(t):Wn(e,r,[t])},function(e,r){var n=t(e)?ua:aa,i=fa?fa():{};return n(e,sa,$r(r),i)}),pa=ha;function da(e){if(!Gr(e)&&!Br(e)&&!m(e))return"";let t="";try{t=String(e)}catch(e){}try{t=e.toString()}catch(e){}return t}function ga(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function va(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ga(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ma(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(0===Mn(e))return[];if(!Gr(t))return[];let n=ve(r,"ranger.countHalf");Ku(n)||(n=5),n=_u(n);let i=ve(r,"ranger.depthHalf");Br(i)||(i=.25),i=nn(i);let o=ve(r,"keyDepth");Gr(o)||(o="depth");let l=ve(r,"methodSmooth");"average"!==l&&"averageIn95"!==l&&"maxCount"!==l&&(l="average");let u=[];if(ot(e,(e=>{let r=ve(e,o),n=ve(e,t);Br(r)&&(Gr(n)||Br(n))&&(e[o]=nn(r),e[t]=n,u.push(e))})),0===Mn(u))return[];u=zr(u,o);let a=Mn(u)-1,s=[];return ot(u,((e,r)=>{let f=r,c=r;if(null!==n)f=Math.max(r-n,0),c=Math.min(r+n,a);else if(null!==i){for(let t=r;t>=0;t--){if(!(Math.abs(u[t][o]-e[o])<i))break;f=t}for(let t=r;t<=a;t++){if(!(Math.abs(u[t][o]-e[o])<i))break;c=t}}let h=function(e,t){let r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!to(e))return[];if(!Ku(t))return[];if(t=_u(t),eo(n)){if(t>=e.length)return[];r=Zu(e,t)}else{if(!Ku(n))return[];if(n=_u(n),t>=e.length||n>=e.length)return[];let i=Hu(t,n+1);r=Zu(e,i)}return r}(u,f,c),p=null;if("average"===l){let e=na(xr(h,t));p={[t]:e}}else if("averageIn95"===l){let e=xr(h,t),r=na(e),n=function(e){return jn(e)?0===Mn(e)||Mn(e=xr(e=ra(e,(e=>Br(e))),nn))<=1?null:la.sampleStd(e):null}(e),i=[];ot(h,(e=>{let o=ve(e,t);Br(o)&&(o=nn(o),o>=r-2*n&&o<=r+2*n&&i.push(o))}));let o=na(i);p={[t]:o}}else if("maxCount"===l){let e=function(e){if(!jn(e))return[];if(0===Mn(e))return[];let t=[];if(ot(e,(e=>{(Br(e)||Gr(e))&&t.push(da(e))})),0===Mn(t))return[];t=xr(t,(e=>({v:e})));let r=pa(t,"v");return r=xr(r,((e,t)=>({key:t,count:Mn(e)}))),r=zr(r,"count"),r=En(r),r}(xr(h,t)),r=ve(e,"0.key",""),n=ve(e,"0.count","");p={[t]:r,count:n}}let d=va(va({},e),p);s.push(d)})),s}function ya(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";if(!Br(e))throw new Error(`v[${e}] is not a number`);if(e=nn(e),!Br(t))throw new Error(`depth[${t}] is not a number`);if(t=nn(t),"kPa"!==r&&"MPa"!==r)throw new Error(`unit[${r}] need kPa or MPa`);let i=2*t,o=25*t;if("MPa"===r&&(i/=1e3,o/=1e3),Gr(n)||(n="v"),e<i)throw new Error(`${n}[${e}](${r}) < min[${i}](${r}) in depth[${t}](m)`);if(e>o)throw new Error(`${n}[${e}](${r}) > max[${o}](${r}) in depth[${t}](m)`)}function ba(e,t){return!!Ji(e)&&(!(!Gr(t)&&!Br(t))&&t in e)}let wa=null;function $a(){return null!==wa||(wa=[{nameCht:"",nameEng:"Gravelly sand",colorPrimary:"#467dec",colorSecondary:"rgb(173, 215, 255)",min:0,max:1.31},{nameCht:"-",nameEng:"Sands-clean sand to silty sand",colorPrimary:"linear-gradient(90deg, #dad74d 0%, #467dec 100%)",colorSecondary:"rgb(193, 233, 247)",min:1.31,max:2.05},{nameCht:"-",nameEng:"Sand mixtures-silty sand to sandy silt",colorPrimary:"linear-gradient(90deg, #467dec 0%, #dad74d 100%)",colorSecondary:"rgb(223, 223, 247)",min:2.05,max:2.6},{nameCht:"-",nameEng:"Silt mixtures-clayey silt to silty clay",colorPrimary:"linear-gradient(90deg, #ea4e2d 0%, #dad74d 100%)",colorSecondary:"rgb(253, 223, 225)",min:2.6,max:2.95},{nameCht:"",nameEng:"Clays",colorPrimary:"#ea4e2d",colorSecondary:"rgb(253, 203, 207)",min:2.95,max:3.6},{nameCht:"",nameEng:"Organic soils",colorPrimary:"#ea4e2d",colorSecondary:"rgb(255, 193, 227)",min:3.6,max:99}]),wa}var Sa={getIcInfor:$a};function xa(e,t){if(!to(e))return null;if(!to(t))return null;let r=e[0],n=e[1],i=!1;for(let e=0,o=t.length-1;e<t.length;o=e++){let l=t[e][0],u=t[e][1],a=t[o][0],s=t[o][1];u>n!=s>n&&r<(a-l)*(n-u)/(s-u)+l&&(i=!i)}return i}let Ma={zone1:[[.8042788645514245,-1],[1.4,-1],[1.4,-.04961518419811251],[1.3360639947293758,.00515510285998122],[.8042788645514245,-1]],zone2:[[.22901013093819989,-1],[.7989205421525307,-1],[.535671,-.732631],[.267238,-.973016],[.22901013093819989,-1]],zone3:[[-.0827455,-.507509],[.19919261999759594,-1],[.22901013093819989,-1],[.267238,-.973016],[.535671,-.732631],[.7989205421525307,-1],[.8042788645514245,-1],[1.3360639947293758,.00515510285998122],[.7507188345305402,.5065865313087334],[.00899762,-.488431],[-.0798201488308562,-.39581841738701223],[-.0827455,-.507509]],zone4:[[-.0798201488308562,-.39581841738701223],[.00899762,-.488431],[.75071883453054,.5065865313087332],[.46563663689560464,.750800002787402],[.00559973,-.282387],[-.0748262901884575,-.20092818800278278],[-.0776487,-.312912],[-.0798201488308562,-.39581841738701223]],zone5:[[-.0748262901884575,-.20092818800278278],[.00559973,-.282387],[.4656366368956047,.7508000027874022],[.28177542293386015,.9083032972911816],[.00559973,-.0610806],[-.06726062655330566,.04677010378206706],[-.0725518,-.110684],[-.0748262901884575,-.20092818800278278]],zone6:[[-.06726062655330566,.04677010378206706],[.00559973,-.0610806],[.28177542293386015,.9083032972911816],[.219667,.961508],[.19999604525814957,1.0454031412933176],[.00220183,.247985],[-.06071692978405572,.34104143783205454],[-.0623581,.274695],[-.065756,.0915446],[-.06726062655330566,.04677010378206706]],zone7:[[-.06071692978405572,.34104143783205454],[.00220183,.247985],[.19999604525814962,1.0454031412933178],[.1466205435691607,1.2730456382928406],[.00390078,.522711],[-.053725768119182775,.6023554362478534],[-.0555624,.54942],[-.06071692978405572,.34104143783205454]],zone8:[[-.053725768119182775,.6023554362478534],[.00390078,.522711],[.1466205435691607,1.2730456382928403],[.09752669166574157,1.4824272212471161],[.00390078,.866117],[-.042929930936118785,.9237944636517381],[-.0453687,.843223],[-.053725768119182775,.6023554362478534]],zone9:[[0,.8709212639576908],[.00390078,.866117],[.09752669166574157,1.4824272212471163],[.055798348065744074,1.6603954657070483],[.00390078,1.36215],[0,1.3672038510406228],[0,.8709212639576908]],zone10:[[0,1.3672038510406228],[.00390078,1.36215],[.055798348065744074,1.6603954657070483],[.0514713,1.67885],[.05300885596731013,2],[0,2],[0,1.3672038510406228]],"zone9,10,11,12":[[-.042929930936118785,.9237944636517381],[0,.8709212639576908],[0,2],[-.029975073717927975,2],[-.0283792,1.41938],[-.035175,1.18],[-.042929930936118785,.9237944636517381]]},Pa={zone1:[[0,-1],[2.599004449,-.910151233],[2.59819,-.9033989],[2.47734,-.785331],[2.38066,-.683363],[2.22356,-.592129],[2.06647,-.479428],[1.90937,-.382826],[1.75227,-.307692],[1.51057,-.216458],[1.26888,-.152057],[.954683,-.103757],[.628399,-.0554559999999999],[.302115,-.0232560000000001],[0,.00770169199999993],[0,-1]],zone2:[[0,-1],[8,-1],[8,-.312420334],[7.98792,-.313059],[4.03625,-.860465],[0,-1]],zone3:[[1.91607919296796,-.386951534430881],[2.06647,-.479428],[2.22356,-.592129],[2.38066,-.683363],[2.47734,-.785331],[2.59819,-.9033989],[2.59900444877071,-.910151233011032],[4.03625,-.860465],[7.98792,-.313059],[8,-.312420334410403],[8,.73886157340706],[5.21686256331027,.74843976095338],[5.20846,.74419],[5.0997,.67442],[5.00302,.60465],[4.84592,.50805],[4.65257,.41682],[4.4713,.33095],[4.27795,.25045],[4.07251,.17531],[3.86707,.0948100000000001],[3.67372,.0357799999999999],[3.49245,-.012522],[3.29909,-.08229],[3.08157,-.13059],[2.87613,-.184258],[2.67069,-.243292],[2.429,-.291592],[2.1994,-.334526],[1.91607919296796,-.386951534430881]],zone4:[[1.51477387839753,-.218044829299632],[1.75227,-.307692],[1.90937,-.382826],[1.91607919296796,-.386951534430881],[2.1994,-.334526],[2.429,-.291592],[2.67069,-.243292],[2.87613,-.184258],[3.08157,-.13059],[3.29909,-.08229],[3.49245,-.012522],[3.67372,.0357799999999999],[3.86707,.0948100000000001],[4.07251,.17531],[4.27795,.25045],[4.4713,.33095],[4.65257,.41682],[4.84592,.50805],[5.00302,.60465],[5.0997,.67442],[5.20846,.74419],[5.21686256331027,.74843976095338],[4.89426,.74955],[4.59943743716958,.84244763970655],[4.59215,.84079],[4.41088,.72272],[4.29003,.63148],[4.14502,.56172],[4.01208,.48122],[3.87915,.41682],[3.72205,.35242],[3.56495,.28801],[3.40785,.23435],[3.19033,.16995],[2.97281,.11091],[2.7432,.04114],[2.50151,-.012522],[2.22356,-.08229],[1.98187,-.135957],[1.7281,-.189624],[1.51477387839753,-.218044829299632]],zone5:[[.60423,-.0500890000000001],[.604258597461038,-.053073655288784],[.628399,-.0554559999999999],[.954683,-.103757],[1.26888,-.152057],[1.51057,-.216458],[1.51477387839753,-.218044829299632],[1.7281,-.189624],[1.98187,-.135957],[2.22356,-.08229],[2.50151,-.012522],[2.7432,.04114],[2.97281,.11091],[3.19033,.16995],[3.40785,.23435],[3.56495,.28801],[3.72205,.35242],[3.87915,.41682],[4.01208,.48122],[4.14502,.56172],[4.29003,.63148],[4.41088,.72272],[4.59215,.84079],[4.59943743716958,.84244763970655],[3.89979234877181,1.06290355298692],[3.80665,.98569],[3.66163,.89982],[3.48036,.78712],[3.29909,.68515],[3.08157,.59392],[2.88822,.50805],[2.67069,.42218],[2.34441,.32021],[2.09063,.25581],[1.81269,.18068],[1.4864,.10555],[1.22054,.0518799999999999],[.89426,-.012522],[.60423,-.0500890000000001]],zone6:[[0,.00770169230769002],[.302115,-.0232560000000001],[.604258597461038,-.053073655288784],[.60423,-.0500890000000001],[.89426,-.012522],[1.22054,.0518799999999999],[1.4864,.10555],[1.81269,.18068],[2.09063,.25581],[2.34441,.32021],[2.67069,.42218],[2.88822,.50805],[3.08157,.59392],[3.29909,.68515],[3.48036,.78712],[3.66163,.89982],[3.80665,.98569],[3.89979234877181,1.06290355298692],[3.22606294765238,1.27519351669947],[3.04532,1.17352],[2.83988,1.05546],[2.62236,.95349],[2.429,.85152],[2.18731,.76029],[1.9577,.66905],[1.71601,.58318],[1.42598,.48122],[1.12387,.38998],[.809668,.32021],[.422961,.23435],[.0120846,.17531],[0,.17356],[0,.00770169230769002]],zone7:[[0,.17356],[.0120846,.17531],[.422961,.23435],[.809668,.32021],[1.12387,.38998],[1.42598,.48122],[1.71601,.58318],[1.9577,.66905],[2.18731,.76029],[2.429,.85152],[2.62236,.95349],[2.83988,1.05546],[3.04532,1.17352],[3.22606294765237,1.27519351669947],[2.42760757719909,1.52678423151461],[2.22356,1.38819],[2.07855,1.27549],[1.89728,1.16279],[1.69184,1.05009],[1.43807,.92129],[1.20846,.81932],[.930514,.72809],[.640483,.63685],[.314199,.54025],[0,.48856778143308],[0,.17356]],zone8:[[0,.48856778143308],[.314199,.54025],[.640483,.63685],[.930514,.72809],[1.20846,.81932],[1.43807,.92129],[1.69184,1.05009],[1.89728,1.16279],[2.07855,1.27549],[2.22356,1.38819],[2.42760757719909,1.52678423151461],[2.3565,1.54919],[2.18731,1.60823],[2.06647,1.6458],[1.98187,1.7102],[1.92145,1.78533],[1.84894,1.87657],[1.83686,2],[1.78852,1.86047],[1.71601,1.72093],[1.60725,1.5653],[1.4864,1.44723],[1.34139,1.33989],[1.22054,1.24866],[1.06344,1.14669],[.89426,1.07692],[.712991,.99642],[.386707,.91592],[0,.85689],[0,.48856778143308]],zone9:[[0,.85689],[.386707,.91592],[.712991,.99642],[.89426,1.07692],[1.06344,1.14669],[1.22054,1.24866],[1.34139,1.33989],[1.4864,1.44723],[1.60725,1.5653],[1.71601,1.72093],[1.78852,1.86047],[1.83686,2],[1.22054,2],[1.22054,1.99463],[1.11178,1.8229],[.990937,1.68873],[.845921,1.54919],[.652568,1.44723],[.386707,1.35063],[0,1.25175000154968],[0,.85689]],zone10:[[0,1.25175000154968],[.386707,1.35063],[.652568,1.44723],[.845921,1.54919],[.990937,1.68873],[1.11178,1.8229],[1.22054,1.99463],[1.22054,2],[0,2],[0,1.25175000154968]],zone11:[[3.89979234877181,1.06290355298692],[4.89426,.74955],[8,.73886157340706],[8,2],[4.70091,2],[4.59215,1.65116],[4.41088,1.50626],[4.25378,1.38283],[4.13293,1.26476],[3.98792,1.13596],[3.89979234877181,1.06290355298692]],zone12:[[1.83686,2],[1.84894,1.87657],[1.92145,1.78533],[1.98187,1.7102],[2.06647,1.6458],[2.18731,1.60823],[2.3565,1.54919],[3.89979234877181,1.06290355298692],[3.98792,1.13596],[4.13293,1.26476],[4.25378,1.38283],[4.41088,1.50626],[4.59215,1.65116],[4.70091,2],[1.83686,2]]},Ea={zone1:[[.814956350795433,0],[1.4,0],[1.4,1.0444774529587604],[.814956350795433,0]],zone2:[[.15755797913451555,0],[.8081353465726996,0],[.803677,.00955108],[.542358,.411052],[.163577,.00955108],[.15755797913451555,0]],zone3:[[-.557635,1.27767],[.135961,.0225141],[.14709816115300722,0],[.15755797913451555,0],[.163577,.00955108],[.542358,.411052],[.803677,.00955108],[.8081353465726996,0],[.8159217107198008,0],[.824794,.015206],[1.38835,1.02178],[1.3952840233278456,1.0277257015798282],[.6051580468079697,1.6769417299522127],[.0144398,.684374],[-.389417,1.78897],[-.3965860167997673,1.8080830326156345],[-.557635,1.27767]],zone4:[[-.3965860167997673,1.8080830326156345],[-.389417,1.78897],[.0144398,.684374],[.6051580468079698,1.6769417299522127],[.4233286829382924,1.8263439024676476],[.01312,1.05006],[-.3126662899731374,2.0844717183302555],[-.3965860167997673,1.8080830326156345]],zone5:[[-.3126662899731374,2.0844717183302555],[.01312,1.05006],[.4233286829382924,1.8263439024676478],[.23050362977173397,1.9847808086162937],[.01312,1.46853],[-.24501712858513175,2.307273477973186],[-.3126662899731374,2.0844717183302555]],zone6:[[-.24501712858513178,2.307273477973186],[.01312,1.46853],[.23050362977173397,1.9847808086162937],[.182054,2.02459],[.14155632003411384,2.4608700593991886],[.0157596,2.2376],[-.15640870819128455,2.5991043237348594],[-.24501712858513178,2.307273477973186]],zone7:[[-.15640870819128455,2.5991043237348594],[.0157596,2.2376],[.14155632003411384,2.4608700593991886],[.091511603746722,3],[-.0346850003225585,3],[-.15640870819128455,2.5991043237348594]]},ka={zone1:[[-1,0],[.214255,0],[.214255,.0100411],[.20255,.0539655],[.183822,.106126],[.165093,.155541],[.139342,.213191],[.113591,.276333],[.0808163,.328493],[.0574059,.386144],[.0269725,.438304],[-.00814305,.484973],[-.0385765,.520662],[-.0690099,.567332],[-.104125,.605766],[-.143923,.644199],[-.183721,.677143],[-.223518,.712831],[-.260975,.74852],[-.300772,.770482],[-.338229,.797935],[-.375685,.819897],[-.420165,.84735],[-.459963,.869312],[-.509124,.894019],[-.555945,.915981],[-.609789,.932453],[-.651928,.943434],[-.70343,.959906],[-.754933,.973632],[-.8158,.984613],[-.871985,.990104],[-.935193,.998],[-.982013,.995594],[-1,.9964730699272073],[-1,0]],zone2:[[.2064750618712659,.039236240054828495],[.214255,.0100411],[.214255,0],[1,0],[1,.8318045794934391],[.99382,.819897],[.965727,.762246],[.930612,.704595],[.897837,.638709],[.860381,.592039],[.827606,.55086],[.797173,.50419],[.748011,.441049],[.715237,.391634],[.682462,.344965],[.645006,.306531],[.60989,.279078],[.56541,.243389],[.516249,.213191],[.471769,.174758],[.417925,.14456],[.366422,.114362],[.310238,.0814182],[.261076,.059456],[.2064750618712659,.039236240054828495]],zone3:[[-.1691945840894161,.6651183192180945],[-.143923,.644199],[-.104125,.605766],[-.0690099,.567332],[-.0385765,.520662],[-.00814305,.484973],[.0269725,.438304],[.0574059,.386144],[.0808163,.328493],[.113591,.276333],[.139342,.213191],[.165093,.155541],[.183822,.106126],[.20255,.0539655],[.2064750618712659,.039236240054828495],[.261076,.059456],[.310238,.0814182],[.366422,.114362],[.417925,.14456],[.471769,.174758],[.516249,.213191],[.56541,.243389],[.60989,.279078],[.645006,.306531],[.682462,.344965],[.715237,.391634],[.748011,.441049],[.797173,.50419],[.827606,.55086],[.860381,.592039],[.897837,.638709],[.930612,.704595],[.965727,.762246],[.99382,.819897],[1,.8318045794934391],[1,1.743385534886701],[.965727,1.73133],[.911883,1.73682],[.839311,1.76153],[.7838498913648442,1.785615676370634],[.778445,1.75604],[.762057,1.69015],[.743329,1.62426],[.717578,1.56387],[.689485,1.49523],[.652029,1.43209],[.619254,1.36895],[.577116,1.30032],[.530295,1.23992],[.495179,1.18227],[.453041,1.13286],[.40622,1.07521],[.366422,1.03677],[.29385,.965396],[.237666,.918727],[.174458,.866567],[.106568,.819897],[.0410187,.773227],[-.0268713,.732048],[-.0994434,.690869],[-.1691945840894161,.6651183192180945]],zone4:[[-.5572591210207868,.9163830169648318],[-.555945,.915981],[-.509124,.894019],[-.459963,.869312],[-.420165,.84735],[-.375685,.819897],[-.338229,.797935],[-.300772,.770482],[-.260975,.74852],[-.223518,.712831],[-.183721,.677143],[-.1691945840894161,.6651183192180945],[-.0994434,.690869],[-.0268713,.732048],[.0410187,.773227],[.106568,.819897],[.174458,.866567],[.237666,.918727],[.29385,.965396],[.366422,1.03677],[.40622,1.07521],[.453041,1.13286],[.495179,1.18227],[.530295,1.23992],[.577116,1.30032],[.619254,1.36895],[.652029,1.43209],[.689485,1.49523],[.717578,1.56387],[.743329,1.62426],[.762057,1.69015],[.778445,1.75604],[.7838498913648442,1.785615676370634],[.776103,1.78898],[.733965,1.81918],[.689485,1.8631],[.652029,1.90428],[.614572,1.9482],[.5812671176412162,1.992142954030625],[.556046,1.91252],[.525613,1.83016],[.492838,1.74505],[.453041,1.6627],[.422607,1.6023],[.373446,1.54739],[.324284,1.48425],[.277463,1.44582],[.22596,1.3964],[.146365,1.33052],[.0714521,1.27012],[.00590315,1.20973],[-.0690099,1.15757],[-.134559,1.12188],[-.209472,1.07521],[-.293749,1.03128],[-.36398,1.00108],[-.445916,.965396],[-.523171,.929708],[-.5572591210207868,.9163830169648318]],zone5:[[-1,.9964730699272073],[-.982013,.995594],[-.935193,.998],[-.871985,.990104],[-.8158,.984613],[-.754933,.973632],[-.70343,.959906],[-.651928,.943434],[-.609789,.932453],[-.5572591210207868,.9163830169648318],[-.523171,.929708],[-.445916,.965396],[-.36398,1.00108],[-.293749,1.03128],[-.209472,1.07521],[-.134559,1.12188],[-.0690099,1.15757],[.00590315,1.20973],[.0714521,1.27012],[.146365,1.33052],[.22596,1.3964],[.277463,1.44582],[.324284,1.48425],[.373446,1.54739],[.422607,1.6023],[.453041,1.6627],[.492838,1.74505],[.525613,1.83016],[.556046,1.91252],[.5812671176412162,1.992142954030625],[.577116,1.99762],[.544341,2.0388],[.516249,2.10194],[.478792,2.14861],[.453041,2.20901],[.420266,2.2694],[.392174,2.3298],[.3884063655271938,2.33783211915801],[.375787,2.31607],[.343012,2.25018],[.305556,2.17332],[.263417,2.11018],[.223619,2.04429],[.165093,1.97291],[.113591,1.91526],[.062088,1.8631],[.00356212,1.8082],[-.0502817,1.76976],[-.111149,1.72584],[-.179039,1.67917],[-.230541,1.64348],[-.312478,1.59681],[-.40846,1.56387],[-.488055,1.53092],[-.58872,1.49798],[-.672997,1.47876],[-.773661,1.45955],[-.864962,1.44856],[-.944557,1.44307],[-1,1.4377631547427059],[-1,.9964730699272073]],zone6:[[-1,1.4377631547427059],[-.944557,1.44307],[-.864962,1.44856],[-.773661,1.45955],[-.672997,1.47876],[-.58872,1.49798],[-.488055,1.53092],[-.40846,1.56387],[-.312478,1.59681],[-.230541,1.64348],[-.179039,1.67917],[-.111149,1.72584],[-.0502817,1.76976],[.00356212,1.8082],[.062088,1.8631],[.113591,1.91526],[.165093,1.97291],[.223619,2.04429],[.263417,2.11018],[.305556,2.17332],[.343012,2.25018],[.375787,2.31607],[.3884063655271938,2.33783211915801],[.366422,2.3847],[.347694,2.42314],[.328966,2.47255],[.303215,2.51922],[.289168,2.56864],[.263417,2.62354],[.24703,2.66747],[.232983,2.71688],[.216596,2.75531],[.200209,2.81022],[.186163,2.85689],[.169776,2.9118],[.148706,2.95847],[.1412503458588957,3],[-.001459668032786902,3],[-.00346099,2.98592],[-.0385765,2.90356],[-.073692,2.83218],[-.118172,2.75531],[-.16031,2.68394],[-.200108,2.62354],[-.244588,2.57687],[-.29609,2.53295],[-.352275,2.48902],[-.403778,2.44784],[-.471668,2.40941],[-.527853,2.36823],[-.586379,2.33529],[-.649586,2.30509],[-.726841,2.27215],[-.804095,2.24744],[-.881349,2.21999],[-.956262,2.20077],[-1,2.1949642579667628],[-1,1.4377631547427059]],zone7:[[-1,2.1949642579667628],[-.956262,2.20077],[-.881349,2.21999],[-.804095,2.24744],[-.726841,2.27215],[-.649586,2.30509],[-.586379,2.33529],[-.527853,2.36823],[-.471668,2.40941],[-.403778,2.44784],[-.352275,2.48902],[-.29609,2.53295],[-.244588,2.57687],[-.200108,2.62354],[-.16031,2.68394],[-.118172,2.75531],[-.073692,2.83218],[-.0385765,2.90356],[-.00346099,2.98592],[-.001459668032786902,3],[-1,3],[-1,2.1949642579667628]],zone8:[[.1412503458588957,3],[.148706,2.95847],[.169776,2.9118],[.186163,2.85689],[.200209,2.81022],[.216596,2.75531],[.232983,2.71688],[.24703,2.66747],[.263417,2.62354],[.289168,2.56864],[.303215,2.51922],[.328966,2.47255],[.347694,2.42314],[.366422,2.3847],[.392174,2.3298],[.420266,2.2694],[.453041,2.20901],[.478792,2.14861],[.516249,2.10194],[.544341,2.0388],[.577116,1.99762],[.5812671176412162,1.992142954030625],[.58648,2.0086],[.607549,2.08821],[.628618,2.17881],[.647347,2.26666],[.661393,2.36549],[.670757,2.45883],[.67778,2.54393],[.682462,2.63727],[.689485,2.74159],[.689485,2.84591],[.687144,2.93925],[.6855251525327263,3],[.1412503458588957,3]],zone9:[[.5812671176412162,1.992142954030625],[.614572,1.9482],[.652029,1.90428],[.689485,1.8631],[.733965,1.81918],[.776103,1.78898],[.839311,1.76153],[.911883,1.73682],[.965727,1.73133],[1,1.743385534886701],[1,3],[.6855251525327263,3],[.687144,2.93925],[.689485,2.84591],[.689485,2.74159],[.682462,2.63727],[.67778,2.54393],[.670757,2.45883],[.661393,2.36549],[.647347,2.26666],[.628618,2.17881],[.607549,2.08821],[.58648,2.0086],[.5812671176412162,1.992142954030625]]},Oa={zone1:[[1.40104,0],[1.40104,1],[.801704,0],[1.40104,0]],zone2:[[.801704,0],[.539905,.442651],[.141125,0],[.801704,0]],zone3:[[1.40104,1],[.8,1.60253],[.0303888,1.20246],[.0310289,1],[-.0304203,1],[-.0291401,1.20408],[-.6,1.39605],[.141125,0],[.539905,.442651],[.801704,0],[1.40104,1]],zone4a:[[-.1,3.78518],[-.6,1.39605],[-.0291401,1.20408],[-.1,3.78518]],zone4b:[[.0617535,3.78356],[.0303888,1.20246],[.8,1.60253],[.4,2],[.0617535,3.78356]],zone5a:[[-.0304203,3.78518],[-.1,3.78518],[-.0291401,1.20408],[-.0297802,1.31539],[-.0297802,1.70094],[-.0291401,2.2591],[-.0304203,3.78518]],zone5b:[[.0617535,3.78356],[.0297487,3.78679],[.0297487,2.28169],[.0297487,1.72352],[.031669,1.32184],[.0303888,1.20246],[.0617535,3.78356]],zone6:[[0,1.59285],[-.0297802,1.31539],[-.0291401,1.20408],[-.0304203,1],[.0310289,1],[.0303888,1.20246],[.031669,1.32184],[0,1.59285]],zone7:[[0,1.94937],[-.0297802,1.70094],[-.0297802,1.31539],[0,1.59285],[.031669,1.32184],[.0297487,1.72352],[0,1.94937]],zone8:[[0,2.48656],[-.0291401,2.2591],[-.0297802,1.70094],[0,1.94937],[.0297487,1.72352],[.0297487,2.28169],[0,2.48656]],zone9:[[.0297487,3.78679],[-.0304203,3.78518],[-.0291401,2.2591],[0,2.48656],[.0297487,2.28169],[.0297487,3.78679]]},ja={zone1:[[.170602,0],[0,.477345],[-.220456,.755759],[-.382872,.855193],[-1,1],[-1,0],[.170602,0]],zone2:[[1,0],[1,.413708],[.170602,0],[1,0]],zone3:[[1,1.53134],[.285712,1.19327],[.148527,1.17338],[-1,1],[-.382872,.855193],[-.220456,.755759],[0,.477345],[.170602,0],[1,.413708],[1,1.53134]],zone4:[[1,3.77456],[.143796,3.77456],[.285712,1.19327],[1,1.53134],[1,3.77456]],zone5:[[.143796,3.77456],[-.0265037,3.77456],[.0570693,2.49386],[.09176,1.98078],[.11699,1.60293],[.148527,1.17338],[.285712,1.19327],[.143796,3.77456]],zone6:[[.11699,1.60293],[-1,1.30066],[-1,1],[.148527,1.17338],[.11699,1.60293]],zone7:[[.09176,1.98078],[-1,1.69839],[-1,1.30066],[.11699,1.60293],[.09176,1.98078]],zone8:[[.0570693,2.49386],[-1,2.17567],[-1,1.69839],[.09176,1.98078],[.0570693,2.49386]],zone9:[[-.0265037,3.77456],[-1,3.77456],[-1,2.17567],[.0570693,2.49386],[-.0265037,3.77456]]},Da={1:"Sensitive fine grained",2:"Organic material",3:"Clay",4:"Silty clay to clay",5:"Clayey silt to silty clay",6:"Sandy silt to clayey silt",7:"Silty sand to sandy silt",8:"Sand to silty sand",9:"Sand",10:"Gravelly sand to sand",11:"Very stiff find grained(overconsolidated or cemented)",12:"Sand to clayer sand(overconsolidated or cemented)",13:"9,10,11,12"},La={1:"Sensitive fine grained",2:"Organic soils - peats",3:"Clays - clay to silty clay",4:"Silt mixtures - clayey silt to silty clay",5:"Sand mixtures - silty sand to sandy silt",6:"Sands - clean sand to silty sand",7:"Gravelly sand to sand",8:"Very stiff sand to clayey sand(heavily overconsolidated or cemented)",9:"Very stiff fine grained(heavily overconsolidated or cemented)"},Ca={1:"Extra sensitibe clay",2:"Organic clay and peat",3:"Clay(su/p0'<=1)",4:"Clay(su/p0'>1)",5:"Clayey sand",6:"Sandy very clayey silt",7:"Sandy silt",8:"Silty sand",9:"Clean to slightly silty sand"};function Ra(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"numOfType");3!==r&&4!==r&&5!==r&&6!==r&&(console.log(`invalid numOfType[${r}]`),r=3);let n=ve(t,"funAdjust");if(!Br(e))return"";let i="",o=_u(e);if(3===r){let e={1:"clay",2:"clay",3:"clay",4:"silt",5:"silt",6:"silt",7:"silt",8:"sand",9:"sand",10:"sand",11:"sand",12:"sand",13:"sand"};ba(e,o)&&(Ou(n)&&(o=n(o,e,t)),i=e[o])}else if(4===r){let e={1:"clay",2:"clay",3:"clay",4:"silt",5:"clayey-silt",6:"clayey-silt",7:"sandy-silt",8:"sandy-silt",9:"sand",10:"sand",11:"sand",12:"sand",13:"sand"};ba(e,o)&&(Ou(n)&&(o=n(o,e,t)),i=e[o])}else if(5===r){let e={1:"clay",2:"clay",3:"clay",4:"silt",5:"clayey-silt",6:"clayey-silt",7:"sandy-silt",8:"silty-sand",9:"sand",10:"sand",11:"silty-sand",12:"sand",13:"sand"};ba(e,o)&&(Ou(n)&&(o=n(o,e,t)),i=e[o])}else if(6===r){let e={1:"clay",2:"clay",3:"clay",4:"silt",5:"clayey-silt",6:"clayey-silt",7:"sandy-silt",8:"silty-sand",9:"sand",10:"sand",11:"clayey-sand",12:"sand",13:"sand"};ba(e,o)&&(Ou(n)&&(o=n(o,e,t)),i=e[o])}return i}function qa(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=ve(r,"fsFirst");An(n)||(n=!0);let i=ve(r,"returnZone");An(i)||(i=!1),e=Br(e)?_u(e):null,t=Br(t)?_u(t):null;let o=Ra(e,r),l=Ra(t,r);if(null===e&&null===t)return i?null:"";if(null!==e&&null===t)return i?e:o;if(null===e&&null!==t)return i?t:l;if(o!==l){if(n)return i?e:o;{let r=e>=6,n=t>=6;if(r&&n)return i?t:l;if(!r&&!n)return i?e:o}return i?null:""}return i?e:o}function Fa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"numOfType");3!==r&&4!==r&&5!==r&&6!==r&&(console.log(`invalid numOfType[${r}]`),r=3);let n=ve(t,"funAdjust");if(!Br(e))return"";let i="",o=_u(e);if(3===r){let e={1:"clay",2:"clay",3:"clay",4:"silt",5:"silt",6:"sand",7:"sand",8:"sand",9:"sand"};ba(e,o)&&(Ou(n)&&(o=n(o,e,t)),i=e[o])}else if(4===r){let e={1:"clay",2:"clay",3:"clay",4:"clayey-silt",5:"sandy-silt",6:"sand",7:"sand",8:"sand",9:"sand"};ba(e,o)&&(Ou(n)&&(o=n(o,e,t)),i=e[o])}else if(5===r){let e={1:"clay",2:"clay",3:"clay",4:"clayey-silt",5:"sandy-silt",6:"silty-sand",7:"sand",8:"silty-sand",9:"sand"};ba(e,o)&&(Ou(n)&&(o=n(o,e,t)),i=e[o])}else if(6===r){let e={1:"clay",2:"clay",3:"clay",4:"clayey-silt",5:"sandy-silt",6:"silty-sand",7:"sand",8:"clayey-sand",9:"sand"};ba(e,o)&&(Ou(n)&&(o=n(o,e,t)),i=e[o])}return i}function _a(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=ve(r,"fsFirst");An(n)||(n=!0);let i=ve(r,"returnZone");An(i)||(i=!1),e=Br(e)?_u(e):null,t=Br(t)?_u(t):null;let o=Fa(e,r),l=Fa(t,r);if(null===e&&null===t)return i?null:"";if(null!==e&&null===t)return i?e:o;if(null===e&&null!==t)return i?t:l;if(o!==l){if(n)return i?e:o;{let r=e>=6,n=t>=6;if(r&&n)return i?t:l;if(!r&&!n)return i?e:o}return i?null:""}return i?e:o}function Aa(e,t){return _a(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function Na(e,t){return _a(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function Ia(e){let t=ve(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"numOfType");if(3!==t&&4!==t&&5!==t&&6!==t&&(console.log(`invalid numOfType[${t}]`),t=3),!Br(e))return"";let r=_u(e);if(3===t){let e={1:"clay",2:"clay",3:"clay",4:"clay",6:"silt",7:"silt",5:"sand",8:"sand",9:"sand"};if(ba(e,r))return e[r]}else if(4===t){let e={1:"clay",2:"clay",3:"clay",4:"clay",5:"sand",6:"clayey-silt",7:"sandy-silt",8:"sand",9:"sand"};if(ba(e,r))return e[r]}else if(5===t){let e={1:"clay",2:"clay",3:"clay",4:"clay",5:"silty-sand",6:"clayey-silt",7:"sandy-silt",8:"silty-sand",9:"sand"};if(ba(e,r))return e[r]}else if(6===t){let e={1:"clay",2:"clay",3:"clay",4:"clay",5:"clayey-sand",6:"clayey-silt",7:"sandy-silt",8:"silty-sand",9:"sand"};if(ba(e,r))return e[r]}return""}function za(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=ve(r,"fsFirst");An(n)||(n=!0);let i=ve(r,"returnZone");An(i)||(i=!1),e=Br(e)?_u(e):null,t=Br(t)?_u(t):null;let o=Ia(e,r),l=Ia(t,r);if(null===e&&null===t)return i?null:"";if(null!==e&&null===t)return i?e:o;if(null===e&&null!==t)return i?e:l;if(o!==l){if(n)return i?e:o;{let r=5===e||8===e||9===e,n=5===t||8===t||9===t;if(r&&n)return i?e:l;if(!r&&!n)return i?e:o}return i?null:""}return i?e:o}let Ta={csfIc:function(e){let t=null,r="",n=null,i=null;return On(e)?(ot($a(),((o,l)=>{if(e>=o.min&&e<o.max)return t=l+1,r=`${o.min}~${o.max}`,n=o.nameCht,i=o.nameEng,!1})),null===n||null===i?{error:"invalid Ic"}:{success:{int:t,rang:r,cht:n,eng:i}}):{error:"invalid Ic"}},csfRobRfqt:function(e,t){if(!On(e))return{error:"invalid Rf"};if(!On(t))return{error:"invalid qt"};if(e<0||e>8)return{error:"Rf < 0 or Rf > 8"};if(t<.1||t>100)return{error:"qt < 0.1 or qt > 100"};let r=[e,Math.log10(t)],n="";if(ot(Pa,((e,t)=>{if(xa(r,e))return n=t,!1})),""===n)return{error:"no zone"};let i=n.replace("zone",""),o=null;return Lu(i)&&(o=_u(i),i=`${o}: ${Da[o]}`),{success:{int:o,msg:i}}},csfRobBqqt:function(e,t){if(!On(e))return{error:"invalid Bq"};if(!On(t))return{error:"invalid qt"};if(e<-.2||e>1.4)return{error:"Bq < -0.2 or Bq > 1.4"};if(t<.1||t>100)return{error:"qt < 0.1 or qt > 100"};let r=[e,Math.log10(t)],n="";if(ot(Ma,((e,t)=>{if(xa(r,e))return n=t,!1})),""===n)return{error:"no zone"};let i=n.replace("zone",""),o=null;return"9,10,11,12"===i&&(i="13"),Lu(i)&&(o=_u(i),i=`${o}: ${Da[o]}`),{success:{int:o,msg:i}}},csfRobBqQt:function(e,t){if(!On(e))return{error:"invalid Bq"};if(!On(t))return{error:"invalid Qt"};if(e<-.6||e>1.4)return{error:"Bq < -0.6 or Bq > 1.4"};if(t<1||t>1e3)return{error:"Qt < 1 or Qt > 1000"};let r=[e,Math.log10(t)],n="";if(ot(Ea,((e,t)=>{if(xa(r,e))return n=t,!1})),""===n)return{error:"no zone"};let i=n.replace("zone",""),o=null;return Lu(i)&&(o=_u(i),i=`${o}: ${La[o]}`),{success:{int:o,msg:i}}},csfRobFrQt:function(e,t){if(!On(e))return{error:"invalid Fr"};if(!On(t))return{error:"invalid Qt"};if(e<.1||e>10)return{error:"Fr < 0.1 or Fr > 10"};if(t<1||t>1e3)return{error:"Qt < 1 or Qt > 1000"};let r=[Math.log10(e),Math.log10(t)],n="";if(ot(ka,((e,t)=>{if(xa(r,e))return n=t,!1})),""===n)return{error:"no zone"};let i=n.replace("zone",""),o=null;return Lu(i)&&(o=_u(i),i=`${o}: ${La[o]}`),{success:{int:o,msg:i}}},csfRamBqQt:function(e,t){if(!On(e))return{error:"invalid Bq"};if(!On(t))return{error:"invalid Qt"};if(e<-.6||e>1.4)return{error:"Bq < -0.6 or Bq > 1.4"};if(t<1||t>6097.895815)return{error:"Qt < 1 or Qt > 6097.895815"};let r=[e,Math.log10(t)],n="";if(ot(Oa,((e,t)=>{if(xa(r,e))return n=t,!1})),""===n)return{error:"no zone"};let i=n.replace("zone","");i=i.replace("a",""),i=i.replace("b","");let o=null;return Lu(i)&&(o=_u(i),i=`${o}: ${Ca[o]}`),{success:{int:o,msg:i}}},csfRamFrQt:function(e,t){if(!On(e))return{error:"invalid Fr"};if(!On(t))return{error:"invalid Qt"};if(e<.1||e>10)return{error:"Fr < 0.1 or Fr > 10"};if(t<1||t>5950.589615)return{error:"Qt < 1 or Qt > 5950.589615"};let r=[Math.log10(e),Math.log10(t)],n="";if(ot(ja,((e,t)=>{if(xa(r,e))return n=t,!1})),""===n)return{error:"no zone"};let i=n.replace("zone",""),o=null;return Lu(i)&&(o=_u(i),i=`${o}: ${Ca[o]}`),{success:{int:o,msg:i}}}};var Ga={kpCPTClassForRobBqRfqt:Da,kpCPTClassForRobBqFrQt:La,kpCPTClassForRamQt:Ca,cptClassifyBond:{inforRobBqqt:{zones:Ma,markers:{zone1:{p:[1.19678,-.727798566],text:"1"},zone2:{p:[.535691,-.855211033],text:"2"},zone3:{p:[.633441,-.444014891],text:"3"},zone4:{p:[.368489,.303088011],text:"4"},zone5:{p:[.255305,.511582591],text:"5"},zone6:{p:[.18328,.760617721],text:"6"},zone7:{p:[.136977,1.015443588],text:"7"},zone8:{p:[.0983923,1.229730464],text:"8"},zone9:{p:[.0495177,1.403475708],text:"9"},zone10:{p:[.0186495,1.75096559],text:"10"},"zone9,10,11,12":{p:[[-.014791,1.60617707],[-.0122186,1.189189825]],text:"9,<br>10,<br>11,<br>12"}}},inforRobRfqt:{zones:Pa,markers:{zone1:{p:[.866142,-.534722],text:"1"},zone2:{p:[6.61417,-.833333],text:"2"},zone3:{p:[5.03937,-.083333],text:"3"},zone4:{p:[3.66929,.17361],text:"4"},zone5:{p:[2.97638,.3125],text:"5"},zone6:{p:[2.31496,.54861],text:"6"},zone7:{p:[1.65354,.8125],text:"7"},zone8:{p:[1.24409,1.05556],text:"8"},zone9:{p:[.866142,1.32639],text:"9"},zone10:{p:[.393701,1.76389],text:"10"},zone11:{p:[6.48819,1.48611],text:"11"},zone12:{p:[3.51181,1.72917],text:"12"}}},inforRobBqQt:{zones:Ea,markers:{zone1:{p:[1.21905,.455696],text:"1"},zone2:{p:[.491429,.211573],text:"2"},zone3:{p:[.529524,.922242],text:"3"},zone4:{p:[.346667,1.48101],text:"4"},zone5:{p:[.198095,1.67631],text:"5"},zone6:{p:[.0761905,2.03436],text:"6"},zone7:{p:[.0609524,2.60398],text:"7"}}},inforRobFrQt:{zones:ka,znoeNC:[[-.642563,2.38745],[.577116,.24888],[.607549,.218682],[.626277,.207701],[.649688,.204956],[.673098,.207701],[.682462,.229663],[.680121,.259861],[.666075,.292804],[.656711,.309276],[-.345252,2.64001],[-.642563,2.38745]],markers:{zone1:{p:[-.716937,.259459],text:"1"},zone2:{p:[.763341,.232432],text:"2"},zone3:{p:[.206497,.427027],text:"3"},zone4:{p:[-.141531,.951351],text:"4"},zone5:{p:[-.443155,1.2973],text:"5"},zone6:{p:[-.712297,1.85405],text:"6"},zone7:{p:[-.62877,2.77297],text:"7"},zone8:{p:[.419954,2.77297],text:"8"},zone9:{p:[.726218,2.18919],text:"9"},zoneNC:{p:[-.0719,1.679],text:"(Normally consolidated)"}}},inforRamBqQt:{zones:Oa,markers:{zone1:{p:[1.3078,.298266],text:"1"},zone2:{p:[.504128,.17341],text:"2"},zone3:{p:[.795872,.991908],text:"3"},zone4a:{p:[-.302294,2.00462],text:"4"},zone4b:{p:[.201376,1.99769],text:"4"},zone5a:{p:[-.0573394,3.60694],text:"5"},zone5b:{p:[.0472477,3.60694],text:"5"},zone6:{p:[.0059633,1.17225],text:"6"},zone7:{p:[.0059633,1.66474],text:"7"},zone8:{p:[458716e-9,2.15723],text:"8"},zone9:{p:[.0059633,3.00347],text:"9"}}},inforRamFrQt:{zones:ja,markers:{zone1:{p:[-.520058,.477345],text:"1"},zone2:{p:[.903837,.179044],text:"2"},zone3:{p:[.298327,.696099],text:"3"},zone4:{p:[.694116,2.00862],text:"4"},zone5:{p:[.129604,2.62113],text:"5"},zone6:{p:[-.521634,1.28475],text:"6"},zone7:{p:[-.521634,1.65862],text:"7"},zone8:{p:[-.521634,2.14385],text:"8"},zone9:{p:[-.524788,2.99898],text:"9"}}}},cptClassify:Ta,simplifyRobertson1986:qa,simplifyRobertson1990:Aa,simplifyRobertson2009:Na,simplifyRamsey:za};function Ua(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ba(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ua(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let Qa=Bn.Pa;function Ha(e){let t=[];return ot(e,(e=>{let r={};ot(e,((e,t)=>{Tr(e)&&(e=ku(e)),r[t]=e}));let n=Au(e=r,"depth"),i=Au(e,"qc"),o=Au(e,"fs"),l=Au(e,"u2");t.push(Ba(Ba({},e),{},{depth:n,qc:i,fs:o,u2:l}))})),t}function Wa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"ranger");ju(r)||(r={depthHalf:.25});let n=ve(t,"methodSmooth");return"none"!==n&&"average"!==n&&"averageIn95"!==n&&(n="none"),"none"!==n&&(e=ma(e,"qc",{ranger:r,methodSmooth:n}),e=ma(e,"fs",{ranger:r,methodSmooth:n}),e=ma(e,"u2",{ranger:r,methodSmooth:n})),e}function Va(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"intrpSv");Ou(r)||(r=e=>Tu(e,"MPa"));let n=ve(t,"intrpU0");Ou(n)||(n=e=>zu(e,"MPa"));let i=[];return ot(e,((t,o)=>{let l=Au(t,"depth"),u=r(l,o,t,e).sv;Br(u)&&(u=nn(u));let a=n(l,o,t,e);Br(a)&&(a=nn(a));let s=Au(t,"u2");if(null!==s&&s>10)return!0;let f=null;On(u)&&On(a)&&(f=u-a,f=Math.max(f,0)),i.push(Ba(Ba({},t),{},{sv:u,svp:f,u0:a}))})),i}function Ya(e,t,r,n,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=null,u=null,a=null,s=null,f=null,c=ve(o,"methodIterate","");"basic"!==c&&"binarySearch"!==c&&(c="basic");let h=ve(o,"useCnLeq",!1);An(h)||(h=!1);let p=()=>({n:u,Cn:a,Qtn:s,Icn:f,err:l});if(!Br(t))return l=`qnet[${t}] is not a number`,p();if(t<=0)return l=`qnet[${t}] <= 0`,p();if(!Br(n))return l=`Fr[${n}] is not a number`,p();if(n<=0)return l=`Fr[${n}] <= 0`,p();if(!Br(e))return l=`svp[${e}] is not a number`,p();if(e<=0)return l=`svp[${e}] <= 0`,p();let d=ve(o,"countMax");Lu(d)||(d=1e3),d=_u(d);let g=r=>{let i=(Qa/e)**r;h&&(i=Math.min(i,1.7));let o=i*t/Qa,l=null,u=null;try{l=Math.sqrt((3.47-Math.log10(o))**2+(Math.log10(n)+1.22)**2),u=.381*l+e/Qa*.05-.15}catch(e){throw console.log(e),new Error("Icnn")}return{n:r,Cn:i,Qtn:o,Icn:l,nn:u}},v=e=>{let t=g(e);return Math.abs(t.n-t.nn)},m=null;if("basic"===c){let r=.01,i=1,o=0;for(;;){if(o++,m=g(i),m.nn>1){1!==m.n&&(m=g(1));break}if(Math.abs(m.n-m.nn)<=r)break;if(i=m.nn,o>=d){console.log(`countMax[${d}]`,m,{qnet:t,Fr:n,svp:e});break}}}else{let e=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!Ou(e))throw new Error("invalid fun");if(!Br(t))throw new Error("xMin is not a number");if(t=nn(t),!Br(r))throw new Error("xMax is not a number");r=nn(r);let i=ve(n,"delta");Br(i)||(i=.1),i=nn(i);let o=ve(n,"maxIterations");Br(o)||(o=100),o=nn(o);let l=e(t),u=e(r),a=(t+r)/2,s=e(a),f=0,c=null;for(;;){if(f++,f>o)return null;if(l<=u&&l<=s){c={y:l,x:t};break}if(u<=l&&u<=s){c={y:u,x:r};break}u>=l?(u=s,u=e(r=a)):(l=s,l=e(t=a)),a=(t+r)/2,s=e(a)}return c}(v,0,1),t=e.x;m=g(t),m.nn>1&&(m=g(1))}let y=!1;return m.n>1||m.Icn>2.6?(y=!0,u=1):m.n<.5&&(y=!0,u=.5),y&&(a=(Qa/e)**u,h&&(a=Math.min(a,1.7)),s=a*t/Qa,f=Math.sqrt((3.47-Math.log10(s))**2+(Math.log10(n)+1.22)**2)),y&&(m.n=u,m.Cn=a,m.Qtn=s,m.Icn=f),u=ve(m,"n",null),a=ve(m,"Cn",null),s=ve(m,"Qtn",null),f=ve(m,"Icn",null),p()}function Za(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"unitSvSvp");if("kPa"!==r&&"MPa"!==r)throw new Error(`opt.unitSvSvp[${r}] need kPa or MPa`);let n=(e,t)=>ve(e,`success.${t}`,null),i=ve(e,"depth");i=Br(i)?nn(i):null;let o=ve(e,"sv");o=Br(o)?nn(o):null;let l=ve(e,"svp");if(l=Br(l)?nn(l):null,On(o))try{ya(o,i,r,"sv")}catch(t){console.log("sv",t.toString(),e)}if(On(l))try{ya(l,i,r,"svp")}catch(t){console.log("svp",t.toString(),e)}"kPa"===r&&(o/=1e3,l/=1e3);let u=ve(e,"qc");u=Br(u)?nn(u):null;let a=ve(e,"fs");a=Br(a)?nn(a):null;let s=ve(e,"u0");s=Br(s)?nn(s):null;let f=ve(e,"u2");f=Br(f)?nn(f):null;let c=ve(e,"coe_a");if(!Br(c))throw new Error(`coe_a[${c}] is not a number`);c=nn(c);let h=ve(t,"useCnLeq");An(h)||(h=!1);let p=null;On(u)&&On(s)&&On(f)&&(p=u+f*(1-c),p=Math.max(p,0));let d=null;On(p)&&On(o)&&(d=p-o,d=Math.max(d,0));let g=null;On(d)&&On(f)&&d>0&&(g=(f-s)/d);let v=null;On(p)&&On(a)&&p>0&&(v=a/p*100,v=Math.max(v,0));let m=null;On(d)&&On(l)&&l>0&&(m=d/l,m=Math.max(m,0));let y=null;On(d)&&On(a)&&d>0&&(y=a/d*100,y=Math.max(y,0));let b=null;On(m)&&On(y)&&m>0&&y>0&&(b=Math.sqrt((3.47-Math.log10(m))**2+(Math.log10(y)+1.22)**2));let w=Ya(l,d,m,y,b,{useCnLeq:h}),$=ve(w,"n",null),S=ve(w,"Cn",null),x=ve(w,"Icn",null),M=ve(w,"Qtn",null),P=Ta.csfIc(b),E=Ta.csfIc(x),k=Ta.csfRobBqqt(g,p),O=Ta.csfRobRfqt(v,p),j=Ta.csfRobBqQt(g,m),D=Ta.csfRobFrQt(y,m),L=Ta.csfRobBqQt(g,M),C=Ta.csfRobFrQt(y,M),R=Ta.csfRamBqQt(g,m),q=Ta.csfRamFrQt(y,m),F=n(P,"int"),_=n(E,"int"),A=n(k,"int"),N=n(O,"int"),I=n(j,"int"),z=n(D,"int"),T=n(L,"int"),G=n(C,"int"),U=n(R,"int"),B=n(q,"int"),Q=Ba(Ba({},e),{},{sv:o,svp:l,qc:u,fs:a,u0:s,u2:f,qt:p,qnet:d,Bq:g,Qt:m,Qtn:M,Rf:v,Fr:y,Ic:b,Icn:x,n:$,Cn:S,iIc:F,iIcn:_,iRobBqqt:A,iRobRfqt:N,iRobBqQt:I,iRobFrQt:z,iRobBqQtn:T,iRobFrQtn:G,iRamBqQt:U,iRamFrQt:B});return"kPa"===r&&(Q.sv*=1e3,Q.svp*=1e3),Q}var Ka={basic:Ha,smooth:Wa,stress:Va,calcCpt:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"unitSvSvp");if("kPa"!==r&&"MPa"!==r)throw new Error(`opt.unitSvSvp[${r}] need kPa or MPa`);return e=xr(e=Va(e=Wa(e=Ha(e=Xi(e)),t),t),(e=>Za(e,t)))},calcCptCore:Za};function Xa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Br(e)&&Ku(t)?(e=nn(e),Fu(e,t).toFixed(t)):""}var Ja=Math.max;var es,ts=(es=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:Du(r);return i<0&&(i=Ja(n+i,0)),cu(e,$r(t),i)},function(e,t,r){var n=Object(e);if(!Je(e)){var i=$r(t);e=et(e),t=function(e){return i(n[e],e,n)}}var o=es(e,t,r);return o>-1?n[i?e[o]:o]:void 0}),rs=ts;function ns(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function is(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ns(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ns(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let os=null;function ls(){return null!==os||(os=[{key:"sand",nameCht:"",nameEng:"Sand",nameEngineeringEng:"SAND",group:"",colorPrimary:"#467dec",colorSecondary:"#467dec"},{key:"silty-sand",nameCht:"",nameEng:"Silty-sand",nameEngineeringEng:"SILTY-SAND",group:"",colorPrimary:"linear-gradient(90deg, #dad74d 0%, #467dec 100%)",colorSecondary:"#00D9A3"},{key:"sand/silt",nameCht:"",nameEng:"Sand/Silt",nameEngineeringEng:"SAND/SILT",group:"",colorPrimary:"repeating-linear-gradient(90deg, #dad74d 5px, #467dec 10px, #dad74d 15px)",colorSecondary:"#87A7A3"},{key:"clayey-sand",nameCht:"",nameEng:"Clayey-sand",nameEngineeringEng:"CLAYEY-SAND",group:"",colorPrimary:"linear-gradient(90deg, #ea4e2d 0%, #467dec 100%)",colorSecondary:"#B973FF"},{key:"sand/clay",nameCht:"",nameEng:"Sand/Clay",nameEngineeringEng:"SAND/CLAY",group:"",colorPrimary:"repeating-linear-gradient(90deg, #ea4e2d 5px, #467dec 10px, #ea4e2d 15px)",colorSecondary:"#859C78"},{key:"sandy-silt",nameCht:"",nameEng:"Sandy-silt",nameEngineeringEng:"SANDY-SILT",group:"",colorPrimary:"linear-gradient(90deg, #467dec 0%, #dad74d 100%)",colorSecondary:"#00D9D9"},{key:"silt",nameCht:"",nameEng:"Silt",nameEngineeringEng:"SILT",group:"",colorPrimary:"#dad74d",colorSecondary:"#D9D900"},{key:"clayey-silt",nameCht:"",nameEng:"Clayey-silt",nameEngineeringEng:"CLAYEY-SILT",group:"",colorPrimary:"linear-gradient(90deg, #ea4e2d 0%, #dad74d 100%)",colorSecondary:"#FFBF00"},{key:"sandy-clay",nameCht:"",nameEng:"Sandy-clay",nameEngineeringEng:"SANDY-CLAY",group:"",colorPrimary:"linear-gradient(90deg, #467dec 0%, #ea4e2d 100%)",colorSecondary:"#2DB200"},{key:"silty-clay",nameCht:"",nameEng:"Silty-clay",nameEngineeringEng:"SILTY-CLAY",group:"",colorPrimary:"linear-gradient(90deg, #dad74d 0%, #ea4e2d 100%)",colorSecondary:"#FFDC73"},{key:"silt/clay",nameCht:"",nameEng:"Silt/Clay",nameEngineeringEng:"SILT/CLAY",group:"",colorPrimary:"repeating-linear-gradient(90deg, #dad74d 5px, #ea4e2d 10px, #dad74d 15px",colorSecondary:"#C6BEAC"},{key:"clay",nameCht:"",nameEng:"Clay",nameEngineeringEng:"CLAY",group:"",colorPrimary:"#ea4e2d",colorSecondary:"#ea4e2d"}]),os}function us(e,t,r){let n=ls(),i=rs(n,{[e]:t});return ju(i)||(i=null),Gr(r)&&(i=ve(i,r,null)),i}function as(){let e=["sand","sandy-silt","clayey-silt","clay"];return e=xr(e,(e=>us("key",e,"nameEngineeringEng"))),e}function ss(){let e=["sand","silty-sand","clayey-sand","sandy-silt","clayey-silt","clay"];return e=xr(e,(e=>us("key",e,"nameEng"))),e}function fs(){let e=["sand","silty-sand","clayey-sand","sandy-silt","silt","clayey-silt","sandy-clay","silty-clay","clay"];return e=xr(e,(e=>us("key",e,"nameEng"))),e}function cs(e){if("Ic"!==e&&"Icn"!==e)throw new Error(`k[${e}] must be Ic or Icn`);let t=$a(),r=[];return ot(t,(t=>{let n=`${e}(${Xa(t.min,2)}-${Xa(t.max,2)})`;r.push(n)})),r}function hs(){return cs("Ic")}function ps(){return cs("Icn")}var ds={getSoilGroups:ls,getSoilGroupByKV:us,sortSoilGroupsByKey:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key",r=ls(),n={};if(ot(r,((e,r)=>{n[e[t]]=r})),to(e))e=zr(e,(e=>n[e]));else{if(!ju(e))return e;{let t=et(e);t=zr(t,(e=>n[e]));let r={};ot(t,(t=>{r[t]=e[t]})),e=r}}return e},getSoilGroupsIc:hs,getSoilGroupsIcn:ps,getSoilGroupsT4:as,getSoilGroupsT6:ss,getSoilGroupsT9:fs,getKpSoilGroups:function(){let e={},t=ls(),r=$a();return ot(["nameEng","nameEngineeringEng"],(r=>{ot(t,(t=>{let n=t[r];e[n]=is({key:n},t)}))})),ot(r,(t=>{ot(["Ic","Icn"],(r=>{let n=`${r}(${Xa(t.min,2)}-${Xa(t.max,2)})`;e[n]=is({key:n},t)}))})),e}};function gs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"keyDepth");Gr(r)||(r="depth");let n=ve(t,"keyDepthStart");Gr(n)||(n="depthStart");let i=ve(t,"keyDepthEnd");Gr(i)||(i="depthEnd");let o=ve(t,"keyType");Gr(o)||(o="type");let l=ve(t,"saveFromInds");An(l)||(l=!0);let u=ve(t,"keyInd");Gr(u)||(u="ind");let a=ve(t,"keyFromInds");Gr(a)||(a="fromInds");let s=Xi(e);return l&&(s=xr(s,((e,t)=>(Br(e[u])||(e[u]=t),e)))),ot(s,((e,t)=>{if(0===t)return!0;if(!ju(e))throw new Error(`ltdt[${t}] is not an object`);let r=ve(s,t-1),f=e,c=ve(r,o,""),h=ve(r,i,""),p=ve(f,o,""),d=ve(f,n,"");if(!Br(h)||!Br(d))return!0;h=nn(h),d=nn(d);let g=Gr(c),v=Gr(p),m=g&&v,y=Br(c),b=Br(p),w=!1;(m||y&&b)&&(w=da(c)===da(p)&&Tl(h,"===",d)),w&&(l&&(jn(s[t-1][a])||(s[t-1][a]=[s[t-1][u]]),jn(s[t][a])||(s[t][a]=[s[t][u]]),s[t][a]=[...s[t-1][a],...s[t][a]]),s[t][n]=s[t-1][n],s[t-1]=null)})),s=ra(s,ju),s}function vs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ms(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?vs(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let ys=hs(),bs=ps(),ws=as(),$s=ss(),Ss=fs();function xs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===Mn(e))return[];let r=ve(t,"keyDepth");Gr(r)||(r="depth");let n=ve(t,"keyDepthStart");Gr(n)||(n="depthStart");let i=ve(t,"keyDepthEnd");Gr(i)||(i="depthEnd");let o=ve(t,"depthStartMin");Br(o)&&(o=nn(o));let l=ve(t,"depthEndMax");Br(l)&&(l=nn(l));let u=ve(t,"keyType");Gr(u)||(u="type");let a=ve(t,"getType",null),s=ve(t,"keyInd");Gr(s)||(s="ind"),e=Gl(e,t);let f=[];return ot(e,((e,t)=>{let c=ve(e,n,null);if(!Br(c))throw new Error(`depthStart[${c}] is not a number`);c=nn(c);let h=ve(e,i,null);if(!Br(h))throw new Error(`depthEnd[${h}] is not a number`);h=nn(h),On(o)&&(c=Math.max(c,o)),On(l)&&(h=Math.min(h,l));let p=(c+h)/2,d=ve(e,u,null);Ou(a)&&(d=a(e,t)),Gr(d)&&f.push({[r]:p,[n]:c,[i]:h,[u]:d,[s]:t})})),f}function Ms(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t=>{let n=$a();if("Ic"!==t&&"Icn"!==t)throw new Error(`key[${t}] must be Ic or Icn`);let i=ms(ms({},r),{},{getType:(e,r)=>{let i=ve(e,t,""),o="";return ot(n,(e=>{if(i<e.max)return o=`${t}(${Xa(e.min,2)}-${Xa(e.max,2)})`,!1})),o}});return xs(e,i)},i=t=>{if("T4"!==t&&"T6"!==t)throw new Error(`T[${t}] must be T4 or T6`);let n=_u(t.replace("T","")),i="";i="T4"===t?"nameEngineeringEng":"nameEng";let o=ms(ms({},r),{},{getType:(e,t)=>{let r=ve(e,"iRobFrQt",""),o=ve(e,"iRobBqQt",""),l="";try{l=us("key",qa(r,o,{numOfType:n}),i)}catch(e){console.log(e)}return l}});return xs(e,o)},o=t=>{if("T4"!==t&&"T6"!==t)throw new Error(`T[${t}] must be T4 or T6`);let n=_u(t.replace("T","")),i="";i="T4"===t?"nameEngineeringEng":"nameEng";let o=ms(ms({},r),{},{getType:(e,t)=>{let r=ve(e,"iRobFrQt",""),o=ve(e,"iRobBqQt",""),l="";try{l=us("key",Aa(r,o,{numOfType:n}),i)}catch(e){console.log(e)}return l}});return xs(e,o)},l=t=>{if("T4"!==t&&"T6"!==t)throw new Error(`T[${t}] must be T4 or T6`);let n=_u(t.replace("T","")),i="";i="T4"===t?"nameEngineeringEng":"nameEng";let o=ms(ms({},r),{},{getType:(e,t)=>{let r=ve(e,"iRobFrQtn",""),o=ve(e,"iRobBqQtn",""),l="";try{l=us("key",Na(r,o,{numOfType:n}),i)}catch(e){console.log(e)}return l}});return xs(e,o)},u=t=>{if("T4"!==t&&"T6"!==t)throw new Error(`T[${t}] must be T4 or T6`);let n=_u(t.replace("T","")),i="";i="T4"===t?"nameEngineeringEng":"nameEng";let o=ms(ms({},r),{},{getType:(e,t)=>{let r=ve(e,"iRamFrQt",""),o=ve(e,"iRamBqQt",""),l="";try{l=us("key",za(r,o,{numOfType:n}),i)}catch(e){console.log(e)}return l}});return xs(e,o)},a={Ic:()=>n("Ic"),Icn:()=>n("Icn"),Robertson1986T6:()=>i("T6"),Robertson1986T4:()=>i("T4"),Robertson1990T6:()=>o("T6"),Robertson1990T4:()=>o("T4"),Robertson2009T6:()=>l("T6"),Robertson2009T4:()=>l("T4"),RamseyT6:()=>u("T6"),RamseyT4:()=>u("T4")};if(!ba(a,t))throw console.log(`invalid method[${t}]`,a),new Error(`invalid method[${t}]`);let s=(0,a[t])();return s=gs(s,r),s}var Ps={getKpSoilGroupsTn:function(){return{soilGroupsIc:ys,soilGroupsIcn:bs,soilGroupsT4:ws,soilGroupsT6:$s,soilGroupsT9:Ss}},genLayer:xs,calcLayersByMerge:gs,calcCptLayer:Ms,calcCptLayers:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Gr(t)&&(t=[t]),!to(t))throw new Error(`methods[${t}] is not an effective array`);return xr(t,(t=>({method:t,ltdt:Ms(e,t,r)})))}};function Es(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ks(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Es(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Es(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let Os=Bn.Pa,js=Bn.rw,Ds={1:17.5,2:12.5,3:17.5,4:18,5:18,6:18,7:18.5,8:19,9:19.5,10:20,11:20.5,12:19,13:79/4},Ls={1:17.5,2:12.5,3:17.5,4:18,5:18.25,6:19,7:19.75,8:19,9:20.5};function Cs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"method","");"Robertson(1986)"!==r&&"Lunne(1997)"!==r&&"Lunne(1997) for Robertson stress exponent"!==r&&"Robertson and Cabal(2010)"!==r&&"Mayne(2014)"!==r&&(r="Robertson(1986)");let n=ve(t,"rsatIni");Br(n)||(n=19.5),n=nn(n);let i=ve(t,"rdiff");Br(i)||(i=3),i=nn(i);let o=ve(t,"ratio");if(Br(o)||(o=.8),o=nn(o),o<=0)throw new Error(`ratio[${o}]<=0`);if(o>1)throw new Error(`ratio[${o}]>1`);let l=e=>{let t=Xa(e,2);return{vi:t,vd:nn(t)}},u=1-o,a=o;e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"waterLevel");Br(r)||(r=0),r=nn(r);let n=ve(t,"rdiff");Br(n)||(n=3),n=nn(n);let i=r,o=r;return e=xr(e=Xi(e),((e,t)=>{let r=ve(e,"rsat");if(!Br(r))throw console.log("stress",t,e),new Error("stress: rsat");r=nn(r);let i=r-n;return e.rsat=r,e.rd=i,e})),xr(e=Hl(e,ks(ks({},t),{},{waterLevelUsual:i,waterLevelDesign:o,unitSvSvp:"MPa"})),(e=>{let t=ve(e,"svpUsual");return e.svp=t,delete e.svpUsual,delete e.svpDesign,delete e.waterLevelUsual,delete e.waterLevelDesign,e}))}(e,t),e=xr(e,(e=>Za(e,{unitSvSvp:"MPa",useCnLeq:!1})));let s=!1;return e=xr(e,((e,t)=>{if(!Br(e.rsat))throw console.log("rsat",t,e),new Error("rsat");let o=null;if("Robertson(1986)"===r){if(null===o&&Lu(e.iRobRfqt)&&(o=ve(Ds,e.iRobRfqt,null),!Br(o)))throw new Error(`kpCPTClassForRobBqRfqtiRobRfqt[${e.iRobRfqt}]`);if(null===o&&Lu(e.iRobBqqt)&&(o=ve(Ds,e.iRobBqqt,null),!Br(o)))throw new Error(`kpCPTClassForRobBqRfqtiRobBqqt[${e.iRobBqqt}]`);Br(o)||(o=n)}else if("Lunne(1997)"===r){if(null===o&&Lu(e.iRobFrQt)&&(o=ve(Ls,e.iRobFrQt,null),!Br(o)))throw new Error(`kpCPTClassForLunneBqFrQtiRobFrQt[${e.iRobFrQt}]`);if(null===o&&Lu(e.iRobBqQt)&&(o=ve(Ls,e.iRobBqQt,null),!Br(o)))throw new Error(`kpCPTClassForLunneBqFrQtiRobBqQt[${e.iRobBqQt}]`);Br(o)||(o=n)}else if("Lunne(1997) for Robertson stress exponent"===r){if(null===o&&Lu(e.iRobFrQtn)&&(o=ve(Ls,e.iRobFrQtn,null),!Br(o)))throw new Error(`kpCPTClassForLunneBqFrQtiRobFrQtn[${e.iRobFrQtn}]`);if(null===o&&Lu(e.iRobBqQtn)&&(o=ve(Ls,e.iRobBqQtn,null),!Br(o)))throw new Error(`kpCPTClassForLunneBqFrQtiRobBqQtn[${e.iRobBqQtn}]`);Br(o)||(o=n)}else if("Robertson and Cabal(2010)"===r)o=js*(.27*Math.log10(e.Rf)+.36*Math.log10(e.qt/Os)+1.236),Br(o)||(o=n);else if("Mayne(2014)"===r){let t=1e3*e.fs;o=26-14/(1+(.5*Math.log10(t+1))**2),Br(o)||(o=n);let r=12,i=23;o<r&&(o=r),o>i&&(o=i)}let f=nn(e.rsat),c=o,h=l(f),p=l(c),d=h.vi,g=p.vi;if(f=h.vd,c=p.vd,d!==g){s=!0;let t=f*u+c*a;e.rsat=l(t).vd;let r=t-i;e.rd=l(r).vd}return e})),{bUpdate:s,ltdt:e}}let Rs=Bn.Pa;function qs(e,t){return null==(e=function(e,t){return t.length<2?e:ge(e,su(t,0,-1))}(e,t=he(t,e)))||delete e[de((r=t,n=null==r?0:r.length,n?r[n-1]:void 0))];var r,n}var Fs=Array.prototype.splice;var _s=Yu((function(e,t){var r=null==e?0:e.length,n=Wu(e,t);return function(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;qe(i)?Fs.call(e,i,1):qs(e,i)}}}(e,le(t,(function(e){return qe(e,r)?+e:e})).sort(kr)),n})),As=_s;function Ns(e,t){if(!Br(e))throw new Error(`compressiveStrength[${e}] is not a number`);if(e=nn(e),!Br(t))throw new Error(`svp[${t}] is not a number`);return{compressiveStrength:e,svp:t=nn(t),ocr:(e/t/.35)**(1/.85)}}function Is(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Is(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Is(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"keyCompressiveStrength");Gr(r)||(r="compressiveStrength");let n=ve(t,"keyOcr");Gr(n)||(n="ocr");let i=ve(t,"showLog");An(i)||(i=!0);let o=ve(e,r,null),l=ve(e,"svp",null);if(!Br(o))throw i&&console.log("dt",e),new Error(`compressiveStrength[${o}] is not a number`);if(!Br(l))throw i&&console.log("dt",e),new Error(`svp[${l}] is not a number`);let u=Ns(o,l);return u=zs(zs({},e),{},{[r]:u.compressiveStrength,svp:u.svp,[n]:u.ocr}),u}function Gs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Us(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gs(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bs(e,t,r){let n=ve(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},"checkLimit");if(An(n)||(n=!0),!Br(e))throw new Error(`rd[${e}] is not a number`);if(e=nn(e),!Br(t))throw new Error(`rdMin[${t}] is not a number`);if(t=nn(t),!Br(r))throw new Error(`rdMax[${r}] is not a number`);if(r=nn(r),n&&t>r)throw new Error(`rdMin[${t}] > rdMax[${r}]`);if(n&&e<t)throw new Error(`rd[${e}] < rdMin[${t}]`);if(n&&e>r)throw new Error(`rd[${e}] > rdMax[${r}]`);let i=e*(r-t),o=null;return i>0&&(o=r*(e-t)/i*100,o=Math.max(o,0),o=Math.min(o,100)),{rd:e,rdMin:t,rdMax:r,Dr:o}}function Qs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Hs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qs(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ws(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"keyRd");Gr(r)||(r="rd");let n=ve(t,"keyRdMin");Gr(n)||(n="rdMin");let i=ve(t,"keyRdMax");Gr(i)||(i="rdMax");let o=ve(t,"keyDr");Gr(o)||(o="Dr");let l=ve(t,"checkLimit");An(l)||(l=!0);let u=ve(t,"showLog");An(u)||(u=!0);let a=ve(e,r,null),s=ve(e,n,null),f=ve(e,i,null);if(!Br(a))throw u&&console.log("dt",e),new Error(`rd[${a}] is not a number`);if(!Br(s))throw u&&console.log("dt",e),new Error(`rdMin[${s}] is not a number`);if(!Br(f))throw u&&console.log("dt",e),new Error(`rdMax[${f}] is not a number`);let c=Bs(a,s,f,t);return c=Hs(Hs({},e),{},{[r]:a,[n]:s,[i]:f,[o]:c.Dr}),c}function Vs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ys(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vs(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Zs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ks(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zs(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zs(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xs(e,t,r){for(var n=-1,i=e.length;++n<i;){var o=e[n],l=t(o);if(null!=l&&(void 0===u?l==l&&!m(l):r(l,u)))var u=l,a=o}return a}function Js(e,t){return e>t}function ef(e,t){return e<t}function tf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tf(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function nf(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=ve(r,"keySize","");Gr(n)||(n="size");let i=ve(r,"keyFraction","");Gr(i)||(i="fraction");let o=ve(e,0),l=ve(o,n,""),u=ve(o,i,"");if(!Br(l))throw new Error(`pfssp[0][${n}] is not an effective number`);if(!Br(u))throw new Error(`fraction0[0][${i}] is not an effective number`);if(!Br(t)&&!to(t))throw console.log("psizes",t),new Error("psizes is not a number or an effective array");let a=!1;Br(t)&&(a=!0,t=[nn(t)]);let s=ra(e,(e=>{let t=nn(e[n])>0,r=nn(e[i])>=0;return t&&r}));if(0===Mn(s))throw console.log("pfss",e),new Error("invalid rs");let f=xr(s,(e=>{let t=Math.log(e[n]);return rf(rf({},e),{},{[n]:t})})),c=(p=n,(h=f)&&h.length?Xs(h,$r(p),Js):void 0);var h,p;let d=function(e,t){return e&&e.length?Xs(e,$r(t),ef):void 0}(f,n),g=xr(t,(e=>{let t=Math.log(e);if(t>=c[n])return c[i];if(t<=d[n])return d[i];let r={keyX:n,keyY:i},o=Fn(f,t,r);return ve(o,"err")?(console.log("rls",f),console.log("sizeLog",t),console.log("optP",r),console.log("pfraction",o),null):o})),v=g;return a&&(v=g[0]),v}let of=e=>{let t=function(e){if(!Gr(e))return{};let t={};try{t=JSON.parse(e)}catch(e){t={}}return t}(e);return to(t)?t:null};function lf(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=ve(r,"keyGSD","");Gr(n)||(n="GSD");let i=ve(r,"keyGSP","");Gr(i)||(i="GSP");let o=ve(r,"keySize","");Gr(o)||(o="size");let l=ve(r,"keyFraction","");Gr(l)||(l="fraction");let u=ve(r,"showLog");An(u)||(u=!0);let a=ve(e,n,"");if(!Gr(a)&&!to(a))throw u&&console.log("dt",e),new Error("invalid dt.GSD");if(Gr(a)&&(a=of(a)),!to(a))throw u&&console.log("dt",e),u&&console.log("dt[keyGSD]",e[n]),u&&console.log("GSD",a),new Error("invalid dt.GSD");let s=ve(e,"GSP","");if(!Gr(s)&&!to(s))throw u&&console.log("dt",e),new Error("invalid dt.GSP");if(Gr(s)&&(s=of(s)),!to(s))throw u&&console.log("dt",e),u&&console.log("dt[keyGSP]",e[i]),u&&console.log("GSP",s),new Error("invalid dt.GSP");let f=!1;Br(t)&&(f=!0),Br(t)?t=[nn(t)]:to(t)||(t=[101.6,76.2,50.8,25.4,19,9.5,4.75,2,.85,.425,.25,.15,.106,.075,.034,.022,.013,.009,.007,.005,.003,.001]);let c=[];ot(a,((e,t)=>{let r=ve(a,t,"");if(!Br(r))throw u&&console.log(t,"size",r),new Error(`size[${r}] is not an effective number`);r=nn(r);let n=ve(s,t,"");if(!Br(n))throw u&&console.log(t,"fraction",n),new Error(`fraction[${n}] is not an effective number`);n=nn(n),c.push({[o]:r,[l]:n})}));let h=nf(c,t,{keySize:o,keyFraction:l});h=xr(h,((e,r)=>{let n=ve(t,r);return{[o]:n,[l]:e}}));let p=h;return f&&(p=h[0]),p}function uf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"keyGSD","");Gr(r)||(r="GSD");let n=ve(t,"keyGSP","");Gr(n)||(n="GSP");let i=ve(t,"keySize","");Gr(i)||(i="size");let o=ve(t,"keyFraction","");Gr(o)||(o="fraction");let l=ve(t,"showLog");An(l)||(l=!0);let u=[630,200,63,20,6.3,2,.63,.2,.063,.02,.0063,.002],a=lf(e,u,t);if(0===Mn(a))throw l&&console.log("dt",e),l&&console.log("psizes",u),l&&console.log("keyGSD",r),l&&console.log("keyGSP",n),l&&console.log("keySize",i),l&&console.log("keyFraction",o),new Error("invalid PSD");let s=rs(a,{size:2}),f=rs(a,{size:.063}),c=rs(a,{size:.002}),h=ve(s,"fraction"),p=ve(f,"fraction"),d=ve(c,"fraction");if(!Br(h))throw new Error("invalid PSD in 2mm");if(!Br(p))throw new Error("invalid PSD in 0.063mm");if(!Br(d))throw new Error("invalid PSD in 0.002mm");h=nn(h),p=nn(p),d=nn(d);let g=100-h;g=Fu(g);let v=h-p;v=Fu(v);let m=p-d;m=Fu(m);let y=d;return y=Fu(y),e.ctGravelISO=g,e.ctSandISO=v,e.ctSiltISO=m,e.ctClayISO=y,e.ctCoarseISO=g+v,e.ctFineISO=m+y,e}function af(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function sf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?af(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):af(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ff(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"keyGSD","");Gr(r)||(r="GSD");let n=ve(t,"keyGSP","");Gr(n)||(n="GSP");let i=ve(t,"keySize","");Gr(i)||(i="size");let o=ve(t,"keyFraction","");Gr(o)||(o="fraction");let l=ve(t,"showLog");An(l)||(l=!0);let u=[101.6,76.2,50.8,25.4,19,9.5,4.75,2,.85,.425,.25,.15,.106,.075,.034,.022,.013,.009,.007,.005,.003,.001],a=lf(e,u,t);if(0===Mn(a))throw l&&console.log("dt",e),l&&console.log("psizes",u),l&&console.log("keyGSD",r),l&&console.log("keyGSP",n),l&&console.log("keySize",i),l&&console.log("keyFraction",o),new Error("invalid PSD");let s=rs(a,{size:4.75}),f=rs(a,{size:.075}),c=rs(a,{size:.005}),h=ve(s,"fraction"),p=ve(f,"fraction"),d=ve(c,"fraction");if(!Br(h))throw new Error("invalid PSD in 4.75mm");if(!Br(p))throw new Error("invalid PSD in 0.075mm");if(!Br(d))throw new Error("invalid PSD in 0.005mm");h=nn(h),p=nn(p),d=nn(d);let g=100-h;g=Fu(g);let v=h-p;v=Fu(v);let m=p-d;m=Fu(m);let y=d;return y=Fu(y),e.ctGravelUSCS=g,e.ctSandUSCS=v,e.ctSiltUSCS=m,e.ctClayUSCS=y,e.ctCoarseUSCS=g+v,e.ctFineUSCS=m+y,e}function cf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cf(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pf(e){if(!Lu(e))return!1;return _u(e)>0}function df(e,t,r){var n=null==e?0:e.length;return n?su(e,(t=r||void 0===t?1:Du(t))<0?0:t,n):[]}function gf(e,t){if(!Gr(e))return"";if(!Ku(t))return"";if(0===(t=_u(t)))return"";let r=e.length-t;return r<0&&(r=0),e.substring(r,r+t)}function vf(e,t){return Gr(e)&&Ku(t)?0===(t=_u(t))?e:gf(e,e.length-t):""}function mf(e,t){return Gr(e)&&Ku(t)?0===(t=_u(t))?"":e.substring(0,t):""}function yf(e,t){return Gr(e)&&Ku(t)?0===(t=_u(t))?e:mf(e,e.length-t):""}function bf(e){let t=0,r=0,n=0,i=Mn(e);ot(e,(e=>{Br(e)?t+=1:Tr(e)?r+=1:Ji(e)&&(n+=1)}));let o="";return t===i?o="num":r===i?o="str":n===i?o="obj":t+r===i?o="str":console.log("eles in array are non-homogeneous",e),o}function wf(e,t){let r=[];if("num"!==t&&"str"!==t&&"files"!==t)throw new Error(`invalid type[${t}]`);if("num"===t)r=xr(e,((e,t)=>({key:t,payload:e,value:nn(e)})));else if("files"===t)r=xr(e,((e,t)=>({key:t,payload:e,value:da(e)})));else if("str"===t){let t=xr(e,(e=>function(e){let t=ve(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"excludeString");if(An(t)||(t=!1),!Gr(e))return"";let r=e=>e>="0"&&e<="9"||"."===e||"-"===e||"+"===e,n=ku(e);if(t){let e=n.split("");for(let t=0;t<e.length;t++)if(r(e[t])){n=vf(n,t),e=df(e,t);break}e=En(e);for(let t=0;t<e.length;t++)if(r(e[t])){n=yf(n,t);break}}return n}(e,{excludeString:!0}))),n=0;ot(t,(e=>{Br(e)&&n++}));let i=n===Mn(t);r=xr(e,((e,r)=>{let n=e;return i?(n=t[r],n=nn(n)):n=da(n),{key:r,payload:e,value:n}}))}return r}function $f(e,t){let r=zr(e,"value");return xr(r,t?"key":"payload")}function Sf(e,t){let r=function(e,t){let r=Xi(e);return r.sort(((e,r)=>e[t].localeCompare(r[t],"standard",{numeric:!0}))),r}(e,"value");return xr(r,t?"key":"payload")}function xf(e){return e&&e.length?Xs(e,nt,ef):void 0}function Mf(e){return e&&e.length?Xs(e,nt,Js):void 0}function Pf(e){return ce(e).toLowerCase()}var Ef=Ge&&Ge.isRegExp,kf=Ef?Ne(Ef):function(e){return g(e)&&"[object RegExp]"==d(e)},Of=4294967295;function jf(e,t,r){if(!Gr(e))return"";if(!Gr(t))return"";if(!Tr(r))return"";return String(e).replaceAll(t,r)}function Df(e,t){if(!Gr(e))return[];if(!Gr(t))return[];let r=function(e,t){return Gr(e)&&Gr(t)?e.split(t):[]}(e,t);r=xr(r,ku);let n=[];return ot(r,(function(e){Gr(e)&&n.push(e)})),n}function Lf(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!to(t))return{};let n={};return ot(t,(function(t){n[t]=ve(e,t,r)})),n}function Cf(e){return null==e?[]:function(e,t){return le(t,(function(t){return e[t]}))}(e,et(e))}let Rf=Bn.rw;function qf(e,t){return e*Rf/(1+t)}function Ff(e,t){return e-t*Rf/(1+t)}function _f(e,t){return(e-Rf)*t/(t-1)}function Af(e,t){return(e+t)*Rf/(1+t)}function Nf(e,t){return e+t*Rf/(1+t)}function If(e,t){return e*(t-1)/t+Rf}function zf(e,t){return(e*Rf-t)/t}function Tf(e,t){return(e-t)/(t-Rf-e)}function Gf(e,t){return(e*Rf-t)/(t-Rf)}function Uf(e,t){return e*(1+t)/Rf}function Bf(e,t){return e/(e-(t-Rf))}function Qf(e,t){return(e+e*t-t*Rf)/Rf}function Hf(e,t,r,n){let i={},o=ve(arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},"returnFuncs");function l(){let o,l,u,a,s=!1;return!On(o)&&On(r)&&On(n)&&(o=qf(r,n)),!On(o)&&On(t)&&On(n)&&(o=Ff(t,n)),!On(o)&&On(t)&&On(r)&&1!==r&&(o=_f(t,r)),On(e)?Math.abs(e-o)>o/100*5&&(i.ck_rd=`[${e}][${o}]`):(e=o,s=!0),!On(l)&&On(r)&&On(n)&&(l=Af(r,n)),!On(l)&&On(e)&&On(n)&&(l=Nf(e,n)),!On(l)&&On(e)&&On(r)&&(l=If(e,r)),On(t)?Math.abs(t-l)>l/100*5&&(i.ck_rsat=`[${t}][${l}]`):(t=l,s=!0),!On(u)&&On(r)&&On(e)&&(u=zf(r,e)),!On(u)&&On(t)&&On(e)&&t-Rf-e!=0&&(u=Tf(e,t)),!On(u)&&On(t)&&On(r)&&t-Rf!=0&&(u=Gf(r,t)),On(n)?Math.abs(n-u)>u/100*5&&(i.ck_e=`[${n}][${u}]`):(n=u,s=!0),!On(a)&&On(e)&&On(n)&&(a=Uf(e,n)),!On(a)&&On(e)&&On(t)&&e-(t-Rf)!=0&&(a=Bf(e,t)),!On(a)&&On(t)&&On(n)&&(a=Qf(t,n)),On(r)?Math.abs(r-a)>a/100*5&&(i.ck_GS=`[${r}][${a}]`):(r=a,s=!0),s}An(o)||(o=!1),Br(e)?((e=nn(e))<=0&&(i.rd=`[${e}]<=0`),e<=Rf&&(i.rd=`[${e}]<=[${Rf}]`)):e=null,Br(t)?((t=nn(t))<=0&&(i.rsat=`[${t}]<=0`),t<=Rf&&(i.rsat=`[${t}]<=[${Rf}]`)):t=null,Br(r)?(r=nn(r))<=0&&(i.GS=`[${r}]<=0`):r=null,Br(n)?(n=nn(n))<=0&&(i.e=`[${n}]<=0`):n=null;let u=0;if(u+=Br(e)?1:0,u+=Br(t)?1:0,u+=Br(r)?1:0,u+=Br(n)?1:0,u>=2){let e=l();for(;e;)e=l()}let a={rd:e,rsat:t,GS:r,e:n};if(ju(i)){let e=Hn(Cf(i),", ");a.err=e}return o&&(a.coreFuncs={get_rd_from_GS_e:qf,get_rd_from_rsat_e:Ff,get_rd_from_rsat_GS:_f,get_rsat_from_GS_e:Af,get_rsat_from_rd_e:Nf,get_rsat_from_rd_GS:If,get_e_from_GS_rd:zf,get_e_from_rd_rsat:Tf,get_e_from_GS_rsat:Gf,get_GS_from_rd_e:Uf,get_GS_from_rd_rsat:Bf,get_GS_from_rsat_e:Qf}),a}function Wf(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vf(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wf(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wf(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}let Yf=1/Bn.g*1e3/1e4,Zf=10;function Kf(e){let t=ku(da(e));return""!==t?`[${t}]`:""}function Xf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"new",r=mf(e,1),n=mf(e,2);if("new"===t)return"C"===r||"O"===r||"P"===r||"M"===r&&"ML"!==n&&"MH"!==n;if("classic"===t)return"S"!==r&&"G"!==r;throw new Error(`invalid mode[${t}]`)}function Jf(e,t,r){if(Mn(e)<=0)return{err:"invalid vx"};if(Mn(t)<=0)return{err:"invalid vy"};if(Mn(e)!==Mn(t))return{err:"size of vx is not equal to size of vy"};let n=Fn(xr(e,((r,n)=>({x:e[n],y:t[n]}))),r);return n.err&&"ps is not effective array"===n.err&&(n.err=""),n}function ec(e,t,r){return((r-e.x)*t.y+(t.x-r)*e.y)/(t.x-e.x)}function tc(e,t){let r=[],n=[{volumetricStrain:10,data:[[1.15304,.6],[1.10234,.0413661],[1.10234,.0348459],[1.04383,.0253621],[.956072,.0161746],[.722041,.0093581],[0,0]]},{volumetricStrain:5,data:[[3.00384,.6],[2.97459,.0591482],[2.94533,.0523317],[2.82832,.0431443],[2.56503,.0348459],[2.12623,.0253621],[1.21936,.0126182],[0,0]]},{volumetricStrain:4,data:[[5.11012,.6],[5.11012,.111606],[5.05161,.103604],[5.02236,.0947126],[4.87609,.0849324],[4.72982,.0754486],[4.52504,.0656684],[4.20325,.0579628],[3.82295,.0499608],[3.32563,.0407733],[2.53578,.0286221],[1.5704,.0161746],[0,0]]},{volumetricStrain:3,data:[[7.68446,.6],[7.53819,.234896],[7.53819,.212964],[7.50893,.191033],[7.39192,.165249],[7.33341,.142428],[7.24565,.125831],[7.07012,.111013],[6.8946,.09738],[6.66057,.0887852],[6.45579,.0804869],[6.07549,.0730776],[5.66594,.0665575],[5.28564,.0606301],[4.75907,.0523317],[4.08623,.043737],[0,0]]},{volumetricStrain:2,data:[[14.1203,.6],[14.091,.248529],[13.974,.231043],[13.7985,.216521],[13.6815,.201702],[13.3597,.184513],[13.2134,.173843],[13.0087,.16347],[12.7161,.152208],[12.131,.139168],[11.546,.12761],[10.8439,.116644],[0,0]]},{volumetricStrain:1,data:[[27.5771,.6],[27.5771,.541935],[27.6063,.507852],[27.5478,.485625],[27.5186,.465471],[27.5186,.445022],[27.4893,.424869],[27.3723,.41005],[27.1675,.392268],[26.9335,.376264],[26.5532,.357889],[26.2021,.339514],[25.7048,.324399],[25.1783,.311655],[24.6224,.298022],[23.9496,.282908],[23.2182,.269571],[22.4576,.256531],[21.7556,.244676],[20.8779,.232525],[19.9126,.218892],[0,0]]},{volumetricStrain:.5,data:[[33.0183,.6],[33.0183,.570979],[32.9598,.554086],[32.9013,.536007],[32.6965,.516743],[32.5502,.500147],[32.3747,.482068],[32.0529,.464582],[31.6726,.445022],[31.3216,.425461],[30.9998,.410939],[30.5025,.394935],[29.9466,.376264],[29.3908,.356704],[28.3962,.335958],[27.1383,.313137],[25.5586,.287057],[23.7156,.261865],[21.8141,.238452],[19.7078,.212964],[0,0]]},{volumetricStrain:.2,data:[[35.4,.6],[35.3,.574535],[35.1,.555864],[34.9,.539267],[34.6,.515558],[34.3,.497183],[34,.477919],[33.4544,.455691],[33,.434353],[32.6087,.415385],[31.8774,.397306],[30.8242,.369151],[30.0051,.348998],[29.069,.327067],[28.1329,.308099],[27.1383,.291799],[25.8218,.271349],[24.3884,.252974],[23.2768,.237859],[21.8726,.220373],[19.9711,.200517],[18.5961,.186291],[17.1627,.170583],[15.583,.154876],[14.3543,.14065],[12.8331,.124942],[10.7269,.103307],[8.59132,.081376],[6.39729,.0612228],[4.17399,.0389951],[2.15548,.0188419],[0,0]]},{volumetricStrain:.1,data:[[36.7,.6],[36.5,.571572],[36.2,.544602],[35.8,.520596],[35.4,.490366],[35,.466657],[34.6,.446207],[34.2,.424869],[33.5,.404419],[32.7,.379228],[32,.358482],[30.9998,.331809],[29.5956,.305432],[28.0159,.278758],[26.9335,.262162],[25.266,.238156],[23.2768,.214446],[21.2875,.192515],[19.0642,.170583],[16.8117,.149541],[14.5006,.129684],[12.2481,.108938],[10.0248,.0881925],[7.77222,.0671502],[5.63669,.0472934],[4.70056,.038106],[3.23787,.0259548],[2.38951,.0194347],[.926818,.00669077],[0,0]]}];n=xr(n,(e=>{let t=xr(e.data,(e=>e[1])),r=xr(e.data,(e=>e[0]));return e.vx=t,e.vy=r,e}));let i=xr(n,"volumetricStrain"),o=xr(n,(e=>{let r=Jf(e.vx,e.vy,t);return ve(r,"err")?r.err:r})),l=o[0],u=[o[0]],a=[i[0]];ot(o,((e,t)=>{t>0&&o[t]>=l&&(l=o[t],u.push(o[t]),a.push(i[t]))})),o=u,i=a;let s=Jf(o,i,e);if(ve(s,"err"))if("out of x-range"===s.err){let n=s.data.ps,i=Mf(o),l=xf(o);if(e>i){let o=n[Mn(n)-1].y;r.push(` N160=${e} > N160Max=${i}CSR=${t}vstr=${o}%`),s=o}else if(e<l){let i=ec(n[0],n[1],e);r.push(` N160=${e} < N160Min=${l}CSR=${t}2vstr=${i}%`),s=i}else r.push(""),s=""}else r.push(s.err),s="";return{err:r,vstr:s}}function rc(e,t){let r=[],n=[{N172:3,data:[[0,5.48516],[.791714,5.48516],[.889946,5.48274],[.957602,5.47549],[.972564,5.43681],[.981021,5.37154],[.982973,4.71396],[.984274,4.17243],[.985575,3.45201],[.988177,2.61312],[.992081,2.25532],[.996634,1.94104],[1.00379,1.68961],[1.01095,1.54214],[1.02981,1.32698],[1.04347,1.16501],[1.06624,1.00303],[1.09096,.879735],[1.11503,.773363],[1.1391,.703254],[1.17944,.616222],[1.23018,.529191],[1.28873,.444576],[1.35378,.384138],[1.41558,.333369],[1.48064,.275348],[1.5548,.231832],[2,0]]},{N172:6,data:[[0,4.51524],[.789554,4.51524],[.890726,4.51176],[.938502,4.49784],[.957238,4.45954],[.960985,4.31681],[.962858,3.76677],[.964732,3.36294],[.966605,2.92778],[.971289,2.57618],[.97691,2.27679],[.980657,2.07487],[.990962,1.85903],[1.00314,1.57705],[1.01813,1.35773],[1.03686,1.18367],[1.05935,1.02005],[1.08089,.88428],[1.09401,.818136],[1.13148,.696291],[1.17082,.60926],[1.22367,.517103],[1.28287,.437324],[1.34597,.376885],[1.40778,.323699],[1.47673,.268096],[1.55154,.222162],[2,0]]},{N172:10,data:[[0,3.50567],[.738969,3.50567],[.841077,3.50219],[.896347,3.49523],[.912272,3.43953],[.919767,3.34206],[.928198,3.02874],[.938502,2.64928],[.94787,2.29419],[.961922,1.9774],[.972226,1.74763],[.989088,1.50743],[1.00876,1.28811],[1.03031,1.11404],[1.05466,.953905],[1.08745,.807692],[1.12398,.682366],[1.16333,.584891],[1.21673,.50134],[1.27762,.421271],[1.33757,.358608],[1.39752,.306389],[1.46966,.25417],[1.54366,.205433],[2,0]]},{N172:14,data:[[0,2.77461],[.693066,2.77461],[.763325,2.77113],[.797049,2.73283],[.815784,2.68061],[.831709,2.57966],[.867307,2.26634],[.88979,2.01221],[.915083,1.74763],[.936629,1.54224],[.960985,1.34729],[.991898,1.12797],[1.01532,.978274],[1.04248,.852949],[1.0734,.731104],[1.10712,.623185],[1.14834,.539634],[1.18206,.480453],[1.22797,.414309],[1.28417,.36209],[1.34975,.299427],[1.4275,.240245],[1.51368,.184545],[2,0]]},{N172:20,data:[[0,2.17235],[.511332,2.17235],[.605009,2.16539],[.660279,2.13406],[.69213,2.1062],[.722107,2.0505],[.751147,1.95999],[.794238,1.75808],[.825152,1.6049],[.865433,1.40299],[.901968,1.24285],[.939439,1.06182],[.994709,.859911],[1.04717,.689329],[1.09869,.550078],[1.15021,.459565],[1.20267,.386459],[1.25888,.327277],[1.31228,.271577],[1.38441,.22632],[1.46403,.177583],[2,0]]},{N172:25,data:[[0,1.73371],[.396108,1.73371],[.49447,1.71978],[.544119,1.69542],[.579716,1.65712],[.619998,1.58053],[.660279,1.48306],[.703371,1.37862],[.734285,1.28463],[.775503,1.17671],[.816721,1.06182],[.865433,.93998],[.910399,.82858],[.956301,.724142],[1.00595,.602297],[1.0556,.508303],[1.11743,.403865],[1.16989,.337721],[1.22703,.285502],[1.27855,.247208],[1.33663,.208914],[1.4172,.167139],[1.49963,.132326],[2,0]]},{N172:30,data:[[0,1.30203],[.264959,1.30203],[.388614,1.29159],[.476671,1.26026],[.527257,1.20108],[.588147,1.11056],[.647164,1.01657],[.694003,.919093],[.759578,.804211],[.821405,.689329],[.884169,.591853],[.964732,.47349],[1.02469,.386459],[1.09963,.309871],[1.16895,.25417],[1.24764,.19847],[1.32726,.156695],[1.40876,.125364],[1.48558,.100995],[1.55303,.0870696],[1.63453,.0627007],[2,0]]}];n=xr(n,(e=>{let t=xr(e.data,(e=>e[0])),r=xr(e.data,(e=>e[1]));return e.vx=t,e.vy=r,e}));let i=xr(n,"N172"),o=xr(n,(e=>{let r=Jf(e.vx,e.vy,t);return ve(r,"err")?r.err:r})),l=o[0],u=[o[0]],a=[i[0]];ot(o,((e,t)=>{t>0&&o[t]<=l&&(l=o[t],u.push(o[t]),a.push(i[t]))})),o=u,i=a;let s=Jf(i,o,e);if(ve(s,"err"))if("out of x-range"===s.err){let n=s.data.ps,o=Mf(i),l=xf(i);if(e>o){let i=n[Mn(n)-1].y;r.push(` N172=${e} > N172Max=${o}FS=${t}vstr=${i}%`),s=i}else if(e<l){let i=ec(n[0],n[1],e);r.push(` N172=${e} < N172Min=${l}FS=${t}2vstr=${i}%`),s=i}else r.push(""),s=""}else r.push(s.err),s="";return{err:r,vstr:s}}function nc(e,t,r,n){let i=[],o=0;!function(){if(r<0)return i.push(`Volumetric Strain(Tokimatsu And Seed): CSR${Kf(r)}<0`),void(o="");r>.6&&(i.push("Volumetric Strain(Tokimatsu And Seed): CSR0.60.6"),r=.6),o=tc(e,r),Mn(o.err)>0&&ot(o.err,(e=>{i.push(`Volumetric Strain(Tokimatsu And Seed): ${e}`)})),o=o.vstr}();let l=0;return function(){if(n<0)return i.push(`Volumetric Strain(Ishihara And Yoshimine): FS${Kf(n)}<0`),void(l="");n>=2&&(n=2),l=rc(t,n),Mn(l.err)>0&&ot(l.err,(e=>{i.push(`Volumetric Strain(Ishihara And Yoshimine): ${e}`)})),l=l.vstr}(),{err:i,vstrTS:o,vstrIY:l}}function ic(e){let{ver:t="2012",noLiqueMode:r="new",waterLevelDesign:n,soilClassification:i,depth:o,N60:l,FC:u,PI:a,sv:s,svpUsual:f,svpDesign:c,PGA:h,Mw:p}=e,d=[],g="",v="",m="",y="",b="",w="",$="",S="",x="",M="",P="",E=[],k="",O="";function j(){let e={rrd:v,ks:m,CN:y,N160:b,N160cs:w,N172:$,CRR75:S,CRR:x,CSR:M,FS:P,stateFS:Hn(E,"; "),vstrTS:k,vstrIY:O,err:Hn(d,"; ")};return ot(e,((t,r)=>{Gr(t)||Br(t)||(e[r]="")})),e}let D=!1,L=!1;for(;;){if("2012"!==t&&"2017"!==t)return d.push(`ver${Kf(t)}20122017`),j();if(!Br(o))return d.push(`depth${Kf(o)}`),j();if(o=nn(o),o<0)return d.push(`depth${Kf(o)}<0`),j();if("new"!==r&&"classic"!==r&&(d.push(`noLiqueMode${Kf(r)}'new''classic''new'`),r="new"),Br(n)?(n=nn(n),n<0&&(d.push(`waterLevelDesign${Kf(n)}<00(m)`),n=0)):(d.push(`waterLevelDesign${Kf(n)}0(m)`),n=0),Gr(i)||(d.push(`soilClassification${Kf(i)}SW`),i="SW"),o<n&&(E.push(`depth${Kf(o)}<waterLevelDesign${Kf(n)}`),D=!0),Xf(i,r)&&(E.push(`${Kf(i)}`),D=!0),o>20&&(E.push(`depth${Kf(o)}>20`),D=!0),"NP"===ku(da(a))&&(a=0),Br(a)?nn(a)>7&&(E.push(`PI${Kf(a)}>7`),D=!0):d.push(`PI${Kf(a)}NP`),Br(l)?(l=nn(l),l<0&&(d.push(`N60${Kf(l)}<0`),L=!0),l>=50&&(E.push(`N60${Kf(l)}>=50`),D=!0)):(d.push(`N60${Kf(l)}`),L=!0),Br(u)?(u=nn(u),u<0&&(d.push(`FC${Kf(u)}<0`),L=!0)):(d.push(`FC${Kf(u)}`),L=!0),!Br(f))return d.push(`svpUsual${Kf(f)}`),j();if(f=nn(f),f<0)return d.push(`svpUsual${Kf(f)}<0`),j();if(!Br(c))return d.push(`svpDesign${Kf(c)}`),j();if(c=nn(c),c<0)return d.push(`svpDesign${Kf(c)}<0`),j();if(!Br(s))return d.push(`sv${Kf(s)}`),j();if(s=nn(s),s<0)return d.push(`sv${Kf(s)}<0`),j();if(!Br(h))return d.push(`PGA${Kf(h)}`),j();if(h=nn(h),h<0)return d.push(`PGA${Kf(h)}<0`),j();if(!Br(p))return d.push(`Mw${Kf(p)}`),j();if(p=nn(p),p<0)return d.push(`Mw${Kf(p)}<0`),j();break}if(!0===D)return d=[],x="-",M="-",P=Zf,j();if(!0===L)return j();let C=null;"2012"===t?C=-3.3:"2017"===t&&(C=-1.8),g=(p/7.5)**C,v=o<=10?1-.01*o:1.2-.03*o,m=u<=10?1:1+.07*Math.sqrt(u-10);let R=1e3*Bn.Pa;if(y=Math.min(Math.sqrt(R/f),1.7),b=y*l,w=m*b,w>=39)return E.push(`N160cs${Kf(w)}>=39`),x="-",M="-",P=Zf,j();S=.08+.0035*w/(1-w/39),x=S*g,On(x)&&(x=Math.min(x,1e20)),M=null,M=c>0?s/c*.65*h*v:1e20,On(M)&&(M=Math.min(M,1e20)),On(x)&&On(M)&&M>0&&(P=x/M),On(M)&&0===M&&(0===s&&E.push(`sv${Kf(s)}=0FS3`),0===h&&E.push(`PGA${Kf(h)}=0FS3`),0===v&&E.push(`rrd${Kf(v)}=0FS3`),P=3),On(P)&&P>3&&(E.push(`FS${Kf(P)}>33`),P=3),x<0&&d.push(`CRR${Kf(x)}<0`),M<=0&&d.push(`CSR${Kf(M)}<=0`),On(P)?P<0&&(d.push(`FS${Kf(P)}<00`),P=0):d.push(`FS${Kf(P)}`),$=b/1.2;let q=nc(b,$,M,P);return d=[...d,...q.err],k=q.vstrTS,O=q.vstrIY,j()}function oc(e){let{ver:t="1996",noLiqueMode:r="new",waterLevelDesign:n,soilClassification:i,vibrationType:o,depth:l,N60:u,FC:a,PI:s,D50:f,D10:c,sv:h,svpUsual:p,svpDesign:d,PGA:g}=e,v=[],m="",y="",b="",w="",$="",S="",x="",M="",P="",E="",k="",O="",j="",D="",L=[],C="",R="";function q(){let e={rrd:m,N160:k,N172:b,c1:w,c2:$,cFC:S,Na:x,RL:M,cw:P,CN:E,CRR75:"",CRR:O,CSR:j,FS:D,stateFS:Hn(L,"; "),vstrTS:C,vstrIY:R,err:Hn(v,"; ")};return ot(e,((t,r)=>{Gr(t)||Br(t)||(e[r]="")})),e}let F=!1,_=!1;for(;;){if("1996"!==t&&"2017"!==t)return v.push(`ver${Kf(t)} 19962017`),q();if(!Br(l))return v.push(`depth${Kf(l)}`),q();if(l=nn(l),l<0)return v.push(`depth${Kf(l)}<0`),q();if("new"!==r&&"classic"!==r&&(v.push(`noLiqueMode${Kf(r)}'new''classic''new'`),r="new"),Br(n)?(n=nn(n),n<0&&(v.push(`waterLevelDesign${Kf(n)}<00(m)`),n=0)):(v.push(`waterLevelDesign${Kf(n)}0(m)`),n=0),Gr(i)||(v.push(`soilClassification${Kf(i)}SW`),i="SW"),Xf(i,r)&&(L.push(`${Kf(i)}`),F=!0),l>20&&(L.push(`depth${Kf(l)}>20`),F=!0),Br(u)?(u=nn(u),u<0&&(v.push(`N60${Kf(u)}<0`),_=!0),u>=50&&(L.push(`N60${Kf(u)}>=50`),F=!0)):(v.push(`N60${Kf(u)}`),_=!0),l<n&&(L.push(`depth${Kf(l)}<waterLevelDesign${Kf(n)}`),F=!0),n>10&&(L.push(`waterLevelDesign${Kf(n)}>10`),F=!0),Br(a)?(a=nn(a),a<0?(v.push(`FC${Kf(a)}<0`),_=!0):a<=35||("NP"===ku(da(s))&&(s=0),Br(s)?(s=nn(s),s<15||(L.push(`FC${Kf(a)}>35PI${Kf(s)}>=15`),F=!0)):v.push(`PI${Kf(s)}NP`))):(v.push(`FC${Kf(a)}`),_=!0),Br(f)||v.push(`D50${Kf(f)}`),Br(c)||v.push(`D10${Kf(c)}`),Br(f)&&Br(c)&&(f=nn(f),c=nn(c),f>10&&(L.push(`D50${Kf(f)}>10`),F=!0),c>1&&(L.push(`D10${Kf(c)}>1`),F=!0)),Br(o)?(o=_u(o),1!==o&&2!==o&&(v.push(`vibrationType${Kf(o)}121`),o=1)):(v.push(`vibrationType${Kf(o)}1`),o=1),!Br(p))return v.push(`svpUsual${Kf(p)}`),q();if(p=nn(p),p<0)return v.push(`svpUsual${Kf(p)}<0`),q();if(!Br(d))return v.push(`svpDesign${Kf(d)}`),q();if(d=nn(d),d<0)return v.push(`svpDesign${Kf(d)}<0`),q();if(!Br(h))return v.push(`sv${Kf(h)}`),q();if(h=nn(h),h<0)return v.push(`sv${Kf(h)}<0`),q();if(!Br(g))return v.push(`PGA${Kf(g)}`),q();if(g=nn(g),g<0)return v.push(`PGA${Kf(g)}<0`),q();break}if(!0===F)return v=[],O="-",j="-",D=Zf,q();if(!0===_)return q();m=1-.015*l,y=u/1.2,E=170/(p+70),b=E*y;x=(()=>{let e=0,r="";return Br(f)?r=nn(f)<2?"sand":"gravel":!function(e){let t=mf(e,1),r=mf(e,2);return"S"===t||"ML"===r||"MH"===r}(i)?function(e){return"G"===mf(e,1)}(i)&&(r="gravel"):r="sand","sand"!==r&&"gravel"!==r&&(v.push(`D50${Kf(f)}${Kf(i)}`),r="sand"),"sand"===r?"1996"===t?e=(()=>{let e=0;return w=a<10?1:a<60?(a+40)/50:a/20-1,$=a<10?0:(a-10)/18,e=w*b+$,e})():"2017"===t&&(e=(()=>{let e=0;return S=a<10?1:a<40?(a+20)/30:(a-16)/12,e=S*(b+2.47)-2.47,e})()):"gravel"===r&&(Br(f)||(v.push(`D50${Kf(f)}D50D5010(mm)`),f=10),f=nn(f),e=(1-.361*Math.log10(f/2))*b),e})(),x<14?"1996"===t?M=.0882*Math.sqrt(x/1.7):"2017"===t&&(M=.0882*Math.sqrt((.85*x+2.1)/1.7)):M=.0882*Math.sqrt(x/1.7)+16e-7*(x-14)**4.5,P=2===o?M<=.1?1:M<=.4?3.3*M+.67:2:1,O=P*M,On(O)&&(O=Math.min(O,1e20)),j=null,j=d>0?m*g*h/d:1e20,On(j)&&(j=Math.min(j,1e20)),On(O)&&On(j)&&j>0&&(D=O/j),On(j)&&0===j&&(0===h&&L.push(`sv${Kf(h)}=0FS3`),0===g&&L.push(`PGA${Kf(g)}=0FS3`),0===m&&L.push(`rrd${Kf(m)}=0FS3`),D=3),On(D)&&D>3&&(L.push(`FS${Kf(D)}>33`),D=3),O<0&&v.push(`CRR${Kf(O)}<0`),j<=0&&v.push(`CSR${Kf(j)}<=0`),On(D)?D<0&&(v.push(`FS${Kf(D)}<00`),D=0):v.push(`FS${Kf(D)}`),k=b/(60/72);let A=nc(k,b,j,D);return v=[...v,...A.err],C=A.vstrTS,R=A.vstrIY,q()}function lc(){let e="\n    \n    u0,\n    qt,\n    qnet,\n    Bq,\n    Qt,\n\n    ";return e=jf(e,",",""),Df(e,"\n")}function uc(e){return Lf(e,function(){let e="\n        \n    Qtn,\n    Rf,\n    Fr,\n    Ic,\n    Icn,\n    n,\n    Cn,\n\n    iIc,\n    iIcn,\n    iRobBqqt,\n    iRobRfqt,\n    iRobBqQt,\n    iRobFrQt,\n    iRobBqQtn,\n    iRobFrQtn,\n    iRamBqQt,\n    iRamFrQt,\n\n    ";return e=jf(e,",",""),Df(e,"\n")}())}function ac(e){return Vf(Vf({},function(e){return Lf(e,lc())}(e)),uc(e))}function sc(e,t,r,n,i,o,l,u){let a=null;a=Za({depth:e,coe_a:t,sv:o/1e3,svp:l/1e3,qc:r,fs:n,u0:zu(e,"MPa"),u2:i},{useCnLeq:u,unitSvSvp:"MPa"});return a}function fc(e){let{ver:t="2012",waterLevelDesign:r,depth:n,coe_a:i,qc:o,fs:l,u2:u,svp:a,svpUsual:s,svpDesign:f,sv:c,PGA:h,Mw:p}=e,d=[],g={},v="",m="",y="",b="",w="",$="",S="",x="",M="",P="",E="",k="",O="",j=[];function D(){let e=Vf(Vf({},ac(g)),{},{rrd:m,Ic:y,Icn:b,qc1N:$,Kc:M,qc1Ncs:S,CRR75:P,CRR:E,CSR:k,FS:O,stateFS:Hn(j,"; "),err:Hn(d,"; ")});return ot(e,((t,r)=>{Gr(t)||Br(t)||(e[r]="")})),e}let L=!1,C=!1;for(;;){if("2012"!==t&&"2017"!==t&&"2021"!==t)return d.push(`ver${Kf(t)}201220172021`),D();if(Br(i)?i=nn(i):(d.push(`coe_a${Kf(i)}0.8`),i=.8),!Br(n))return d.push(`depth${Kf(n)}`),D();if(n=nn(n),n<0)return d.push(`depth${Kf(n)}<0`),D();if(Br(r)?(r=nn(r),r<0&&(d.push(`waterLevelDesign${Kf(r)}<00(m)`),r=0)):(d.push(`waterLevelDesign${Kf(r)}0(m)`),r=0),n<r&&(j.push(`depth${Kf(n)}<waterLevelDesign${Kf(r)}`),L=!0),n>20&&(j.push(`depth${Kf(n)}>20`),L=!0),Br(o)?(o=nn(o),o<0&&(d.push(`qc${Kf(o)}<0`),C=!0)):(d.push(`qc${Kf(o)}`),C=!0),Br(l)?(l=nn(l),l<0&&(d.push(`fs${Kf(l)}<0`),C=!0)):(d.push(`fs${Kf(l)}`),C=!0),Br(u)?u=nn(u):(d.push(`u2${Kf(u)}`),C=!0),Br(a)&&(a=nn(a),s=a,f=a),!Br(s))return d.push(`svpUsual${Kf(s)}`),D();if(s=nn(s),s<0)return d.push(`svpUsual${Kf(s)}<0`),D();if(!Br(f))return d.push(`svpDesign${Kf(f)}`),D();if(f=nn(f),f<0)return d.push(`svpDesign${Kf(f)}<0`),D();if(!Br(c))return d.push(`sv${Kf(c)}`),D();if(c=nn(c),c<0)return d.push(`sv${Kf(c)}<0`),D();if(!Br(h))return d.push(`PGA${Kf(h)}`),D();if(h=nn(h),h<0)return d.push(`PGA${Kf(h)}<0`),D();if(!Br(p))return d.push(`Mw${Kf(p)}`),D();if(p=nn(p),p<0)return d.push(`Mw${Kf(p)}<0`),D();break}if(!0===L)return d=[],E="-",k="-",O=Zf,D();if(!0===C)return D();if(g=sc(n,i,o,l,u,c,s,!0),y=ve(g,"Ic",null),b=ve(g,"Icn",null),w=ve(g,"qt",null),x=ve(g,"Rf",null),!Br(w))return d.push(`qt${Kf(w)}`),D();c*=Yf,s*=Yf,f*=Yf,w=1e3*w*Yf;let R=null;if("2012"===t?R=-3.3:"2017"!==t&&"2021"!==t||(R=-1.8),v=(p/7.5)**R,m=n<=10?1-.01*n:1.2-.03*n,$=1.7/(s+.7)*w,M=x<=.1?1:.4*x**2-.08*x+1.004,S=M*$,P=1e20,S<180&&(P=.09+28e-5*S/(1-S/180)),E=P*v,On(E)&&(E=Math.min(E,1e20)),k=null,k=f>0?.65*h*(c/f)*m:1e20,On(k)&&(k=Math.min(k,1e20)),On(E)&&On(k)&&k>0&&(O=E/k),On(k)&&0===k&&(0===c&&j.push(`sv${Kf(c)}=0FS3`),0===h&&j.push(`PGA${Kf(h)}=0FS3`),0===m&&j.push(`rrd${Kf(m)}=0FS3`),O=3),On(O)&&O>3&&(j.push(`FS${Kf(O)}>33`),O=3),S>=180)return j.push(`qc1Ncs${Kf(S)}>=180`),O=Zf,D();if("2021"===t){let e=null;if(null===e&&On(b)&&(e=b),null===e&&On(y)&&(d.push("IcnIc"),e=y),e>2.6)return j.push(`Ic${Kf(e)}>2.6`),O=Zf,D()}return E<0&&d.push(`CRR${Kf(E)}<0`),k<=0&&d.push(`CSR${Kf(k)}<=0`),On(O)?O<0&&(d.push(`FS${Kf(O)}<00`),O=0):d.push(`FS${Kf(O)}`),D()}let cc={SPT:{sptSeed:function(e){let{noLiqueMode:t="new",waterLevelDesign:r,soilClassification:n,depth:i,N60:o,FC:l,sv:u,svpUsual:a,svpDesign:s,PGA:f,Mw:c}=e,h=[],p="",d="",g="",v="",m="",y="",b="",w="",$="",S=[],x="",M="";function P(){let e={rrd:d,CN:g,N160:v,N172:m,CRR75:y,CRR:b,CSR:w,FS:$,stateFS:Hn(S,"; "),vstrTS:x,vstrIY:M,err:Hn(h,"; ")};return ot(e,((t,r)=>{Gr(t)||Br(t)||(e[r]="")})),e}let E=!1,k=!1;for(;;){if(!Br(i))return h.push(`depth${Kf(i)}`),P();if(i=nn(i),i<0)return h.push(`depth${Kf(i)}<0`),P();if("new"!==t&&"classic"!==t&&(h.push(`noLiqueMode${Kf(t)}'new''classic''new'`),t="new"),Br(r)?(r=nn(r),r<0&&(h.push(`waterLevelDesign${Kf(r)}<00(m)`),r=0)):(h.push(`waterLevelDesign${Kf(r)}0(m)`),r=0),Gr(n)||(h.push(`soilClassification${Kf(n)}SW`),n="SW"),i<r&&(S.push(`depth${Kf(i)}<waterLevelDesign${Kf(r)}`),E=!0),Xf(n,t)&&(S.push(`${Kf(n)}`),E=!0),i>20&&(S.push(`depth${Kf(i)}>20`),E=!0),Br(o)?(o=nn(o),o<0&&(h.push(`N60${Kf(o)}<0`),k=!0),o>=50&&(S.push(`N60${Kf(o)}>=50`),E=!0)):(h.push(`N60${Kf(o)}`),k=!0),Br(l)?(l=nn(l),l<0&&(h.push(`FC${Kf(l)}<0`),k=!0)):(h.push(`FC${Kf(l)}`),k=!0),!Br(a))return h.push(`svpUsual${Kf(a)}`),P();if(a=nn(a),a<0)return h.push(`svpUsual${Kf(a)}<0`),P();if(!Br(s))return h.push(`svpDesign${Kf(s)}`),P();if(s=nn(s),s<0)return h.push(`svpDesign${Kf(s)}<0`),P();if(!Br(u))return h.push(`sv${Kf(u)}`),P();if(u=nn(u),u<0)return h.push(`sv${Kf(u)}<0`),P();if(!Br(f))return h.push(`PGA${Kf(f)}`),P();if(f=nn(f),f<0)return h.push(`PGA${Kf(f)}<0`),P();if(!Br(c))return h.push(`Mw${Kf(c)}`),P();if(c=nn(c),c<0)return h.push(`Mw${Kf(c)}<0`),P();break}if(!0===E)return h=[],b="-",w="-",$=Zf,P();if(!0===k)return P();p=(c/7.5)**-1.11,d=(1-.4113*i**.5+.04052*i+.001753*i**1.5)/(1-.4177*i**.5+.05729*i-.006205*i**1.5+.00121*i**2);let O=1e3*Bn.Pa;g=Math.min(Math.sqrt(O/a),1.7),v=g*o;let j=[{FC:5,data:[[0,.0496622],[2.65306,.0547297],[4.38776,.0628378],[6.02041,.0719595],[7.55102,.0831081],[8.97959,.100338],[10.5102,.114527],[12.2449,.131757],[13.5714,.146959],[14.7959,.161149],[16.1224,.177365],[17.7551,.193581],[19.1837,.211824],[20.7143,.232095],[22.0408,.248311],[23.2653,.265541],[24.5918,.285811],[25.6122,.307095],[26.4286,.327365],[27.2449,.347635],[27.9592,.372973],[28.3673,.398311],[28.7755,.423649],[28.9796,.444932],[29.2857,.473311],[29.3,.6],[100,100]]},{FC:15,data:[[0,.065],[1.63265,.068],[2.85714,.074],[3.87755,.082],[5.10204,.0932432],[6.22449,.110473],[7.44898,.123649],[8.57143,.136824],[9.69388,.151014],[10.9184,.164189],[11.9388,.178378],[13.0612,.192568],[13.8776,.203716],[14.6939,.214865],[16.1224,.232095],[17.551,.251351],[18.5714,.270608],[19.898,.288851],[20.7143,.308108],[21.4286,.327365],[22.0408,.347635],[22.449,.370946],[22.8571,.393243],[23.2653,.417568],[23.6735,.439865],[23.9796,.460135],[24.05,.483446],[24.0816,.515878],[24.1,.6],[100,101]]},{FC:35,data:[[0,.075],[1.32653,.082],[2.44898,.09],[3.26531,.0962838],[4.79592,.116554],[6.22449,.134797],[7.34694,.152027],[8.87755,.171284],[10.102,.185473],[11.4286,.20777],[13.2653,.228041],[14.5918,.247297],[15.7143,.267568],[16.7347,.287838],[17.7551,.313176],[18.6735,.343581],[19.1837,.364865],[19.6939,.382095],[20.102,.410473],[20.4082,.433784],[20.5102,.464189],[20.7143,.490541],[20.9184,.519932],[20.92,.6],[100,102]]}],D=xr(j,"FC");j=xr(j,(e=>{let t=xr(e.data,(e=>e[0])),r=xr(e.data,(e=>e[1]));return e.vx=t,e.vy=r,e}));let L=xr(j,(e=>{let t=Jf(e.vx,e.vy,v);return ve(t,"err")?t.err:t}));if(y=Jf(D,L,l),ve(y,"err")){if("out of x-range"!==y.err)return h.push(y.err),y="",P();{let e=y.data.ps,t=Mf(D),r=xf(D);if(l>t)y=ec(e[Mn(e)-2],e[Mn(e)-1],l),h.push(` FC=${l} > FCMax=${t}2CRR75=${y}`);else{if(!(l<r))return h.push(""),y="",P();y=ec(e[0],e[1],l),y=Math.max(y,0),h.push(` FC=${l} < FCMin=${r}2CRR75=${y}`)}}}if(!On(y))return h.push(`CRR75${Kf(y)}`),P();y>.6&&(h.push(`CRR75${Kf(y)}0.60.6`),y=.6),b=y*p,On(b)&&(b=Math.min(b,1e20)),w=null,w=s>0?u/s*.65*f*d:1e20,On(w)&&(w=Math.min(w,1e20)),On(b)&&On(w)&&w>0&&($=b/w),On(w)&&0===w&&(0===u&&S.push(`sv${Kf(u)}=0FS3`),0===f&&S.push(`PGA${Kf(f)}=0FS3`),0===d&&S.push(`rrd${Kf(d)}=0FS3`),$=3),On($)&&$>3&&(S.push(`FS${Kf($)}>33`),$=3),b<0&&h.push(`CRR${Kf(b)}<0`),w<=0&&h.push(`CSR${Kf(w)}<=0`),On($)?$<0&&(h.push(`FS${Kf($)}<00`),$=0):h.push(`FS${Kf($)}`),m=v/1.2;let C=nc(v,m,w,$);return h=[...h,...C.err],x=C.vstrTS,M=C.vstrIY,P()},sptHBF2012:e=>ic(e=Vf(Vf({},e),{},{ver:"2012"})),sptHBF2017:e=>ic(e=Vf(Vf({},e),{},{ver:"2017"})),sptNCEER:function(e){let{noLiqueMode:t="new",waterLevelDesign:r,soilClassification:n,depth:i,N60:o,FC:l,sv:u,svpUsual:a,svpDesign:s,PGA:f,Mw:c}=e,h=[],p="",d="",g="",v="",m="",y="",b="",w="",$="",S="",x="",M="",P=[],E="",k="";function O(){let e={rrd:d,alpha:g,beta:v,CN:m,N160:y,N160cs:b,N172:w,CRR75:$,CRR:S,CSR:x,FS:M,stateFS:Hn(P,"; "),vstrTS:E,vstrIY:k,err:Hn(h,"; ")};return ot(e,((t,r)=>{Gr(t)||Br(t)||(e[r]="")})),e}let j=!1,D=!1;for(;;){if(!Br(i))return h.push(`depth${Kf(i)}`),O();if(i=nn(i),i<0)return h.push(`depth${Kf(i)}<0`),O();if("new"!==t&&"classic"!==t&&(h.push(`noLiqueMode${Kf(t)}'new''classic''new'`),t="new"),Br(r)?(r=nn(r),r<0&&(h.push(`waterLevelDesign${Kf(r)}<00(m)`),r=0)):(h.push(`waterLevelDesign${Kf(r)}0(m)`),r=0),Gr(n)||(h.push(`soilClassification${Kf(n)}SW`),n="SW"),i<r&&(P.push(`depth${Kf(i)}<waterLevelDesign${Kf(r)}`),j=!0),Xf(n,t)&&(P.push(`${Kf(n)}`),j=!0),i>20&&(P.push(`depth${Kf(i)}>20`),j=!0),Br(o)?(o=nn(o),o<0&&(h.push(`N60${Kf(o)}<0`),D=!0),o>=50&&(P.push(`N60${Kf(o)}>=50`),j=!0)):(h.push(`N60${Kf(o)}`),D=!0),Br(l)?(l=nn(l),l<0&&(h.push(`FC${Kf(l)}<0`),D=!0)):(h.push(`FC${Kf(l)}`),D=!0),!Br(a))return h.push(`svpUsual${Kf(a)}`),O();if(a=nn(a),a<0)return h.push(`svpUsual${Kf(a)}<0`),O();if(!Br(s))return h.push(`svpDesign${Kf(s)}`),O();if(s=nn(s),s<0)return h.push(`svpDesign${Kf(s)}<0`),O();if(!Br(u))return h.push(`sv${Kf(u)}`),O();if(u=nn(u),u<0)return h.push(`sv${Kf(u)}<0`),O();if(!Br(f))return h.push(`PGA${Kf(f)}`),O();if(f=nn(f),f<0)return h.push(`PGA${Kf(f)}<0`),O();if(!Br(c))return h.push(`Mw${Kf(c)}`),O();if(c=nn(c),c<0)return h.push(`Mw${Kf(c)}<0`),O();break}if(!0===j)return h=[],S="-",x="-",M=Zf,O();if(!0===D)return O();p=(c/7.5)**-2.56,d=(1-.4113*i**.5+.04052*i+.001753*i**1.5)/(1-.4177*i**.5+.05729*i-.006205*i**1.5+.00121*i**2),g=l<=5?0:l<=35?Math.exp(1.76-190/l**2):5,v=l<=5?1:l<=35?.99+l**1.5/1e3:1.2;let L=1e3*Bn.Pa;if(m=Math.min(Math.sqrt(L/a),1.7),y=m*o,b=g+v*y,b>=30)return P.push(`N160cs${Kf(b)}>=30`),S="-",x="-",M=Zf,O();$=(.04844+-.004721*b+6136e-7*b**2+-1673e-8*b**3)/(1+-.1248*b+.009578*b**2+-3285e-7*b**3+3714e-9*b**4),S=$*p,On(S)&&(S=Math.min(S,1e20)),x=null,x=s>0?u/s*.65*f*d:1e20,On(x)&&(x=Math.min(x,1e20)),On(S)&&On(x)&&x>0&&(M=S/x),On(x)&&0===x&&(0===u&&P.push(`sv${Kf(u)}=0FS3`),0===f&&P.push(`PGA${Kf(f)}=0FS3`),0===d&&P.push(`rrd${Kf(d)}=0FS3`),M=3),On(M)&&M>3&&(P.push(`FS${Kf(M)}>33`),M=3),S<0&&h.push(`CRR${Kf(S)}<0`),x<=0&&h.push(`CSR${Kf(x)}<=0`),On(M)?M<0&&(h.push(`FS${Kf(M)}<00`),M=0):h.push(`FS${Kf(M)}`),w=y/1.2;let C=nc(y,w,x,M);return h=[...h,...C.err],E=C.vstrTS,k=C.vstrIY,O()},sptNJRA1996:e=>oc(e=Vf(Vf({},e),{},{ver:"1996"})),sptNJRA2017:e=>oc(e=Vf(Vf({},e),{},{ver:"2017"})),sptTY:function(e){let{noLiqueMode:t="new",waterLevelDesign:r,soilClassification:n,depth:i,a:o,n:l,Cr:u,Cs:a,N60:s,FC:f,sv:c,svpUsual:h,svpDesign:p,PGA:d,Mw:g}=e,v=[],m="",y="",b="",w="",$="",S="",x="",M="",P="",E="",k=[],O="",j="";function D(){let e={rrd:m,N160:x,N172:b,dNf:w,Na:$,CN:S,CRR75:"",CRR:M,CSR:P,FS:E,stateFS:Hn(k,"; "),vstrTS:O,vstrIY:j,err:Hn(v,"; ")};return ot(e,((t,r)=>{Gr(t)||Br(t)||(e[r]="")})),e}let L=!1,C=!1;for(;;){if(!Br(i))return v.push(`depth${Kf(i)}`),D();if(i=nn(i),i<0)return v.push(`depth${Kf(i)}<0`),D();if("new"!==t&&"classic"!==t&&(v.push(`noLiqueMode${Kf(t)}'new''classic''new'`),t="new"),Br(r)?(r=nn(r),r<0&&(v.push(`waterLevelDesign${Kf(r)}<00(m)`),r=0)):(v.push(`waterLevelDesign${Kf(r)}0(m)`),r=0),Gr(n)||(v.push(`soilClassification${Kf(n)}SW`),n="SW"),i<r&&(k.push(`depth${Kf(i)}<waterLevelDesign${Kf(r)}`),L=!0),Xf(n,t)&&(k.push(`${Kf(n)}`),L=!0),i>20&&(k.push(`depth${Kf(i)}>20`),L=!0),Br(s)?(s=nn(s),s<0&&(v.push(`N60${Kf(s)}<0`),C=!0),s>=50&&(k.push(`N60${Kf(s)}>=50`),L=!0)):(v.push(`N60${Kf(s)}`),C=!0),Br(f)?(f=nn(f),f<0&&(v.push(`FC${Kf(f)}<0`),C=!0)):(v.push(`FC${Kf(f)}`),C=!0),!Br(h))return v.push(`svpUsual${Kf(h)}`),D();if(h=nn(h),h<0)return v.push(`svpUsual${Kf(h)}<0`),D();if(!Br(p))return v.push(`svpDesign${Kf(p)}`),D();if(p=nn(p),p<0)return v.push(`svpDesign${Kf(p)}<0`),D();if(!Br(c))return v.push(`sv${Kf(c)}`),D();if(c=nn(c),c<0)return v.push(`sv${Kf(c)}<0`),D();if(!Br(d))return v.push(`PGA${Kf(d)}`),D();if(d=nn(d),d<0)return v.push(`PGA${Kf(d)}<0`),D();if(!Br(g))return v.push(`Mw${Kf(g)}`),D();if(g=nn(g),g<0)return v.push(`Mw${Kf(g)}<0`),D();break}if(!0===L)return v=[],M="-",P="-",E=Zf,D();if(!0===C)return D();Br(o)||(o=.45),o=nn(o),Br(l)||(l=14),l=nn(l),Br(u)||(u=.57),u=nn(u),Br(a)||(a=85),a=nn(a),m=1-.015*i,y=s/1.2,S=170/(h+70),b=S*y,w=f<=5?0:f<=10?f-5:.1*f+4,$=b+w,M=o*u*(16*Math.sqrt($)/100+(16*Math.sqrt($)/a)**l),On(M)&&(M=Math.min(M,1e20)),P=null,P=p>0?.1*(g-1)*d*(c/p)*m:1e20,g<1&&(P=null),On(P)&&(P=Math.min(P,1e20)),On(M)&&On(P)&&P>0&&(E=M/P),On(P)&&0===P&&(0===c&&k.push(`sv${Kf(c)}=0FS3`),g<=1&&k.push(`Mw${Kf(g)}<=1FS3`),0===d&&k.push(`PGA${Kf(d)}=0FS3`),0===m&&k.push(`rrd${Kf(m)}=0FS3`),E=3),On(E)&&E>3&&(k.push(`FS${Kf(E)}>33`),E=3),M<0&&v.push(`CRR${Kf(M)}<0`),P<=0&&v.push(`CSR${Kf(P)}<=0`),On(E)?E<0&&(v.push(`FS${Kf(E)}<00`),E=0):v.push(`FS${Kf(E)}`),x=b/(60/72);let R=nc(x,b,P,E);return v=[...v,...R.err],O=R.vstrTS,j=R.vstrIY,D()}},CPT:{cptHBF2012:e=>fc(e=Vf(Vf({},e),{},{ver:"2012"})),cptHBF2017:e=>fc(e=Vf(Vf({},e),{},{ver:"2017"})),cptHBF2021:e=>fc(e=Vf(Vf({},e),{},{ver:"2021"})),cptNCEER1997:e=>function(e){let{ver:t="1997",waterLevelDesign:r,depth:n,coe_a:i,qc:o,fs:l,u2:u,svp:a,svpUsual:s,svpDesign:f,sv:c,PGA:h,Mw:p}=e,d=[],g={},v="",m="",y="",b="",w="",$="",S="",x="",M="",P="",E="",k="",O="",j=[];function D(){Br(S)&&(S/=Yf),Br(M)&&(M/=Yf);let e=Vf(Vf({},ac(g)),{},{rrd:m,Qt1n:S,Ic:y,Kc:x,Qt1ncs:M,CRR75:P,CRR:E,CSR:k,FS:O,stateFS:Hn(j,"; "),err:Hn(d,"; ")});return ot(e,((t,r)=>{Gr(t)||Br(t)||(e[r]="")})),e}let L=!1,C=!1;for(;;){if("1997"!==t)return d.push(`ver${Kf(t)}1997`),D();if(Br(i)?i=nn(i):(d.push(`coe_a${Kf(i)}0.8`),i=.8),!Br(n))return d.push(`depth${Kf(n)}`),D();if(n=nn(n),n<0)return d.push(`depth${Kf(n)}<0`),D();if(Br(r)?(r=nn(r),r<0&&(d.push(`waterLevelDesign${Kf(r)}<00(m)`),r=0)):(d.push(`waterLevelDesign${Kf(r)}0(m)`),r=0),n<r&&(j.push(`depth${Kf(n)}<waterLevelDesign${Kf(r)}`),L=!0),n>20&&(j.push(`depth${Kf(n)}>20`),L=!0),Br(o)?(o=nn(o),o<0&&(d.push(`qc${Kf(o)}<0`),C=!0)):(d.push(`qc${Kf(o)}`),C=!0),Br(l)?(l=nn(l),l<0&&(d.push(`fs${Kf(l)}<0`),C=!0)):(d.push(`fs${Kf(l)}`),C=!0),Br(u)?u=nn(u):(d.push(`u2${Kf(u)}`),C=!0),Br(a)&&(a=nn(a),s=a,f=a),!Br(s))return d.push(`svpUsual${Kf(s)}`),D();if(s=nn(s),s<0)return d.push(`svpUsual${Kf(s)}<0`),D();if(!Br(f))return d.push(`svpDesign${Kf(f)}`),D();if(f=nn(f),f<0)return d.push(`svpDesign${Kf(f)}<0`),D();if(!Br(c))return d.push(`sv${Kf(c)}`),D();if(c=nn(c),c<0)return d.push(`sv${Kf(c)}<0`),D();if(!Br(h))return d.push(`PGA${Kf(h)}`),D();if(h=nn(h),h<0)return d.push(`PGA${Kf(h)}<0`),D();if(!Br(p))return d.push(`Mw${Kf(p)}`),D();if(p=nn(p),p<0)return d.push(`Mw${Kf(p)}<0`),D();break}if(!0===L)return d=[],E="-",k="-",O=Zf,D();if(!0===C)return D();if(g=sc(n,i,o,l,u,c,s,!1),b=ve(g,"Fr",null),y=ve(g,"Ic",null),w=ve(g,"qt",null),$=ve(g,"Qt",null),!Br(w))return d.push(`qt${Kf(w)}`),D();c*=Yf,s*=Yf,f*=Yf,w=1e3*w*Yf,v=(p/7.5)**-2.56,m=(1-.4113*n**.5+.04052*n+.001753*n**1.5)/(1-.4177*n**.5+.05729*n-.006205*n**1.5+.00121*n**2);let R=$,q=b,F=Math.sqrt((3.47-Math.log10(R))**2+(Math.log10(q)+1.22)**2);if(F<=2.6){let e=1e3*Bn.Pa;e*=Yf,S=s>0?w/e*(e/s)**.5:1e20;let t=Math.sqrt((3.47-Math.log10(S))**2+(Math.log10(q)+1.22)**2);t<=2.6?y=t:(S=s>0?w/e*(e/s)**.75:1e20,y=Math.sqrt((3.47-Math.log10(S))**2+(Math.log10(q)+1.22)**2))}else S=R,y=F;return y>=2.6?(j.push(`Ic${Kf(y)}>=2.6`),E="-",k="-",O=Zf,D()):(y<=1.64?x=1:(x=-.403*y**4+5.581*y**3-21.63*y**2+33.75*y-17.88,y<2.36&&q<.5&&(x=1)),M=x*S,M>=160?(j.push(`Qt1ncs${Kf(M)}>=160`),E="-",k="-",O=Zf,D()):(P=null,P=M<50?M/1e3*.833+.05:93*(M/1e3)**3+.08,E=P*v,On(E)&&(E=Math.min(E,1e20)),k=null,k=f>0?.65*h*(c/f)*m:1e20,On(k)&&(k=Math.min(k,1e20)),On(E)&&On(k)&&k>0&&(O=E/k),On(k)&&0===k&&(0===c&&j.push(`sv${Kf(c)}=0FS3`),0===h&&j.push(`PGA${Kf(h)}=0FS3`),0===m&&j.push(`rrd${Kf(m)}=0FS3`),O=3),On(O)&&O>3&&(j.push(`FS${Kf(O)}>33`),O=3),E<0&&d.push(`CRR${Kf(E)}<0`),k<=0&&d.push(`CSR${Kf(k)}<=0`),On(O)?O<0&&(d.push(`FS${Kf(O)}<00`),O=0):d.push(`FS${Kf(O)}`),D()))}(e=Vf(Vf({},e),{},{ver:"1997"})),cptRobertson2009:e=>function(e){let{ver:t="2009",waterLevelDesign:r,depth:n,coe_a:i,qc:o,fs:l,u2:u,svp:a,svpUsual:s,svpDesign:f,sv:c,tou_s:h,su:p,PGA:d,Mw:g}=e,v=[],m={},y="",b="",w="",$="",S="",x="",M="",P="",E="",k="",O="",j="",D="",L="",C="",R=[];function q(){let e=Vf(Vf({},ac(m)),{},{rrd:b,Kc:w,Kalpha:$,Fr:S,Ic:x,Icn:M,Qt:E,Qtn:k,Qtncs:O,CRR75:j,CRR:D,CSR:L,FS:C,stateFS:Hn(R,"; "),err:Hn(v,"; ")});return ot(e,((t,r)=>{Gr(t)||Br(t)||(e[r]="")})),e}let F=!1,_=!1;for(;;){if("2009"!==t)return v.push(`ver${Kf(t)}2009`),q();if(Br(i)?i=nn(i):(v.push(`coe_a${Kf(i)}0.8`),i=.8),!Br(n))return v.push(`depth${Kf(n)}`),q();if(n=nn(n),n<0)return v.push(`depth${Kf(n)}<0`),q();if(Br(r)?(r=nn(r),r<0&&(v.push(`waterLevelDesign${Kf(r)}<00(m)`),r=0)):(v.push(`waterLevelDesign${Kf(r)}0(m)`),r=0),n<r&&(R.push(`depth${Kf(n)}<waterLevelDesign${Kf(r)}`),F=!0),n>20&&(R.push(`depth${Kf(n)}>20`),F=!0),Br(o)?(o=nn(o),o<0&&(v.push(`qc${Kf(o)}<0`),_=!0)):(v.push(`qc${Kf(o)}`),_=!0),Br(l)?(l=nn(l),l<0&&(v.push(`fs${Kf(l)}<0`),_=!0)):(v.push(`fs${Kf(l)}`),_=!0),Br(u)?u=nn(u):(v.push(`u2${Kf(u)}`),_=!0),Br(a)&&(a=nn(a),s=a,f=a),!Br(s))return v.push(`svpUsual${Kf(s)}`),q();if(s=nn(s),s<0)return v.push(`svpUsual${Kf(s)}<0`),q();if(!Br(f))return v.push(`svpDesign${Kf(f)}`),q();if(f=nn(f),f<0)return v.push(`svpDesign${Kf(f)}<0`),q();if(!Br(c))return v.push(`sv${Kf(c)}`),q();if(c=nn(c),c<0)return v.push(`sv${Kf(c)}<0`),q();if(!Br(d))return v.push(`PGA${Kf(d)}`),q();if(d=nn(d),d<0)return v.push(`PGA${Kf(d)}<0`),q();if(!Br(g))return v.push(`Mw${Kf(g)}`),q();if(g=nn(g),g<0)return v.push(`Mw${Kf(g)}<0`),q();break}if(!0===F)return v=[],D="-",L="-",C=Zf,q();if(!0===_)return q();if(m=sc(n,i,o,l,u,c,s,!1),S=ve(m,"Fr",null),x=ve(m,"Ic",null),M=ve(m,"Icn",null),P=ve(m,"qt",null),E=ve(m,"Qt",null),k=ve(m,"Qtn",null),!Br(P))return v.push(`qt${Kf(P)}`),q();c*=Yf,s*=Yf,f*=Yf,P=1e3*P*Yf;let A=null;null===A&&On(M)&&(A=M),null===A&&On(x)&&(v.push("IcnIc"),A=x);let N=null;if(null===N&&On(k)&&(N=k),null===N&&On(E)&&(v.push("QtnQt"),N=E),y=(g/7.5)**-2.56,b=(1-.4113*n**.5+.04052*n+.001753*n**1.5)/(1-.4177*n**.5+.05729*n-.006205*n**1.5+.00121*n**2),O=null,j=null,A<=2.5)A<=1.64?w=1:(w=-.403*A**4+5.581*A**3-21.63*A**2+33.75*A-17.88,A<2.36&&S<.5&&(w=1)),O=w*N,j=O<50?O/1e3*.833+.05:93*(O/1e3)**3+.08,j=Math.max(j,.05);else if(A<2.7)w=6e-7*A**16.76,O=w*N,j=O<50?O/1e3*.833+.05:93*(O/1e3)**3+.08;else{if($=null,Br(h)||(v.push(`tou_s${Kf(h)}Kalpha=1`),$=1),Br(p)||(v.push(`su${Kf(p)}Kalpha=1`),$=1),null===$){if(h=nn(h),h<0)return v.push(`tou_s${Kf(h)}<0`),q();if(p=nn(p),p<=0)return v.push(`su${Kf(p)}<=0`),q();if(h===p)return v.push(`tou_s${Kf(h)}=su${Kf(p)}Kalpha`),q();$=1.344-.344/(1-h/p)**.638}O=$*N,j=.053*O}return D=j*y,On(D)&&(D=Math.min(D,1e20)),L=null,L=f>0?.65*d*(c/f)*b:1e20,On(L)&&(L=Math.min(L,1e20)),On(D)&&On(L)&&L>0&&(C=D/L),On(L)&&0===L&&(0===c&&R.push(`sv${Kf(c)}=0FS3`),0===d&&R.push(`PGA${Kf(d)}=0FS3`),0===b&&R.push(`rrd${Kf(b)}=0FS3`),C=3),On(C)&&C>3&&(R.push(`FS${Kf(C)}>33`),C=3),D<0&&v.push(`CRR${Kf(D)}<0`),L<=0&&v.push(`CSR${Kf(L)}<=0`),On(C)?C<0&&(v.push(`FS${Kf(C)}<00`),C=0):v.push(`FS${Kf(C)}`),q()}(e=Vf(Vf({},e),{},{ver:"2009"})),cptJuang2002:e=>function(e){let{ver:t="2002",waterLevelDesign:r,depth:n,coe_a:i,qc:o,fs:l,u2:u,svp:a,svpUsual:s,svpDesign:f,sv:c,PGA:h,Mw:p}=e,d=[],g={},v="",m="",y="",b="",w="",$="",S="",x="",M="",P="",E="",k=[];function O(){let e=Vf(Vf({},ac(g)),{},{rrd:m,qc1N:$,Ic:y,qc1Ncs:S,CRR75:x,CRR:M,CSR:P,FS:E,stateFS:Hn(k,"; "),err:Hn(d,"; ")});return ot(e,((t,r)=>{Gr(t)||Br(t)||(e[r]="")})),e}let j=!1,D=!1;for(;;){if("2002"!==t)return d.push(`ver${Kf(t)}2002`),O();if(Br(i)?i=nn(i):(d.push(`coe_a${Kf(i)}0.8`),i=.8),!Br(n))return d.push(`depth${Kf(n)}`),O();if(n=nn(n),n<0)return d.push(`depth${Kf(n)}<0`),O();if(Br(r)?(r=nn(r),r<0&&(d.push(`waterLevelDesign${Kf(r)}<00(m)`),r=0)):(d.push(`waterLevelDesign${Kf(r)}0(m)`),r=0),n<r&&(k.push(`depth${Kf(n)}<waterLevelDesign${Kf(r)}`),j=!0),n>20&&(k.push(`depth${Kf(n)}>20`),j=!0),Br(o)?(o=nn(o),o<0&&(d.push(`qc${Kf(o)}<0`),D=!0)):(d.push(`qc${Kf(o)}`),D=!0),Br(l)?(l=nn(l),l<0&&(d.push(`fs${Kf(l)}<0`),D=!0)):(d.push(`fs${Kf(l)}`),D=!0),Br(u)?u=nn(u):(d.push(`u2${Kf(u)}`),D=!0),Br(a)&&(a=nn(a),s=a,f=a),!Br(s))return d.push(`svpUsual${Kf(s)}`),O();if(s=nn(s),s<0)return d.push(`svpUsual${Kf(s)}<0`),O();if(!Br(f))return d.push(`svpDesign${Kf(f)}`),O();if(f=nn(f),f<0)return d.push(`svpDesign${Kf(f)}<0`),O();if(!Br(c))return d.push(`sv${Kf(c)}`),O();if(c=nn(c),c<0)return d.push(`sv${Kf(c)}<0`),O();if(!Br(h))return d.push(`PGA${Kf(h)}`),O();if(h=nn(h),h<0)return d.push(`PGA${Kf(h)}<0`),O();if(!Br(p))return d.push(`Mw${Kf(p)}`),O();if(p=nn(p),p<0)return d.push(`Mw${Kf(p)}<0`),O();break}if(!0===j)return d=[],M="-",P="-",E=Zf,O();if(!0===D)return O();if(g=sc(n,i,o,l,u,c,s,!1),b=ve(g,"Fr",null),w=ve(g,"qt",null),!Br(w))return d.push(`qt${Kf(w)}`),O();c*=Yf,s*=Yf,f*=Yf,w=1e3*w*Yf,v=(p/7.5)**-2.56,m=(1-.4113*n**.5+.04052*n+.001753*n**1.5)/(1-.4177*n**.5+.05729*n-.006205*n**1.5+.00121*n**2);let L=b;$=null,s>0&&($=w/Math.sqrt(s)),y=null,On($)&&On(L)&&(y=Math.sqrt((3.47-Math.log10($))**2+(Math.log10(L)+1.22)**2)),S=null,On($)&&On(y)&&(S=$*(2.429*y**4-16.943*y**3+44.551*y**2-51.497*y+22.802));let C=-.016*(s/100)**3+.178*(s/100)**2-s/100*.063+.903;return x=null,On(C)&&On(S)&&(x=C*Math.exp(1.264*(S/100)**1.25-2.957)),M=null,On(x)&&On(v)&&(M=x*v),On(M)&&(M=Math.min(M,1e20)),P=null,P=f>0?.65*h*(c/f)*m:1e20,On(P)&&(P=Math.min(P,1e20)),On(M)&&On(P)&&P>0&&(E=M/P),On(P)&&0===P&&(0===c&&k.push(`sv${Kf(c)}=0FS3`),0===h&&k.push(`PGA${Kf(h)}=0FS3`),0===m&&k.push(`rrd${Kf(m)}=0FS3`),E=3),On(E)&&E>3&&(k.push(`FS${Kf(E)}>33`),E=3),M<0&&d.push(`CRR${Kf(M)}<0`),P<=0&&d.push(`CSR${Kf(P)}<=0`),On(E)?E<0&&(d.push(`FS${Kf(E)}<00`),E=0):d.push(`FS${Kf(E)}`),O()}(e=Vf(Vf({},e),{},{ver:"2002"})),cptKuAndJuang2012:e=>function(e){let{ver:t="2012",waterLevelDesign:r,depth:n,coe_a:i,qc:o,fs:l,u2:u,svp:a,svpUsual:s,svpDesign:f,sv:c,PGA:h,Mw:p}=e,d=[],g={},v="",m="",y="",b="",w="",$="",S="",x="",M="",P="",E="",k="",O="",j="",D="",L="",C=[];function R(){let e=Vf(Vf({},ac(g)),{},{rrd:m,Fr:y,Bq:b,Ic:w,Icn:$,Qt:x,Qtn:M,Icbj:P,Csigma:E,Ksigma:k,CRR75:O,CRR:j,CSR:D,FS:L,stateFS:Hn(C,"; "),err:Hn(d,"; ")});return ot(e,((t,r)=>{Gr(t)||Br(t)||(e[r]="")})),e}let q=!1,F=!1;for(;;){if("2012"!==t)return d.push(`ver${Kf(t)}2012`),R();if(Br(i)?i=nn(i):(d.push(`coe_a${Kf(i)}0.8`),i=.8),!Br(n))return d.push(`depth${Kf(n)}`),R();if(n=nn(n),n<0)return d.push(`depth${Kf(n)}<0`),R();if(Br(r)?(r=nn(r),r<0&&(d.push(`waterLevelDesign${Kf(r)}<00(m)`),r=0)):(d.push(`waterLevelDesign${Kf(r)}0(m)`),r=0),n<r&&(C.push(`depth${Kf(n)}<waterLevelDesign${Kf(r)}`),q=!0),n>20&&(C.push(`depth${Kf(n)}>20`),q=!0),Br(o)?(o=nn(o),o<0&&(d.push(`qc${Kf(o)}<0`),F=!0)):(d.push(`qc${Kf(o)}`),F=!0),Br(l)?(l=nn(l),l<0&&(d.push(`fs${Kf(l)}<0`),F=!0)):(d.push(`fs${Kf(l)}`),F=!0),Br(u)?u=nn(u):(d.push(`u2${Kf(u)}`),F=!0),Br(a)&&(a=nn(a),s=a,f=a),!Br(s))return d.push(`svpUsual${Kf(s)}`),R();if(s=nn(s),s<0)return d.push(`svpUsual${Kf(s)}<0`),R();if(!Br(f))return d.push(`svpDesign${Kf(f)}`),R();if(f=nn(f),f<0)return d.push(`svpDesign${Kf(f)}<0`),R();if(!Br(c))return d.push(`sv${Kf(c)}`),R();if(c=nn(c),c<0)return d.push(`sv${Kf(c)}<0`),R();if(!Br(h))return d.push(`PGA${Kf(h)}`),R();if(h=nn(h),h<0)return d.push(`PGA${Kf(h)}<0`),R();if(!Br(p))return d.push(`Mw${Kf(p)}`),R();if(p=nn(p),p<0)return d.push(`Mw${Kf(p)}<0`),R();break}if(!0===q)return d=[],j="-",D="-",L=Zf,R();if(!0===F)return R();if(g=sc(n,i,o,l,u,c,s,!0),S=ve(g,"qt",null),y=ve(g,"Fr",null),b=ve(g,"Bq",null),w=ve(g,"Ic",null),$=ve(g,"Icn",null),x=ve(g,"Qt",null),M=ve(g,"Qtn",null),!Br(S))return d.push(`qt${Kf(S)}`),R();c*=Yf,s*=Yf,f*=Yf;let _=null;null===_&&On($)&&(_=$),null===_&&On(w)&&(d.push("IcnIc"),_=w);let A=null;null===A&&On(M)&&(A=M),null===A&&On(x)&&(d.push("QtnQt"),A=x),v=6.9*Math.exp(-p/4)-.058,v=Math.min(v,1.8);let N=-1.012-1.126*Math.sin(n/11.73+5.133),I=.106+.118*Math.sin(n/11.28+5.142);if(m=Math.exp(N+I*p),m=Math.min(m,1),P=null,!(On(x)&&On(b)&&On(y)))return d.push("Ic(BJ)"),R();P=Math.sqrt((3-Math.log10(x*(1-b)+1))**2+(Math.log10(y)+1.22)**2);let z=P*(A/100)-14.7,T=.909*P**3-7.47*P+19.28,G=.059+.015*P**2;O=.05+Math.exp(z+T*(A/100)**G),On(O)&&(O=Math.min(O,1e20)),E=null,E=M<=37?.063:M<211?1/(37.3-8.27*M**.264):.3,E=Math.min(E,.3);let U=1e3*Bn.Pa;return U*=Yf,k=1-E*Math.log(s/U),k=Math.min(k,1),j=O*v*k,On(j)&&(j=Math.min(j,1e20)),D=null,D=f>0?.65*h*(c/f)*m:1e20,On(D)&&(D=Math.min(D,1e20)),On(j)&&On(D)&&D>0&&(L=j/D),On(D)&&0===D&&(0===c&&C.push(`sv${Kf(c)}=0FS3`),0===h&&C.push(`PGA${Kf(h)}=0FS3`),0===m&&C.push(`rrd${Kf(m)}=0FS3`),L=3),On(L)&&L>3&&(C.push(`FS${Kf(L)}>33`),L=3),j<0&&d.push(`CRR${Kf(j)}<0`),D<=0&&d.push(`CSR${Kf(D)}<=0`),On(L)?L<0&&(d.push(`FS${Kf(L)}<00`),L=0):d.push(`FS${Kf(L)}`),R()}(e=Vf(Vf({},e),{},{ver:"2012"})),cptOlsen1997:e=>function(e){let{ver:t="1997",waterLevelDesign:r,depth:n,coe_a:i,qc:o,fs:l,u2:u,svp:a,svpUsual:s,svpDesign:f,sv:c,PGA:h,Mw:p}=e,d=[],g={},v="",m="",y="",b="",w="",$="",S="",x="",M="",P=[];function E(){let e=Vf(Vf({},ac(g)),{},{rrd:m,qc1:b,Rf:w,CRR75:$,CRR:S,CSR:x,FS:M,stateFS:Hn(P,"; "),err:Hn(d,"; ")});return ot(e,((t,r)=>{Gr(t)||Br(t)||(e[r]="")})),e}let k=!1,O=!1;for(;;){if("1997"!==t)return d.push(`ver${Kf(t)}1997`),E();if(Br(i)?i=nn(i):(d.push(`coe_a${Kf(i)}0.8`),i=.8),!Br(n))return d.push(`depth${Kf(n)}`),E();if(n=nn(n),n<0)return d.push(`depth${Kf(n)}<0`),E();if(Br(r)?(r=nn(r),r<0&&(d.push(`waterLevelDesign${Kf(r)}<00(m)`),r=0)):(d.push(`waterLevelDesign${Kf(r)}0(m)`),r=0),n<r&&(P.push(`depth${Kf(n)}<waterLevelDesign${Kf(r)}`),k=!0),n>20&&(P.push(`depth${Kf(n)}>20`),k=!0),Br(o)?(o=nn(o),o<0&&(d.push(`qc${Kf(o)}<0`),O=!0)):(d.push(`qc${Kf(o)}`),O=!0),Br(l)?(l=nn(l),l<0&&(d.push(`fs${Kf(l)}<0`),O=!0)):(d.push(`fs${Kf(l)}`),O=!0),Br(u)?u=nn(u):(d.push(`u2${Kf(u)}`),O=!0),Br(a)&&(a=nn(a),s=a,f=a),!Br(s))return d.push(`svpUsual${Kf(s)}`),E();if(s=nn(s),s<0)return d.push(`svpUsual${Kf(s)}<0`),E();if(!Br(f))return d.push(`svpDesign${Kf(f)}`),E();if(f=nn(f),f<0)return d.push(`svpDesign${Kf(f)}<0`),E();if(!Br(c))return d.push(`sv${Kf(c)}`),E();if(c=nn(c),c<0)return d.push(`sv${Kf(c)}<0`),E();if(!Br(h))return d.push(`PGA${Kf(h)}`),E();if(h=nn(h),h<0)return d.push(`PGA${Kf(h)}<0`),E();if(!Br(p))return d.push(`Mw${Kf(p)}`),E();if(p=nn(p),p<0)return d.push(`Mw${Kf(p)}<0`),E();break}return!0===k?(d=[],S="-",x="-",M=Zf,E()):!0===O?E():(g=sc(n,i,o,l,u,c,s,!1),y=ve(g,"qt",null),w=ve(g,"Rf",null),Br(y)?(c*=Yf,s*=Yf,f*=Yf,y=1e3*y*Yf,v=(p/7.5)**-2.56,m=(1-.4113*n**.5+.04052*n+.001753*n**1.5)/(1-.4177*n**.5+.05729*n-.006205*n**1.5+.00121*n**2),b=s>0?y/s**.7:1e20,$=.00128*b-.025+.17*w-.028*w**2+.0016*w**3,S=$*v,On(S)&&(S=Math.min(S,1e20)),x=null,x=f>0?.65*h*(c/f)*m:1e20,On(x)&&(x=Math.min(x,1e20)),On(S)&&On(x)&&x>0&&(M=S/x),On(x)&&0===x&&(0===c&&P.push(`sv${Kf(c)}=0FS3`),0===h&&P.push(`PGA${Kf(h)}=0FS3`),0===m&&P.push(`rrd${Kf(m)}=0FS3`),M=3),On(M)&&M>3&&(P.push(`FS${Kf(M)}>33`),M=3),S<0&&d.push(`CRR${Kf(S)}<0`),x<=0&&d.push(`CSR${Kf(x)}<=0`),On(M)?M<0&&(d.push(`FS${Kf(M)}<00`),M=0):d.push(`FS${Kf(M)}`),E()):(d.push(`qt${Kf(y)}`),E()))}(e=Vf(Vf({},e),{},{ver:"1997"})),cptShibata1988:e=>function(e){let{ver:t="1988",waterLevelDesign:r,depth:n,coe_a:i,qc:o,fs:l,u2:u,svp:a,svpUsual:s,svpDesign:f,sv:c,PGA:h,Mw:p,D50:d}=e,g=[],v={},m="",y="",b="",w="",$="",S="",x="",M="",P=[];function E(){Br($)&&($/=Yf);let e=Vf(Vf({},ac(v)),{},{rrd:y,qc1:w,qc1cr:$,CRR75:"",CRR:S,CSR:x,FS:M,stateFS:Hn(P,"; "),err:Hn(g,"; ")});return ot(e,((t,r)=>{Gr(t)||Br(t)||(e[r]="")})),e}let k,O=!1,j=!1;for(;;){if("1988"!==t)return g.push(`ver${Kf(t)}1988`),E();if(Br(i)?i=nn(i):(g.push(`coe_a${Kf(i)}0.8`),i=.8),!Br(n))return g.push(`depth${Kf(n)}`),E();if(n=nn(n),n<0)return g.push(`depth${Kf(n)}<0`),E();if(Br(r)?(r=nn(r),r<0&&(g.push(`waterLevelDesign${Kf(r)}<00(m)`),r=0)):(g.push(`waterLevelDesign${Kf(r)}0(m)`),r=0),n<r&&(P.push(`depth${Kf(n)}<waterLevelDesign${Kf(r)}`),O=!0),n>20&&(P.push(`depth${Kf(n)}>20`),O=!0),Br(o)?(o=nn(o),o<0&&(g.push(`qc${Kf(o)}<0`),j=!0)):(g.push(`qc${Kf(o)}`),j=!0),Br(l)?(l=nn(l),l<0&&(g.push(`fs${Kf(l)}<0`),j=!0)):(g.push(`fs${Kf(l)}`),j=!0),Br(u)?u=nn(u):(g.push(`u2${Kf(u)}`),j=!0),Br(d)?(d=nn(d),d<0&&(g.push(`D50${Kf(d)}<0`),j=!0)):(g.push(`D50${Kf(d)}`),j=!0),Br(a)&&(a=nn(a),s=a,f=a),!Br(s))return g.push(`svpUsual${Kf(s)}`),E();if(s=nn(s),s<0)return g.push(`svpUsual${Kf(s)}<0`),E();if(!Br(f))return g.push(`svpDesign${Kf(f)}`),E();if(f=nn(f),f<0)return g.push(`svpDesign${Kf(f)}<0`),E();if(!Br(c))return g.push(`sv${Kf(c)}`),E();if(c=nn(c),c<0)return g.push(`sv${Kf(c)}<0`),E();if(!Br(h))return g.push(`PGA${Kf(h)}`),E();if(h=nn(h),h<0)return g.push(`PGA${Kf(h)}<0`),E();if(!Br(p))return g.push(`Mw${Kf(p)}`),E();if(p=nn(p),p<0)return g.push(`Mw${Kf(p)}<0`),E();break}if(!0===O)return g=[],S="-",x="-",M=Zf,E();if(!0===j)return E();if(v=sc(n,i,o,l,u,c,s,!1),b=ve(v,"qt",null),!Br(b))return g.push(`qt${Kf(b)}`),E();c*=Yf,s*=Yf,f*=Yf,b=1e3*b*Yf,m=(p/7.5)**-2.56,y=1-.015*n,w=1.7/(s+.7)*b,k=d>=.25?1:d/.25;let D=null;D=f>0?.1*(m-1)*h*(c/f)*y:1e20;let L=null;return L=-.1!==D?(D-.1)/(D+.1):1e20,$=k*(50+200*L),$=Mf($),S=w,x=$,On(S)&&On(x)&&x>0&&(M=S/x),On(x),On(M)&&M>3&&(P.push(`FS${Kf(M)}>33`),M=3),S<0&&g.push(`CRR${Kf(S)}<0`),x<=0&&g.push(`CSR${Kf(x)}<=0`),On(M)?M<0&&(g.push(`FS${Kf(M)}<00`),M=0):g.push(`FS${Kf(M)}`),E()}(e=Vf(Vf({},e),{},{ver:"1988"}))},VS:{vsHBF:function(e){let{waterLevelDesign:t,depth:r,Vs:n,FC:i,svpDesign:o,sv:l,PGA:u,Mw:a}=e,s=[],f="",c="",h="",p="",d="",g=[];function v(){let e={CRR75:c,CRR:h,CSR:p,FS:d,stateFS:Hn(g,"; "),err:Hn(s,"; ")};return ot(e,((t,r)=>{Gr(t)||Br(t)||(e[r]="")})),e}let m=!1,y=!1;for(;;){if(!Br(r))return s.push(`depth${Kf(r)}`),v();if(r=nn(r),r<0)return s.push(`depth${Kf(r)}<0`),v();if(Br(t)?(t=nn(t),t<0&&(s.push(`waterLevelDesign${Kf(t)}<00(m)`),t=0)):(s.push(`waterLevelDesign${Kf(t)}0(m)`),t=0),r<t&&(g.push(`depth${Kf(r)}<waterLevelDesign${Kf(t)}`),m=!0),r>20&&(g.push(`depth${Kf(r)}>20`),m=!0),Br(n)?(n=nn(n),n<0&&(s.push(`Vs${Kf(n)}<0`),y=!0)):(s.push(`Vs${Kf(n)}`),y=!0),Br(i)?(i=nn(i),i<0&&(s.push(`FC${Kf(i)}<0`),y=!0)):(s.push(`FC${Kf(i)}`),y=!0),!Br(o))return s.push(`svpDesign${Kf(o)}`),v();if(o=nn(o),o<0)return s.push(`svpDesign${Kf(o)}<0`),v();if(!Br(l))return s.push(`sv${Kf(l)}`),v();if(l=nn(l),l<0)return s.push(`sv${Kf(l)}<0`),v();if(!Br(u))return s.push(`PGA${Kf(u)}`),v();if(u=nn(u),u<0)return s.push(`PGA${Kf(u)}<0`),v();if(!Br(a))return s.push(`Mw${Kf(a)}`),v();if(a=nn(a),a<0)return s.push(`Mw${Kf(a)}<0`),v();break}if(!0===m)return s=[],h="-",p="-",d=Zf,v();if(!0===y)return v();f=(a/7.5)**-3.3;let b,w=(1-.4113*r**.5+.04052*r+.001753*r**1.5)/(1-.4177*r**.5+.05729*r-.006205*r**1.5+.00121*r**2),$=1/Math.sqrt(o)*n;console.log("svpDesign,Vs"),b=i<=10?1:29e-5*i**2-.00355*i+1.00651;let S=b*($-100);return S=Math.min(S,134.5),c=null,c=$<=100?.09:.09+22e-5*S/(1-S/135),h=c*f,On(h)&&(h=Math.min(h,1e20)),p=null,p=o>0?.65*u*(l/o)*w:1e20,On(p)&&(p=Math.min(p,1e20)),On(h)&&On(p)&&p>0&&(d=h/p),On(p)&&0===p&&(0===l&&g.push(`sv${Kf(l)}=0FS3`),0===u&&g.push(`PGA${Kf(u)}=0FS3`),0===w&&g.push(`rrd${Kf(w)}=0FS3`),d=3),On(d)&&d>3&&(g.push(`FS${Kf(d)}>33`),d=3),h<0&&s.push(`CRR${Kf(h)}<0`),p<=0&&s.push(`CSR${Kf(p)}<=0`),On(d)?d<0&&(s.push(`FS${Kf(d)}<00`),d=0):s.push(`FS${Kf(d)}`),v()},vsAndrus:function(e){let{waterLevelDesign:t,depth:r,Vs:n,FC:i,svpDesign:o,sv:l,PGA:u,Mw:a}=e,s=[],f="",c="",h="",p="",d=[];function g(){let e={CRR75:f,CRR:c,CSR:h,FS:p,stateFS:Hn(d,"; "),err:Hn(s,"; ")};return ot(e,((t,r)=>{Gr(t)||Br(t)||(e[r]="")})),e}let v=!1,m=!1;for(;;){if(!Br(r))return s.push(`depth${Kf(r)}`),g();if(r=nn(r),r<0)return s.push(`depth${Kf(r)}<0`),g();if(Br(t)?(t=nn(t),t<0&&(s.push(`waterLevelDesign${Kf(t)}<00(m)`),t=0)):(s.push(`waterLevelDesign${Kf(t)}0(m)`),t=0),r<t&&(d.push(`depth${Kf(r)}<waterLevelDesign${Kf(t)}`),v=!0),r>20&&(d.push(`depth${Kf(r)}>20`),v=!0),Br(n)?(n=nn(n),n<0&&(s.push(`Vs${Kf(n)}<0`),m=!0)):(s.push(`Vs${Kf(n)}`),m=!0),Br(i)?(i=nn(i),i<0&&(s.push(`FC${Kf(i)}<0`),m=!0)):(s.push(`FC${Kf(i)}`),m=!0),!Br(o))return s.push(`svpDesign${Kf(o)}`),g();if(o=nn(o),o<0)return s.push(`svpDesign${Kf(o)}<0`),g();if(!Br(l))return s.push(`sv${Kf(l)}`),g();if(l=nn(l),l<0)return s.push(`sv${Kf(l)}<0`),g();if(!Br(u))return s.push(`PGA${Kf(u)}`),g();if(u=nn(u),u<0)return s.push(`PGA${Kf(u)}<0`),g();if(!Br(a))return s.push(`Mw${Kf(a)}`),g();if(a=nn(a),a<0)return s.push(`Mw${Kf(a)}<0`),g();break}if(!0===v)return s=[],c="-",h="-",p=Zf,g();if(!0===m)return g();let y,b=(a/7.5)**-3.3,w=(1-.4113*r**.5+.04052*r+.001753*r**1.5)/(1-.4177*r**.5+.05729*r-.006205*r**1.5+.00121*r**2),$=1/Math.sqrt(o)*n;return console.log("svpDesign,Vs"),y=i<=5?215:i<=35?215-.5*(i-5):200,f=.022*($/100)**2+2.8*(1/(y-$)-1/y),f=Mf(f),c=f*b,On(c)&&(c=Math.min(c,1e20)),h=null,h=o>0?.65*u*(l/o)*w:1e20,On(h)&&(h=Math.min(h,1e20)),On(c)&&On(h)&&h>0&&(p=c/h),On(h)&&0===h&&(0===l&&d.push(`sv${Kf(l)}=0FS3`),0===u&&d.push(`PGA${Kf(u)}=0FS3`),0===w&&d.push(`rrd${Kf(w)}=0FS3`),p=3),On(p)&&p>3&&(d.push(`FS${Kf(p)}>33`),p=3),c<0&&s.push(`CRR${Kf(c)}<0`),h<=0&&s.push(`CSR${Kf(h)}<=0`),On(p)?p<0&&(s.push(`FS${Kf(p)}<00`),p=0):s.push(`FS${Kf(p)}`),g()},vsNCEER:function(e){let{waterLevelDesign:t,depth:r,Vs:n,FC:i,svpDesign:o,sv:l,PGA:u,Mw:a}=e,s=[],f="",c="",h="",p="",d=[];function g(){let e={CRR75:f,CRR:c,CSR:h,FS:p,stateFS:Hn(d,"; "),err:Hn(s,"; ")};return ot(e,((t,r)=>{Gr(t)||Br(t)||(e[r]="")})),e}let v=!1,m=!1;for(;;){if(!Br(r))return s.push(`depth${Kf(r)}`),g();if(r=nn(r),r<0)return s.push(`depth${Kf(r)}<0`),g();if(Br(t)?(t=nn(t),t<0&&(s.push(`waterLevelDesign${Kf(t)}<00(m)`),t=0)):(s.push(`waterLevelDesign${Kf(t)}0(m)`),t=0),r<t&&(d.push(`depth${Kf(r)}<waterLevelDesign${Kf(t)}`),v=!0),r>20&&(d.push(`depth${Kf(r)}>20`),v=!0),Br(n)?(n=nn(n),n<0&&(s.push(`Vs${Kf(n)}<0`),m=!0)):(s.push(`Vs${Kf(n)}`),m=!0),Br(i)?(i=nn(i),i<0&&(s.push(`FC${Kf(i)}<0`),m=!0)):(s.push(`FC${Kf(i)}`),m=!0),!Br(o))return s.push(`svpDesign${Kf(o)}`),g();if(o=nn(o),o<0)return s.push(`svpDesign${Kf(o)}<0`),g();if(!Br(l))return s.push(`sv${Kf(l)}`),g();if(l=nn(l),l<0)return s.push(`sv${Kf(l)}<0`),g();if(!Br(u))return s.push(`PGA${Kf(u)}`),g();if(u=nn(u),u<0)return s.push(`PGA${Kf(u)}<0`),g();if(!Br(a))return s.push(`Mw${Kf(a)}`),g();if(a=nn(a),a<0)return s.push(`Mw${Kf(a)}<0`),g();break}if(!0===v)return s=[],c="-",h="-",p=Zf,g();if(!0===m)return g();let y,b=(a/7.5)**-3.3,w=(1-.4113*r**.5+.04052*r+.001753*r**1.5)/(1-.4177*r**.5+.05729*r-.006205*r**1.5+.00121*r**2),$=1/Math.sqrt(o)*n;return console.log("svpDesign"),y=i<=5?220:i<=35?210:200,f=.03*($/100)**2+.9*(1/(y-$)-1/y),f=Mf(f),c=f*b,On(c)&&(c=Math.min(c,1e20)),h=null,h=o>0?.65*u*(l/o)*w:1e20,On(h)&&(h=Math.min(h,1e20)),On(c)&&On(h)&&h>0&&(p=c/h),On(h)&&0===h&&(0===l&&d.push(`sv${Kf(l)}=0FS3`),0===u&&d.push(`PGA${Kf(u)}=0FS3`),0===w&&d.push(`rrd${Kf(w)}=0FS3`),p=3),On(p)&&p>3&&(d.push(`FS${Kf(p)}>33`),p=3),c<0&&s.push(`CRR${Kf(c)}<0`),h<=0&&s.push(`CSR${Kf(h)}<=0`),On(p)?p<0&&(s.push(`FS${Kf(p)}<00`),p=0):s.push(`FS${Kf(p)}`),g()}}};let hc={mLiques:cc,mSettls:{SPT:{sptVolumetricStrainTokimatsuAndSeed:tc,sptVolumetricStrainIshiharaAndYoshimine:rc}},calc:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("SPT"!==e&&"CPT"!==e&&"VS"!==e)throw new Error(`kind()${Kf(e)}: SPT, CPT, VS`);let n=ve(r,"unitSvSvp");if("kPa"!==n&&"MPa"!==n)throw new Error(`opt.unitSvSvp[${n}] need kPa or MPa`);let i=ve(r,"methods",[]),o="depth",l="depthStart",u="depthEnd",a=e=>et(ve(e,0,[])),s=e=>(e=Xi(e),ot(a(e),(t=>{if(t.indexOf("-vstr")>=0){let o=(r=t,n="-vstr",i&&"number"!=typeof i&&Ir(r,n,i)&&(n=i=void 0),(i=void 0===i?Of:i>>>0)?(r=ce(r))&&("string"==typeof n||null!=n&&!kf(n))&&!(n=fe(n))&&an(r)?fu(Eu(r),0,i):r.split(n,i):[]),a=ve(o,0,""),s=ve(o,1,""),f=0;e=xr(e,((e,r)=>{if(Br(e[l])&&Br(e[u])&&Br(e[t])){let r=nn(e[l]),n=nn(e[u]),i=nn(e[t])/100;f+=i*(n-r)}return e[`${a}-stl${s}`]=f,e}))}var r,n,i})),e);if(!to(t))throw new Error("");if(!Gr(e))throw new Error("kind()");if("SPT"!==e&&"CPT"!==e&&"VS"!==e)throw new Error(`kind()${Kf(e)}: SPT, CPT, VS`);let f=Ul(t=Xi(t));if(Mn(f)>0)throw new Error(Hn(f,", "));return t=zr(t,(e=>nn(e[l]))),t=((e,t)=>{{let e=(e=>{let t=null;return Br(t)||(t=ve(e,"0.waterLevelUsual","")),Br(t)||(t=ve(r,"waterLevelUsual","")),Br(t)&&(t=nn(t)),Br(t)||(t=0),t})(t),i=(e=>{let t=null;return Br(t)||(t=ve(e,"0.waterLevelDesign","")),Br(t)||(t=ve(r,"waterLevelDesign","")),Br(t)&&(t=nn(t)),Br(t)||(t=0),t})(t);t=((e,t,r)=>(t=nn(t),r=nn(r),xr(e,((e,n)=>{let i=ve(e,"err","");e.waterLevelUsual=t,e.waterLevelDesign=r;let a=ve(e,l,null),s=ve(e,u,null);if(Br(a)&&Br(s)){a=nn(a),s=nn(s);let t=(a+s)/2;e[o]=t}else e[o]="";let f=ve(e,"e",null),c=ve(e,"GS",null),h=Hf(ve(e,"rd",null),ve(e,"rsat",null),c,f);return ve(h,"err")&&(""===i?i=h.err:i.indexOf(h.err)<0&&(i+=`, ${h.err}`),e.err=i),On(h.rd)?e.rd=h.rd:e.rd="",On(h.rsat)?e.rsat=h.rsat:e.rsat="",On(h.GS)?e.GS=h.GS:e.GS="",On(h.e)?e.e=h.e:e.e="",e}))))(t,e,i);let a=!0;ot(t,(e=>{let t=Br(e.sv),r=Br(e.svp),n=Br(e.svpUsual)&&Br(e.svpDesign);if(!(t&&(r||n)))return a=!1,!1})),a?("MPa"===n&&(t=xr(t,((e,t)=>(On(e.sv)&&(e.sv*=1e3),On(e.svp)&&(e.svp*=1e3),On(e.svpUsual)&&(e.svpUsual*=1e3),On(e.svpDesign)&&(e.svpDesign*=1e3),e)))),ot(t,((e,t)=>{On(e.sv)&&ya(e.sv,e[o],"kPa","sv"),On(e.svp)&&ya(e.svp,e[o],"kPa","svp"),On(e.svpUsual)&&ya(e.svpUsual,e[o],"kPa","svpUsual"),On(e.svpDesign)&&ya(e.svpDesign,e[o],"kPa","svpDesign")})),t=xr(t,((t,r)=>{t.waterLevelUsual=e,t.waterLevelDesign=i;let n=ve(t,l,null),a=ve(t,u,null);if(!Br(n))throw new Error(` ${r} (depthStart): ${n}`);if(!Br(a))throw new Error(` ${r} (depthEnd): ${a}`);return n=nn(n),a=nn(a),t[o]=(a+n)/2,t}))):t=Hl(t,{waterLevelUsual:e,waterLevelDesign:i,unitSvSvp:"kPa"})}{let e=(e=>{let t=null,n=null;Br(t)||(t=ve(e,"0.Mw",""),n=t);let i=null;if(Br(t)||(t=ve(r,"Mw",""),i=t),Br(t)&&(t=nn(t)),!Br(t))throw new Error("rows[0].Mw or opt.Mw is not a number");if(t<=0)throw console.log("rows[0].Mw",n),console.log("opt.Mw",i),new Error(`Mw[${t}]<=0`);return t})(t),n=(e=>{let t=null,n=null;Br(t)||(t=ve(e,"0.PGA",""),n=t);let i=null;if(Br(t)||(t=ve(r,"PGA",""),i=t),Br(t)&&(t=nn(t)),!Br(t))throw new Error("rows[0].PGA or opt.PGA is not a number");if(t<0)throw console.log("rows[0].PGA",n),console.log("opt.PGA",i),new Error(`PGA[${t}]<0`);return t})(t);t=xr(t,((t,r)=>(t.Mw=e,t.PGA=n,t)))}if("SPT"===e){let e=(e=>{let t=null;return Br(t)||(t=ve(e,"0.vibrationType","")),Br(t)||(t=ve(r,"vibrationType","")),Br(t)&&(t=nn(t)),1!==t&&2!==t&&(t=1),t})(t);t=xr(t,((t,r)=>(t.vibrationType=e,t)))}if("CPT"===e){let e=(e=>{let t=null;return Br(t)||(t=ve(e,"0.coe_a","")),Br(t)||(t=ve(r,"coe_a","")),Br(t)&&(t=nn(t)),Br(t)||(t=.8),t})(t);t=xr(t,((t,r)=>(t.coe_a=e,t)))}return t})(e,t),t=xr(t,((t,r)=>((e,t)=>{t=Xi(t);let r=et(cc[e]);return Mn(i)>0&&(r=i),ot(r,(r=>{let n=ve(cc,e,{}),i=ve(n,r,null);if(!Ou(i))throw console.log("kind",e,"method",r,"keys(methodLiques[kind])",et(cc[e])),new Error("func is not a function");let o=i(t);if("SPT"===e)ot(o,((e,n)=>{t[`${r}-${n}`]=e}));else if("CPT"===e){let e=lc();ot(e,(e=>{t[`${e}`]=o[e]})),ot(e,(e=>{delete o[e]})),ot(o,((e,n)=>{t[`${r}-${n}`]=e}))}})),t})(e,t))),"SPT"===e&&(t=(e=>(e=Xi(e),ot(a(e),(t=>{if(t.indexOf("-FS")<0)return;let r=t.replace("-FS",""),n=0;e=xr(e,((e,i)=>{if(Br(e[l])&&Br(e[u])&&Br(e[o])&&Br(e[t])){let r=nn(e[l]),i=nn(e[u]),a=nn(e[o]),s=nn(e[t]),f=1-Math.min(Math.max(s,0),1);n+=f*(10-.5*a)*(i-r)}return e[`${r}-PL`]=n,e}))})),e))(t)),"SPT"===e&&(t=s(t)),"SPT"===e&&(t=(e=>(e=Xi(e),ot(a(e),(t=>{if(t.indexOf("-FS")<0)return;let r=t.replace("-FS",""),n=!0,i=0;e=xr(e,((e,o)=>{if(Br(e[l])&&Br(e[u])&&Br(e[t])){let r=nn(e[l]),o=nn(e[u]),a=nn(e[t])>=1;n&&!a&&(n=!1),n&&(i+=a?o-r:0,i=Math.min(i,7))}return e[`${r}-H1`]=i,e}))})),e))(t)),"SPT"===e&&(t=(e=>(e=Xi(e),ot(a(e),(t=>{if(t.indexOf("-FS")<0)return;let r=t.replace("-FS",""),n=`${r}-H1`,i=`${r}-PL`;e=xr(e,((e,t)=>{let o="-";if(Br(e[n])&&Br(e[i])){let t=nn(e[n]),r=nn(e[i]);o=t<=3?r>=5?"C":"B3":t<=5?r>=5?"B2":"B1":"A"}return e[`${r}-H1PL`]=o,e}))})),e))(t)),t=xr(t,(t=>{let r={},n=Pf(e),i=Mn(n);return ot(t,((e,t)=>{mf(t,i)!==n&&(r[t]=e)})),ot(cc[e],((e,n)=>{let i=Mn(n),o="",l="";ot(t,((e,t)=>{mf(t,i)===n&&("-err"===gf(t,4)?(o=t,l=e):r[t]=e)})),""!==o&&(r[o]=l)})),r})),ot(t,((e,r)=>{ot(e,((e,n)=>{Gr(e)||Br(e)||(t[r][n]="")}))})),"MPa"===n&&(t=xr(t,(e=>(On(e.sv)&&(e.sv/=1e3),On(e.svp)&&(e.svp/=1e3),On(e.svpUsual)&&(e.svpUsual/=1e3),On(e.svpDesign)&&(e.svpDesign/=1e3),e)))),t}};function pc(e,t){if(!Tr(t))try{t=t.toString()}catch(e){}if(!Tr(t))try{t=da(t)}catch(e){}if(!Gr(t))return e.err="",e;let r=ve(e,"err","");return""===r?r=t:r+=`; ${t}`,e.err=r,e}function dc(e){return e=xr(e,(e=>(e.sv="",e.svp="",e.svpUsual="",e.svpDesign="",e)))}function gc(e,t){return!!(null==e?0:e.length)&&pu(e,t,0)>-1}function vc(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var mc=Ut&&1/gt(new Ut([,-0]))[1]==1/0?function(e){return new Ut(e)}:function(){},yc=mc,bc=200;function wc(e){return e&&e.length?function(e,t,r){var n=-1,i=gc,o=e.length,l=!0,u=[],a=u;if(r)l=!1,i=vc;else if(o>=bc){var s=t?null:yc(e);if(s)return gt(s);l=!1,i=st,a=new ut}else a=t?[]:u;e:for(;++n<o;){var f=e[n],c=t?t(f):f;if(f=r||0!==f?f:0,l&&c==c){for(var h=a.length;h--;)if(a[h]===c)continue e;t&&a.push(c),u.push(f)}else i(a,c,r)||(a!==u&&a.push(c),u.push(f))}return u}(e):[]}function $c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"mergeTo");Gr(r)||(r="last");let n=ve(t,"returnLastone");if(An(n)||(n=!0),0===Mn(e))return e;let i=et(ve(e=Xi(e),0));i=ra(i,(e=>e.indexOf("-err")>=0)),i=[...i,"err"];let o=Mn(e)-1;if(ot(i,(t=>{let n=[];if(ot(e,(e=>{if(!Gr(e[t]))return!0;let r=ve(e,"depthStart",""),i=ve(e,"depthEnd","");Br(r)&&(r=nn(r),r=Xa(r,3)),Br(i)&&(i=nn(i),i=Xa(i,3)),n.push(`depth[${r}-${i}]: ${e[t]}`)})),Mn(n)>0){let i=Hn(n,"; ");i=Df(i,"; "),i=wc(i),i=Hn(i,"; "),Mn(i)>1e3&&(i=mf(i,1e3)+"..."),"last"===r?e[o][t]=i:e[0][t]=i}})),n){return ve(e,o)}return e}function Sc(e){return e=xr(e,(e=>{let t=null;Br(ve(e,"FC"))?t=nn(e.FC):Br(ve(e,"ctFine"))?t=nn(e.ctFine):Br(ve(e,"ctSilt"))&&Br(ve(e,"ctClay"))&&(t=nn(e.ctSilt)+nn(e.ctClay)),e.FC=t;let r=null;Br(ve(e,"rd"))?r=nn(e.rd):Br(ve(e,"Gt_dry"))&&(r=nn(e.Gt_dry)),e.rd=r;let n=null;Br(ve(e,"rsat"))?n=nn(e.rsat):Br(ve(e,"Gt_sat"))&&(n=nn(e.Gt_sat)),e.rsat=n;let i=null;Br(ve(e,"N60"))?i=nn(e.N60):Br(ve(e,"SPTN"))&&(i=nn(e.SPTN)),e.N60=i;let o="";return Gr(ve(e,"soilClassification"))?o=e.soilClassification:Gr(ve(e,"USCS"))&&(o=e.USCS),e.soilClassification=o,e})),e}function xc(e,t,r,n,i){return e=xr(e,(e=>(e.PGA=t,e.Mw=r,e.waterLevelUsual=n,e.waterLevelDesign=i,e)))}function Mc(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(0===Mn(e))throw new Error("invalid ltdt");if(0===Mn(t))throw new Error("invalid methods");let n=ve(r,"PGA",""),i=ve(r,"Mw",""),o=!1,l="",u=!1,a="";if(ot(t,(e=>{e.indexOf("JRA")>=0||(u=!0,a=e),o=!0,l=e})),o&&!Br(n))throw new Error(`use method[${l}] but PGA is not a number`);if(u&&!Br(i))throw new Error(`use method[${a}] but Mw is not a number`);let s=ve(r,"waterLevelUsual",0);s=nn(s);let f=ve(r,"waterLevelDesign",0);f=nn(f);let c=ve(r,"unitSvSvp","");Gr(c)||(c="kPa"),e=xc(e=Sc(e=dc(e=Xi(e))),n,i,s,f);let h="";try{let r={unitSvSvp:c,methods:t};e=hc.calc("SPT",e,r)}catch(e){console.log(e),h=e.toString()}let p=$c(e,{returnLastone:!0});return p=pc(p,h),{ltdt:e,dtRes:p}}var Pc=9007199254740991,Ec=4294967295,kc=Math.min;function Oc(e,t){if((e=Du(e))<1||e>Pc)return[];var r=Ec,n=kc(e,Ec);t=it(t),e-=Ec;for(var i=$e(n,t);++r<e;)t(r);return i}function jc(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}var Dc=Array.prototype.splice;var Lc=Nr((function(e,t){return e&&e.length&&t&&t.length?function(e,t,r,n){var i=n?jc:pu,o=-1,l=t.length,u=e;for(e===t&&(t=ii(t)),r&&(u=le(e,Ne(r)));++o<l;)for(var a=0,s=t[o],f=r?r(s):s;(a=i(u,f,a,n))>-1;)u!==e&&Dc.call(u,a,1),Dc.call(e,a,1);return e}(e,t):e})),Cc=Lc;function Rc(e,t){let r=et(ve(e,0));return r=ra(r,(e=>e.indexOf(t)>=0)),r}function qc(e,t,r){let n="",i="",o="",l=ve(e,Mn(e)-1),u=ve(l,t,"");return On(u)?u>=r?(n="",i=`(${u}>=${r}m)`,o=l.PGA):i=`(${u}m)`:(n="",i=`(${t})(${u})`),{state:n,failurePGA:o,msg:i}}function Fc(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!Br(t))throw new Error("PGA is not a number");if(t=nn(t),!to(r))throw new Error(`methods[${r}] is not an effective array`);let i=ve(n,"Mw",""),o=ve(n,"waterLevelUsual",0);o=nn(o);let l=ve(n,"waterLevelDesign",0);l=nn(l);let u=ve(n,"unitSvSvp","");Gr(u)||(u="kPa");let a=ve(n,"pgaMax","");Br(a)||(a=2),a=nn(a);let s=ve(n,"useFS",!0);An(s)||(s=!0);let f=ve(n,"usePL",!0);An(f)||(f=!0);let c=ve(n,"useStl",!0);An(c)||(c=!0);let h=ve(n,"stlLims",[]);to(h)||(h=[.3]);let p=ve(n,"useH1PL",!0);An(p)||(p=!0);let d=Mc(e,r,{PGA:t,Mw:i,waterLevelUsual:o,waterLevelDesign:l,unitSvSvp:u}),g=d.ltdt,v=d.dtRes,m=Rc(g,"-FS"),y=Rc(g,"-PL"),b=Rc(g,"-stlTS"),w=Rc(g,"-stlIY"),$=Rc(g,"-H1PL"),S=e=>Br(e)?e:a;return s&&ot(m,(e=>{let t=function(e,t){let r="",n="",i=1e20,o="";return ot(e,(e=>{let l=ve(e,t,"");return!On(l)||(l<=1?(r="",n=`(${e.depthStart}-${e.depthEnd}m)(FS=${l}<=1)`,o=e.PGA,!1):void(i=Math.min(i,l)))})),""===r&&(n=`(${i})`),{state:r,failurePGA:o,msg:n}}(g,e);v[`${e}-state`]=t.state,v[`${e}-failurePGA`]=S(t.failurePGA),v[`${e}-msg`]=t.msg})),f&&ot(y,(e=>{let t=function(e,t){let r="",n="",i="",o=ve(e,Mn(e)-1),l=ve(o,t,"");return On(l)?l>=15?(r="",n=`(${l}>=15)`,i=o.PGA):n=`(${l})`:(r="",n=`(${t})(${l})`),{state:r,failurePGA:i,msg:n}}(g,e);v[`${e}-state`]=t.state,v[`${e}-failurePGA`]=S(t.failurePGA),v[`${e}-msg`]=t.msg})),c&&ot(h,(e=>{ot(b,(t=>{let r=qc(g,t,e);v[`${t}${e}-state`]=r.state,v[`${t}${e}-failurePGA`]=S(r.failurePGA),v[`${t}${e}-msg`]=r.msg})),ot(w,(t=>{let r=qc(g,t,e);v[`${t}${e}-state`]=r.state,v[`${t}${e}-failurePGA`]=S(r.failurePGA),v[`${t}${e}-msg`]=r.msg}))})),p&&ot($,(e=>{let t=function(e,t){let r="",n="",i="",o=ve(e,Mn(e)-1),l=ve(o,t,"");return"A"!==l&&"B1"!==l&&"B2"!==l&&"B3"!==l&&"C"!==l?(r="",n=`(${t})(${l})['A','B1','B2','B3','C']`):"C"===l?(r="",n=`(${l})`,i=o.PGA):n=`(${l})`,{state:r,failurePGA:i,msg:n}}(g,e);v[`${e}-state`]=t.state,v[`${e}-failurePGA`]=S(t.failurePGA),v[`${e}-msg`]=t.msg})),{ltdt:g,dtRes:v}}function _c(e){return e&&e.length?Xu(e,nt):0}function Ac(e){if(0===e.length)return 0;var t,r=e[0],n=0;if("number"!=typeof r)return Number.NaN;for(var i=1;i<e.length;i++){if("number"!=typeof e[i])return Number.NaN;t=r+e[i],Math.abs(r)>=Math.abs(e[i])?n+=r-t+e[i]:n+=e[i]-t+r,r=t}return r+n}function Nc(e){if(0===e.length)throw new Error("mean requires at least one data point");return Ac(e)/e.length}function Ic(e,t){var r,n,i=Nc(e),o=0;if(2===t)for(n=0;n<e.length;n++)o+=(r=e[n]-i)*r;else for(n=0;n<e.length;n++)o+=Math.pow(e[n]-i,t);return o}function zc(e){if(0===e.length)throw new Error("variance requires at least one data point");return Ic(e,2)/e.length}function Tc(e){if(1===e.length)return 0;var t=zc(e);return Math.sqrt(t)}function Gc(e){if(0===e.length)throw new Error("mode requires at least one data point");if(1===e.length)return e[0];for(var t=e[0],r=Number.NaN,n=0,i=1,o=1;o<e.length+1;o++)e[o]!==t?(i>n&&(n=i,r=t),i=1,t=e[o]):i++;return r}function Uc(e){return e.slice().sort((function(e,t){return e-t}))}function Bc(e){if(0===e.length)throw new Error("min requires at least one data point");for(var t=e[0],r=1;r<e.length;r++)e[r]<t&&(t=e[r]);return t}function Qc(e){if(0===e.length)throw new Error("max requires at least one data point");for(var t=e[0],r=1;r<e.length;r++)e[r]>t&&(t=e[r]);return t}function Hc(e){for(var t=0,r=0;r<e.length;r++){if("number"!=typeof e[r])return Number.NaN;t+=e[r]}return t}function Wc(e,t){var r=e.length*t;if(0===e.length)throw new Error("quantile requires at least one data point.");if(t<0||t>1)throw new Error("quantiles must be between 0 and 1");return 1===t?e[e.length-1]:0===t?e[0]:r%1!=0?e[Math.ceil(r)-1]:e.length%2==0?(e[r-1]+e[r])/2:e[r]}function Vc(e,t,r,n){for(r=r||0,n=n||e.length-1;n>r;){if(n-r>600){var i=n-r+1,o=t-r+1,l=Math.log(i),u=.5*Math.exp(2*l/3),a=.5*Math.sqrt(l*u*(i-u)/i);o-i/2<0&&(a*=-1),Vc(e,t,Math.max(r,Math.floor(t-o*u/i+a)),Math.min(n,Math.floor(t+(i-o)*u/i+a)))}var s=e[t],f=r,c=n;for(Yc(e,r,t),e[n]>s&&Yc(e,r,n);f<c;){for(Yc(e,f,c),f++,c--;e[f]<s;)f++;for(;e[c]>s;)c--}e[r]===s?Yc(e,r,c):Yc(e,++c,n),c<=t&&(r=c+1),t<=c&&(n=c-1)}}function Yc(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function Zc(e,t){var r=e.slice();if(Array.isArray(t)){!function(e,t){for(var r=[0],n=0;n<t.length;n++)r.push(Jc(e.length,t[n]));r.push(e.length-1),r.sort(Xc);var i=[0,r.length-1];for(;i.length;){var o=Math.ceil(i.pop()),l=Math.floor(i.pop());if(!(o-l<=1)){var u=Math.floor((l+o)/2);Kc(e,r[u],Math.floor(r[l]),Math.ceil(r[o])),i.push(l,u,u,o)}}}(r,t);for(var n=[],i=0;i<t.length;i++)n[i]=Wc(r,t[i]);return n}return Kc(r,Jc(r.length,t),0,r.length-1),Wc(r,t)}function Kc(e,t,r,n){t%1==0?Vc(e,t,r,n):(Vc(e,t=Math.floor(t),r,n),Vc(e,t+1,t+1,n))}function Xc(e,t){return e-t}function Jc(e,t){var r=e*t;return 1===t?e-1:0===t?0:r%1!=0?Math.ceil(r)-1:e%2==0?r-.5:r}function eh(e,t){if(t<e[0])return 0;if(t>e[e.length-1])return 1;var r=function(e,t){var r=0,n=0,i=e.length;for(;n<i;)t<=e[r=n+i>>>1]?i=r:n=-~r;return n}(e,t);if(e[r]!==t)return r/e.length;r++;var n=function(e,t){var r=0,n=0,i=e.length;for(;n<i;)t>=e[r=n+i>>>1]?n=-~r:i=r;return n}(e,t);if(n===r)return r/e.length;var i=n-r+1;return i*(n+r)/2/i/e.length}function th(e){var t=Zc(e,.75),r=Zc(e,.25);if("number"==typeof t&&"number"==typeof r)return t-r}function rh(e){return+Zc(e,.5)}function nh(e){for(var t=rh(e),r=[],n=0;n<e.length;n++)r.push(Math.abs(e[n]-t));return rh(r)}function ih(e,t){t=t||Math.random;for(var r,n,i=e.length;i>0;)n=Math.floor(t()*i--),r=e[i],e[i]=e[n],e[n]=r;return e}function oh(e,t){return ih(e.slice(),t)}function lh(e,t,r){return oh(e,r).slice(0,t)}function uh(e,t){for(var r=[],n=0;n<e;n++){for(var i=[],o=0;o<t;o++)i.push(0);r.push(i)}return r}function ah(e){for(var t,r=0,n=0;n<e.length;n++)0!==n&&e[n]===t||(t=e[n],r++);return r}function sh(e,t,r,n){var i;if(e>0){var o=(r[t]-r[e-1])/(t-e+1);i=n[t]-n[e-1]-(t-e+1)*o*o}else i=n[t]-r[t]*r[t]/(t+1);return i<0?0:i}function fh(e,t,r,n,i,o,l){if(!(e>t)){var u=Math.floor((e+t)/2);n[r][u]=n[r-1][u-1],i[r][u]=u;var a=r;e>r&&(a=Math.max(a,i[r][e-1]||0)),a=Math.max(a,i[r-1][u]||0);var s,f,c,h=u-1;t<n[0].length-1&&(h=Math.min(h,i[r][t+1]||0));for(var p=h;p>=a&&!((s=sh(p,u,o,l))+n[r-1][a-1]>=n[r][u]);--p)(f=sh(a,u,o,l)+n[r-1][a-1])<n[r][u]&&(n[r][u]=f,i[r][u]=a),a++,(c=s+n[r-1][p-1])<n[r][u]&&(n[r][u]=c,i[r][u]=p);fh(e,u-1,r,n,i,o,l),fh(u+1,t,r,n,i,o,l)}}function ch(e,t){if(e.length!==t.length)throw new Error("sampleCovariance requires samples with equal lengths");if(e.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var r=Nc(e),n=Nc(t),i=0,o=0;o<e.length;o++)i+=(e[o]-r)*(t[o]-n);return i/(e.length-1)}function hh(e){if(e.length<2)throw new Error("sampleVariance requires at least two data points");return Ic(e,2)/(e.length-1)}function ph(e){var t=hh(e);return Math.sqrt(t)}function dh(e,t){return ch(e,t)/ph(e)/ph(t)}function gh(e,t,r,n){return(e*t+r*n)/(t+n)}function vh(e){if(0===e.length)throw new Error("meanSimple requires at least one data point");return Hc(e)/e.length}function mh(e){if(0===e.length)throw new Error("rootMeanSquare requires at least one data point");for(var t=0,r=0;r<e.length;r++)t+=Math.pow(e[r],2);return Math.sqrt(t/e.length)}var yh=function(){this.totalCount=0,this.data={}};yh.prototype.train=function(e,t){for(var r in this.data[t]||(this.data[t]={}),e){var n=e[r];void 0===this.data[t][r]&&(this.data[t][r]={}),void 0===this.data[t][r][n]&&(this.data[t][r][n]=0),this.data[t][r][n]++}this.totalCount++},yh.prototype.score=function(e){var t,r={};for(var n in e){var i=e[n];for(t in this.data)r[t]={},this.data[t][n]?r[t][n+"_"+i]=(this.data[t][n][i]||0)/this.totalCount:r[t][n+"_"+i]=0}var o={};for(t in r)for(var l in o[t]=0,r[t])o[t]+=r[t][l];return o};var bh=function(){this.weights=[],this.bias=0};bh.prototype.predict=function(e){if(e.length!==this.weights.length)return null;for(var t=0,r=0;r<this.weights.length;r++)t+=this.weights[r]*e[r];return(t+=this.bias)>0?1:0},bh.prototype.train=function(e,t){if(0!==t&&1!==t)return null;e.length!==this.weights.length&&(this.weights=e,this.bias=1);var r=this.predict(e);if("number"==typeof r&&r!==t){for(var n=t-r,i=0;i<this.weights.length;i++)this.weights[i]+=n*e[i];this.bias+=n}return this};var wh=1e-4;function $h(e){if(e<0)throw new Error("factorial requires a non-negative value");if(Math.floor(e)!==e)throw new Error("factorial requires an integer input");for(var t=1,r=2;r<=e;r++)t*=r;return t}var Sh=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],xh=Math.log(Math.sqrt(2*Math.PI));var Mh={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}};var Ph=Math.sqrt(2*Math.PI),Eh={gaussian:function(e){return Math.exp(-.5*e*e)/Ph}},kh={nrd:function(e){var t=ph(e),r=th(e);return"number"==typeof r&&(t=Math.min(t,r/1.34)),1.06*t*Math.pow(e.length,-.2)}};function Oh(e,t,r){var n,i;if(void 0===t)n=Eh.gaussian;else if("string"==typeof t){if(!Eh[t])throw new Error('Unknown kernel "'+t+'"');n=Eh[t]}else n=t;if(void 0===r)i=kh.nrd(e);else if("string"==typeof r){if(!kh[r])throw new Error('Unknown bandwidth method "'+r+'"');i=kh[r](e)}else i=r;return function(t){var r=0,o=0;for(r=0;r<e.length;r++)o+=n((t-e[r])/i);return o/i/e.length}}var jh=Math.sqrt(2*Math.PI);function Dh(e){for(var t=e,r=e,n=1;n<15;n++)t+=r*=e*e/(2*n+1);return Math.round(1e4*(.5+t/jh*Math.exp(-e*e/2)))/1e4}for(var Lh=[],Ch=0;Ch<=3.09;Ch+=.01)Lh.push(Dh(Ch));function Rh(e){var t=1/(1+.5*Math.abs(e)),r=t*Math.exp(-e*e+((((((((.17087277*t-.82215223)*t+1.48851587)*t-1.13520398)*t+.27886807)*t-.18628806)*t+.09678418)*t+.37409196)*t+1.00002368)*t-1.26551223);return e>=0?1-r:r-1}function qh(e){var t=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),r=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*t)+Math.log(1-e*e)/2,2)-Math.log(1-e*e)/t)-(2/(Math.PI*t)+Math.log(1-e*e)/2));return e>=0?r:-r}function Fh(e){if("number"==typeof e)return e<0?-1:0===e?0:1;throw new TypeError("not a number")}function _h(e,t){for(var r=0,n=0;n<e.length;n++){var i=e[n]-t[n];r+=i*i}return Math.sqrt(r)}function Ah(e,t){return e.map((function(e){for(var r=Number.MAX_VALUE,n=-1,i=0;i<t.length;i++){var o=_h(e,t[i]);o<r&&(r=o,n=i)}return n}))}function Nh(e,t,r){for(var n=e[0].length,i=uh(r,n),o=Array(r).fill(0),l=e.length,u=0;u<l;u++){for(var a=e[u],s=t[u],f=i[s],c=0;c<n;c++)f[c]+=a[c];o[s]+=1}for(var h=0;h<r;h++){if(0===o[h])throw new Error("Centroid "+h+" has no friends");for(var p=i[h],d=0;d<n;d++)p[d]/=o[h]}return i}function Ih(e,t){for(var r=0,n=0;n<e.length;n++)r+=_h(e[n],t[n]);return r}function zh(e,t){if(e.length!==t.length)throw new Error("must have exactly as many labels as points");for(var r=function(e){for(var t=1+Qc(e),r=Array(t),n=0;n<e.length;n++){var i=e[n];void 0===r[i]&&(r[i]=[]),r[i].push(n)}return r}(t),n=function(e){for(var t=e.length,r=uh(t,t),n=0;n<t;n++)for(var i=0;i<n;i++)r[n][i]=_h(e[n],e[i]),r[i][n]=r[n][i];return r}(e),i=[],o=0;o<e.length;o++){var l=0;if(r[t[o]].length>1){var u=Gh(o,r[t[o]],n),a=Th(o,t,r,n);l=(a-u)/Math.max(u,a)}i.push(l)}return i}function Th(e,t,r,n){for(var i=t[e],o=Number.MAX_VALUE,l=0;l<r.length;l++)if(l!==i){var u=Gh(e,r[l],n);u<o&&(o=u)}return o}function Gh(e,t,r){for(var n=0,i=0;i<t.length;i++)n+=r[e][t[i]];return n/t.length}function Uh(e,t){return 0===e&&0===t?0:Math.abs((e-t)/t)}var Bh=Object.freeze({__proto__:null,BayesianClassifier:yh,PerceptronModel:bh,addToMean:function(e,t,r){return e+(r-e)/(t+1)},approxEqual:function(e,t,r){return void 0===r&&(r=wh),Uh(e,t)<=r},average:Nc,averageSimple:vh,bayesian:yh,bernoulliDistribution:function(e){if(e<0||e>1)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-e,e]},binomialDistribution:function(e,t){if(!(t<0||t>1||e<=0||e%1!=0)){var r=0,n=0,i=[],o=1;do{i[r]=o*Math.pow(t,r)*Math.pow(1-t,e-r),n+=i[r],o=o*(e-++r+1)/r}while(n<1-wh);return i}},bisect:function(e,t,r,n,i){if("function"!=typeof e)throw new TypeError("func must be a function");for(var o=0;o<n;o++){var l=(t+r)/2;if(0===e(l)||Math.abs((r-t)/2)<i)return l;Fh(e(l))===Fh(e(t))?t=l:r=l}throw new Error("maximum number of iterations exceeded")},chiSquaredDistributionTable:Mh,chiSquaredGoodnessOfFit:function(e,t,r){for(var n=0,i=t(Nc(e)),o=[],l=[],u=0;u<e.length;u++)void 0===o[e[u]]&&(o[e[u]]=0),o[e[u]]++;for(var a=0;a<o.length;a++)void 0===o[a]&&(o[a]=0);for(var s in i)s in o&&(l[+s]=i[s]*e.length);for(var f=l.length-1;f>=0;f--)l[f]<3&&(l[f-1]+=l[f],l.pop(),o[f-1]+=o[f],o.pop());for(var c=0;c<o.length;c++)n+=Math.pow(o[c]-l[c],2)/l[c];var h=o.length-1-1;return Mh[h][r]<n},chunk:function(e,t){var r=[];if(t<1)throw new Error("chunk size must be a positive number");if(Math.floor(t)!==t)throw new Error("chunk size must be an integer");for(var n=0;n<e.length;n+=t)r.push(e.slice(n,n+t));return r},ckmeans:function(e,t){if(t>e.length)throw new Error("cannot generate more classes than there are data values");var r=Uc(e);if(1===ah(r))return[r];var n=uh(t,r.length),i=uh(t,r.length);!function(e,t,r){for(var n=t[0].length,i=e[Math.floor(n/2)],o=[],l=[],u=0,a=void 0;u<n;++u)a=e[u]-i,0===u?(o.push(a),l.push(a*a)):(o.push(o[u-1]+a),l.push(l[u-1]+a*a)),t[0][u]=sh(0,u,o,l),r[0][u]=0;for(var s=1;s<t.length;++s)fh(s<t.length-1?s:n-1,n-1,s,t,r,o,l)}(r,n,i);for(var o=[],l=i[0].length-1,u=i.length-1;u>=0;u--){var a=i[u][l];o[u]=r.slice(a,l+1),u>0&&(l=a-1)}return o},coefficientOfVariation:function(e){return ph(e)/Nc(e)},combinations:function e(t,r){var n,i,o,l,u=[];for(n=0;n<t.length;n++)if(1===r)u.push([t[n]]);else for(o=e(t.slice(n+1,t.length),r-1),i=0;i<o.length;i++)(l=o[i]).unshift(t[n]),u.push(l);return u},combinationsReplacement:function e(t,r){for(var n=[],i=0;i<t.length;i++)if(1===r)n.push([t[i]]);else for(var o=e(t.slice(i,t.length),r-1),l=0;l<o.length;l++)n.push([t[i]].concat(o[l]));return n},combineMeans:gh,combineVariances:function(e,t,r,n,i,o){var l=gh(t,r,i,o);return(r*(e+Math.pow(t-l,2))+o*(n+Math.pow(i-l,2)))/(r+o)},cumulativeStdLogisticProbability:function(e){return 1/(Math.exp(-e)+1)},cumulativeStdNormalProbability:function(e){var t=Math.abs(e),r=Math.min(Math.round(100*t),Lh.length-1);return e>=0?Lh[r]:Math.round(1e4*(1-Lh[r]))/1e4},epsilon:wh,equalIntervalBreaks:function(e,t){if(e.length<2)return e;for(var r=Bc(e),n=Qc(e),i=[r],o=(n-r)/t,l=1;l<t;l++)i.push(i[0]+o*l);return i.push(n),i},erf:Rh,errorFunction:Rh,extent:function(e){if(0===e.length)throw new Error("extent requires at least one data point");for(var t=e[0],r=e[0],n=1;n<e.length;n++)e[n]>r&&(r=e[n]),e[n]<t&&(t=e[n]);return[t,r]},extentSorted:function(e){return[e[0],e[e.length-1]]},factorial:$h,gamma:function e(t){if(Number.isInteger(t))return t<=0?Number.NaN:$h(t-1);if(--t<0)return Math.PI/(Math.sin(Math.PI*-t)*e(-t));var r=t+1/4;return Math.pow(t/Math.E,t)*Math.sqrt(2*Math.PI*(t+1/6))*(1+1/144/Math.pow(r,2)-1/12960/Math.pow(r,3)-257/207360/Math.pow(r,4)-52/2612736/Math.pow(r,5)+5741173/9405849600/Math.pow(r,6)+37529/18811699200/Math.pow(r,7))},gammaln:function(e){if(e<=0)return Number.POSITIVE_INFINITY;e--;for(var t=Sh[0],r=1;r<15;r++)t+=Sh[r]/(e+r);var n=5.2421875+e;return xh+Math.log(t)-n+(e+.5)*Math.log(n)},geometricMean:function(e){if(0===e.length)throw new Error("geometricMean requires at least one data point");for(var t=1,r=0;r<e.length;r++){if(e[r]<0)throw new Error("geometricMean requires only non-negative numbers as input");t*=e[r]}return Math.pow(t,1/e.length)},harmonicMean:function(e){if(0===e.length)throw new Error("harmonicMean requires at least one data point");for(var t=0,r=0;r<e.length;r++){if(e[r]<=0)throw new Error("harmonicMean requires only positive numbers as input");t+=1/e[r]}return e.length/t},interquartileRange:th,inverseErrorFunction:qh,iqr:th,jenks:function(e,t){if(t>e.length)return null;var r=function(e,t){var r,n,i=[],o=[],l=0;for(r=0;r<e.length+1;r++){var u=[],a=[];for(n=0;n<t+1;n++)u.push(0),a.push(0);i.push(u),o.push(a)}for(r=1;r<t+1;r++)for(i[1][r]=1,o[1][r]=0,n=2;n<e.length+1;n++)o[n][r]=Number.POSITIVE_INFINITY;for(var s=2;s<e.length+1;s++){for(var f=0,c=0,h=0,p=0,d=1;d<s+1;d++){var g=s-d+1,v=e[g-1];if(l=(c+=v*v)-(f+=v)*f/++h,0!=(p=g-1))for(n=2;n<t+1;n++)o[s][n]>=l+o[p][n-1]&&(i[s][n]=g,o[s][n]=l+o[p][n-1])}i[s][1]=1,o[s][1]=l}return{lowerClassLimits:i,varianceCombinations:o}}(e=e.slice().sort((function(e,t){return e-t})),t);return function(e,t,r){var n=e.length,i=[],o=r;for(i[r]=e[e.length-1];o>0;)i[o-1]=e[t[n][o]-1],n=t[n][o]-1,o--;return i}(e,r.lowerClassLimits,t)},kMeansCluster:function(e,t,r){void 0===r&&(r=Math.random);for(var n=null,i=lh(e,t,r),o=null,l=Number.MAX_VALUE;0!==l;)n=i,l=Ih(i=Nh(e,o=Ah(e,i),t),n);return{labels:o,centroids:i}},kde:Oh,kernelDensityEstimation:Oh,linearRegression:function(e){var t,r,n=e.length;if(1===n)t=0,r=e[0][1];else{for(var i,o,l,u=0,a=0,s=0,f=0,c=0;c<n;c++)u+=o=(i=e[c])[0],a+=l=i[1],s+=o*o,f+=o*l;r=a/n-(t=(n*f-u*a)/(n*s-u*u))*u/n}return{m:t,b:r}},linearRegressionLine:function(e){return function(t){return e.b+e.m*t}},logAverage:function(e){if(0===e.length)throw new Error("logAverage requires at least one data point");for(var t=0,r=0;r<e.length;r++){if(e[r]<0)throw new Error("logAverage requires only non-negative numbers as input");t+=Math.log(e[r])}return Math.exp(t/e.length)},logit:function(e){if(e<=0||e>=1)throw new Error("p must be strictly between zero and one");return Math.log(e/(1-e))},mad:nh,max:Qc,maxSorted:function(e){return e[e.length-1]},mean:Nc,meanSimple:vh,median:rh,medianAbsoluteDeviation:nh,medianSorted:function(e){return Wc(e,.5)},min:Bc,minSorted:function(e){return e[0]},mode:function(e){return Gc(Uc(e))},modeFast:function(e){for(var t,r=new Map,n=0,i=0;i<e.length;i++){var o=r.get(e[i]);void 0===o?o=1:o++,o>n&&(t=e[i],n=o),r.set(e[i],o)}if(0===n)throw new Error("mode requires at last one data point");return t},modeSorted:Gc,numericSort:Uc,perceptron:bh,permutationTest:function(e,t,r,n,i){if(void 0===n&&(n=1e4),void 0===r&&(r="two_side"),"two_side"!==r&&"greater"!==r&&"less"!==r)throw new Error("`alternative` must be either 'two_side', 'greater', or 'less'.");for(var o=Nc(e)-Nc(t),l=new Array(n),u=e.concat(t),a=Math.floor(u.length/2),s=0;s<n;s++){ih(u,i);var f=u.slice(0,a),c=u.slice(a,u.length),h=Nc(f)-Nc(c);l[s]=h}var p=0;if("two_side"===r)for(var d=0;d<=n;d++)Math.abs(l[d])>=Math.abs(o)&&(p+=1);else if("greater"===r)for(var g=0;g<=n;g++)l[g]>=o&&(p+=1);else for(var v=0;v<=n;v++)l[v]<=o&&(p+=1);return p/n},permutationsHeap:function(e){for(var t=new Array(e.length),r=[e.slice()],n=0;n<e.length;n++)t[n]=0;for(var i=0;i<e.length;)if(t[i]<i){var o=0;i%2!=0&&(o=t[i]);var l=e[o];e[o]=e[i],e[i]=l,r.push(e.slice()),t[i]++,i=0}else t[i]=0,i++;return r},poissonDistribution:function(e){if(!(e<=0)){var t=0,r=0,n=[],i=1;do{n[t]=Math.exp(-e)*Math.pow(e,t)/i,r+=n[t],i*=++t}while(r<1-wh);return n}},probit:function(e){return 0===e?e=wh:e>=1&&(e=1-wh),Math.sqrt(2)*qh(2*e-1)},product:function(e){for(var t=1,r=0;r<e.length;r++)t*=e[r];return t},quantile:Zc,quantileRank:function(e,t){return eh(Uc(e),t)},quantileRankSorted:eh,quantileSorted:Wc,quickselect:Vc,rSquared:function(e,t){if(e.length<2)return 1;for(var r=0,n=0;n<e.length;n++)r+=e[n][1];for(var i=r/e.length,o=0,l=0;l<e.length;l++)o+=Math.pow(i-e[l][1],2);for(var u=0,a=0;a<e.length;a++)u+=Math.pow(e[a][1]-t(e[a][0]),2);return 1-u/o},relativeError:Uh,rms:mh,rootMeanSquare:mh,sample:lh,sampleCorrelation:dh,sampleCovariance:ch,sampleKurtosis:function(e){var t=e.length;if(t<4)throw new Error("sampleKurtosis requires at least four data points");for(var r,n=Nc(e),i=0,o=0,l=0;l<t;l++)i+=(r=e[l]-n)*r,o+=r*r*r*r;return(t-1)/((t-2)*(t-3))*(t*(t+1)*o/(i*i)-3*(t-1))},sampleRankCorrelation:function(e,t){for(var r=e.map((function(e,t){return[e,t]})).sort((function(e,t){return e[0]-t[0]})).map((function(e){return e[1]})),n=t.map((function(e,t){return[e,t]})).sort((function(e,t){return e[0]-t[0]})).map((function(e){return e[1]})),i=Array(r.length),o=Array(r.length),l=0;l<r.length;l++)i[r[l]]=l,o[n[l]]=l;return dh(i,o)},sampleSkewness:function(e){if(e.length<3)throw new Error("sampleSkewness requires at least three data points");for(var t,r=Nc(e),n=0,i=0,o=0;o<e.length;o++)n+=(t=e[o]-r)*t,i+=t*t*t;var l=e.length-1,u=Math.sqrt(n/l),a=e.length;return a*i/((a-1)*(a-2)*Math.pow(u,3))},sampleStandardDeviation:ph,sampleVariance:hh,sampleWithReplacement:function(e,t,r){if(0===e.length)return[];r=r||Math.random;for(var n=e.length,i=[],o=0;o<t;o++){var l=Math.floor(r()*n);i.push(e[l])}return i},shuffle:oh,shuffleInPlace:ih,sign:Fh,silhouette:zh,silhouetteMetric:function(e,t){return Qc(zh(e,t))},standardDeviation:Tc,standardNormalTable:Lh,subtractFromMean:function(e,t,r){return(e*t-r)/(t-1)},sum:Ac,sumNthPowerDeviations:Ic,sumSimple:Hc,tTest:function(e,t){return(Nc(e)-t)/(Tc(e)/Math.sqrt(e.length))},tTestTwoSample:function(e,t,r){var n=e.length,i=t.length;if(!n||!i)return null;r||(r=0);var o=Nc(e),l=Nc(t),u=hh(e),a=hh(t);if("number"==typeof o&&"number"==typeof l&&"number"==typeof u&&"number"==typeof a){var s=((n-1)*u+(i-1)*a)/(n+i-2);return(o-l-r)/Math.sqrt(s*(1/n+1/i))}},uniqueCountSorted:ah,variance:zc,wilcoxonRankSum:function(e,t){if(!e.length||!t.length)throw new Error("Neither sample can be empty");for(var r=e.map((function(e){return{label:"x",value:e}})).concat(t.map((function(e){return{label:"y",value:e}}))).sort((function(e,t){return e.value-t.value})),n=0;n<r.length;n++)r[n].rank=n;for(var i=[r[0].rank],o=1;o<r.length;o++)r[o].value===r[o-1].value?(i.push(r[o].rank),o===r.length-1&&l(r,i)):i.length>1?l(r,i):i=[r[o].rank];function l(e,t){for(var r=(t[0]+t[t.length-1])/2,n=0;n<t.length;n++)e[t[n]].rank=r}for(var u=0,a=0;a<r.length;a++){var s=r[a];"x"===s.label&&(u+=s.rank+1)}return u},zScore:function(e,t,r){return(e-t)/r}});let Qh=ve(Hh=Bh,"default.default")?Hh.default.default:ve(Hh,"default")?Hh.default:Hh;var Hh;function Wh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"interpX");Br(r)||(r=null);let n=ve(t,"useRegIntercept");An(n)||(n=!0);let i=ve(t,"useSync");An(i)||(i=!1);let o=()=>{if(!to(e))throw new Error("arr is not an effective array");let t=[];if(ot(e,(e=>{let r=ve(e,0),n=ve(e,1);Br(r)&&Br(n)&&t.push([nn(r),nn(n)])})),0===Mn(t))throw new Error("no effective data");let i=null;if(n)i=Qh.linearRegression(t);else{let e=0,r=0;ot(t,(t=>{e+=t[0]**2,r+=t[0]*t[1]}));let n=null;0!==e&&(n=r/e),i={m:n,b:0}}if(Br(r)){r=nn(r);let e=Qh.linearRegressionLine(i)(r);i.interpY=e}return i};return i?o():(async()=>{let e=null;try{return e=o(),ju(e)?e:Promise.reject("no effective data")}catch(e){return console.log(e),Promise.reject(e.message)}})()}async function Vh(e,t){if(!pf(e))return Promise.reject(`n[${e}] is not positive integer`);if((e=_u(e))<=1)return Promise.reject(`n[${e}] <= 1`);if(Br(t)||(t=.95),(t=nn(t))<0)return Promise.reject(`p[${t}] < 0`);if(t>1)return Promise.reject(`p[${t}] > 1`);let r=e-1;return la.studentt.inv(t,r)}function Yh(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i={};function o(){let n,o,l,u=!1;return On(e)&&On(r)&&e<=r&&(i.ck_LL_PL=`[${e}]<=[${r}]`),On(e)&&On(t)&&(n=e-t),On(n)&&(On(r)?n<=0?i.ck_PL=`[${n}]<=0`:n>=100?i.ck_PL=`[${n}]>=100`:Math.abs(r-n)>n/100*5&&(i.ck_PL=`[${r}][${n}]`):(r=n,u=!0)),On(e)&&On(r)&&(o=e-r),On(o)&&(On(t)?o<=0?i.ck_PI=`[${o}]<=0`:o>=100?i.ck_PI=`[${o}]>=100`:Math.abs(t-o)>o/100*5&&(i.ck_PI=`[${t}][${o}]`):(t=o,u=!0)),On(r)&&On(t)&&(l=r+t),On(l)&&(On(e)?l<=0?i.ck_LL=`[${l}]<=0`:l>=100?i.ck_LL=`[${l}]>=100`:Math.abs(e-l)>l/100*5&&(i.ck_LL=`[${e}][${l}]`):(e=l,u=!0)),u}Br(e)?(e=nn(e))<=0&&(i.LL=`[${e}]<=0`):e=null,Br(r)?(r=nn(r))<=0&&(i.PL=`[${r}]<=0`):r=null,Br(t)?(t=nn(t))<=0&&(i.PI=`[${t}]<=0`):t=null;let l=0;if(l+=Br(e)?1:0,l+=Br(r)?1:0,l+=Br(t)?1:0,l>=2){let e=o();for(;e;)e=o()}let u=null,a=null;if(Br(n)&&Br(r)&&Br(e)&&t>0){if(n=nn(n),u=(n-r)/t,a=(e-n)/t,!Br(u))throw console.log("WC",n),console.log("PL",r),new Error(`LI[${u}]`);if(!Br(a))throw console.log("WC",n),console.log("LL",e),new Error(`CI[${a}]`)}let s={LL:e,PL:r,PI:t,WC:n,LI:u,CI:a};if(ju(i)){let e=Hn(Cf(i),", ");s.err=e}return s}function Zh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Kh(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zh(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Xh(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Yh(ve(e,"LL",null),ve(e,"PI",null),ve(e,"PL",null),ve(e,"WC",null),t);return e=Kh(Kh({},e),r)}function Jh(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ep(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jh(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jh(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function rp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?tp(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function np(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Hf(ve(e,"rd",null),ve(e,"rsat",null),ve(e,"GS",null),ve(e,"e",null),t);return e=rp(rp({},e),r)}function ip(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function op(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ip(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ip(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function lp(e,t,r,n){let i=null;Br(e)&&Br(t)&&(i=(e=nn(e))+(t=nn(t)));let o=null;return Br(r)&&Br(n)&&(o=(r=nn(r))+(n=nn(n))),{ctGravel:e,ctSand:t,ctSilt:r,ctClay:n,ctCoarse:i,ctFine:o}}function up(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ap(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?up(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):up(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function sp(e){let t=lp(ve(e,"ctGravel",null),ve(e,"ctSand",null),ve(e,"ctSilt",null),ve(e,"ctClay",null));return e=ap(ap({},e),t)}function fp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fp(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function hp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];if(!to(e))return r;let n=ve(t,"keyDepth");return Gr(n)||(n="depth"),ot(e=Xi(e),((e,t)=>{let i=ve(e,n,null);Br(i)||r.push(` ${t} ${n}[${i}]`)})),Mn(r)>0||ot(e=zr(e,(e=>nn(e[n]))),((t,i)=>{if(0===i)return!0;let o=ve(e,`${i-1}.${n}`,null),l=ve(t,n,null);o=nn(o),l=nn(l),Tl(o,">=",l)&&r.push(` ${i-1} ${n}[${o}] ${i} ${n}[${l}]`)})),r}function pp(e,t,r){return null==e?e:function(e,t,r,n){if(!$(e))return e;for(var i=-1,o=(t=he(t,e)).length,l=o-1,u=e;null!=u&&++i<o;){var a=de(t[i]),s=r;if("__proto__"===a||"constructor"===a||"prototype"===a)return e;if(i!=l){var f=u[a];void 0===(s=n?n(f,a,u):void 0)&&(s=$(f)?f:qe(t[i+1])?[]:{})}Yn(u,a,s),u=u[a]}return e}(e,t,r)}function dp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gp(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dp(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dp(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function vp(e,t,r){let n=ve(e,`${r}.${t}`);return n=Br(n)?nn(n):null,n}function mp(e,t,r,n,i,o){let l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},u=ve(l,"dir");"before"!==u&&"after"!==u&&(u="after");let a=ve(l,"searchMode");if("all"!==a&&"no"!==a&&"peak"!==a&&"half-closed-value"!==a&&"double-closed-value"!==a&&"closed-value"!==a&&(a="all"),0===Mn(e))return null;if("no"===a)return{k:n,depth:ve(e,`${n}.${t}`),value:ve(e,`${n}.${r}`)};if(!Br(o))return{k:n,depth:ve(e,`${n}.${t}`),value:ve(e,`${n}.${r}`)};let s=vp(e,t,n),f=[];if("after"===u)for(let o=n+1;o<Mn(e)-1;o++){let n=vp(e,t,o),l=vp(e,r,o),u=Math.abs(n-s)>i;f.push({k:o,depth:n,value:l,outRange:u})}else for(let o=n-1;o>0;o--){let n=vp(e,t,o),l=vp(e,r,o),u=Math.abs(n-s)>i;f.push({k:o,depth:n,value:l,outRange:u})}let c=[];for(let e=0;e<f.length;e++){let t=f[e];if(On(t.depth)){if(t.outRange&&Mn(c)>0)break;On(t.value)&&c.push(t)}}if(0===Mn(c))return null;if("all"===a||"peak"===a)for(let e=1;e<c.length-1;e++){let t=c[e-1],r=c[e+0],n=c[e+1],i=1;if(0!==o&&(i=r.value/o),r.value>=t.value&&r.value>=n.value&&t.value!==n.value&&i>.5&&i<2)return{k:r.k,depth:r.depth,value:r.value}}if("all"===a||"closed-value"===a){let e=1e20,t=null;for(let r=0;r<c.length;r++){let n=c[r+0];if(n.outRange)break;let i=Math.abs(n.value-o);e>i&&(e=i,t={k:n.k,depth:n.depth,value:n.value})}if(null!==t)return t}let h=null;if("all"===a||"half-closed-value"===a){let e=1e20,t=null;for(let r=0;r<c.length;r++){let n=c[r+0],i=Math.abs(n.value-o/2);e>i&&(e=i,t={diff:e,k:n.k,depth:n.depth,value:n.value})}null!==t&&(h=t)}let p=null;if("all"===a||"double-closed-value"===a){let e=1e20,t=null;for(let r=0;r<c.length;r++){let n=c[r+0],i=Math.abs(n.value-1.5*o);e>i&&(e=i,t={diff:e,k:n.k,depth:n.depth,value:n.value})}null!==t&&(p=t)}if(null!==h&&null===p)return delete h.diff,h;if(null===h&&null!==p)return delete p.diff,p;if(null===h&&null===p){let e=null;return e=h.diff<=p.diff?h:p,delete e.diff,e}return null}var yp=1/0;function bp(e){return(null==e?0:e.length)?Er(e,yp):[]}function wp(e,t){let r=function(){let e,t,r=new Promise((function(){e=arguments[0],t=arguments[1]}));return r.resolve=e,r.reject=t,r}();if(!jn(e)&&!Ji(e))return r.reject("rs is not an array or object"),r;let n=!1;if(Ji(e)){n=!0;let t=[];ot(e,((e,r)=>{t.push({k:r,v:e})})),e=t}Ou(t)||(t=function(e){return e});let i=-1,o=[];return e.reduce((function(e,r){return e.then((function(e){o.push(e),i+=1;let l=i,u=r;return n&&(l=r.k,u=r.v),Ou(t)?t(u,l):u}))}),Promise.resolve()).then((function(e){o.push(e),o=df(o),r.resolve(o)})).catch((function(e){r.reject(e)})),r}function $p(e){return ce(e).toUpperCase()}function Sp(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Gr(e)&&Ku(t)?(r=pf(r)?_u(r):1,e.substring(t,t+r)):""}let xp={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};function Mp(e){return Ep(e,1)}function Pp(e){return Ep(e,360)}function Ep(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e.indexOf("%")>=0){if(!Br(e=jf(e,"%","")))throw new Error("invalid color: value is not a number");e=nn(e)/100}else{if(!Br(e))throw new Error("invalid color: value is not a number");e=nn(e)/t}if(e>1)throw new Error("invalid color: value > 1");if(e<0)throw new Error("invalid color: value < 0");return e}function kp(e){if(!Br(e))throw new Error("invalid color: value is not a number");if((e=nn(e))>1)throw new Error("invalid color: value > 1");if(e<0)throw new Error("invalid color: value < 0");return e}function Op(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"rgba";if(!jn(e))throw new Error("invalid colors array");let r=ve(e,0,0),n=ve(e,1,0),i=ve(e,2,0),o=ve(e,3,1);if(t=t.split(""),4!==Mn(t))throw new Error("tar.length !== 4");return{[ve(t,0)]:r,[ve(t,1)]:n,[ve(t,2)]:i,[ve(t,3)]:o}}function jp(e){let t=(e=vf(e,1)).length;if(2===t)e=`${e}${e}${e}ff`;else if(3===t){let t=Sp(e,0,1),r=Sp(e,1,1),n=Sp(e,2,1);e=`${t}${t}${r}${r}${n}${n}ff`}else if(6===t)e=`${e}ff`;else if(8!==t)throw new Error("invalid hex color");function r(e){if(2!==e.length)throw new Error("hex.length of color is not equal to 2");if(!Br(e=parseInt(e,16)))throw new Error("invalid hex of color");return(e=nn(e))/255}return{r:r(Sp(e,0,2)),g:r(Sp(e,2,2)),b:r(Sp(e,4,2)),a:r(Sp(e,6,2))}}function Dp(e){return e=Op(e=xr(e,((e,t)=>t<=2?Ep(e,255):3===t?kp(e):null)),"rgba")}function Lp(e){return e=Ip(e=Op(e=xr(e,((e,t)=>0===t?Pp(e):1===t||2===t?Mp(e):3===t?kp(e):null)),"hsla"))}function Cp(e){return e=zp(e=Op(e=xr(e,((e,t)=>0===t?Pp(e):1===t||2===t?Mp(e):3===t?kp(e):null)),"hsva"))}function Rp(e){if("transparent"===e)return{r:0,g:0,b:0,a:0};if(function(e){return ba(xp,e)}(e))return e=function(e){return`#${xp[e]}`}(e),jp(e);if(function(e){return"#"===mf(e,1)&&(!!/[0-9A-Fa-f]{2}/g.test(e)||(!!/[0-9A-Fa-f]{3}/g.test(e)||(!!/[0-9A-Fa-f]{6}/g.test(e)||!!/[0-9A-Fa-f]{8}/g.test(e))))}(e))return jp(e);if(function(e){return"rgb"===mf(e,3)||"rgba"===mf(e,4)}(e))return function(e){return e=jf(e,"rgba",""),e=jf(e,"rgb",""),Dp(Df(e=jf(e=e.replace(/[()]/g,""),","," ")," "))}(e);if(function(e){return"hsl"===mf(e,3)||"hsla"===mf(e,4)}(e))return function(e){return e=jf(e,"hsla",""),e=jf(e,"hsl",""),Lp(Df(e=jf(e=e.replace(/[()]/g,""),","," ")," "))}(e);if(function(e){return"hsv"===mf(e,3)||"hsva"===mf(e,4)}(e))return function(e){return e=jf(e,"hsva",""),e=jf(e,"hsv",""),Cp(Df(e=jf(e=e.replace(/[()]/g,""),","," ")," "))}(e);throw new Error("format of color string is not hex-color, name-color, rgba, hsla, hsva")}function qp(e,t){return!!ba(e,t=Pf(t))||!!ba(e,t=$p(t))}function Fp(e,t,r){let n;return n=ve(e,t,null),null!==n?n:(n=ve(e,t=$p(t),null),null!==n?n:r)}function _p(e){if(function(e){let t=qp(e,"r"),r=qp(e,"g"),n=qp(e,"b");return t&&r&&n}(e))return function(e){let t=[Fp(e,"r",null),Fp(e,"g",null),Fp(e,"b",null),Fp(e,"a",1)];return t=xr(t,da),Dp(t)}(e);if(function(e){let t=qp(e,"h"),r=qp(e,"s"),n=qp(e,"l");return t&&r&&n}(e))return function(e){let t=[Fp(e,"h",null),Fp(e,"s",null),Fp(e,"l",null),Fp(e,"a",1)];return t=xr(t,da),Lp(t)}(e);if(function(e){let t=qp(e,"h"),r=qp(e,"s"),n=qp(e,"v");return t&&r&&n}(e))return function(e){let t=[Fp(e,"h",null),Fp(e,"s",null),Fp(e,"v",null),Fp(e,"a",1)];return t=xr(t,da),Cp(t)}(e);throw new Error("color object is not one of rgba, hsla, hsva")}function Ap(e){let t,r,n=e.r,i=e.g,o=e.b,l=Math.max(n,i,o),u=Math.min(n,i,o),a=(l+u)/2;if(l===u)t=r=0;else{let e=l-u;switch(r=a>.5?e/(2-l-u):e/(l+u),l){case n:t=(i-o)/e+(i<o?6:0);break;case i:t=(o-n)/e+2;break;case o:t=(n-i)/e+4}t/=6}return{h:t,s:r,l:a,a:e.a}}function Np(e){let t,r,n=e.r,i=e.g,o=e.b,l=Math.max(n,i,o),u=Math.min(n,i,o),a=l,s=l-u;if(r=0===l?0:s/l,l===u)t=0;else{switch(l){case n:t=(i-o)/s+(i<o?6:0);break;case i:t=(o-n)/s+2;break;case o:t=(n-i)/s+4}t/=6}return{h:t,s:r,v:a,a:e.a}}function Ip(e){let t,r,n,i=e.h,o=e.s,l=e.l;function u(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(0===o)t=r=n=l;else{let e=l<.5?l*(1+o):l+o-l*o,a=2*l-e;t=u(a,e,i+1/3),r=u(a,e,i),n=u(a,e,i-1/3)}return{r:t,g:r,b:n,a:e.a}}function zp(e){let t,r,n,i=e.h,o=e.s,l=e.v,u=Math.floor(6*i),a=6*i-u,s=l*(1-o),f=l*(1-a*o),c=l*(1-(1-a)*o);switch(u%6){case 0:t=l,r=c,n=s;break;case 1:t=f,r=l,n=s;break;case 2:t=s,r=l,n=c;break;case 3:t=s,r=f,n=l;break;case 4:t=c,r=s,n=l;break;case 5:t=l,r=s,n=f}return{r:t,g:r,b:n,a:e.a}}function Tp(e){let t=Math.round(255*e).toString(16);if(1===t.length)return`0${t}`;if(2===t.length)return t;throw new Error("invalid value")}function Gp(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.r,n=e.g,i=e.b,o=e.a,l=`${Tp(r)}${Tp(n)}${Tp(i)}`;return t&&(l=`${l}${Tp(o)}`),l}function Up(e){return Math.min(1,Math.max(0,e))}function Bp(e,t){if(!Gr(t))throw new Error("fmtOutput is not a string");if(!Md[t])throw console.log(`fmtOutput must be [${et(Md)}]`),new Error("invalid fmtOutput");return e=Md[t](e)}function Qp(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(t<0||t>1)throw new Error("amount < 0 or > 1");let n=Ap(e);return n.h+=t,n.h=n.h%1,Bp(Ip(n),r)}function Hp(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"toRgbString";if(t<0||t>1)throw new Error("w1 < 0 or > 1");if(n<0||n>1)throw new Error("w1 < 0 or > 1");return Bp({r:e.r*t+r.r*n,g:e.g*t+r.g*n,b:e.b*t+r.b*n,a:e.a*t+r.a*n},i)}function Wp(e){return`${Fu(100*e,1)}%`}function Vp(e){return Fu(e,0)}function Yp(e){return Fu(e,3)}function Zp(e){return{r:Vp(255*e.r),g:Vp(255*e.g),b:Vp(255*e.b)}}function Kp(e){return`rgb(${Vp(255*e.r)}, ${Vp(255*e.g)}, ${Vp(255*e.b)})`}function Xp(e){return{r:Vp(255*e.r),g:Vp(255*e.g),b:Vp(255*e.b),a:Yp(e.a)}}function Jp(e){return`rgba(${Vp(255*e.r)}, ${Vp(255*e.g)}, ${Vp(255*e.b)}, ${Yp(e.a)})`}function ed(e){let t=Ap(e);return{h:Vp(360*t.h),s:Yp(t.s),l:Yp(t.l)}}function td(e){let t=Ap(e);return`hsl(${Vp(360*t.h)}, ${Yp(t.s)}, ${Yp(t.l)})`}function rd(e){let t=Ap(e);return{h:Vp(360*t.h),s:Yp(t.s),l:Yp(t.l),a:Yp(t.a)}}function nd(e){let t=Ap(e);return`hsla(${Vp(360*t.h)}, ${Yp(t.s)}, ${Yp(t.l)}, ${Yp(t.a)})`}function id(e){let t=Np(e);return{h:Vp(360*t.h),s:Yp(t.s),v:Yp(t.v)}}function od(e){let t=Np(e);return`hsv(${Vp(360*t.h)}, ${Yp(t.s)}, ${Yp(t.v)})`}function ld(e){let t=Np(e);return{h:Vp(360*t.h),s:Yp(t.s),v:Yp(t.v),a:Yp(t.a)}}function ud(e){let t=Np(e);return`hsva(${Vp(360*t.h)}, ${Yp(t.s)}, ${Yp(t.v)}, ${Yp(t.a)})`}function ad(e){return{r:Wp(e.r),g:Wp(e.g),b:Wp(e.b)}}function sd(e){return`rgb(${Wp(e.r)}, ${Wp(e.g)}, ${Wp(e.b)})`}function fd(e){return{r:Wp(e.r),g:Wp(e.g),b:Wp(e.b),a:Yp(e.a)}}function cd(e){return`rgba(${Wp(e.r)}, ${Wp(e.g)}, ${Wp(e.b)}, ${Yp(e.a)})`}function hd(e){let t=Ap(e);return{h:Vp(360*t.h),s:Wp(t.s),l:Wp(t.l)}}function pd(e){let t=Ap(e);return`hsl(${Vp(360*t.h)}, ${Wp(t.s)}, ${Wp(t.l)})`}function dd(e){let t=Ap(e);return{h:Vp(360*t.h),s:Wp(t.s),l:Wp(t.l),a:Yp(t.a)}}function gd(e){let t=Ap(e);return`hsla(${Vp(360*t.h)}, ${Wp(t.s)}, ${Wp(t.l)}, ${Yp(t.a)})`}function vd(e){let t=Np(e);return{h:Vp(360*t.h),s:Wp(t.s),v:Wp(t.v)}}function md(e){let t=Np(e);return`hsv(${Vp(360*t.h)}, ${Wp(t.s)}, ${Wp(t.v)})`}function yd(e){let t=Np(e);return{h:Vp(360*t.h),s:Wp(t.s),v:Wp(t.v),a:Yp(t.a)}}function bd(e){let t=Np(e);return`hsva(${Vp(360*t.h)}, ${Wp(t.s)}, ${Wp(t.v)}, ${Yp(t.a)})`}function wd(e){let t=function(e){return Gp(e,!1)}(e);return`#${t}`}function $d(e){return`#${Gp(e)}`}function Sd(e){let t=null,r=null,n=null;if(Gr(e))t=Pf(ku(e));else{if(!ju(e))throw console.log("color=",e),new Error("color is not a string or an object");r=e}if(null!==t)try{n=Rp(t)}catch(e){throw console.log(e),new Error(`can not parse color: ${t}`)}else if(null!==r)try{n=_p(r)}catch(e){throw console.log(e),new Error(`can not parse color: ${JSON.stringify(r)}`)}return n}function xd(e){if(!ju(e))return console.log("gradient is not an effective object"),e=>`rgb(${255*(e=Math.min(Math.max(e,0),1))},${255*e},${255*e})`;let t=[];return ot(e,((e,r)=>{t.push([nn(r),Xp(Sd(e)),e])})),t=zr(t,0),function(e){let r=null;for(let n=1;n<t.length;n++){let i=t[n-1][0],o=t[n-1][1],l=t[n][0],u=t[n][1];if(i<=e&&l>=e){let t=(l-e)/(l-i),n=(e-i)/(l-i);r=Hp(Sd(o),t,Sd(u),n,"toRgbaString");break}}return r}}let Md={toRgb:Zp,toRgbString:Kp,toRgba:Xp,toRgbaString:Jp,toHsl:ed,toHslString:td,toHsla:rd,toHslaString:nd,toHsv:id,toHsvString:od,toHsva:ld,toHsvaString:ud,toRgbP:ad,toRgbPString:sd,toRgbaP:fd,toRgbaPString:cd,toHslP:hd,toHslPString:pd,toHslaP:dd,toHslaPString:gd,toHsvP:vd,toHsvPString:md,toHsvaP:yd,toHsvaPString:bd,toHexString:wd,toHex8String:$d};var Pd=function(){let e={toRgb:e=>Zp(Sd(e)),toRgbString:e=>Kp(Sd(e)),toRgba:e=>Xp(Sd(e)),toRgbaString:e=>Jp(Sd(e)),toHsl:e=>ed(Sd(e)),toHslString:e=>td(Sd(e)),toHsla:e=>rd(Sd(e)),toHslaString:e=>nd(Sd(e)),toHsv:e=>id(Sd(e)),toHsvString:e=>od(Sd(e)),toHsva:e=>ld(Sd(e)),toHsvaString:e=>ud(Sd(e)),toRgbP:e=>ad(Sd(e)),toRgbPString:e=>sd(Sd(e)),toRgbaP:e=>fd(Sd(e)),toRgbaPString:e=>cd(Sd(e)),toHslP:e=>hd(Sd(e)),toHslPString:e=>pd(Sd(e)),toHslaP:e=>dd(Sd(e)),toHslaPString:e=>gd(Sd(e)),toHsvP:e=>vd(Sd(e)),toHsvPString:e=>md(Sd(e)),toHsvaP:e=>yd(Sd(e)),toHsvaPString:e=>bd(Sd(e)),toHexString:e=>wd(Sd(e)),toHex8String:e=>$d(Sd(e)),modSaturate:(e,t,r)=>function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(t<0||t>1)throw new Error("amount < 0 or > 1");let n=Ap(e);return n.s+=t,n.s=Up(n.s),Bp(Ip(n),r)}(Sd(e),t,r),modGrey:(e,t)=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"toRgbString",r=Ap(e);return r.s=0,Bp(Ip(r),t)}(Sd(e),t),modLighten:(e,t,r)=>function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(t<0||t>1)throw new Error("amount < 0 or > 1");let n=Ap(e);return n.l+=t,n.l=Up(n.l),Bp(Ip(n),r)}(Sd(e),t,r),modBrighten:(e,t,r)=>function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(t<0||t>1)throw new Error("amount < 0 or > 1");return e.r+=t,e.r=Up(e.r),e.g+=t,e.g=Up(e.g),e.b+=t,e.b=Up(e.b),Bp(e,r)}(Sd(e),t,r),modHue:(e,t,r)=>Qp(Sd(e),t,r),modComplement:(e,t)=>function(e){return Qp(e,.5,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"toRgbString")}(Sd(e),t),spreadHue:(e,t,r)=>function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(!Lu(t))throw new Error("num is not an integer");if((t=_u(t))<=1)return[e];let n=Ap(e),i=1/t,o=[];for(let e=0;e<t;e++)o.push(Bp(Ip(n),r)),n.h+=i,n.h=n.h%1;return o}(Sd(e),t,r),spreadMonochromatic:(e,t,r)=>function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toRgbString";if(!Lu(t))throw new Error("num is not an integer");if((t=_u(t))<=1)return[e];let n=Np(e);n.s=1,n.l=1;let i=1/t,o=[];for(let e=0;e<t;e++)o.push(Bp(zp(n),r)),n.h-=i,n.l-=i;return o}(Sd(e),t,r),mix:(e,t,r,n,i)=>Hp(Sd(e),t,Sd(r),n,i),getBrightness:e=>function(e){if(1!==e.a)throw new Error("alpha of color can not be equal to 1");return(299*e.r+587*e.g+114*e.b)/1e3}(Sd(e)),getLuminance:e=>function(e){if(1!==e.a)throw new Error("alpha of color can not be equal to 1");let t,r,n,i=e.r,o=e.g,l=e.b;return t=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4),r=o<=.03928?o/12.92:Math.pow((o+.055)/1.055,2.4),n=l<=.03928?l/12.92:Math.pow((l+.055)/1.055,2.4),.2126*t+.7152*r+.0722*n}(Sd(e)),interp:xd};return e}();function Ed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"listL");to(r)||(r=[.35,.7]);let n=ve(t,"listS");to(n)||(n=[.9,.5,.2]);let i=ve(t,"opacity");Br(i)||(i=1),i=nn(i),i=Math.max(i,0),i=Math.min(i,1);let o=ve(t,"hueSliceNum");pf(o)||(o=5),o=_u(o);let l=[];ot(r,(function(e){ot(n,(function(t){Oc(o,(function(r){let n=Pd.toRgbaString({h:360*r/o,s:t,l:e,a:i});l.push(n)}))}))}));let u=e%l.length;return l[u]}function kd(e){let t=function(){let e=ve(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},"scale");Br(e)||(e=1);let t=[];return t.push(["circle",5]),t.push(["square",5]),t.push(["diamond",6]),t.push(["cross",5]),t.push(["plus",5]),t.push(["eradiate",6]),t.push(["rdout",6]),t.push(["gateway",7]),t.push(["hloff",7]),t.push(["star",5]),t.push(["triangle",5]),t.push(["triangle-down",5]),t.push(["triangle-right",5]),t.push(["checkok",5]),t.push(["crescent",5]),t.push(["lightning",5]),t.push(["spades",5]),t.push(["waterdrop",5]),t.push(["bird",5]),t.push(["fire",5]),t.push(["music",5]),t.push(["apple",5]),t.push(["cloud",5]),t.push(["heart",5]),t}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),r=e%t.length;return{symbol:t[r][0],size:t[r][1]}}function Od(e,t,r,n){let i;if("line"===e||"line(grey)"===e){let n="rgba(100, 140, 220, 1)";"line(grey)"===e&&(n="#999"),i={type:"line",name:t,data:r,lineWidth:1,color:n,marker:{enabled:!1}}}else if("marker"===e)i={type:"scatter",name:t,data:r,lineWidth:0,color:"transparent",dashStyle:null,marker:{enabled:!0,symbol:"circle",radius:4,lineWidth:0,fillColor:"rgba(100,170,255,1)",lineColor:"rgba(20,100,200,1)"}};else if("markers"===e){let e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Ed(e,t),n=Ed(e,{opacity:.2}),i=kd(e,t);return{lineColor:r,lineStyle:"Solid",marker:i.symbol,markerEdgecolor:r,markerFacecolor:n,markerSize:i.size}}(n);i={type:"scatter",name:t,data:r,lineWidth:0,color:"transparent",dashStyle:null,marker:{enabled:!0,symbol:e.marker,radius:e.markerSize,lineWidth:1,fillColor:e.markerFacecolor,lineColor:e.markerEdgecolor}}}else if("dot point"===e)i={type:"scatter",name:t,data:r,lineWidth:0,color:"transparent",dashStyle:null,marker:{enabled:!0,symbol:"circle",radius:2,lineWidth:0,fillColor:"rgba(255, 34, 102, 1)",lineColor:"transparent"}};else if("small point"===e)i={type:"scatter",name:t,data:r,lineWidth:0,color:"transparent",dashStyle:null,marker:{enabled:!0,symbol:"circle",radius:1,lineWidth:0,fillColor:"rgba(100, 140, 220, 1)",lineColor:"transparent"}};else{if("marker point"!==e)throw console.log("displayDataMode",e),new Error(`invalid displayDataMode[${e}]`);i={type:"scatter",name:t,data:r,lineWidth:0,color:"transparent",dashStyle:null,marker:{enabled:!0,symbol:"circle",radius:4,lineWidth:1,fillColor:"transparent",lineColor:"#f26"}}}return i}function jd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.plotLeft,n=e.plotTop,i=e.plotWidth,o=e.plotHeight,l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"indXAxis");Ku(r)||(r=0),r=_u(r);let n=ve(t,"indYAxis");Ku(n)||(n=0),n=_u(n);let i=e.xAxis[r].min;i||(i=0);let o=e.xAxis[r].max;o||(o=0);let l=e.yAxis[n].min;l||(l=0);let u=e.yAxis[n].max;return u||(u=0),{xLimMin:i,xLimMax:o,yLimMin:l,yLimMax:u}}(e,t),u=ve(t,"cvLim");Ou(u)&&(l=u(l));let{xLimMin:a,xLimMax:s,yLimMin:f,yLimMax:c}=l,h=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],l=(e[0]-a)/(s-a),u=(e[1]-f)/(c-f);if(t){let e=l;l=u,u=e}return[l*i+r,(1-u)*o+n]};return{lims:l,cvp:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(e=>{if(On(ve(e,"0")))return"point";if(On(ve(e,"0.0")))return"points";throw console.log("p",e),new Error("invalid type of p")})(e);if("point"===r)return h(e,t);if("points"===r){return xr(e,(e=>h(e,t)))}throw new Error("invalid type")}}}function Dd(e){let t=ve(e,"x")||ve(e,"0");Br(t)||(t=0),t=nn(t);let r=ve(e,"y")||ve(e,"1");return Br(r)||(r=0),r=nn(r),[t,r]}function Ld(e){let t=ve(e,"w")||ve(e,"0");Br(t)||(t=0),t=nn(t);let r=ve(e,"h")||ve(e,"1");return Br(r)||(r=0),r=nn(r),[t,r]}let Cd="__fontFamily__";function Rd(){let e=ve(function(){let e=null;try{e=window.Highcharts}catch(e){}return e}(),Cd);return Gr(e)||(e="'Times New Roman', 'DFKai-SB', 'DFKaiShu-SB-Estd-BF', 'KaiU', ''"),e}function qd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Fd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qd(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _d(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},[o,l]=Dd(t),[u,a]=Ld(r),s=t;!function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=ve(n,"edgeWidth");Br(i)||(i=1),i=nn(i),i=Math.max(i,0);let o=ve(n,"edgeColor");Gr(o)||(o="#000");let l=ve(n,"faceColor");Gr(l)||(l="transparent");let u=ve(n,"radius");Br(u)||(u=0),u=nn(u),u=Math.max(u,0);let a=ve(n,"zIndex");On(a)||(a=void 0);let[s,f]=Dd(t),[c,h]=Ld(r);e.renderer.rect(s,f,c,h).attr({name:"hcextra",fill:l,"stroke-width":i,stroke:o,r:u,zIndex:a}).add()}(e,{x:o-u/2,y:l-a/2},r,i),function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=ve(n,"fontSize");Br(i)||(i=11),i=nn(i),i=Math.max(i,6);let o=ve(n,"textAlign");"left"!==o&&"center"!==o&&"rigth"!==o&&(o="center"),o={left:"start",center:"middle",rigth:"end"}[o];let l=ve(n,"zIndex");On(l)||(l=void 0);let u=ve(n,"style");ju(u)||(u={});let a=ve(n,"attr");ju(a)||(a={});let[s,f]=Dd(t),c=e.renderer,h=e.renderer.g().add();h.attr({transform:`translate(${s},${f})`,zIndex:l}),c.text(r,0,0).css(Fd({color:"#000",fontFamily:Rd(),fontSize:`${i}pt`},u)).attr(Fd({name:"hcextra","text-anchor":o,"alignment-baseline":"central",zIndex:l},a)).add(h)}(e,s,n,i)}function Ad(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11;return`<span style="font-family:${Rd()}; font-size:${t}pt;">${da(e)}</span>`}function Nd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:11;return`<br><span style="font-family:${Rd()}; font-size:${t}pt;">${da(e)}</span>`}function Id(e){return Gr(e)?` (${e})`:""}var zd={genHtText:Ad,genHtTextSub:Nd,genTextParentheses:Id,getFontfamily:Rd};function Td(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Td(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Td(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ud(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ve(e,"dataPoints",[]),r=ve(e,"dataPointsColor",void 0),n=ve(e,"dataPointsMarkerSize",void 0),i=ve(e,"dataPointsMultiSeries",void 0),o=ve(e,"marginTop",70),l=ve(e,"marginBottom",10),u=ve(e,"marginLeft",90),a=ve(e,"marginRight",1),s=ve(e,"xLabel",""),f=ve(e,"xLabelFontSize",12),c=ve(e,"xTickLabelFontSize",12),h=ve(e,"xDig",void 0),p=ve(e,"xLimMin",void 0),d=ve(e,"xLimMax",void 0),g=ve(e,"xSoftMin",void 0),v=ve(e,"xSoftMax",void 0),m=ve(e,"useAutoXSoftMax",!0),y=ve(e,"ratioAutoXSoftMax",1.5),b=ve(e,"xTickInterval",void 0),w=ve(e,"yLabel",""),$=ve(e,"yLabelFontSize",12),S=ve(e,"yTickLabelFontSize",12),x=ve(e,"yDig",void 0),M=ve(e,"yLimMin",0),P=ve(e,"yLimMax",void 0),E=ve(e,"ySoftMin",void 0),k=ve(e,"ySoftMax",void 0),O=ve(e,"useAutoYSoftMax",!0),j=ve(e,"ratioAutoYSoftMax",1.1),D=ve(e,"condenseYLabel",!1),L=ve(e,"displayDataMode","line"),C=ve(e,"useLegend",!1),R=ve(e,"useTooltip",!0),q=ve(e,"addStaticPP",!1),F=ve(e,"addFS1",!1),_=ve(e,"addIcRanges",!1),A={marginTop:o,marginBottom:l,marginLeft:D?1:u,marginRight:a},N=[],I=!0;if(ot(t,((e,t)=>{if(Mn(e.data)>0)return I=!1,!1})),I&&(t=[[[0,0]]],R=!1,C=!1),ot(t,((e,t)=>{let o=ve(e,"mode",""),l=null;if(""===o){let o=t;Lu(ve(e,"colorIndex"))&&(o=_u(e.colorIndex)),l=Od(L,e.name,e.data,o),Gr(r)&&(l.marker.fillColor=r),Br(n)&&(l.marker.radius=nn(n)),i&&(l.marker.symbol=kd(t).symbol,l.marker.fillColor=Ed(t)),ve(e,"compare")&&(l.marker.radius-=1,l.marker.fillColor="transparent",l.marker.lineColor="rgba(0,0,0,0.5)")}else{if("custom"!==o)throw new Error(`invalid mode[${o}]`);l=e}ju(l)&&N.push(l)})),O&&!On(k)&&!On(P)){let e=xr(N,(e=>xr(e.data,0)));e=bp(e),k=Mf(e)*j}if(m&&!On(v)&&!On(d)){let e=xr(N,(e=>xr(e.data,1)));e=bp(e),v=Mf(e)*y}if(q){let e=null;if(On(P))e=P;else{let t=xr(N,(e=>xr(e.data,"0")));t=bp(t),e=Mf(t)}let t={name:"static pp",data:[[0,0],[e,1*e*.00981]],lineWidth:2,color:"#f26",marker:{enabled:!1}};N.push(t)}if(F){let e=null;if(On(P))e=P;else{let t=xr(N,(e=>xr(e.data,"0")));t=bp(t),e=Mf(t)}let t={name:"FS=1",data:[[0,1],[e,1]],lineWidth:2,color:"#f26",marker:{enabled:!1}};N.push(t)}let z,T=!0;if(_){T=!1,z=xr($a(),(e=>({from:e.min,to:e.max,color:e.colorSecondary,borderColor:"rgba(255,255,255,0.5)",borderWidth:1})))}let G={credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}},boost:{enabled:!1},chart:Gd(Gd({animation:!1,inverted:!0},A),{},{backgroundColor:"transparent",plotBorderColor:"#222",plotBorderWidth:1,events:{render:function(){if(I){!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"invXY");An(r)||(r=!1);let n=jd(e,t),{xLimMin:i,xLimMax:o,yLimMin:l,yLimMax:u}=n.lims,a=[(i+o)/2,(l+u)/2];a=n.cvp(a,r),_d(e,a,{w:100,h:24},"",{edgeColor:"#f26",faceColor:"#fff",zIndex:10})}(this,{invXY:!0})}}}}),plotOptions:{series:{animation:!1}},title:{text:""},xAxis:{crosshair:!0,title:{useHTML:!0,text:w,margin:5,style:{fontFamily:Rd(),fontSize:$+"pt",color:"#000",textAlign:"center",lineHeight:"1.1rem"}},lineColor:"rgba(0,0,0,0.8)",lineWidth:1,gridLineColor:"rgba(0,0,0,0.2)",gridLineWidth:1,minorGridLineColor:"rgba(0,0,0,0.1)",minorGridLineWidth:0,tickPosition:"inside",tickColor:"#222",tickWidth:1,minorTickPosition:"inside",minorTickColor:"#666",minorTickLength:5,minorTickWidth:1,softMin:E,softMax:k,labels:{autoRotation:0,style:{fontSize:S+"px",color:"#222"},formatter:function(){return On(x)?Xa(this.value,x):this.value}}},yAxis:{crosshair:!0,opposite:!0,title:{useHTML:!0,text:s,margin:0,y:-5,style:{fontFamily:Rd(),fontSize:f+"pt",color:"#000",textAlign:"center",lineHeight:"1.1rem"}},plotBands:z,plotLines:undefined,lineColor:"rgba(0,0,0,0.8)",lineWidth:1,tickInterval:b,gridLineColor:"rgba(0,0,0,0.2)",gridLineWidth:T?1:0,minorGridLineColor:"rgba(0,0,0,0.1)",minorGridLineWidth:0,tickPosition:"inside",tickColor:"#222",tickWidth:1,minorTickPosition:"inside",minorTickColor:"#666",minorTickLength:5,minorTickWidth:1,softMin:g,softMax:v,labels:{autoRotation:0,y:5,style:{fontSize:c+"px",color:"#222"},formatter:function(){return On(h)?Xa(this.value,h):this.value}}},tooltip:{enabled:!1},legend:{enabled:!1},series:N};return On(M)&&(G.xAxis.min=M,G.xAxis.endOnTick=!1),On(P)&&(G.xAxis.max=P,G.xAxis.endOnTick=!1),On(p)&&(G.yAxis.min=p,G.yAxis.endOnTick=!1),On(d)&&(G.yAxis.max=d,G.yAxis.endOnTick=!1),C&&(G.legend={enabled:!0,shared:!0,useHTML:!0,floating:!0,layout:"vertical",align:"right",verticalAlign:"bottom",x:-10,y:-10,backgroundColor:"rgba(255,255,255,0.8)",borderColor:"#aaa",borderWidth:1,symbolWidth:25}),R&&(G.tooltip={enabled:!0,shared:!0,useHTML:!0}),G}function Bd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bd(Object(r),!0).forEach((function(t){au(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}e._cpt=Sa,e._hc=zd,e._share=Iu,e._soilGroup=ds,e.buildInterpFun=Un,e.buildSvsAndSvps=Wl,e.calcClassifyUscs=function(e){let t=[],r="",n="",i="",o=0;function l(e,r,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return n(r)||t.push(`${e}[${r}] ${i}`),null}function u(e,r,n,i,o){let l=`${e}[${r}]`;Gr(e)||(l=`${r}`);let u=`${i}[${o}]`;Gr(i)||(u=`${o}`);{let e=!1;if(On(r)||(e=!0,t.push(`${l} is not a number`)),On(o)||(e=!0,t.push(`${u} is not a number`)),e)return}if(Tl(r,n,o))return void t.push(`${l} ${n} ${u}`);return null}function a(e,t){return u(e,t,"<","",0),u(e,t,">","",100),null}let s=()=>Mn(t)>0,f=()=>{if(s()){let e=Hn(t,", ");return{USCS:r,USCSDspEng:n,USCSDspCht:i,icd:o,err:t,msg:e}}return Gr(r)?{USCS:r,USCSDspEng:n,USCSDspCht:i,icd:o}:{USCS:r,USCSDspEng:n,USCSDspCht:i,icd:o,err:["invalid USCS"],msg:"invalid USCS"}},c=ve(e,"Organic",0);Br(c)&&(c=nn(c));let h=ve(e,"LL","");Br(h)&&(h=nn(h));let p=ve(e,"LLdry","");Br(p)&&(p=nn(p));let d=ve(e,"PI","");Br(d)&&(d=nn(d));let g=ve(e,"Cu","");Br(g)&&(g=nn(g));let v=ve(e,"Cc","");Br(v)&&(v=nn(v));let m=ve(e,"ctClay","");Br(m)&&(m=nn(m));let y=ve(e,"ctSilt","");Br(y)&&(y=nn(y));let b=ve(e,"ctSand","");Br(b)&&(b=nn(b));let w=ve(e,"ctGravel","");Br(w)&&(w=nn(w));let $=ve(e,"FC","");On(m)&&On(y)?$=m+y:Br($)&&($=nn($));let S="";if(On(b)&&On(w)?S=b+w:Br(S)?S=nn(S):Br($)&&(S=100-$),!On($)&&On(S)&&($=100-S),a("rFineContent",$),a("rCoarseContent",S),s())return f();if(S>50){if(a("ctGravel",w),a("ctSand",b),s())return f();if(w>b)if($<5){if(u("Cu",g,"<","",0),u("Cc",v,"<","",0),s())return f();nu(g,v)?(o=1,r="GW",b<15?(n="Well-graded gravel",i=""):(n="Well-graded gravel with sand",i="")):(o=2,r="GP",b<15?(n="Poorly graded gravel",i=""):(n="Poorly graded gravel with sand",i=""))}else if($>12){if(l("PI",d,ru,Kl),l("LL",h,tu,Zl),s())return f();let e=ou(d,h);"C"===e?(o=3,r="GC",b<15?(n="Clayey gravel",i=""):(n="Clayey gravel with sand",i="")):"M"===e?(o=4,r="GM",b<15?(n="Silty gravel",i=""):(n="Silty gravel with sand",i="")):"C-M"===e&&(o=5,r="GC-GM",b<15?(n="Silty, clayey gravel",i=""):(n="Silty, clayey gravel with sand",i=""))}else{if(u("Cu",g,"<","",0),u("Cc",v,"<","",0),s())return f();if(nu(g,v)){if(l("PI",d,ru,Kl),l("LL",h,tu,Zl),s())return f();let e=ou(d,h);"C"===e||"C-M"===e?(o=6,r="GW-GC",b<15?(n="Well-graded gravel with clay (or silty clay)",i=""):(n="Well-graded gravel with clay and sand (or silty clay and sand)",i="")):"M"===e&&(o=7,r="GW-GM",b<15?(n="Well-graded gravel with silt",i=""):(n="Well-graded gravel with silt and sand",i=""))}else{if(l("PI",d,ru,Kl),l("LL",h,tu,Zl),s())return f();let e=ou(d,h);"C"===e||"C-M"===e?(o=8,r="GP-GC",b<15?(n="Poorly graded gravel with clay (or silty clay)",i=""):(n="Poorly graded gravel with clay and sand (or silty clay and sand)",i="")):"M"===e&&(o=9,r="GP-GM",b<15?(n="Poorly graded gravel with silt",i=""):(n="Poorly graded gravel with silt and sand",i=""))}}else if($<5){if(u("Cu",g,"<","",0),u("Cc",v,"<","",0),s())return f();iu(g,v)?(o=10,r="SW",w<15?(n="Well-graded sand",i=""):(n="Well-graded sand with gravel",i="")):(o=11,r="SP",w<15?(n="Poorly graded sand",i=""):(n="Poorly graded sand with gravel",i=""))}else if($>12){if(l("PI",d,ru,Kl),l("LL",h,tu,Zl),s())return f();let e=ou(d,h);"C"===e?(o=12,r="SC",w<15?(n="Clayey sand",i=""):(n="Clayey sand with gravel",i="")):"M"===e?(o=13,r="SM",w<15?(n="Silty sand",i=""):(n="Silty sand with gravel",i="")):"C-M"===e&&(o=14,r="SC-SM",w<15?(n="Silty, clayey sand",i=""):(n="Silty,clayey sand with gravel",i=""))}else{if(u("Cu",g,"<","",0),u("Cc",v,"<","",0),s())return f();if(iu(g,v)){if(l("PI",d,ru,Kl),l("LL",h,tu,Zl),s())return f();let e=ou(d,h);"C"===e||"C-M"===e?(o=15,r="SW-SC",w<15?(n="Well-graded sand with clay (or silty clay)",i=""):(n="Well-graded sand with clay and gravel (or silty clay and gravel)",i="")):"M"===e&&(o=16,r="SW-SM",w<15?(n="Well-graded sand with silt",i=""):(n="Well-graded sand with silt and gravel",i=""))}else{if(l("PI",d,ru,Kl),l("LL",h,tu,Zl),s())return f();let e=ou(d,h);"C"===e||"C-M"===e?(o=17,r="SP-SC",w<15?(n="Poorly graded sand with clay (or silty clay)",i=""):(n="Poorly graded sand with clay and gravel (or silty clay and gravel)",i="")):"M"===e&&(o=18,r="SP-SM",w<15?(n="Poorly graded sand with silt",i=""):(n="Poorly graded sand with silt and gravel",i=""))}}}else{if(l("LL",h,tu,Zl),s())return f();if(On(h))if(h>=50){if(0!==c&&1!==c&&t.push("Organic is not 0 or 1"),s())return f();if(0===c){if(l("PI",d,ru,Kl),l("LL",h,tu,Zl),s())return f();let e=function(e,t){let r=null,n=null;return r=Jl(e),n=Xl(t),r>=.73*(n-20)?"C":"M"}(d,h);if("C"===e)if(o=19,r="CH",S<30)if(S<15)n="Fat clay",i="";else{if(a("ctGravel",w),a("ctSand",b),s())return f();b>=w?(n="Fat clay with sand",i=""):(n="Fat clay with gravel",i="")}else{if(a("ctGravel",w),a("ctSand",b),s())return f();b>=w?w<15?(n="Sandy fat clay",i=""):(n="Sandy fat clay with gravel",i=""):w<15?(n="Gravelly fat clay",i=""):(n="Gravelly fat clay with sand",i="")}else if("M"===e)if(o=20,r="MH",S<30)if(S<15)n="Elastic silt",i="";else{if(a("ctGravel",w),a("ctSand",b),s())return f();b>=w?(n="Elastic silt with sand",i=""):(n="Elastic silt with gravel",i="")}else{if(a("ctGravel",w),a("ctSand",b),s())return f();b>=w?w<15?(n="Sandy Elastic silt",i=""):(n="Sandy Elastic silt with gravel",i=""):w<15?(n="Gravelly Elastic silt",i=""):(n="Gravelly Elastic silt with sand",i="")}}else if(1===c){if(l("LL",h,tu,Zl),l("LLdry",p,tu,Zl),s())return f();p/h<.75?(o=21,r="OH",n=Vl,i=Vl):(o=22,r="PT()",n=Vl,i=Vl)}}else{if(0!==c&&1!==c&&t.push("Organic is not 0 or 1"),s())return f();if(0===c){if(l("PI",d,ru,Kl),l("LL",h,tu,Zl),s())return f();let e=ou(d,h);if("C"===e)if(o=23,r="CL",S<30)if(S<15)n="Lean clay",i="";else{if(a("ctGravel",w),a("ctSand",b),s())return f();b>=w?(n="Lean clay with sand",i=""):(n="Lean clay with gravel",i="")}else{if(a("ctGravel",w),a("ctSand",b),s())return f();b>=w?w<15?(n="Sandy lean clay",i=""):(n="Sandy lean clay with gravel",i=""):w<15?(n="Gravelly lean clay",i=""):(n="Gravelly lean clay with sand",i="")}else if("M"===e)if(o=24,r="ML",S<30)if(S<15)n="Silt",i="";else{if(a("ctGravel",w),a("ctSand",b),s())return f();b>=w?(n="Silt with sand",i=""):(n="Silt with gravel",i="")}else{if(a("ctGravel",w),a("ctSand",b),s())return f();b>=w?w<15?(n="Sandy silt",i=""):(n="Sandy silt with gravel",i=""):w<15?(n="Gravelly silt",i=""):(n="Gravelly silt with sand",i="")}else if("C-M"===e)if(o=25,r="CL-ML",S<30)if(S<15)n="Silty clay",i="";else{if(a("ctGravel",w),a("ctSand",b),s())return f();b>=w?(n="Silty clay with sand",i=""):(n="Silty clay with gravel",i="")}else{if(a("ctGravel",w),a("ctSand",b),s())return f();b>=w?w<15?(n="Sandy Silty clay",i=""):(n="Sandy Silty clay with gravel",i=""):w<15?(n="Gravelly Silty clay",i=""):(n="Gravelly Silty clay with sand",i="")}}else if(1===c){if(l("LL",h,tu,Zl),l("LLdry",p,tu,Zl),s())return f();p/h<.75?(o=26,r="OL",n=Vl,i=Vl):(o=27,r="PT()",n=Vl,i=Vl)}}else if(o=99,r="ML",S<30)if(S<15)n="Silt",i="";else{if(a("ctGravel",w),a("ctSand",b),s())return f();b>=w?(n="Silt with sand",i=""):(n="Silt with gravel",i="")}else{if(a("ctGravel",w),a("ctSand",b),s())return f();b>=w?w<15?(n="Sandy silt",i=""):(n="Sandy silt with gravel",i=""):w<15?(n="Gravelly silt",i=""):(n="Gravelly silt with sand",i="")}}return f()},e.calcCpt=Ka,e.calcCptClassify=Ga,e.calcCptLayers=Ps,e.calcCptUnitWeight=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"unitSvSvp");if("kPa"!==r&&"MPa"!==r)throw new Error(`opt.unitSvSvp[${r}] need kPa or MPa`);let n=ve(t,"rsatIni");if(Br(n)||(n=19.5),n=nn(n),n<=0)throw new Error(`rsatIni[${n}]<=0`);let i=ve(t,"keyDepth");Gr(i)||(i="depth");let o=ve(t,"keyDepthStart");Gr(o)||(o="depthStart");let l=ve(t,"keyDepthEnd");Gr(l)||(l="depthEnd");let u=ve(e=Ha(e=Xi(e)),`0.${i}`),a=ve(e,`0.${o}`),s=ve(e,`0.${l}`);return!Br(u)||Br(a)||Br(s)?!Br(u)&&Br(a)&&Br(s)&&(e=xr(e,((e,t)=>{let r=ve(e,o),n=ve(e,l);if(!Br(r)||!Br(n))throw console.log(t,e),new Error(` ${t} [${o}][${l}]`);{r=nn(r),n=nn(n);let t=(r+n)/2;e[i]=t}return e}))):e=Gl(e,t),e=xr(e,((e,t)=>{let r=ve(e,"coe_a");if(!Br(r))throw console.log(t,e),new Error(` ${t} coe_a[${r}]`);return r=nn(r),e.coe_a=r,e})),e=xr(e,(e=>(e.rsat=n,e))),e=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"countMax");Lu(r)||(r=100),r=_u(r);let n=-1,i=!0,o=e;for(;i;){n++;let e=Cs(o,t);if(i=e.bUpdate,o=e.ltdt,n>=r)break}return o}(e=xr(e,(e=>(e.u0=zu(e.depth,"MPa"),e))),t),"kPa"===r&&(e=xr(e,(e=>(e.sv*=1e3,e.svp*=1e3,e)))),e},e.calcCptVelocityShear=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"method","");"Baldi(1989) for sand"!==r&&"Hegazy and Mayne(1995) by svp for sand"!==r&&"Hegazy and Mayne(1995) by fs for sand"!==r&&"Robertson(2009) for sand"!==r&&"Sinotech(2023) for sand"!==r&&"Hegazy and Mayne(1995) by fs for clay"!==r&&"Mayne & Rix(1995) for clay"!==r&&"Mayne(2006) for clay"!==r&&"Sinotech(2023) for clay"!==r&&"Hegazy and Mayne(1995) for all"!==r&&"Andrus(2007) for Holocene soil"!==r&&"Andrus(2007) for Pleistocene soil"!==r&&(r="Hegazy and Mayne(1995) for all");let n=ve(t,"unitSvSvp");if("kPa"!==n&&"MPa"!==n)throw new Error(`opt.unitSvSvp[${n}] need kPa or MPa`);let i=ve(t,"keyDepth");Gr(i)||(i="depth");let o=ve(t,"keyDepthStart");Gr(o)||(o="depthStart");let l=ve(t,"keyDepthEnd");Gr(l)||(l="depthEnd");let u=ve(t,"sepIc");Br(u)||(u=2.6),u=nn(u);let a=ve(t,"sepIcn");return Br(a)||(a=2.6),a=nn(a),e=xr(e=Xi(e),(e=>{let t=null;if("Baldi(1989) for sand"===r){let r=ve(e,"_Ic",null),n=ve(e,"qc",null),i=ve(e,"_svp",null);Br(r)&&Br(n)&&Br(i)&&(r=nn(r),r<=u&&(n=nn(n),i=nn(i),n*=1e3,i*=1e3,t=17.48*n**.13*i**.27))}else if("Hegazy and Mayne(1995) by svp for sand"===r){let r=ve(e,"_Ic",null),n=ve(e,"qc",null),i=ve(e,"_svp",null);Br(r)&&Br(n)&&Br(i)&&(r=nn(r),r<=u&&(n=nn(n),i=nn(i),n*=1e3,i*=1e3,t=13.18*n**.192*i**.179))}else if("Hegazy and Mayne(1995) by fs for sand"===r){let r=ve(e,"_Ic",null),n=ve(e,"qc",null),i=ve(e,"fs",null);Br(r)&&Br(n)&&Br(i)&&(r=nn(r),r<=u&&(n=nn(n),i=nn(i),n*=1e3,i*=1e3,t=12.02*n**.319*i**-.0466))}else if("Robertson(2009) for sand"===r){let r=ve(e,"_Ic",null),n=ve(e,"qnet",null);if(Br(r)&&Br(n)&&(r=nn(r),r<=a)){n=nn(n),n*=1e3;let e=1e3*Rs,i=10**(.55*r+1.68);t=Math.sqrt(i*n/e)}}else if("Sinotech(2023) for sand"===r){let r=ve(e,"qt",null),n=ve(e,"_Ic",null),i=ve(e,"depth",null);if(Br(n)&&Br(r)&&(n=nn(n),n<=a)){r=nn(r),n=nn(n),i=nn(i),r*=1e3,t=2.27*r**.451*n**1.25*i**-.103*1}}else if("Hegazy and Mayne(1995) by fs for clay"===r){let r=ve(e,"_Ic",null),n=ve(e,"qc",null),i=ve(e,"fs",null);Br(r)&&Br(n)&&Br(i)&&(r=nn(r),r>u&&(n=nn(n),i=nn(i),n*=1e3,i*=1e3,t=3.18*n**.549*i**.025))}else if("Mayne & Rix(1995) for clay"===r){let r=ve(e,"_Ic",null),n=ve(e,"qc",null);Br(r)&&Br(n)&&(r=nn(r),r>u&&(n=nn(n),n*=1e3,t=1.75*n**.627))}else if("Mayne(2006) for clay"===r){let r=ve(e,"_Ic",null),n=ve(e,"fs",null);Br(r)&&Br(n)&&(r=nn(r),r>a&&(n=nn(n),n*=1e3,t=118.8*Math.log10(n)+18.5))}else if("Sinotech(2023) for clay"===r){let r=ve(e,"qt",null),n=ve(e,"_Ic",null),i=ve(e,"depth",null);if(Br(n)&&Br(r)&&(n=nn(n),n>a)){r=nn(r),n=nn(n),i=nn(i),r*=1e3,t=2.27*r**.36*n**1.992*i**-.096*1}}else if("Hegazy and Mayne(1995) for all"===r){let r=ve(e,"qc",null),n=ve(e,"fs",null);Br(r)&&Br(n)&&(r=nn(r),n=nn(n),r*=1e3,n*=1e3,r>0&&(t=(10.1*Math.log10(r)-11.4)**1.67*(n/r*100)**.3))}else if("Andrus(2007) for Holocene soil"===r){let r=ve(e,"qt",null),n=ve(e,"_Ic",null),i=ve(e,"depth",null);if(Br(n)&&Br(r)){n=nn(n),r=nn(r),n=nn(n),i=nn(i),r*=1e3,t=2.27*r**.412*n**.989*i**.033*1}}else if("Andrus(2007) for Pleistocene soil"===r){let r=ve(e,"qt",null),n=ve(e,"_Ic",null),i=ve(e,"depth",null);if(Br(n)&&Br(r)){r=nn(r),n=nn(n),i=nn(i),r*=1e3,t=2.62*r**.395*n**.912*i**.124*1.115}}return e.vs=t,e}))},e.calcDepthByDepthStartEnd=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];if(!to(e))throw new Error("");let n=ve(t,"keyDepth");Gr(n)||(n="depth");let i=ve(t,"keyDepthStart");Gr(i)||(i="depthStart");let o=ve(t,"keyDepthEnd");if(Gr(o)||(o="depthEnd"),ot(e=Xi(e),((e,t)=>{let n=ve(e,i,null);Br(n)||r.push(` ${t} ${i}[${n}]`);let l=ve(e,o,null);Br(l)||r.push(` ${t} ${o}[${l}]`)})),Mn(r)>0)throw new Error(Hn(r,"; "));return ot(e=zr(e,(e=>nn(e[i]))),((e,t)=>{let r=ve(e,i,null),l=ve(e,o,null);r=nn(r),l=nn(l);let u=(r+l)/2;e[n]=u})),e},e.calcDepthMaxMin=Gn,e.calcDepthStartEndByConnect=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];if(!to(e))throw new Error("");let n=ve(t,"keyDepthStart");Gr(n)||(n="depthStart");let i=ve(t,"keyDepthEnd");Gr(i)||(i="depthEnd");let o=ve(t,"depthEndMax");if(o=Br(o)?nn(o):null,ot(e=Xi(e),((e,t)=>{let o=ve(e,n,null),l=ve(e,i,null);Br(o)||r.push(` ${t} ${n}[${o}]`),Br(l)||r.push(` ${t} ${i}[${l}]`)})),Mn(r)>0)throw new Error(Hn(r,", "));if(ot(e=zr(e,(e=>nn(e[n]))),((t,o)=>{if(0===o)return!0;let l=ve(e,`${o-1}.${i}`,null),u=ve(t,n,null);l=nn(l),u=nn(u),Tl(l,">",u)&&r.push(` ${o-1} ${i}[${l}] ${o} ${n}[${u}]`)})),Mn(r)>0)throw new Error(Hn(r,", "));if(ot(e,((t,r)=>{if(0===r)return!0;let o=ve(e,`${r-1}.${i}`,null),l=ve(t,n,null);if(o=nn(o),l=nn(l),Tl(o,"<",l)){let t=(o+l)/2;e[r-1][i]=t,e[r+0][n]=t}})),On(o)){let t=Mn(e)-1;Tl(e[t][i],"<",o)&&(e[t][i]=o)}return e},e.calcDepthStartEndByDepth=Gl,e.calcDepthStartEndByGroup=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];if(!to(e))throw new Error("");let n=ve(t,"keyDepth");Gr(n)||(n="depth");let i=ve(t,"keyGroup");Gr(i)||(i="group");let o=ve(t,"keyDepthStart");Gr(o)||(o="depthStart");let l=ve(t,"keyDepthEnd");Gr(l)||(l="depthEnd");let u=ve(t,"depthEndMax");if(u=Br(u)?nn(u):null,ot(e=Xi(e),((e,t)=>{let o=ve(e,n,null);Br(o)||r.push(` ${t} ${n}[${o}]`);let l=ve(e,i,"");Gr(l)||Br(l)||r.push(` ${t} ${i}[${l}]`)})),Mn(r)>0)throw new Error(Hn(r,"; "));if(ot(e=zr(e,(e=>nn(e[n]))),((t,i)=>{if(0===i)return!0;let o=ve(e,`${i-1}.${n}`,null),l=ve(t,n,null);o=nn(o),l=nn(l),Tl(o,">=",l)&&r.push(` ${i-1} ${n}[${o}] ${i} ${n}[${l}]`)})),Mn(r)>0)throw new Error(Hn(r,"; "));let a={};if(ot(e,(e=>{let t=e[i];a[t]=!0})),0===Mn(et(a)))throw new Error("");let s=Xi(e=Gl(e,{keyDepth:n,keyDepthStart:o,keyDepthEnd:l,depthEndMax:u})),f=-1;for(;f++,!(f>=Mn(e)-1);){let t=ve(e,f),r=ve(e,f+1);ve(t,i,"g1")===ve(r,i,"g2")&&(e[f][l]=e[f+1][l],As(e,f+1),f--)}let c=xr(e,(e=>({[i]:e[i],[o]:e[o],[l]:e[l]})));return c=xr(c,(e=>{let t=e[o],r=e[l],i=[],u=[];return ot(s,((e,o)=>{let l=e[n];if(Tl(l,">=",t)&&Tl(l,"<=",r)&&(i.push(o),u.push(e)),Tl(l,">",r))return!1})),e.rows=Xi(u),As(s,i),e})),c},e.calcDepthStartEndFromCenter=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return console.log("Deprecated: calcDepthStartEndFromCenter -> calcDepthStartEndByDepth"),e=Gl(e,t)},e.calcEstmOcr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"keyCompressiveStrength");Gr(r)||(r="compressiveStrength");let n=xr(e,(e=>{let n=ve(e,r,null),i=ve(e,"svp",null),o={[r]:n,svp:i};return Br(n)&&Br(i)&&(o=Ts(o,t)),e=Us(Us({},e),o)}));return n},e.calcEstmRelativeDensity=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"keyDepth");Gr(r)||(r="depth");let n=ve(t,"keyRd");Gr(n)||(n="rd");let i=ve(t,"keyRdMin");Gr(i)||(i="rdMin");let o=ve(t,"keyRdMax");Gr(o)||(o="rdMax");let l=ve(t,"keyDr");Gr(l)||(l="Dr");let u=ve(t,"checkLimit");An(u)||(u=!0);let a=null;{let t=[];if(ot(e,(e=>{let i=ve(e,r),o=ve(e,n);Br(i)&&Br(o)&&(i=nn(i),o=nn(o),t.push({[r]:i,[n]:o}))})),Mn(t)>0){let e=Mn(t),i=ve(t,0),o=ve(t,e-1);t=[Ys(Ys({},i),{},{[r]:i[r]-1e10}),...t,Ys(Ys({},o),{},{[r]:o[r]+1e10})],a=Un(t,r,n,{mode:"linear"})}}let s=Ou(a),f=xr(e,(e=>{let u=ve(e,n);if(Br(u)||(u=null),!Br(u)&&s){let t=ve(e,r);Br(t)&&(t=nn(t),u=a(t),Br(u)||(console.log("dt",e),console.log("keyDepth",r),console.log("keyRd",n),console.log("rd",u),console.log("")))}let f=ve(e,i),c=ve(e,o),h={[n]:u,[i]:f,[o]:c,[l]:null};return Br(u)&&Br(f)&&Br(c)&&(h=Ws(h,t)),e=Ys(Ys({},e),h)}));return f},e.calcEstmVerticalStress=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"keyDepth");Gr(r)||(r="depth");let n=ve(t,"keyDepthStart");Gr(n)||(n="depthStart");let i=ve(t,"keyDepthEnd");Gr(i)||(i="depthEnd");let o=ve(t,"keyRd");Gr(o)||(o="rd");let l=ve(t,"keyRsat");Gr(l)||(l="rsat");let u=ve(t,"waterLevelUsual");Br(u)||(u=0),u=nn(u);let a=ve(t,"waterLevelDesign");Br(a)||(a=0),a=nn(a);let s=Wl(e,{keyDepth:r,keyDepthStart:n,keyDepthEnd:i,keyRd:o,keyRsat:l,waterLevelUsual:u,waterLevelDesign:a}),f=e=>{if(ju(s))return function(e,t){let r=ve(e,"svs.0",null);ve(r,"0",null)>0&&(e.svs=[[0,0],...e.svs]),ve(r,"0",null)>0&&(e.svps=[[0,0],...e.svps]);let n=Fn(e.svs,t);if(ve(n,"err"))throw console.log(n.err,"depth",t,"ed.svs",e.svs),new Error("");let i=Fn(e.svps,t);if(ve(i,"err"))throw console.log(i.err,"depth",t,"ed.svps",e.svps),new Error("");let o=Fn(e.rds,t);if(ve(o,"err"))throw console.log(o.err,"depth",t,"ed.rds",e.rds),new Error("");let l=Fn(e.rsats,t);if(ve(l,"err"))throw console.log(l.err,"depth",t,"ed.rsats",e.rsats),new Error("");return{sv:n,svp:i,rd:o,rsat:l}}(s,e);{let t=Tu(e);return t=Ks(Ks({},t),{},{[o]:null,[l]:null}),t}},c=Ou(f),h=xr(e,(e=>{let t=ve(e,o),n=ve(e,l),i=ve(e,"sv"),u=ve(e,"svp");if((!Br(i)||!Br(u))&&c){let o=ve(e,r);if(Br(o)){o=nn(o);let l=f(o);i=l.sv,u=l.svp,t=l.rd,n=l.rsat,Br(i)||(console.log("dt",e),console.log("keyDepth",r),console.log("r",l),console.log("")),Br(u)||(console.log("dt",e),console.log("keyDepth",r),console.log("r",l),console.log("")),Br(t)||(console.log("dt",e),console.log("keyDepth",r),console.log("r",l),console.log("")),Br(n)||(console.log("dt",e),console.log("keyDepth",r),console.log("r",l),console.log(""))}}return e=Ks(Ks({},e),{},{[o]:t,[l]:n,sv:i,svp:u})}));return h},e.calcIntrpPsdContentIso=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=xr(e,(e=>{try{let r=uf(e,t);e=sf(sf({},e),r)}catch(e){}return e}));return r},e.calcIntrpPsdContentUscs=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=xr(e,(e=>{try{let r=ff(e,t);e=hf(hf({},e),r)}catch(e){}return e}));return r},e.calcLayersByCompress=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"keyDepth");Gr(r)||(r="depth");let n=ve(t,"keyDepthStart");Gr(n)||(n="depthStart");let i=ve(t,"keyDepthEnd");Gr(i)||(i="depthEnd");let o=ve(t,"keyThickness");Gr(o)||(o="thickness");let l=ve(t,"keyType");Gr(l)||(l="type");let u=ve(t,"keyMgType","type"),a=ve(t,"keyMgType2","type2"),s=ve(t,"keyMgType3","type3"),f=ve(t,"keyMgType4","type4"),c=ve(t,"keyMgTypeIcn","typeIcn"),h=ve(t,"keyMgValueIcn","Icn"),p=ve(t,"levelsForThicknessMax",[]);to(p)||(p=[.0201,.0401,.0601,.0801,.1001,.1251,.1501,.1751,.2001,.2501,.3001,.3501,.4001,.4501,.5001,.7501,1.0001,1.5001,2.0001,3.0001,4.0001,5.0001]);let d=ve(t,"levelsForMgValueIcnDiffMax",[]);to(d)||(d=[.2,.25,.3]);let g=ve(t,"saveFromInds");An(g)||(g=!0);let v=ve(t,"keyInd");Gr(v)||(v="ind");let m=ve(t,"keyFromInds");Gr(m)||(m="fromInds");let y=ve(t,"numMaxLayers");pf(y)||(y=40);let b=ve(t,"baseOnOriginalLayers");An(b)||(b=!1);let w=Xi(e);g&&(w=xr(w,((e,t)=>(Br(e[v])||(e[v]=t),e))));let $=Xi(w);w=gs(w,{keyType:l});let S=e=>{let t=nn(e[n]),r=nn(e[i]);return Math.max(r-t,0)},x=(e,t,r)=>{let n=ve(e,r,""),i=ve(t,r,""),o=Gr(n)||Br(n),l=Gr(i)||Br(i);if(!o)throw console.log("v1",e),new Error(`invalid key[${r}] in the this layer`);if(!l)throw console.log("v2",t),new Error(`invalid key[${r}] in the lower layer`);return n=da(n),i=da(i),n!==i?"":S(e)>=S(t)?"up":"down"},M=e=>{let t=nn(e[n]),l=nn(e[i]),u=(t+l)/2;return e[r]=u,e[o]=Math.max(l-t,0),e},P=e=>(e=xr(e,(e=>M(e))),e),E=(e,t)=>((e,t,r,n)=>(jn(e[n])||(e[n]=[e[r]]),jn(t[n])||(t[n]=[t[r]]),t[n]=[...e[n],...t[n]],t))(e,t,v,m),k=(e,t,r)=>{let o=Mn(r);if(t+1>o-1)throw console.log("k",t),console.log("nrs",o),new Error(`k+1(${t+1}) > nrs-1(${o-1})`);if("up"===e){r[t][i]=r[t+1][i],r[t]=M(r[t]),g&&(r[t]=E(r[t+1],r[t]));let e=r[t];r[t+1]=e,r[t]=null}else r[t+1][n]=r[t][n],r[t+1]=M(r[t+1]),g&&(r[t+1]=E(r[t],r[t+1])),r[t]=null;return r},O=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"thicknessMax",.02),n=ve(t,"useMgType",!1),i=ve(t,"useMgType2",!1),p=ve(t,"useMgType3",!1),d=ve(t,"useMgType4",!1),g=ve(t,"useMgTypeIcn",!1),v=ve(t,"useMgValueIcn",!1),m=ve(t,"mgValueIcnDiffMax",.2),y=ve(t,"useDelThickness",!1),b=Mn(e),w=((e,t)=>{let r=[];return ot(e,((e,n)=>{let i=e[o];i<=t&&r.push({thickness:i,ind:n})})),r})(e=P(e),r);if(0===Mn(w))return{merged:!1,rs:e};let $=e=>e="up"===e?"down":"up",M=!1;return ot(w,((t,r)=>{let o=ve(t,"ind"),l=o+1,w=ve(e,o,null),P=ve(e,l,null),E=!1;if(o===b-1){E=!0;let t=o;o=t-1,l=t,w=ve(e,o,null),P=ve(e,l,null)}if(null===w){if(E)return!0;throw console.log("nrs",b),console.log("k1",o,"k2",l),new Error("invalid v1")}if(null===P)throw console.log("nrs",b),console.log("k1",o,"k2",l),new Error("invalid v2");let O="";return n&&(O=x(w,P,u),Gr(O))||d&&(O=x(w,P,f),Gr(O))||g&&(O=x(w,P,c),Gr(O))||p&&(O=x(w,P,s),Gr(O))||i&&(O=x(w,P,a),Gr(O))||v&&Gr(h)&&(O=((e,t,r,n)=>{let i=ve(e,n,""),o=ve(t,n,""),l=Br(i),u=Br(o);if(!l)throw console.log("v1",e),new Error(`invalid key[${n}] in the this layer`);if(!u)throw console.log("v2",t),new Error(`invalid key[${n}] in the lower layer`);return i=nn(i),o=nn(o),Math.abs(i-o)>r?"":S(e)>=S(t)?"up":"down"})(w,P,m,h),Gr(O))?(E&&(O=$(O)),e=k(O,o,e),M=!0,!0):y?(O="down",E&&(O=$(O)),e=k(O,o,e),M=!0,!0):void 0})),M?{merged:!0,rs:e=(e=>(e=gs(e=ra(e,ju),{keyType:l}),P(e)))(e)}:{merged:!1,rs:e}},j=[];{let e=p,t=d,r=[];{let n=[!1],i=[!1],o=[!1],l=[!1,!0],u=[!1,!0],a=[!1,!0];ot([!1,!0],(s=>{ot(e,(e=>{ot(n,(n=>{let f=[null];n&&(f=t),ot(f,(t=>{ot(i,(i=>{ot(o,(o=>{ot(u,(u=>{ot(l,(l=>{ot(a,(a=>{r.push({thicknessMax:e,useMgType:a,useMgType2:i,useMgType3:o,useMgType4:l,useMgTypeIcn:u,useMgValueIcn:n,mgValueIcnDiffMax:t,useDelThickness:s})}))}))}))}))}))}))}))}))}))}let n=w;ot(r,(e=>{if(Mn(n)<=y)return!1;let t=O(n,e);n=t.rs})),j=n}if(b){let e=Mn(j),t=[];ot(j,((r,n)=>{let i=r.type;Br(i)&&(i=nn(i)),r.fromInds=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!to(e))return[];if(1===Mn(e))return e;let r=ve(t,"localeCompare");An(r)||(r=!1);let n=ve(t,"returnIndex");An(n)||(n=!1);let i=ve(t,"compareKey",null),o=null;o=r?Sf:$f;let l,u=bf(e);if(""===u)return[];if("obj"===u){if(!Gr(i))return[];let t=xr(e,((e,t)=>ve(e,i,""))),u=bf(t);if("num"!==u&&"str"!==u)return[];{r&&(u="files");let i=o(wf(t,u),!0);l=n?i:xr(i,(t=>e[t]))}}else"num"!==u&&"str"!==u||(r&&(u="files"),l=o(wf(e,u),n));return l}(r.fromInds),ot(r.fromInds,(r=>{let o=$[r];o.layer_no=n+1,o[`type_merge_${e}(${y})`]=i,t.push(o)}))})),j=t}return j},e.calcLayersByMerge=gs,e.calcLiquefaction=hc,e.calcLiquefactionAddErr=pc,e.calcLiquefactionClearStress=dc,e.calcLiquefactionExtractErr=$c,e.calcLiquefactionSpt=Mc,e.calcLiquefactionSptAddPropsAdv=xc,e.calcLiquefactionSptAddPropsBasic=Sc,e.calcLiquefactionSptForCriticalPga=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!to(e))throw new Error("ltdt is not an effective array");if(!to(t))throw new Error(`methods[${t}] is not an effective array`);let n=ve(r,"Mw","");Br(n)||(n=6.8),n=nn(n);let i=ve(r,"waterLevelUsual",0);i=nn(i);let o=ve(r,"waterLevelDesign",0);o=nn(o);let l=ve(r,"unitSvSvp","");Gr(l)||(l="kPa");let u=ve(r,"pgaMax","");Br(u)||(u=2),u=nn(u);let a=ve(r,"pgaSlice","");Br(a)||(a=.02),a=nn(a);let s=ve(r,"useFS",!0);An(s)||(s=!0);let f=ve(r,"usePL",!0);An(f)||(f=!0);let c=ve(r,"useStl",!0);An(c)||(c=!0);let h=ve(r,"stlLims",[]);to(h)||(h=[.3]);let p=ve(r,"useH1PL",!0);An(p)||(p=!0);let d=ve(r,"keysPick",[]);to(d)||(d=[]);let g=ve(r,"returnLtdtForEachPga","");An(g)||(g=!1),e=Sc(e);let v=Oc(u/a),m=[],y=[];ot(v,(r=>{let d=(r+1)*a,v=Fc(e,d,t,{Mw:n,waterLevelUsual:i,waterLevelDesign:o,unitSvSvp:l,pgaMax:u,useFS:s,usePL:f,useStl:c,stlLims:h,useH1PL:p}),b=v.ltdt,w=v.dtRes;w.inputPGA=d,g&&m.push({PGA:d,ltdt:b}),y.push(w)})),y=$c(y,{mergeTo:"last",returnLastone:!1});let b=Xi(ve(y,Mn(y)-1)),w=(e,t)=>{ot(e,(e=>{ot(y,(r=>{if(r[e]===t){let n=e.replace("-state","-failurePGA"),i=e.replace("-state","-msg");return b[e]=t,b[n]=r.PGA,b[i]=r[i],!1}}))}))};if(s){let e=Rc(y,"-FS-state");w(e,"")}if(f){let e=Rc(y,"-PL-state");w(e,"")}if(c&&ot(h,(e=>{let t=Rc(y,`-stlTS${e}-state`);w(t,"");let r=Rc(y,`-stlIY${e}-state`);w(r,"")})),p){let e=Rc(y,"-H1PL-state");w(e,"")}let $=[];s&&$.push("-FS"),f&&$.push("-PL"),c&&ot(h,(e=>{$.push(`-stlTS${e}`),$.push(`-stlIY${e}`)})),p&&$.push("-H1PL");let S=["-state","-failurePGA","-msg"],x=[...d,"inputPGA"];ot(t,(e=>{ot($,(t=>{ot(S,(r=>{let n=`${e}${t}${r}`;x.push(n)}))})),x.push(`${e}-err`)})),y=xr(y,((e,t)=>Lf(e,x))),Cc(x,"inputPGA");let M=[b];M=xr(M,((e,t)=>Lf(e,x)));let P={ltdt:e,ltdtRes:y,ltdtResp:M};return g&&(P.pgasLtdt=m),P},e.calcPropInterfaceFrictionAngle=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=ve(r,"keyX","");Gr(n)||(n="x");let i=ve(r,"keyY","");Gr(i)||(i="y");let o=ve(r,"useRegIntercept");An(o)||(o=!0);let l=[];ot(e,(e=>{let t=ve(e,n,""),r=ve(e,i,"");Br(t)&&Br(r)&&(t=nn(t),r=nn(r),l.push([t,r]))}));let u=Mn(l);if(0===u)throw console.log("ltdt",e),console.log("keyX",n,"keyY",i),new Error("no effective data");let a=null;a=1===u&&o?{m:0,interpY:l[0][1]}:await Wh(l,{useRegIntercept:o,useSync:!1});let s=xr(l,(e=>a.m*e[0]+a.b)),f=xr(l,((e,t)=>(l[t][1]-s[t])**2)),c=xr(l,0),h=Mf(c),p=xf(c),d=ea(c),g=h-p,v=_c(xr(c,(e=>(e-d)**2))),m=_c(f),y=u-1,b=await Vh(y,.975),w=a.m*t+a.b,$=b*(m/(u-2))**.5*(1/u+(t-d)**2/v)**.5,S=w+$,x=w-$,M=[],P=1;ot(Hu(11),(e=>{M.push(P),P*=1.1})),M=xr(M,(e=>e-1));let E=g/M[10];M=xr(M,(e=>p+e*E));let k=[],O=[],j=[];return ot(M,(e=>{let t=a.m*e+a.b,r=b*(m/(u-2))**.5*(1/u+(e-d)**2/v)**.5,n=t+r,i=t-r;k.push(t),O.push(n),j.push(i)})),{rgl:a,BE:w,UE:S,LE:x,psBE:k,psUE:O,psLE:j}},e.calcRelaPlasticity=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ve(t,"keyDepth");Gr(r)||(r="depth");let n=ve(t,"keyWc");Gr(n)||(n="WC");let i=null;{let t=xr(e,n);t=ra(t,Br),Mn(t)>0&&(i=Un(e,r,n))}let o=Ou(i),l=xr(e,(e=>{let l=ve(e,n);if(Br(l)||(l=null),!Br(l)&&o){let t=ve(e,r);Br(t)&&(t=nn(t),l=i(t),Br(l)||(console.log("keyDepth",r),console.log("keyWc",n),console.log("dt",e),console.log("")))}e=ep(ep({},e),{},{WC:l});try{let r=Xh(e,t);e=ep(ep({},e),r)}catch(e){}return e}));return l},e.calcRelaPorous=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=xr(e,(e=>{try{let r=np(e,t);e=op(op({},e),r)}catch(e){}return e}));return r},e.calcRelaPsdContent=function(e){let t=xr(e,(e=>{e=cp(cp({},e),{},{ctGravel:ve(e,"ctGravel",null),ctSand:ve(e,"ctSand",null),ctSilt:ve(e,"ctSilt",null),ctClay:ve(e,"ctClay",null),ctCoarse:ve(e,"ctCoarse",null),ctFine:ve(e,"ctFine",null)});try{let t=sp(e);e=cp(cp({},e),t)}catch(e){}return e}));return t},e.calcVerticalStress=Hl,e.checkDepth=hp,e.checkDepthStartEnd=Ul,e.checkVerticalStress=ya,e.cnst=Bn,e.complementDepthData=function(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!Gr(t))throw new Error("invalid keyDepth");if(!Gr(r))throw new Error("invalid keyValue");if(!to(n))throw new Error("invalid keysValueCmp");e=Xi(e);let o=ve(i,"searchLen");Br(o)||(o=.5);let l=ve(i,"beforeSearchMode");"all"!==l&&"no"!==l&&"peak"!==l&&"half-closed-value"!==l&&"double-closed-value"!==l&&"closed-value"!==l&&(l="no");let u=ve(i,"afterSearchMode");"all"!==u&&"no"!==u&&"peak"!==u&&"half-closed-value"!==u&&"double-closed-value"!==u&&"closed-value"!==u&&(u="all");let a=ve(i,"cmpMode");"linear-fill"!==a&&"cut"!==a&&(a="linear-fill");let s=function(e,t,r){let n=[];return ot(e,((i,o)=>{if(0===o)return!0;let l=vp(e,t,o-1),u=vp(e,r,o-1),a=vp(e,r,o);Br(u)&&!Br(a)&&n.push({k:o-1,depth:l,value:u})})),n}(e,t,r);return ot(s,(i=>{let s=null;if(s=function(e,t,r,n,i,o){return mp(e,t,r,n,i,o,gp({dir:"before"},arguments.length>6&&void 0!==arguments[6]?arguments[6]:{}))}(e,t,r,i.k,o,ve(i,"value"),{searchMode:l}),null===s)return!0;let f=null;if(f=function(e,t,r,n,i,o){return mp(e,t,r,n,i,o,gp({dir:"after"},arguments.length>6&&void 0!==arguments[6]?arguments[6]:{}))}(e,t,r,i.k,o,ve(s,"value")||ve(i,"value"),{searchMode:u}),null===f)return!0;"linear-fill"===a?e=function(e,t,r,n){if(r===n)return;if(r>n)throw new Error("k0 > k1");let i=Xi(e);return ot(t,(t=>{let o=vp(e,t,r),l=vp(e,t,n),u=n-r;for(let e=r;e<=n;e++)pp(i,`${e}.${t}`,(n-e)/u*o+(e-r)/u*l)})),i}(e,n,s.k,f.k):"cut"===a&&(e=function(e,t,r,n){if(r===n)return;if(r>n)throw new Error("k0 > k1");let i=Xi(e);return ot(t,(e=>{for(let t=r;t<=n;t++)pp(i,`${t}.${e}`,"")})),i}(e,n,s.k,f.k))})),e},e.cutByDepthStartEnd=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!Br(t))throw new Error(`depthStart[${t}] is not a number`);if(t=nn(t),!Br(r))throw new Error(`depthEnd[${r}] is not a number`);if(r=nn(r),t>r)throw new Error(`depthStart[${t}] > depthEnd[${r}]`);let i=ve(n,"keyDepth");Gr(i)||(i="depth");let o=ve(n,"keyDepthStart");Gr(o)||(o="depthStart");let l=ve(n,"keyDepthEnd");Gr(l)||(l="depthEnd");let u=[];return ot(e,(e=>{if(!Br(e[i]))return!0;let n=nn(e[i]),a=nn(e[o]),s=nn(e[l]),f=xf([n,a,s]),c=Mf([n,a,s]);f>=t&&c<=r&&u.push(e)})),u},e.dtEstmOcr=Ts,e.dtEstmRelativeDensity=Ws,e.dtIntrpPsdBySize=lf,e.dtIntrpPsdContentIso=uf,e.dtIntrpPsdContentUscs=ff,e.dtRelaPlasticity=Xh,e.dtRelaPorous=np,e.dtRelaPsdContent=sp,e.estmOcr=Ns,e.estmRelativeDensity=Bs,e.getCptDepthHcOpt=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=ve(r,"xLabelPre",""),i=ve(r,"useXLabelChtAndEng",!0),o=ve(r,"useXYLabelEng",!0),l=ve(r,"useYLabel",!0),u=ve(r,"yLabelCht",""),a=ve(r,"yLabelEng","Depth"),s=ve(r,"yLabelTextSizeCht",12),f=ve(r,"yLabelTextSizeEng",10),c=ve(r,"yUnit","m"),h=ve(r,"yDig",void 0),p=ve(r,"yLimMin",void 0),d=ve(r,"yLimMax",void 0),g="";async function v(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=ve(n,"xLabelPre",""),u=ve(n,"xLabelCht",""),a=ve(n,"xLabelEng",void 0),s=ve(n,"xLabelTextSizePre",14),f=ve(n,"xLabelTextSizeCht",12),g=ve(n,"xLabelTextSizeEng",10),v=ve(n,"xUnit",void 0);i||(u="",a="");let m="";Gr(l)&&(m+=Ad(l,s)+"<br>"),Gr(u)&&(Gr(v)?m+=Ad(u+Id(v),f):m+=Ad(u,f)),o&&Gr(a)&&(m+=Nd(a+Id(v),g));let y=[{name:"",data:Nu(e,t,!0)}];return Ud(Gd(Gd(Gd({},r),n),{},{dataPoints:y,xLabel:m,yUnit:c,yDig:h,yLimMin:p,yLimMax:d}))}l&&(Gr(u)&&(Gr(c)?g+=Ad(u+Id(c),s):g+=Ad(u,s)),o&&a&&(g+=Nd(a+Id(c),f)));let m=null;if("qc"===t?m=await v(e,"qc",{yLabel:g,xLabelPre:n,xLabelCht:" q<sub>c</sub>",xLabelEng:"Cone resistance",xUnit:"MPa",xLimMin:0,xSoftMax:30,xTickInterval:10}):"qt"===t?m=await v(e,"qt",{yLabel:g,xLabelPre:n,xLabelCht:" q<sub>t</sub>",xLabelEng:"Corrected cone resistance",xUnit:"MPa",xLimMin:0,xSoftMax:30}):"qnet"===t?m=await v(e,"qnet",{yLabel:g,xLabelPre:n,xLabelCht:" q<sub>net</sub>",xLabelEng:"Net corrected cone resistance",xUnit:"MPa",xLimMin:0,xSoftMax:30}):"Qt"===t?m=await v(e,"Qt",{yLabel:g,xLabelPre:n,xLabelCht:" Q<sub>t</sub>",xLabelEng:"Normalized cone resistance Q<sub>t</sub>",xUnit:"",xLimMin:0,xLimMax:150}):"Qtn"===t?m=await v(e,"Qtn",{yLabel:g,xLabelPre:n,xLabelCht:" Q<sub>tn</sub>",xLabelEng:"Normalized cone resistance Q<sub>tn</sub>",xUnit:"",xLimMin:0,xLimMax:150}):"fs"===t?m=await v(e,"fs",{yLabel:g,xLabelPre:n,xLabelCht:" f<sub>s</sub>",xLabelEng:"Sleeve friction",xUnit:"MPa",xLimMin:0,xSoftMax:1.2,xTickInterval:.2}):"Rf"===t?m=await v(e,"Rf",{yLabel:g,xLabelPre:n,xLabelCht:" R<sub>f</sub>",xLabelEng:"Friction ratio",xUnit:"%",xLimMin:0,xSoftMax:8,xTickInterval:2}):"Fr"===t?m=await v(e,"Fr",{yLabel:g,xLabelPre:n,xLabelCht:" F<sub>r</sub>",xLabelEng:"Normalized friction ratio",xUnit:"%",xLimMin:0,xSoftMax:8,xTickInterval:2}):"u2"===t?m=await v(e,"u2",{yLabel:g,xLabelPre:n,xLabelCht:" u<sub>2</sub>",xLabelEng:"Pore pressure",xUnit:"MPa",addStaticPP:!0}):"Bq"===t?m=await v(e,"Bq",{yLabel:g,xLabelPre:n,xLabelCht:" B<sub>q</sub>",xLabelEng:"Pore pressure ratio",xUnit:"",xLimMin:-1,xLimMax:3}):"rsat"===t?m=await v(e,"rsat",{yLabel:g,xLabelPre:n,xLabelCht:" <sub>sat</sub>",xLabelEng:"Saturated unit weight",xUnit:"kN/m",xLimMin:16,xLimMax:22,xTickInterval:2}):"Ic"===t?m=await v(e,"Ic",{yLabel:g,xLabelPre:n,xLabelCht:" I<sub>c</sub>",xLabelEng:"Soil behaviour type index",xUnit:"",xLimMin:1,xLimMax:5,xTickInterval:1,addIcRanges:!0}):"Icn"===t?m=await v(e,"Icn",{yLabel:g,xLabelPre:n,xLabelCht:" I<sub>cn</sub>",xLabelEng:"Soil behaviour type index",xUnit:"",xLimMin:1,xLimMax:5,xTickInterval:1,addIcRanges:!0}):"Rob:Bq-qt"===t?m=await v(e,"iRobBqqt",{yLabel:g,xLabelPre:n,xLabelCht:"Robertson B<sub>q</sub>-q<sub>t</sub>",xLabelEng:"Zone index",xUnit:"",xLimMin:0,xLimMax:14,displayDataMode:"dot point"}):"Rob:Rf-qt"===t?m=await v(e,"iRobRfqt",{yLabel:g,xLabelPre:n,xLabelCht:"Robertson R<sub>f</sub>-q<sub>t</sub>",xLabelEng:"Zone index",xUnit:"",xLimMin:0,xLimMax:14,displayDataMode:"dot point"}):"Rob:Bq-Qt"===t?m=await v(e,"iRobBqQt",{yLabel:g,xLabelPre:n,xLabelCht:"Robertson B<sub>q</sub>-Q<sub>t</sub>",xLabelEng:"Zone index",xUnit:"",xLimMin:0,xLimMax:10,displayDataMode:"dot point"}):"Rob:Bq-Qtn"===t?m=await v(e,"iRobBqQtn",{yLabel:g,xLabelPre:n,xLabelCht:"Robertson B<sub>q</sub>-Q<sub>tn</sub>",xLabelEng:"Zone index",xUnit:"",xLimMin:0,xLimMax:10,displayDataMode:"dot point"}):"Rob:Fr-Qt"===t?m=await v(e,"iRobFrQt",{yLabel:g,xLabelPre:n,xLabelCht:"Robertson F<sub>r</sub>-Q<sub>t</sub>",xLabelEng:"Zone index",xUnit:"",xLimMin:0,xLimMax:10,displayDataMode:"dot point"}):"Rob:Fr-Qtn"===t?m=await v(e,"iRobFrQtn",{yLabel:g,xLabelPre:n,xLabelCht:"Robertson F<sub>r</sub>-Q<sub>tn</sub>",xLabelEng:"Zone index",xUnit:"",xLimMin:0,xLimMax:10,displayDataMode:"dot point"}):"Ram:Bq-Qt"===t?m=await v(e,"iRamBqQt",{yLabel:g,xLabelPre:n,xLabelCht:"Ramsey B<sub>q</sub>-Q<sub>t</sub>",xLabelEng:"Zone index",xUnit:"",xLimMin:0,xLimMax:10,displayDataMode:"dot point"}):"Ram:Fr-Qt"===t&&(m=await v(e,"iRamFrQt",{yLabel:g,xLabelPre:n,xLabelCht:"Ramsey F<sub>r</sub>-Q<sub>t</sub>",xLabelEng:"Zone index",xUnit:"",xLimMin:0,xLimMax:10,displayDataMode:"dot point"})),null===m){let r=[{name:"HBF",title:"HBF",year:2017},{name:"HBF",title:"HBF",year:2021},{name:"NCEER",title:"NCEER",year:1997},{name:"Robertson",title:"Robertson",year:2009},{name:"Juang",title:"Juang",year:2002},{name:"KuAndJuang",title:"Ku & Juang",year:2012},{name:"Olsen",title:"Olsen",year:1997},{name:"Shibata",title:"Shibata",year:1988}];await wp(r,(async r=>{t===`cpt${r.name}${r.year}-CRR`?m=await v(e,`cpt${r.name}${r.year}-CRR`,{yLabel:g,xLabelPre:n,xLabelCht:`${r.title}(${r.year}) CRR`,xLabelEng:"CRR",xUnit:"",xLimMin:0,xLimMax:2}):t===`cpt${r.name}${r.year}-CSR`?m=await v(e,`cpt${r.name}${r.year}-CSR`,{yLabel:g,xLabelPre:n,xLabelCht:`${r.title}(${r.year}) CSR`,xLabelEng:"CSR",xUnit:""}):t===`cpt${r.name}${r.year}-FS`&&(m=await v(e,`cpt${r.name}${r.year}-FS`,{yLabel:g,xLabelPre:n,xLabelCht:`${r.title}(${r.year}) FS`,xLabelEng:"FS",xUnit:"",xLimMin:0,xLimMax:2,addFS1:!0}))}))}if(null===m)throw new Error(`invalid retKind[${t}]`);return m},e.groupByDepthStartEnd=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=[];if(!to(e))throw new Error("");if(!to(t)&&!ju(t))throw new Error("");let i=ve(r,"keyDepth");Gr(i)||(i="depth");let o=ve(r,"keyDepthStart");Gr(o)||(o="depthStart");let l=ve(r,"keyDepthEnd");if(Gr(l)||(l="depthEnd"),ot(e=Xi(e),((e,t)=>{let r=ve(e,i,null);Br(r)||n.push(` ${t} ${i}[${r}]`)})),Mn(n)>0)throw new Error(Hn(n,"; "));let u=hp(e=zr(e,(e=>nn(e[i]))),{keyDepth:i});if(Mn(u)>0)throw new Error(Hn(u,", "));if(ju(t)&&(t=[t]),ot(t,((e,t)=>{let r=ve(e,o,null),i=ve(e,l,null);Br(r)||n.push(` ${t} ${o}[${r}]`),Br(i)||n.push(` ${t} ${l}[${i}]`)})),Mn(n)>0)throw new Error(Hn(n,"; "));if(ot(t,((e,r)=>{let i=ve(e,o,null),u=ve(e,l,null);if(i=nn(i),u=nn(u),Tl(i,">",u)&&n.push(` ${r} ${o}[${i}]${l}[${u}]`),0===r)return!0;let a=ve(t,r-1),s=ve(a,l,null);s=nn(s),Tl(s,">",i)&&n.push(` ${r} ${l}[${s}] ${r+1} ${o}[${i}]`)})),Mn(n)>0)throw new Error(Hn(n,"; "));let a=Xi(e),s=Xi(t);return s=xr(s,((e,t)=>{let r=ve(e,o,null),n=ve(e,l,null);r=nn(r),n=nn(n);let u=[],s=[];return ot(a,((e,t)=>{let o=e[i];if(Tl(o,">=",r)&&Tl(o,"<=",n)&&(u.push(t),s.push(e)),Tl(o,">",n))return!1})),e.rows=Xi(s),As(a,u),e})),s},e.intrpDefParam=Gu,e.intrpPsdBySize=nf,e.judge=Tl,e.mergeByDepthStartEnd=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!to(e))throw new Error("");let r=ve(t,"keyDepthStart");Gr(r)||(r="depthStart");let n=ve(t,"keyDepthEnd");Gr(n)||(n="depthEnd");let i=ve(t,"keyValue");Gr(i)||(i="value");let o=ve(t,"saveFromInds");An(o)||(o=!1);let l=ve(t,"keyInd");Gr(l)||(l="ind");let u=ve(t,"keyFromInds");Gr(u)||(u="fromInds");let a=ve(t,"typeDetect");"sequence"!==a&&"iterate"!==a&&(a="sequence");let s=ve(t,"funMerge"),f=Ou(s),c=ve(t,"typeMerge");"up"!==c&&"down"!==c&&(c="down");let h=Ul(e=Xi(e),{keyDepthStart:r,keyDepthEnd:n});if(Mn(h)>0)throw new Error(Hn(h,", "));if(e=zr(e,(e=>nn(e[r]))),o&&(e=xr(e,((e,t)=>(Br(e[l])||(e[l]=t),e)))),"iterate"===a){let t=e=>{let t=!1;for(let a=1;a<Mn(e);a++){let h=e[a-1],p=e[a],d=ve(h,r,null),g=ve(h,n,null),v=ve(h,i,null),m=ve(p,r,null),y=ve(p,n,null),b=ve(p,i,null);if(null===v)throw console.log("v0",h,"keyValue",i),new Error("invalid vl0");if(null===b)throw console.log("v1",p,"keyValue",i),new Error("invalid vl1");if(!(Br(d)&&Br(g)&&Br(m)&&Br(y)))return!0;if(d=nn(d),g=nn(g),m=nn(m),y=nn(y),v===b&&Tl(g,"===",m)){o&&(jn(h[u])||(h[u]=[h[l]]),jn(p[u])||(p[u]=[p[l]]),p[u]=[...h[u],...p[u]]);let i=null;if(f){if(i=s(h,p),!ju(i))throw new Error(`funMerge[${i}]`)}else"up"===c?i=Qd(Qd({},p),h):"down"===c&&(i=Qd(Qd({},h),p));i[r]=d,i[n]=y,(e=Xi(e))[a-1]=i,As(e,a),t=!0;break}}return{merge:t,rows:e}},a=t(e);for(;a.merge;)a=t(e),e=a.rows}else"sequence"===a&&(ot(e,((t,a)=>{if(0===a)return!0;if(!ju(t))throw new Error(`rows[${a}] is not an object`);let h=ve(e,a-1),p=t,d=ve(h,r,null),g=ve(h,n,null),v=ve(h,i,null),m=ve(p,r,null),y=ve(p,n,null),b=ve(p,i,null);if(null===v)throw console.log("v0",h,"keyValue",i),new Error("invalid vl0");if(null===b)throw console.log("v1",p,"keyValue",i),new Error("invalid vl1");if(!(Br(d)&&Br(g)&&Br(m)&&Br(y)))return!0;if(d=nn(d),g=nn(g),m=nn(m),y=nn(y),v===b&&Tl(g,"===",m)){o&&(jn(h[u])||(h[u]=[h[l]]),jn(p[u])||(p[u]=[p[l]]),p[u]=[...h[u],...p[u]]);let t=null;if(f){if(t=s(h,p),!ju(t))throw new Error(`funMerge[${t}]`)}else"up"===c?t=Qd(Qd({},p),h):"down"===c&&(t=Qd(Qd({},h),p));t[r]=d,t[n]=y,e[a]=t,e[a-1]=null}})),e=ra(e,ju));return e},e.relaPlasticity=Yh,e.relaPorous=Hf,e.relaPsdContent=lp,e.sepDepthStartEndByDepth=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!to(e))throw new Error("");if(!to(t))return e;let n=ve(r,"keyDepthStart");Gr(n)||(n="depthStart");let i=ve(r,"keyDepthEnd");Gr(i)||(i="depthEnd");let o=ve(r,"keyDepth");Gr(o)||(o="depth");let l=Ul(e=Xi(e),{keyDepthStart:n,keyDepthEnd:i});if(Mn(l)>0)throw new Error(Hn(l,", "));e=zr(e,(e=>nn(e[n])));let u=hp(t,{keyDepth:o});if(Mn(u)>0)throw new Error(Hn(u,", "));let a=xr(t,(e=>e[o]));a=wc(a);let s=(e,t)=>(ot(e=Xi(e),((r,o)=>{let l=ve(r,n,null),u=ve(r,i,null);if(l=nn(l),u=nn(u),Tl(t,">",l)&&Tl(t,"<",u)){let l=Xi(r),u=Xi(r);return l[i]=t,u[n]=t,As(e,o),e=function(e,t,r){if(!jn(e))return[];if(jn(r)||(r=[r]),!Ku(t))return e;if((t=_u(t))>Mn(e))return e;let n=e;try{n=[...e.slice(0,t),...r,...e.slice(t)]}catch(e){}return n}(e,o,[l,u]),!1}})),e);return ot(a,(t=>{e=s(e,t)})),e},e.smoothDepthByKey=ma,e.trimParams=function(e){return xr(e,(e=>{let t=Xi(e);return ot(t,((e,r)=>{Tr(e)&&(e=ku(e)),t[r]=e})),t}))}}));
//# sourceMappingURL=w-geo.umd.js.map
