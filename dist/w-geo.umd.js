/*!
 * w-geo v1.0.57
 * (c) 2018-2021 yuda-lyu(semisphere)
 * Released under the MIT License.
 */
!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r((e="undefined"!=typeof globalThis?globalThis:e||self)["w-geo"]={})}(this,(function(e){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e){var n=function(e,n){if("object"!==r(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,n||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===r(n)?n:String(n)}function t(e,r,t){return(r=n(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var o={},a={get exports(){return o},set exports(e){o=e}};var s=function(e,r){for(var n=-1,t=null==e?0:e.length;++n<t&&!1!==r(e[n],n,e););return e};var l=function(e){return function(r,n,t){for(var i=-1,u=Object(r),o=t(r),a=o.length;a--;){var s=o[e?a:++i];if(!1===n(u[s],s,u))break}return r}}();var f=function(e,r){for(var n=-1,t=Array(e);++n<e;)t[n]=r(n);return t},c="object"==typeof i&&i&&i.Object===Object&&i,p=c,h="object"==typeof self&&self&&self.Object===Object&&self,d=p||h||Function("return this")(),v=d.Symbol,g=v,m=Object.prototype,y=m.hasOwnProperty,w=m.toString,b=g?g.toStringTag:void 0;var $=function(e){var r=y.call(e,b),n=e[b];try{e[b]=void 0;var t=!0}catch(e){}var i=w.call(e);return t&&(r?e[b]=n:delete e[b]),i},x=Object.prototype.toString;var S=$,E=function(e){return x.call(e)},_=v?v.toStringTag:void 0;var j=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":_&&_ in Object(e)?S(e):E(e)};var O=function(e){return null!=e&&"object"==typeof e},D=j,R=O;var M=function(e){return R(e)&&"[object Arguments]"==D(e)},q=O,k=Object.prototype,P=k.hasOwnProperty,C=k.propertyIsEnumerable,N=M(function(){return arguments}())?M:function(e){return q(e)&&P.call(e,"callee")&&!C.call(e,"callee")},A=N,z=Array.isArray,F={};var L=function(){return!1};!function(e,r){var n=d,t=L,i=r&&!r.nodeType&&r,u=i&&e&&!e.nodeType&&e,o=u&&u.exports===i?n.Buffer:void 0,a=(o?o.isBuffer:void 0)||t;e.exports=a}({get exports(){return F},set exports(e){F=e}},F);var T=/^(?:0|[1-9]\d*)$/;var I=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&T.test(e))&&e>-1&&e%1==0&&e<r};var G=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},U=j,B=G,Q=O,V={};V["[object Float32Array]"]=V["[object Float64Array]"]=V["[object Int8Array]"]=V["[object Int16Array]"]=V["[object Int32Array]"]=V["[object Uint8Array]"]=V["[object Uint8ClampedArray]"]=V["[object Uint16Array]"]=V["[object Uint32Array]"]=!0,V["[object Arguments]"]=V["[object Array]"]=V["[object ArrayBuffer]"]=V["[object Boolean]"]=V["[object DataView]"]=V["[object Date]"]=V["[object Error]"]=V["[object Function]"]=V["[object Map]"]=V["[object Number]"]=V["[object Object]"]=V["[object RegExp]"]=V["[object Set]"]=V["[object String]"]=V["[object WeakMap]"]=!1;var Y=function(e){return Q(e)&&B(e.length)&&!!V[U(e)]};var Z=function(e){return function(r){return e(r)}},H={};!function(e,r){var n=c,t=r&&!r.nodeType&&r,i=t&&e&&!e.nodeType&&e,u=i&&i.exports===t&&n.process,o=function(){try{var e=i&&i.require&&i.require("util").types;return e||u&&u.binding&&u.binding("util")}catch(e){}}();e.exports=o}({get exports(){return H},set exports(e){H=e}},H);var W=Y,K=Z,J=H&&H.isTypedArray,X=J?K(J):W,ee=f,re=A,ne=z,te=F,ie=I,ue=X,oe=Object.prototype.hasOwnProperty;var ae=function(e,r){var n=ne(e),t=!n&&re(e),i=!n&&!t&&te(e),u=!n&&!t&&!i&&ue(e),o=n||t||i||u,a=o?ee(e.length,String):[],s=a.length;for(var l in e)!r&&!oe.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||u&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ie(l,s))||a.push(l);return a},se=Object.prototype;var le=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||se)};var fe=function(e,r){return function(n){return e(r(n))}},ce=fe(Object.keys,Object),pe=le,he=ce,de=Object.prototype.hasOwnProperty;var ve=function(e){if(!pe(e))return he(e);var r=[];for(var n in Object(e))de.call(e,n)&&"constructor"!=n&&r.push(n);return r};var ge=function(e){var r=typeof e;return null!=e&&("object"==r||"function"==r)},me=j,ye=ge;var we=function(e){if(!ye(e))return!1;var r=me(e);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r},be=we,$e=G;var xe=function(e){return null!=e&&$e(e.length)&&!be(e)},Se=ae,Ee=ve,_e=xe;var je=function(e){return _e(e)?Se(e):Ee(e)},Oe=l,De=je;var Re=xe;var Me=function(e,r){return function(n,t){if(null==n)return n;if(!Re(n))return e(n,t);for(var i=n.length,u=r?i:-1,o=Object(n);(r?u--:++u<i)&&!1!==t(o[u],u,o););return n}}((function(e,r){return e&&Oe(e,r,De)}));var qe=function(e){return e},ke=qe;var Pe=s,Ce=Me,Ne=function(e){return"function"==typeof e?e:ke},Ae=z;var ze=function(e,r){return(Ae(e)?Pe:Ce)(e,Ne(r))};!function(e){e.exports=ze}(a);var Fe=u(o);var Le=function(e,r){for(var n=-1,t=null==e?0:e.length,i=Array(t);++n<t;)i[n]=r(e[n],n,e);return i};var Te=function(){this.__data__=[],this.size=0};var Ie=function(e,r){return e===r||e!=e&&r!=r},Ge=Ie;var Ue=function(e,r){for(var n=e.length;n--;)if(Ge(e[n][0],r))return n;return-1},Be=Ue,Qe=Array.prototype.splice;var Ve=Ue;var Ye=Ue;var Ze=Ue;var He=Te,We=function(e){var r=this.__data__,n=Be(r,e);return!(n<0)&&(n==r.length-1?r.pop():Qe.call(r,n,1),--this.size,!0)},Ke=function(e){var r=this.__data__,n=Ve(r,e);return n<0?void 0:r[n][1]},Je=function(e){return Ye(this.__data__,e)>-1},Xe=function(e,r){var n=this.__data__,t=Ze(n,e);return t<0?(++this.size,n.push([e,r])):n[t][1]=r,this};function er(e){var r=-1,n=null==e?0:e.length;for(this.clear();++r<n;){var t=e[r];this.set(t[0],t[1])}}er.prototype.clear=He,er.prototype.delete=We,er.prototype.get=Ke,er.prototype.has=Je,er.prototype.set=Xe;var rr=er,nr=rr;var tr=function(){this.__data__=new nr,this.size=0};var ir=function(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n};var ur=function(e){return this.__data__.get(e)};var or,ar=function(e){return this.__data__.has(e)},sr=d["__core-js_shared__"],lr=(or=/[^.]+$/.exec(sr&&sr.keys&&sr.keys.IE_PROTO||""))?"Symbol(src)_1."+or:"";var fr=function(e){return!!lr&&lr in e},cr=Function.prototype.toString;var pr=function(e){if(null!=e){try{return cr.call(e)}catch(e){}try{return e+""}catch(e){}}return""},hr=we,dr=fr,vr=ge,gr=pr,mr=/^\[object .+?Constructor\]$/,yr=Function.prototype,wr=Object.prototype,br=yr.toString,$r=wr.hasOwnProperty,xr=RegExp("^"+br.call($r).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Sr=function(e){return!(!vr(e)||dr(e))&&(hr(e)?xr:mr).test(gr(e))},Er=function(e,r){return null==e?void 0:e[r]};var _r=function(e,r){var n=Er(e,r);return Sr(n)?n:void 0},jr=_r(d,"Map"),Or=_r(Object,"create"),Dr=Or;var Rr=function(){this.__data__=Dr?Dr(null):{},this.size=0};var Mr=function(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r},qr=Or,kr=Object.prototype.hasOwnProperty;var Pr=function(e){var r=this.__data__;if(qr){var n=r[e];return"__lodash_hash_undefined__"===n?void 0:n}return kr.call(r,e)?r[e]:void 0},Cr=Or,Nr=Object.prototype.hasOwnProperty;var Ar=Or;var zr=Rr,Fr=Mr,Lr=Pr,Tr=function(e){var r=this.__data__;return Cr?void 0!==r[e]:Nr.call(r,e)},Ir=function(e,r){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ar&&void 0===r?"__lodash_hash_undefined__":r,this};function Gr(e){var r=-1,n=null==e?0:e.length;for(this.clear();++r<n;){var t=e[r];this.set(t[0],t[1])}}Gr.prototype.clear=zr,Gr.prototype.delete=Fr,Gr.prototype.get=Lr,Gr.prototype.has=Tr,Gr.prototype.set=Ir;var Ur=Gr,Br=rr,Qr=jr;var Vr=function(e){var r=typeof e;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e};var Yr=function(e,r){var n=e.__data__;return Vr(r)?n["string"==typeof r?"string":"hash"]:n.map},Zr=Yr;var Hr=Yr;var Wr=Yr;var Kr=Yr;var Jr=function(e,r){var n=Kr(this,e),t=n.size;return n.set(e,r),this.size+=n.size==t?0:1,this},Xr=function(){this.size=0,this.__data__={hash:new Ur,map:new(Qr||Br),string:new Ur}},en=function(e){var r=Zr(this,e).delete(e);return this.size-=r?1:0,r},rn=function(e){return Hr(this,e).get(e)},nn=function(e){return Wr(this,e).has(e)},tn=Jr;function un(e){var r=-1,n=null==e?0:e.length;for(this.clear();++r<n;){var t=e[r];this.set(t[0],t[1])}}un.prototype.clear=Xr,un.prototype.delete=en,un.prototype.get=rn,un.prototype.has=nn,un.prototype.set=tn;var on=un,an=rr,sn=jr,ln=on;var fn=rr,cn=tr,pn=ir,hn=ur,dn=ar,vn=function(e,r){var n=this.__data__;if(n instanceof an){var t=n.__data__;if(!sn||t.length<199)return t.push([e,r]),this.size=++n.size,this;n=this.__data__=new ln(t)}return n.set(e,r),this.size=n.size,this};function gn(e){var r=this.__data__=new fn(e);this.size=r.size}gn.prototype.clear=cn,gn.prototype.delete=pn,gn.prototype.get=hn,gn.prototype.has=dn,gn.prototype.set=vn;var mn=gn;var yn=on,wn=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},bn=function(e){return this.__data__.has(e)};function $n(e){var r=-1,n=null==e?0:e.length;for(this.__data__=new yn;++r<n;)this.add(e[r])}$n.prototype.add=$n.prototype.push=wn,$n.prototype.has=bn;var xn=$n;var Sn=function(e,r){return e.has(r)},En=xn,_n=function(e,r){for(var n=-1,t=null==e?0:e.length;++n<t;)if(r(e[n],n,e))return!0;return!1},jn=Sn;var On=function(e,r,n,t,i,u){var o=1&n,a=e.length,s=r.length;if(a!=s&&!(o&&s>a))return!1;var l=u.get(e),f=u.get(r);if(l&&f)return l==r&&f==e;var c=-1,p=!0,h=2&n?new En:void 0;for(u.set(e,r),u.set(r,e);++c<a;){var d=e[c],v=r[c];if(t)var g=o?t(v,d,c,r,e,u):t(d,v,c,e,r,u);if(void 0!==g){if(g)continue;p=!1;break}if(h){if(!_n(r,(function(e,r){if(!jn(h,r)&&(d===e||i(d,e,n,t,u)))return h.push(r)}))){p=!1;break}}else if(d!==v&&!i(d,v,n,t,u)){p=!1;break}}return u.delete(e),u.delete(r),p},Dn=d.Uint8Array;var Rn=function(e){var r=-1,n=Array(e.size);return e.forEach((function(e,t){n[++r]=[t,e]})),n};var Mn=function(e){var r=-1,n=Array(e.size);return e.forEach((function(e){n[++r]=e})),n},qn=Dn,kn=Ie,Pn=On,Cn=Rn,Nn=Mn,An=v?v.prototype:void 0,zn=An?An.valueOf:void 0;var Fn=function(e,r,n,t,i,u,o){switch(n){case"[object DataView]":if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=r.byteLength||!u(new qn(e),new qn(r)));case"[object Boolean]":case"[object Date]":case"[object Number]":return kn(+e,+r);case"[object Error]":return e.name==r.name&&e.message==r.message;case"[object RegExp]":case"[object String]":return e==r+"";case"[object Map]":var a=Cn;case"[object Set]":var s=1&t;if(a||(a=Nn),e.size!=r.size&&!s)return!1;var l=o.get(e);if(l)return l==r;t|=2,o.set(e,r);var f=Pn(a(e),a(r),t,i,u,o);return o.delete(e),f;case"[object Symbol]":if(zn)return zn.call(e)==zn.call(r)}return!1};var Ln=function(e,r){for(var n=-1,t=r.length,i=e.length;++n<t;)e[i+n]=r[n];return e},Tn=Ln,In=z;var Gn=function(e,r,n){var t=r(e);return In(e)?t:Tn(t,n(e))};var Un=function(e,r){for(var n=-1,t=null==e?0:e.length,i=0,u=[];++n<t;){var o=e[n];r(o,n,e)&&(u[i++]=o)}return u};var Bn=function(){return[]},Qn=Un,Vn=Bn,Yn=Object.prototype.propertyIsEnumerable,Zn=Object.getOwnPropertySymbols,Hn=Zn?function(e){return null==e?[]:(e=Object(e),Qn(Zn(e),(function(r){return Yn.call(e,r)})))}:Vn,Wn=Gn,Kn=Hn,Jn=je;var Xn=function(e){return Wn(e,Jn,Kn)},et=Xn,rt=Object.prototype.hasOwnProperty;var nt=function(e,r,n,t,i,u){var o=1&n,a=et(e),s=a.length;if(s!=et(r).length&&!o)return!1;for(var l=s;l--;){var f=a[l];if(!(o?f in r:rt.call(r,f)))return!1}var c=u.get(e),p=u.get(r);if(c&&p)return c==r&&p==e;var h=!0;u.set(e,r),u.set(r,e);for(var d=o;++l<s;){var v=e[f=a[l]],g=r[f];if(t)var m=o?t(g,v,f,r,e,u):t(v,g,f,e,r,u);if(!(void 0===m?v===g||i(v,g,n,t,u):m)){h=!1;break}d||(d="constructor"==f)}if(h&&!d){var y=e.constructor,w=r.constructor;y==w||!("constructor"in e)||!("constructor"in r)||"function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w||(h=!1)}return u.delete(e),u.delete(r),h},tt=_r(d,"DataView"),it=_r(d,"Promise"),ut=_r(d,"Set"),ot=tt,at=jr,st=it,lt=ut,ft=_r(d,"WeakMap"),ct=j,pt=pr,ht="[object Map]",dt="[object Promise]",vt="[object Set]",gt="[object WeakMap]",mt="[object DataView]",yt=pt(ot),wt=pt(at),bt=pt(st),$t=pt(lt),xt=pt(ft),St=ct;(ot&&St(new ot(new ArrayBuffer(1)))!=mt||at&&St(new at)!=ht||st&&St(st.resolve())!=dt||lt&&St(new lt)!=vt||ft&&St(new ft)!=gt)&&(St=function(e){var r=ct(e),n="[object Object]"==r?e.constructor:void 0,t=n?pt(n):"";if(t)switch(t){case yt:return mt;case wt:return ht;case bt:return dt;case $t:return vt;case xt:return gt}return r});var Et=St,_t=mn,jt=On,Ot=Fn,Dt=nt,Rt=Et,Mt=z,qt=F,kt=X,Pt="[object Arguments]",Ct="[object Array]",Nt="[object Object]",At=Object.prototype.hasOwnProperty;var zt=function(e,r,n,t,i,u){var o=Mt(e),a=Mt(r),s=o?Ct:Rt(e),l=a?Ct:Rt(r),f=(s=s==Pt?Nt:s)==Nt,c=(l=l==Pt?Nt:l)==Nt,p=s==l;if(p&&qt(e)){if(!qt(r))return!1;o=!0,f=!1}if(p&&!f)return u||(u=new _t),o||kt(e)?jt(e,r,n,t,i,u):Ot(e,r,s,n,t,i,u);if(!(1&n)){var h=f&&At.call(e,"__wrapped__"),d=c&&At.call(r,"__wrapped__");if(h||d){var v=h?e.value():e,g=d?r.value():r;return u||(u=new _t),i(v,g,n,t,u)}}return!!p&&(u||(u=new _t),Dt(e,r,n,t,i,u))},Ft=O;var Lt=function e(r,n,t,i,u){return r===n||(null==r||null==n||!Ft(r)&&!Ft(n)?r!=r&&n!=n:zt(r,n,t,i,e,u))},Tt=mn,It=Lt;var Gt=ge;var Ut=function(e){return e==e&&!Gt(e)},Bt=Ut,Qt=je;var Vt=function(e,r){return function(n){return null!=n&&(n[e]===r&&(void 0!==r||e in Object(n)))}},Yt=function(e,r,n,t){var i=n.length,u=i,o=!t;if(null==e)return!u;for(e=Object(e);i--;){var a=n[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<u;){var s=(a=n[i])[0],l=e[s],f=a[1];if(o&&a[2]){if(void 0===l&&!(s in e))return!1}else{var c=new Tt;if(t)var p=t(l,f,s,e,r,c);if(!(void 0===p?It(f,l,3,t,c):p))return!1}}return!0},Zt=function(e){for(var r=Qt(e),n=r.length;n--;){var t=r[n],i=e[t];r[n]=[t,i,Bt(i)]}return r},Ht=Vt;var Wt=function(e){var r=Zt(e);return 1==r.length&&r[0][2]?Ht(r[0][0],r[0][1]):function(n){return n===e||Yt(n,e,r)}},Kt=j,Jt=O;var Xt=function(e){return"symbol"==typeof e||Jt(e)&&"[object Symbol]"==Kt(e)},ei=z,ri=Xt,ni=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ti=/^\w*$/;var ii=function(e,r){if(ei(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ri(e))||(ti.test(e)||!ni.test(e)||null!=r&&e in Object(r))},ui=on;function oi(e,r){if("function"!=typeof e||null!=r&&"function"!=typeof r)throw new TypeError("Expected a function");var n=function(){var t=arguments,i=r?r.apply(this,t):t[0],u=n.cache;if(u.has(i))return u.get(i);var o=e.apply(this,t);return n.cache=u.set(i,o)||u,o};return n.cache=new(oi.Cache||ui),n}oi.Cache=ui;var ai=oi;var si=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,li=/\\(\\)?/g,fi=function(e){var r=ai(e,(function(e){return 500===n.size&&n.clear(),e})),n=r.cache;return r}((function(e){var r=[];return 46===e.charCodeAt(0)&&r.push(""),e.replace(si,(function(e,n,t,i){r.push(t?i.replace(li,"$1"):n||e)})),r})),ci=Le,pi=z,hi=Xt,di=v?v.prototype:void 0,vi=di?di.toString:void 0;var gi=function e(r){if("string"==typeof r)return r;if(pi(r))return ci(r,e)+"";if(hi(r))return vi?vi.call(r):"";var n=r+"";return"0"==n&&1/r==-Infinity?"-0":n},mi=gi;var yi=function(e){return null==e?"":mi(e)},wi=z,bi=ii,$i=fi,xi=yi;var Si=function(e,r){return wi(e)?e:bi(e,r)?[e]:$i(xi(e))},Ei=Xt;var _i=function(e){if("string"==typeof e||Ei(e))return e;var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r},ji=Si,Oi=_i;var Di=function(e,r){for(var n=0,t=(r=ji(r,e)).length;null!=e&&n<t;)e=e[Oi(r[n++])];return n&&n==t?e:void 0},Ri=Di;var Mi=function(e,r,n){var t=null==e?void 0:Ri(e,r);return void 0===t?n:t};var qi=Si,ki=A,Pi=z,Ci=I,Ni=G,Ai=_i;var zi=function(e,r){return null!=e&&r in Object(e)},Fi=function(e,r,n){for(var t=-1,i=(r=qi(r,e)).length,u=!1;++t<i;){var o=Ai(r[t]);if(!(u=null!=e&&n(e,o)))break;e=e[o]}return u||++t!=i?u:!!(i=null==e?0:e.length)&&Ni(i)&&Ci(o,i)&&(Pi(e)||ki(e))};var Li=Lt,Ti=Mi,Ii=function(e,r){return null!=e&&Fi(e,r,zi)},Gi=ii,Ui=Ut,Bi=Vt,Qi=_i;var Vi=function(e){return function(r){return null==r?void 0:r[e]}},Yi=Di;var Zi=Vi,Hi=function(e){return function(r){return Yi(r,e)}},Wi=ii,Ki=_i;var Ji=Wt,Xi=function(e,r){return Gi(e)&&Ui(r)?Bi(Qi(e),r):function(n){var t=Ti(n,e);return void 0===t&&t===r?Ii(n,e):Li(r,t,3)}},eu=qe,ru=z,nu=function(e){return Wi(e)?Zi(Ki(e)):Hi(e)};var tu=function(e){return"function"==typeof e?e:null==e?eu:"object"==typeof e?ru(e)?Xi(e[0],e[1]):Ji(e):nu(e)},iu=Me,uu=xe;var ou=function(e,r){var n=-1,t=uu(e)?Array(e.length):[];return iu(e,(function(e,i,u){t[++n]=r(e,i,u)})),t},au=Le,su=tu,lu=ou,fu=z;var cu=function(e,r){return(fu(e)?au:lu)(e,su(r))},pu=_r,hu=function(){try{var e=pu(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),du=hu;var vu=function(e,r,n){"__proto__"==r&&du?du(e,r,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[r]=n},gu=vu,mu=Ie,yu=Object.prototype.hasOwnProperty;var wu=function(e,r,n){var t=e[r];yu.call(e,r)&&mu(t,n)&&(void 0!==n||r in e)||gu(e,r,n)},bu=wu,$u=vu;var xu=function(e,r,n,t){var i=!n;n||(n={});for(var u=-1,o=r.length;++u<o;){var a=r[u],s=t?t(n[a],e[a],a,n,e):void 0;void 0===s&&(s=e[a]),i?$u(n,a,s):bu(n,a,s)}return n},Su=xu,Eu=je;var _u=function(e,r){return e&&Su(r,Eu(r),e)};var ju=ge,Ou=le,Du=function(e){var r=[];if(null!=e)for(var n in Object(e))r.push(n);return r},Ru=Object.prototype.hasOwnProperty;var Mu=ae,qu=function(e){if(!ju(e))return Du(e);var r=Ou(e),n=[];for(var t in e)("constructor"!=t||!r&&Ru.call(e,t))&&n.push(t);return n},ku=xe;var Pu=function(e){return ku(e)?Mu(e,!0):qu(e)},Cu=xu,Nu=Pu;var Au=function(e,r){return e&&Cu(r,Nu(r),e)},zu={};!function(e,r){var n=d,t=r&&!r.nodeType&&r,i=t&&e&&!e.nodeType&&e,u=i&&i.exports===t?n.Buffer:void 0,o=u?u.allocUnsafe:void 0;e.exports=function(e,r){if(r)return e.slice();var n=e.length,t=o?o(n):new e.constructor(n);return e.copy(t),t}}({get exports(){return zu},set exports(e){zu=e}},zu);var Fu=function(e,r){var n=-1,t=e.length;for(r||(r=Array(t));++n<t;)r[n]=e[n];return r},Lu=xu,Tu=Hn;var Iu=function(e,r){return Lu(e,Tu(e),r)},Gu=fe(Object.getPrototypeOf,Object),Uu=Ln,Bu=Gu,Qu=Hn,Vu=Bn,Yu=Object.getOwnPropertySymbols?function(e){for(var r=[];e;)Uu(r,Qu(e)),e=Bu(e);return r}:Vu,Zu=xu,Hu=Yu;var Wu=function(e,r){return Zu(e,Hu(e),r)},Ku=Gn,Ju=Yu,Xu=Pu;var eo=function(e){return Ku(e,Xu,Ju)},ro=Object.prototype.hasOwnProperty;var no=function(e){var r=e.length,n=new e.constructor(r);return r&&"string"==typeof e[0]&&ro.call(e,"index")&&(n.index=e.index,n.input=e.input),n},to=Dn;var io=function(e){var r=new e.constructor(e.byteLength);return new to(r).set(new to(e)),r},uo=io;var oo=function(e,r){var n=r?uo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},ao=/\w*$/;var so=function(e){var r=new e.constructor(e.source,ao.exec(e));return r.lastIndex=e.lastIndex,r},lo=v?v.prototype:void 0,fo=lo?lo.valueOf:void 0;var co=io;var po=io,ho=oo,vo=so,go=function(e){return fo?Object(fo.call(e)):{}},mo=function(e,r){var n=r?co(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var yo=function(e,r,n){var t=e.constructor;switch(r){case"[object ArrayBuffer]":return po(e);case"[object Boolean]":case"[object Date]":return new t(+e);case"[object DataView]":return ho(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return mo(e,n);case"[object Map]":case"[object Set]":return new t;case"[object Number]":case"[object String]":return new t(e);case"[object RegExp]":return vo(e);case"[object Symbol]":return go(e)}},wo=ge,bo=Object.create,$o=function(){function e(){}return function(r){if(!wo(r))return{};if(bo)return bo(r);e.prototype=r;var n=new e;return e.prototype=void 0,n}}(),xo=Gu,So=le;var Eo=function(e){return"function"!=typeof e.constructor||So(e)?{}:$o(xo(e))},_o=Et,jo=O;var Oo=function(e){return jo(e)&&"[object Map]"==_o(e)},Do=Z,Ro=H&&H.isMap,Mo=Ro?Do(Ro):Oo,qo=Et,ko=O;var Po=function(e){return ko(e)&&"[object Set]"==qo(e)},Co=Z,No=H&&H.isSet,Ao=No?Co(No):Po,zo=mn,Fo=s,Lo=wu,To=_u,Io=Au,Go=zu,Uo=Fu,Bo=Iu,Qo=Wu,Vo=Xn,Yo=eo,Zo=Et,Ho=no,Wo=yo,Ko=Eo,Jo=z,Xo=F,ea=Mo,ra=ge,na=Ao,ta=je,ia=Pu,ua="[object Arguments]",oa="[object Function]",aa="[object Object]",sa={};sa[ua]=sa["[object Array]"]=sa["[object ArrayBuffer]"]=sa["[object DataView]"]=sa["[object Boolean]"]=sa["[object Date]"]=sa["[object Float32Array]"]=sa["[object Float64Array]"]=sa["[object Int8Array]"]=sa["[object Int16Array]"]=sa["[object Int32Array]"]=sa["[object Map]"]=sa["[object Number]"]=sa[aa]=sa["[object RegExp]"]=sa["[object Set]"]=sa["[object String]"]=sa["[object Symbol]"]=sa["[object Uint8Array]"]=sa["[object Uint8ClampedArray]"]=sa["[object Uint16Array]"]=sa["[object Uint32Array]"]=!0,sa["[object Error]"]=sa[oa]=sa["[object WeakMap]"]=!1;var la=function e(r,n,t,i,u,o){var a,s=1&n,l=2&n,f=4&n;if(t&&(a=u?t(r,i,u,o):t(r)),void 0!==a)return a;if(!ra(r))return r;var c=Jo(r);if(c){if(a=Ho(r),!s)return Uo(r,a)}else{var p=Zo(r),h=p==oa||"[object GeneratorFunction]"==p;if(Xo(r))return Go(r,s);if(p==aa||p==ua||h&&!u){if(a=l||h?{}:Ko(r),!s)return l?Qo(r,Io(a,r)):Bo(r,To(a,r))}else{if(!sa[p])return u?r:{};a=Wo(r,p,s)}}o||(o=new zo);var d=o.get(r);if(d)return d;o.set(r,a),na(r)?r.forEach((function(i){a.add(e(i,n,t,i,r,o))})):ea(r)&&r.forEach((function(i,u){a.set(u,e(i,n,t,u,r,o))}));var v=c?void 0:(f?l?Yo:Vo:l?ia:ta)(r);return Fo(v||r,(function(i,u){v&&(i=r[u=i]),Lo(a,u,e(i,n,t,u,r,o))})),a},fa=la;var ca=function(e){return fa(e,5)},pa=j,ha=O;var da=function(e){return"number"==typeof e||ha(e)&&"[object Number]"==pa(e)},va=/\s/;var ga=function(e){for(var r=e.length;r--&&va.test(e.charAt(r)););return r},ma=/^\s+/;var ya=function(e){return e?e.slice(0,ga(e)+1).replace(ma,""):e};var wa=function(e,r,n){var t=-1,i=e.length;r<0&&(r=-r>i?0:i+r),(n=n>i?i:n)<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var u=Array(i);++t<i;)u[t]=e[t+r];return u},ba=wa;var $a=function(e,r,n){var t=e.length;return n=void 0===n?t:n,!r&&n>=t?e:ba(e,r,n)};var xa=function(e,r,n,t){for(var i=e.length,u=n+(t?1:-1);t?u--:++u<i;)if(r(e[u],u,e))return u;return-1};var Sa=xa,Ea=function(e){return e!=e},_a=function(e,r,n){for(var t=n-1,i=e.length;++t<i;)if(e[t]===r)return t;return-1};var ja=function(e,r,n){return r==r?_a(e,r,n):Sa(e,Ea,n)},Oa=ja;var Da=function(e,r){for(var n=e.length;n--&&Oa(r,e[n],0)>-1;);return n},Ra=ja;var Ma=function(e,r){for(var n=-1,t=e.length;++n<t&&Ra(r,e[n],0)>-1;);return n};var qa=function(e){return e.split("")},ka=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var Pa=function(e){return ka.test(e)},Ca="\\ud800-\\udfff",Na="["+Ca+"]",Aa="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",za="\\ud83c[\\udffb-\\udfff]",Fa="[^"+Ca+"]",La="(?:\\ud83c[\\udde6-\\uddff]){2}",Ta="[\\ud800-\\udbff][\\udc00-\\udfff]",Ia="(?:"+Aa+"|"+za+")"+"?",Ga="[\\ufe0e\\ufe0f]?",Ua=Ga+Ia+("(?:\\u200d(?:"+[Fa,La,Ta].join("|")+")"+Ga+Ia+")*"),Ba="(?:"+[Fa+Aa+"?",Aa,La,Ta,Na].join("|")+")",Qa=RegExp(za+"(?="+za+")|"+Ba+Ua,"g");var Va=qa,Ya=Pa,Za=function(e){return e.match(Qa)||[]};var Ha=function(e){return Ya(e)?Za(e):Va(e)},Wa=gi,Ka=ya,Ja=$a,Xa=Da,es=Ma,rs=Ha,ns=yi;var ts=function(e,r,n){if((e=ns(e))&&(n||void 0===r))return Ka(e);if(!e||!(r=Wa(r)))return e;var t=rs(e),i=rs(r),u=es(t,i),o=Xa(t,i)+1;return Ja(t,u,o).join("")};function is(e){return"[object String]"===Object.prototype.toString.call(e)}function us(e){let r=Object.prototype.toString.call(e);return"[object Function]"===r||"[object AsyncFunction]"===r}function os(e){return"[object Object]"===Object.prototype.toString.call(e)}function as(e){if(os(e)){for(let r in e)return!0;return!1}return!1}var ss=j,ls=O;var fs=function(e){return!0===e||!1===e||ls(e)&&"[object Boolean]"==ss(e)};function cs(e){return fs(e)}function ps(e){return!(!is(e)||""===e)}function hs(e){let r=!1;return ps(e)?r=!isNaN(Number(e)):function(e){return"[object Number]"===Object.prototype.toString.call(e)}(e)&&(r=!0),r}var ds=ya,vs=ge,gs=Xt,ms=/^[-+]0x[0-9a-f]+$/i,ys=/^0b[01]+$/i,ws=/^0o[0-7]+$/i,bs=parseInt;var $s=function(e){if("number"==typeof e)return e;if(gs(e))return NaN;if(vs(e)){var r="function"==typeof e.valueOf?e.valueOf():e;e=vs(r)?r+"":r}if("string"!=typeof e)return 0===e?e:+e;e=ds(e);var n=ys.test(e);return n||ws.test(e)?bs(e.slice(2),n?2:8):ms.test(e)?NaN:+e},xs=$s,Ss=1/0;var Es=function(e){return e?(e=xs(e))===Ss||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0};function _s(e){if(!hs(e))return 0;return Es(e)}function js(e,r){let n=null;if(ps(r)){let t=Mi(e,r);hs(t)&&(n=_s(t))}else us(r)&&(n=r(e));return n}var Os={pickData:js};let Ds={eps:1e-6,g:9.81,rw:9.81,Pa:.10139616,assesment_rd:18.03986577,assesment_rsat:21.26597315};function Rs(e){if(!hs(e))return null;let r=(e=_s(e))*Ds.rw;return r/=1e3,r}function Ms(e){if(!hs(e))return null;let r=(e=_s(e))*Ds.assesment_rsat;r/=1e3;let n=Rs(e);n/=1e3;let t=r-n;t=Math.max(t,0);let i=e*Ds.assesment_rd;return i/=1e3,{sv:r,svp:t,svdry:i}}var qs={intrpDefPp:Rs,intrpDefSvSvp:Ms},ks=j,Ps=z,Cs=O;var Ns=function(e){return"string"==typeof e||!Ps(e)&&Cs(e)&&"[object String]"==ks(e)},As=Vi("length"),zs="\\ud800-\\udfff",Fs="["+zs+"]",Ls="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Ts="\\ud83c[\\udffb-\\udfff]",Is="[^"+zs+"]",Gs="(?:\\ud83c[\\udde6-\\uddff]){2}",Us="[\\ud800-\\udbff][\\udc00-\\udfff]",Bs="(?:"+Ls+"|"+Ts+")"+"?",Qs="[\\ufe0e\\ufe0f]?",Vs=Qs+Bs+("(?:\\u200d(?:"+[Is,Gs,Us].join("|")+")"+Qs+Bs+")*"),Ys="(?:"+[Is+Ls+"?",Ls,Gs,Us,Fs].join("|")+")",Zs=RegExp(Ts+"(?="+Ts+")|"+Ys+Vs,"g");var Hs=As,Ws=Pa,Ks=function(e){for(var r=Zs.lastIndex=0;Zs.test(e);)++r;return r};var Js=ve,Xs=Et,el=xe,rl=Ns,nl=function(e){return Ws(e)?Ks(e):Hs(e)};var tl=function(e){if(null==e)return 0;if(el(e))return rl(e)?nl(e):e.length;var r=Xs(e);return"[object Map]"==r||"[object Set]"==r?e.size:Js(e).length},il=A,ul=z,ol=v?v.isConcatSpreadable:void 0;var al=Ln,sl=function(e){return ul(e)||il(e)||!!(ol&&e&&e[ol])};var ll=function e(r,n,t,i,u){var o=-1,a=r.length;for(t||(t=sl),u||(u=[]);++o<a;){var s=r[o];n>0&&t(s)?n>1?e(s,n-1,t,i,u):al(u,s):i||(u[u.length]=s)}return u};var fl=Xt;var cl=function(e,r){if(e!==r){var n=void 0!==e,t=null===e,i=e==e,u=fl(e),o=void 0!==r,a=null===r,s=r==r,l=fl(r);if(!a&&!l&&!u&&e>r||u&&o&&s&&!a&&!l||t&&o&&s||!n&&s||!i)return 1;if(!t&&!u&&!l&&e<r||l&&n&&i&&!t&&!u||a&&n&&i||!o&&i||!s)return-1}return 0},pl=cl;var hl=Le,dl=Di,vl=tu,gl=ou,ml=function(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e},yl=Z,wl=function(e,r,n){for(var t=-1,i=e.criteria,u=r.criteria,o=i.length,a=n.length;++t<o;){var s=pl(i[t],u[t]);if(s)return t>=a?s:s*("desc"==n[t]?-1:1)}return e.index-r.index},bl=qe,$l=z;var xl=function(e,r,n){r=r.length?hl(r,(function(e){return $l(e)?function(r){return dl(r,1===e.length?e[0]:e)}:e})):[bl];var t=-1;r=hl(r,yl(vl));var i=gl(e,(function(e,n,i){return{criteria:hl(r,(function(r){return r(e)})),index:++t,value:e}}));return ml(i,(function(e,r){return wl(e,r,n)}))};var Sl=function(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)},El=Math.max;var _l=function(e,r,n){return r=El(void 0===r?e.length-1:r,0),function(){for(var t=arguments,i=-1,u=El(t.length-r,0),o=Array(u);++i<u;)o[i]=t[r+i];i=-1;for(var a=Array(r+1);++i<r;)a[i]=t[i];return a[r]=n(o),Sl(e,this,a)}};var jl=function(e){return function(){return e}},Ol=hu,Dl=Ol?function(e,r){return Ol(e,"toString",{configurable:!0,enumerable:!1,value:jl(r),writable:!0})}:qe,Rl=Date.now;var Ml=function(e){var r=0,n=0;return function(){var t=Rl(),i=16-(t-n);if(n=t,i>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}},ql=Ml(Dl),kl=qe,Pl=_l,Cl=ql;var Nl=Ie,Al=xe,zl=I,Fl=ge;var Ll=function(e,r,n){if(!Fl(n))return!1;var t=typeof r;return!!("number"==t?Al(n)&&zl(r,n.length):"string"==t&&r in n)&&Nl(n[r],e)},Tl=ll,Il=xl,Gl=Ll,Ul=function(e,r){return Cl(Pl(e,r,kl),e+"")}((function(e,r){if(null==e)return[];var n=r.length;return n>1&&Gl(e,r[0],r[1])?r=[]:n>2&&Gl(r[0],r[1],r[2])&&(r=[r[0]]),Il(e,Tl(r,1),[])})),Bl=Math.ceil,Ql=Math.max;var Vl=function(e,r,n,t){for(var i=-1,u=Ql(Bl((r-e)/(n||1)),0),o=Array(u);u--;)o[t?u:++i]=e,e+=n;return o},Yl=Ll,Zl=Es;var Hl=function(e){return function(r,n,t){return t&&"number"!=typeof t&&Yl(r,n,t)&&(n=t=void 0),r=Zl(r),void 0===n?(n=r,r=0):n=Zl(n),t=void 0===t?r<n?1:-1:Zl(t),Vl(r,n,t,e)}}(),Wl=Mi;var Kl=function(e,r){for(var n=-1,t=r.length,i=Array(t),u=null==e;++n<t;)i[n]=u?void 0:Wl(e,r[n]);return i},Jl=ll;var Xl=function(e){return(null==e?0:e.length)?Jl(e,1):[]},ef=_l,rf=ql;var nf=function(e){return rf(ef(e,void 0,Xl),e+"")},tf=nf(Kl);function uf(e){return"[object Array]"===Object.prototype.toString.call(e)}function of(e){return!!function(e){return"[object Undefined]"===Object.prototype.toString.call(e)}(e)||(!!function(e){return"[object Null]"===Object.prototype.toString.call(e)}(e)||(!!function(e){if(os(e)){for(let r in e)return!1;return!0}return!1}(e)||(!!function(e){return!(!is(e)||""!==e)}(e)||!!function(e){return!!uf(e)&&0===e.length}(e))))}function af(e){return!!uf(e)&&(0!==e.length&&(1!==e.length||!of(e[0])))}var sf=Es;var lf=function(e){var r=sf(e),n=r%1;return r==r?n?r-n:r:0},ff=lf;var cf=function(e){return"number"==typeof e&&e==ff(e)};function pf(e){return!!hs(e)&&(e=_s(e),cf(e))}var hf=lf,df=$s,vf=yi,gf=d.isFinite,mf=Math.min;var yf=function(e){var r=Math[e];return function(e,n){if(e=df(e),(n=null==n?0:mf(hf(n),292))&&gf(e)){var t=(vf(e)+"e").split("e"),i=r(t[0]+"e"+(+t[1]+n));return+((t=(vf(i)+"e").split("e"))[0]+"e"+(+t[1]-n))}return r(e)}}("round");function wf(e){if(!hs(e))return 0;e=_s(e);let r=yf(e);return"0"===String(r)?0:r}function bf(e){if(!pf(e))return!1;return wf(e)>=0}var $f=function(e,r){for(var n,t=-1,i=e.length;++t<i;){var u=r(e[t]);void 0!==u&&(n=void 0===n?u:n+u)}return n};var xf=function(e,r){var n=null==e?0:e.length;return n?$f(e,r)/n:NaN},Sf=qe;var Ef=function(e){return xf(e,Sf)},_f=Me;var jf=Un,Of=function(e,r){var n=[];return _f(e,(function(e,t,i){r(e,t,i)&&n.push(e)})),n},Df=tu,Rf=z;var Mf=function(e,r){return(Rf(e)?jf:Of)(e,Df(r))};function qf(e){if(!uf(e))return null;if(0===tl(e))return null;let r=function(e){return af(e)?(e=ca(e),e=Mf(e,hs),e=cu(e,_s)):[]}(e);return 0===tl(r)?null:Ef(r)}var kf={};!function(e,r){e.exports=function(){var e=function(e,r){var n=Array.prototype.concat,t=Array.prototype.slice,i=Object.prototype.toString;function u(r,n){var t=r>n?r:n;return e.pow(10,17-~~(e.log(t>0?t:-t)*e.LOG10E))}var o=Array.isArray||function(e){return"[object Array]"===i.call(e)};function a(e){return"[object Function]"===i.call(e)}function s(e){return"number"==typeof e&&e-e==0}function l(e){return n.apply([],e)}function f(){return new f._init(arguments)}function c(){return 0}function p(){return 1}function h(e,r){return e===r?1:0}f.fn=f.prototype,f._init=function(e){if(o(e[0]))if(o(e[0][0])){a(e[1])&&(e[0]=f.map(e[0],e[1]));for(var r=0;r<e[0].length;r++)this[r]=e[0][r];this.length=e[0].length}else this[0]=a(e[1])?f.map(e[0],e[1]):e[0],this.length=1;else if(s(e[0]))this[0]=f.seq.apply(null,e),this.length=1;else{if(e[0]instanceof f)return f(e[0].toArray());this[0]=[],this.length=1}return this},f._init.prototype=f.prototype,f._init.constructor=f,f.utils={calcRdx:u,isArray:o,isFunction:a,isNumber:s,toVector:l},f._random_fn=e.random,f.setRandom=function(e){if("function"!=typeof e)throw new TypeError("fn is not a function");f._random_fn=e},f.extend=function(e){var r,n;if(1===arguments.length){for(n in e)f[n]=e[n];return this}for(r=1;r<arguments.length;r++)for(n in arguments[r])e[n]=arguments[r][n];return e},f.rows=function(e){return e.length||1},f.cols=function(e){return e[0].length||1},f.dimensions=function(e){return{rows:f.rows(e),cols:f.cols(e)}},f.row=function(e,r){return o(r)?r.map((function(r){return f.row(e,r)})):e[r]},f.rowa=function(e,r){return f.row(e,r)},f.col=function(e,r){if(o(r)){var n=f.arange(e.length).map((function(){return new Array(r.length)}));return r.forEach((function(r,t){f.arange(e.length).forEach((function(i){n[i][t]=e[i][r]}))})),n}for(var t=new Array(e.length),i=0;i<e.length;i++)t[i]=[e[i][r]];return t},f.cola=function(e,r){return f.col(e,r).map((function(e){return e[0]}))},f.diag=function(e){for(var r=f.rows(e),n=new Array(r),t=0;t<r;t++)n[t]=[e[t][t]];return n},f.antidiag=function(e){for(var r=f.rows(e)-1,n=new Array(r),t=0;r>=0;r--,t++)n[t]=[e[t][r]];return n},f.transpose=function(e){var r,n,t,i,u,a=[];for(o(e[0])||(e=[e]),n=e.length,t=e[0].length,u=0;u<t;u++){for(r=new Array(n),i=0;i<n;i++)r[i]=e[i][u];a.push(r)}return 1===a.length?a[0]:a},f.map=function(e,r,n){var t,i,u,a,s;for(o(e[0])||(e=[e]),i=e.length,u=e[0].length,a=n?e:new Array(i),t=0;t<i;t++)for(a[t]||(a[t]=new Array(u)),s=0;s<u;s++)a[t][s]=r(e[t][s],t,s);return 1===a.length?a[0]:a},f.cumreduce=function(e,r,n){var t,i,u,a,s;for(o(e[0])||(e=[e]),i=e.length,u=e[0].length,a=n?e:new Array(i),t=0;t<i;t++)for(a[t]||(a[t]=new Array(u)),u>0&&(a[t][0]=e[t][0]),s=1;s<u;s++)a[t][s]=r(a[t][s-1],e[t][s]);return 1===a.length?a[0]:a},f.alter=function(e,r){return f.map(e,r,!0)},f.create=function(e,r,n){var t,i,u=new Array(e);for(a(r)&&(n=r,r=e),t=0;t<e;t++)for(u[t]=new Array(r),i=0;i<r;i++)u[t][i]=n(t,i);return u},f.zeros=function(e,r){return s(r)||(r=e),f.create(e,r,c)},f.ones=function(e,r){return s(r)||(r=e),f.create(e,r,p)},f.rand=function(e,r){return s(r)||(r=e),f.create(e,r,f._random_fn)},f.identity=function(e,r){return s(r)||(r=e),f.create(e,r,h)},f.symmetric=function(e){var r,n,t=e.length;if(e.length!==e[0].length)return!1;for(r=0;r<t;r++)for(n=0;n<t;n++)if(e[n][r]!==e[r][n])return!1;return!0},f.clear=function(e){return f.alter(e,c)},f.seq=function(e,r,n,t){a(t)||(t=!1);var i,o=[],s=u(e,r),l=(r*s-e*s)/((n-1)*s),f=e;for(i=0;f<=r&&i<n;f=(e*s+l*s*++i)/s)o.push(t?t(f,i):f);return o},f.arange=function(e,n,t){var i,u=[];if(t=t||1,n===r&&(n=e,e=0),e===n||0===t)return[];if(e<n&&t<0)return[];if(e>n&&t>0)return[];if(t>0)for(i=e;i<n;i+=t)u.push(i);else for(i=e;i>n;i+=t)u.push(i);return u},f.slice=function(){function e(e,n,t,i){var u,o=[],a=e.length;if(n===r&&t===r&&i===r)return f.copy(e);if(i=i||1,(n=(n=n||0)>=0?n:a+n)===(t=(t=t||e.length)>=0?t:a+t)||0===i)return[];if(n<t&&i<0)return[];if(n>t&&i>0)return[];if(i>0)for(u=n;u<t;u+=i)o.push(e[u]);else for(u=n;u>t;u+=i)o.push(e[u]);return o}function n(r,n){var t,i;return s((n=n||{}).row)?s(n.col)?r[n.row][n.col]:e(f.rowa(r,n.row),(t=n.col||{}).start,t.end,t.step):s(n.col)?e(f.cola(r,n.col),(i=n.row||{}).start,i.end,i.step):(i=n.row||{},t=n.col||{},e(r,i.start,i.end,i.step).map((function(r){return e(r,t.start,t.end,t.step)})))}return n}(),f.sliceAssign=function(n,t,i){var u,o;if(s(t.row)){if(s(t.col))return n[t.row][t.col]=i;t.col=t.col||{},t.col.start=t.col.start||0,t.col.end=t.col.end||n[0].length,t.col.step=t.col.step||1,u=f.arange(t.col.start,e.min(n.length,t.col.end),t.col.step);var a=t.row;return u.forEach((function(e,r){n[a][e]=i[r]})),n}if(s(t.col)){t.row=t.row||{},t.row.start=t.row.start||0,t.row.end=t.row.end||n.length,t.row.step=t.row.step||1,o=f.arange(t.row.start,e.min(n[0].length,t.row.end),t.row.step);var l=t.col;return o.forEach((function(e,r){n[e][l]=i[r]})),n}return i[0].length===r&&(i=[i]),t.row.start=t.row.start||0,t.row.end=t.row.end||n.length,t.row.step=t.row.step||1,t.col.start=t.col.start||0,t.col.end=t.col.end||n[0].length,t.col.step=t.col.step||1,o=f.arange(t.row.start,e.min(n.length,t.row.end),t.row.step),u=f.arange(t.col.start,e.min(n[0].length,t.col.end),t.col.step),o.forEach((function(e,r){u.forEach((function(t,u){n[e][t]=i[r][u]}))})),n},f.diagonal=function(e){var r=f.zeros(e.length,e.length);return e.forEach((function(e,n){r[n][n]=e})),r},f.copy=function(e){return e.map((function(e){return s(e)?e:e.map((function(e){return e}))}))};var d=f.prototype;return d.length=0,d.push=Array.prototype.push,d.sort=Array.prototype.sort,d.splice=Array.prototype.splice,d.slice=Array.prototype.slice,d.toArray=function(){return this.length>1?t.call(this):t.call(this)[0]},d.map=function(e,r){return f(f.map(this,e,r))},d.cumreduce=function(e,r){return f(f.cumreduce(this,e,r))},d.alter=function(e){return f.alter(this,e),this},function(e){for(var r=0;r<e.length;r++)!function(e){d[e]=function(r){var n,t=this;return r?(setTimeout((function(){r.call(t,d[e].call(t))})),this):(n=f[e](this),o(n)?f(n):n)}}(e[r])}("transpose clear symmetric rows cols dimensions diag antidiag".split(" ")),function(e){for(var r=0;r<e.length;r++)!function(e){d[e]=function(r,n){var t=this;return n?(setTimeout((function(){n.call(t,d[e].call(t,r))})),this):f(f[e](this,r))}}(e[r])}("row col".split(" ")),function(e){for(var r=0;r<e.length;r++)!function(e){d[e]=function(){return f(f[e].apply(null,arguments))}}(e[r])}("create zeros ones rand identity".split(" ")),f}(Math);return function(e,r){var n=e.utils.isFunction;function t(e,r){return e-r}function i(e,n,t){return r.max(n,r.min(e,t))}e.sum=function(e){for(var r=0,n=e.length;--n>=0;)r+=e[n];return r},e.sumsqrd=function(e){for(var r=0,n=e.length;--n>=0;)r+=e[n]*e[n];return r},e.sumsqerr=function(r){for(var n,t=e.mean(r),i=0,u=r.length;--u>=0;)i+=(n=r[u]-t)*n;return i},e.sumrow=function(e){for(var r=0,n=e.length;--n>=0;)r+=e[n];return r},e.product=function(e){for(var r=1,n=e.length;--n>=0;)r*=e[n];return r},e.min=function(e){for(var r=e[0],n=0;++n<e.length;)e[n]<r&&(r=e[n]);return r},e.max=function(e){for(var r=e[0],n=0;++n<e.length;)e[n]>r&&(r=e[n]);return r},e.unique=function(e){for(var r={},n=[],t=0;t<e.length;t++)r[e[t]]||(r[e[t]]=!0,n.push(e[t]));return n},e.mean=function(r){return e.sum(r)/r.length},e.meansqerr=function(r){return e.sumsqerr(r)/r.length},e.geomean=function(n){var t=n.map(r.log),i=e.mean(t);return r.exp(i)},e.median=function(e){var r=e.length,n=e.slice().sort(t);return 1&r?n[r/2|0]:(n[r/2-1]+n[r/2])/2},e.cumsum=function(r){return e.cumreduce(r,(function(e,r){return e+r}))},e.cumprod=function(r){return e.cumreduce(r,(function(e,r){return e*r}))},e.diff=function(e){var r,n=[],t=e.length;for(r=1;r<t;r++)n.push(e[r]-e[r-1]);return n},e.rank=function(e){var r,n=[],i={};for(r=0;r<e.length;r++)i[s=e[r]]?i[s]++:(i[s]=1,n.push(s));var u=n.sort(t),o={},a=1;for(r=0;r<u.length;r++){var s,l=i[s=u[r]],f=(a+(a+l-1))/2;o[s]=f,a+=l}return e.map((function(e){return o[e]}))},e.mode=function(e){var r,n=e.length,i=e.slice().sort(t),u=1,o=0,a=0,s=[];for(r=0;r<n;r++)i[r]===i[r+1]?u++:(u>o?(s=[i[r]],o=u,a=0):u===o&&(s.push(i[r]),a++),u=1);return 0===a?s[0]:s},e.range=function(r){return e.max(r)-e.min(r)},e.variance=function(r,n){return e.sumsqerr(r)/(r.length-(n?1:0))},e.pooledvariance=function(r){return r.reduce((function(r,n){return r+e.sumsqerr(n)}),0)/(r.reduce((function(e,r){return e+r.length}),0)-r.length)},e.deviation=function(r){for(var n=e.mean(r),t=r.length,i=new Array(t),u=0;u<t;u++)i[u]=r[u]-n;return i},e.stdev=function(n,t){return r.sqrt(e.variance(n,t))},e.pooledstdev=function(n){return r.sqrt(e.pooledvariance(n))},e.meandev=function(n){for(var t=e.mean(n),i=[],u=n.length-1;u>=0;u--)i.push(r.abs(n[u]-t));return e.mean(i)},e.meddev=function(n){for(var t=e.median(n),i=[],u=n.length-1;u>=0;u--)i.push(r.abs(n[u]-t));return e.median(i)},e.coeffvar=function(r){return e.stdev(r)/e.mean(r)},e.quartiles=function(e){var n=e.length,i=e.slice().sort(t);return[i[r.round(n/4)-1],i[r.round(n/2)-1],i[r.round(3*n/4)-1]]},e.quantiles=function(e,n,u,o){var a,s,l,f,c,p=e.slice().sort(t),h=[n.length],d=e.length;for(void 0===u&&(u=3/8),void 0===o&&(o=3/8),a=0;a<n.length;a++)l=d*(s=n[a])+(u+s*(1-u-o)),f=r.floor(i(l,1,d-1)),c=i(l-f,0,1),h[a]=(1-c)*p[f-1]+c*p[f];return h},e.percentile=function(e,r,n){var i=e.slice().sort(t),u=r*(i.length+(n?1:-1))+(n?0:1),o=parseInt(u),a=u-o;return o+1<i.length?i[o-1]+a*(i[o]-i[o-1]):i[o-1]},e.percentileOfScore=function(e,r,n){var t,i,u=0,o=e.length,a=!1;for("strict"===n&&(a=!0),i=0;i<o;i++)t=e[i],(a&&t<r||!a&&t<=r)&&u++;return u/o},e.histogram=function(n,t){t=t||4;var i,u=e.min(n),o=(e.max(n)-u)/t,a=n.length,s=[];for(i=0;i<t;i++)s[i]=0;for(i=0;i<a;i++)s[r.min(r.floor((n[i]-u)/o),t-1)]+=1;return s},e.covariance=function(r,n){var t,i=e.mean(r),u=e.mean(n),o=r.length,a=new Array(o);for(t=0;t<o;t++)a[t]=(r[t]-i)*(n[t]-u);return e.sum(a)/(o-1)},e.corrcoeff=function(r,n){return e.covariance(r,n)/e.stdev(r,1)/e.stdev(n,1)},e.spearmancoeff=function(r,n){return r=e.rank(r),n=e.rank(n),e.corrcoeff(r,n)},e.stanMoment=function(n,t){for(var i=e.mean(n),u=e.stdev(n),o=n.length,a=0,s=0;s<o;s++)a+=r.pow((n[s]-i)/u,t);return a/n.length},e.skewness=function(r){return e.stanMoment(r,3)},e.kurtosis=function(r){return e.stanMoment(r,4)-3};var u=e.prototype;!function(r){for(var t=0;t<r.length;t++)!function(r){u[r]=function(t,i){var o=[],a=0,s=this;if(n(t)&&(i=t,t=!1),i)return setTimeout((function(){i.call(s,u[r].call(s,t))})),this;if(this.length>1){for(s=!0===t?this:this.transpose();a<s.length;a++)o[a]=e[r](s[a]);return o}return e[r](this[0],t)}}(r[t])}("cumsum cumprod".split(" ")),function(r){for(var t=0;t<r.length;t++)!function(r){u[r]=function(t,i){var o=[],a=0,s=this;if(n(t)&&(i=t,t=!1),i)return setTimeout((function(){i.call(s,u[r].call(s,t))})),this;if(this.length>1){for("sumrow"!==r&&(s=!0===t?this:this.transpose());a<s.length;a++)o[a]=e[r](s[a]);return!0===t?e[r](e.utils.toVector(o)):o}return e[r](this[0],t)}}(r[t])}("sum sumsqrd sumsqerr sumrow product min max unique mean meansqerr geomean median diff rank mode range variance deviation stdev meandev meddev coeffvar quartiles histogram skewness kurtosis".split(" ")),function(r){for(var t=0;t<r.length;t++)!function(r){u[r]=function(){var t,i=[],o=0,a=this,s=Array.prototype.slice.call(arguments);if(n(s[s.length-1])){t=s[s.length-1];var l=s.slice(0,s.length-1);return setTimeout((function(){t.call(a,u[r].apply(a,l))})),this}t=void 0;var f=function(n){return e[r].apply(a,[n].concat(s))};if(this.length>1){for(a=a.transpose();o<a.length;o++)i[o]=f(a[o]);return i}return f(this[0])}}(r[t])}("quantiles percentileOfScore".split(" "))}(e,Math),function(e,r){e.gammaln=function(e){var n,t,i,u=0,o=[76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18],a=1.000000000190015;for(i=(t=n=e)+5.5,i-=(n+.5)*r.log(i);u<6;u++)a+=o[u]/++t;return r.log(2.5066282746310007*a/n)-i},e.loggam=function(e){var n,t,i,u,o,a,s,l=[.08333333333333333,-.002777777777777778,.0007936507936507937,-.0005952380952380952,.0008417508417508418,-.001917526917526918,.00641025641025641,-.02955065359477124,.1796443723688307,-1.3924322169059];if(n=e,s=0,1==e||2==e)return 0;for(e<=7&&(n=e+(s=r.floor(7-e))),t=1/(n*n),i=2*r.PI,o=l[9],a=8;a>=0;a--)o*=t,o+=l[a];if(u=o/n+.5*r.log(i)+(n-.5)*r.log(n)-n,e<=7)for(a=1;a<=s;a++)u-=r.log(n-1),n-=1;return u},e.gammafn=function(e){var n,t,i,u,o=[-1.716185138865495,24.76565080557592,-379.80425647094563,629.3311553128184,866.9662027904133,-31451.272968848367,-36144.413418691176,66456.14382024054],a=[-30.8402300119739,315.35062697960416,-1015.1563674902192,-3107.771671572311,22538.11842098015,4755.846277527881,-134659.9598649693,-115132.2596755535],s=!1,l=0,f=0,c=0,p=e;if(e>171.6243769536076)return 1/0;if(p<=0){if(!(u=p%1+36e-17))return 1/0;s=(1&p?-1:1)*r.PI/r.sin(r.PI*u),p=1-p}for(i=p,t=p<1?p++:(p-=l=(0|p)-1)-1,n=0;n<8;++n)c=(c+o[n])*t,f=f*t+a[n];if(u=c/f+1,i<p)u/=i;else if(i>p)for(n=0;n<l;++n)u*=p,p++;return s&&(u=s/u),u},e.gammap=function(r,n){return e.lowRegGamma(r,n)*e.gammafn(r)},e.lowRegGamma=function(n,t){var i,u=e.gammaln(n),o=n,a=1/n,s=a,l=t+1-n,f=1/1e-30,c=1/l,p=c,h=1,d=-~(8.5*r.log(n>=1?n:1/n)+.4*n+17);if(t<0||n<=0)return NaN;if(t<n+1){for(;h<=d;h++)a+=s*=t/++o;return a*r.exp(-t+n*r.log(t)-u)}for(;h<=d;h++)p*=(c=1/(c=(i=-h*(h-n))*c+(l+=2)))*(f=l+i/f);return 1-p*r.exp(-t+n*r.log(t)-u)},e.factorialln=function(r){return r<0?NaN:e.gammaln(r+1)},e.factorial=function(r){return r<0?NaN:e.gammafn(r+1)},e.combination=function(n,t){return n>170||t>170?r.exp(e.combinationln(n,t)):e.factorial(n)/e.factorial(t)/e.factorial(n-t)},e.combinationln=function(r,n){return e.factorialln(r)-e.factorialln(n)-e.factorialln(r-n)},e.permutation=function(r,n){return e.factorial(r)/e.factorial(r-n)},e.betafn=function(n,t){if(!(n<=0||t<=0))return n+t>170?r.exp(e.betaln(n,t)):e.gammafn(n)*e.gammafn(t)/e.gammafn(n+t)},e.betaln=function(r,n){return e.gammaln(r)+e.gammaln(n)-e.gammaln(r+n)},e.betacf=function(e,n,t){var i,u,o,a,s=1e-30,l=1,f=n+t,c=n+1,p=n-1,h=1,d=1-f*e/c;for(r.abs(d)<s&&(d=s),a=d=1/d;l<=100&&(d=1+(u=l*(t-l)*e/((p+(i=2*l))*(n+i)))*d,r.abs(d)<s&&(d=s),h=1+u/h,r.abs(h)<s&&(h=s),a*=(d=1/d)*h,d=1+(u=-(n+l)*(f+l)*e/((n+i)*(c+i)))*d,r.abs(d)<s&&(d=s),h=1+u/h,r.abs(h)<s&&(h=s),a*=o=(d=1/d)*h,!(r.abs(o-1)<3e-7));l++);return a},e.gammapinv=function(n,t){var i,u,o,a,s,l,f=0,c=t-1,p=1e-8,h=e.gammaln(t);if(n>=1)return r.max(100,t+100*r.sqrt(t));if(n<=0)return 0;for(t>1?(s=r.log(c),l=r.exp(c*(s-1)-h),a=n<.5?n:1-n,i=(2.30753+.27061*(u=r.sqrt(-2*r.log(a))))/(1+u*(.99229+.04481*u))-u,n<.5&&(i=-i),i=r.max(.001,t*r.pow(1-1/(9*t)-i/(3*r.sqrt(t)),3))):i=n<(u=1-t*(.253+.12*t))?r.pow(n/u,1/t):1-r.log(1-(n-u)/(1-u));f<12;f++){if(i<=0)return 0;if((i-=u=(o=(e.lowRegGamma(t,i)-n)/(u=t>1?l*r.exp(-(i-c)+c*(r.log(i)-s)):r.exp(-i+c*r.log(i)-h)))/(1-.5*r.min(1,o*((t-1)/i-1))))<=0&&(i=.5*(i+u)),r.abs(u)<p*i)break}return i},e.erf=function(e){var n,t,i,u,o=[-1.3026537197817094,.6419697923564902,.019476473204185836,-.00956151478680863,-.000946595344482036,.000366839497852761,42523324806907e-18,-20278578112534e-18,-1624290004647e-18,130365583558e-17,1.5626441722e-8,-8.5238095915e-8,6.529054439e-9,5.059343495e-9,-9.91364156e-10,-2.27365122e-10,96467911e-18,2394038e-18,-6886027e-18,894487e-18,313092e-18,-112708e-18,381e-18,7106e-18,-1523e-18,-94e-18,121e-18,-28e-18],a=o.length-1,s=!1,l=0,f=0;for(e<0&&(e=-e,s=!0),t=4*(n=2/(2+e))-2;a>0;a--)i=l,l=t*l-f+o[a],f=i;return u=n*r.exp(-e*e+.5*(o[0]+t*l)-f),s?u-1:1-u},e.erfc=function(r){return 1-e.erf(r)},e.erfcinv=function(n){var t,i,u,o,a=0;if(n>=2)return-100;if(n<=0)return 100;for(o=n<1?n:2-n,t=-.70711*((2.30753+.27061*(u=r.sqrt(-2*r.log(o/2))))/(1+u*(.99229+.04481*u))-u);a<2;a++)t+=(i=e.erfc(t)-o)/(1.1283791670955126*r.exp(-t*t)-t*i);return n<1?t:-t},e.ibetainv=function(n,t,i){var u,o,a,s,l,f,c,p,h,d,v=1e-8,g=t-1,m=i-1,y=0;if(n<=0)return 0;if(n>=1)return 1;for(t>=1&&i>=1?(a=n<.5?n:1-n,f=(2.30753+.27061*(s=r.sqrt(-2*r.log(a))))/(1+s*(.99229+.04481*s))-s,n<.5&&(f=-f),c=(f*f-3)/6,p=2/(1/(2*t-1)+1/(2*i-1)),h=f*r.sqrt(c+p)/p-(1/(2*i-1)-1/(2*t-1))*(c+5/6-2/(3*p)),f=t/(t+i*r.exp(2*h))):(u=r.log(t/(t+i)),o=r.log(i/(t+i)),f=n<(s=r.exp(t*u)/t)/(h=s+(l=r.exp(i*o)/i))?r.pow(t*h*n,1/t):1-r.pow(i*h*(1-n),1/i)),d=-e.gammaln(t)-e.gammaln(i)+e.gammaln(t+i);y<10;y++){if(0===f||1===f)return f;if((f-=s=(l=(e.ibeta(f,t,i)-n)/(s=r.exp(g*r.log(f)+m*r.log(1-f)+d)))/(1-.5*r.min(1,l*(g/f-m/(1-f)))))<=0&&(f=.5*(f+s)),f>=1&&(f=.5*(f+s+1)),r.abs(s)<v*f&&y>0)break}return f},e.ibeta=function(n,t,i){var u=0===n||1===n?0:r.exp(e.gammaln(t+i)-e.gammaln(t)-e.gammaln(i)+t*r.log(n)+i*r.log(1-n));return!(n<0||n>1)&&(n<(t+1)/(t+i+2)?u*e.betacf(n,t,i)/t:1-u*e.betacf(1-n,i,t)/i)},e.randn=function(n,t){var i,u,o,a,s;if(t||(t=n),n)return e.create(n,t,(function(){return e.randn()}));do{i=e._random_fn(),u=1.7156*(e._random_fn()-.5),s=(o=i-.449871)*o+(a=r.abs(u)+.386595)*(.196*a-.25472*o)}while(s>.27597&&(s>.27846||u*u>-4*r.log(i)*i*i));return u/i},e.randg=function(n,t,i){var u,o,a,s,l,f,c=n;if(i||(i=t),n||(n=1),t)return(f=e.zeros(t,i)).alter((function(){return e.randg(n)})),f;n<1&&(n+=1),u=n-1/3,o=1/r.sqrt(9*u);do{do{s=1+o*(l=e.randn())}while(s<=0);s*=s*s,a=e._random_fn()}while(a>1-.331*r.pow(l,4)&&r.log(a)>.5*l*l+u*(1-s+r.log(s)));if(n==c)return u*s;do{a=e._random_fn()}while(0===a);return r.pow(a,1/c)*u*s},function(r){for(var n=0;n<r.length;n++)!function(r){e.fn[r]=function(){return e(e.map(this,(function(n){return e[r](n)})))}}(r[n])}("gammaln gammafn factorial factorialln".split(" ")),function(r){for(var n=0;n<r.length;n++)!function(r){e.fn[r]=function(){return e(e[r].apply(null,arguments))}}(r[n])}("randn".split(" "))}(e,Math),function(e,r){function n(e,n,t,i){for(var u,o=0,a=1,s=1,l=1,f=0,c=0;r.abs((s-c)/s)>i;)c=s,a=l+(u=-(n+f)*(n+t+f)*e/(n+2*f)/(n+2*f+1))*a,s=(o=s+u*o)+(u=(f+=1)*(t-f)*e/(n+2*f-1)/(n+2*f))*s,o/=l=a+u*l,a/=l,s/=l,l=1;return s/n}function t(e){return e/r.abs(e)}function i(n,t,i){var u=12,o=6,a=-30,s=-50,l=60,f=8,c=3,p=2,h=3,d=[.9815606342467192,.9041172563704749,.7699026741943047,.5873179542866175,.3678314989981802,.1252334085114689],v=[.04717533638651183,.10693932599531843,.16007832854334622,.20316742672306592,.2334925365383548,.24914704581340277],g=.5*n;if(g>=f)return 1;var m,y=2*e.normal.cdf(g,0,1,1,0)-1;y=y>=r.exp(s/i)?r.pow(y,i):0;for(var w=g,b=(f-g)/(m=n>c?p:h),$=w+b,x=0,S=i-1,E=1;E<=m;E++){for(var _=0,j=.5*($+w),O=.5*($-w),D=1;D<=u;D++){var R,M=j+O*(o<D?d[(R=u-D+1)-1]:-d[(R=D)-1]),q=M*M;if(q>l)break;var k=2*e.normal.cdf(M,0,1,1,0)*.5-2*e.normal.cdf(M,n,1,1,0)*.5;k>=r.exp(a/S)&&(_+=k=v[R-1]*r.exp(-.5*q)*r.pow(k,S))}x+=_*=2*O*i/r.sqrt(2*r.PI),w=$,$+=b}return(y+=x)<=r.exp(a/t)?0:(y=r.pow(y,t))>=1?1:y}function u(e,n,t){var i=.322232421088,u=.099348462606,o=-1,a=.588581570495,s=-.342242088547,l=.531103462366,f=-.204231210125,c=.10353775285,p=-453642210148e-16,h=.0038560700634,d=.8832,v=.2368,g=1.214,m=1.208,y=1.4142,w=120,b=.5-.5*e,$=r.sqrt(r.log(1/(b*b))),x=$+(((($*p+f)*$+s)*$+o)*$+i)/(((($*h+c)*$+l)*$+a)*$+u);t<w&&(x+=(x*x*x+x)/t/4);var S=d-v*x;return t<w&&(S+=-g/t+m*x/t),x*(S*r.log(n-1)+y)}!function(r){for(var n=0;n<r.length;n++)!function(r){e[r]=function e(r,n,t){return this instanceof e?(this._a=r,this._b=n,this._c=t,this):new e(r,n,t)},e.fn[r]=function(n,t,i){var u=e[r](n,t,i);return u.data=this,u},e[r].prototype.sample=function(n){var t=this._a,i=this._b,u=this._c;return n?e.alter(n,(function(){return e[r].sample(t,i,u)})):e[r].sample(t,i,u)},function(n){for(var t=0;t<n.length;t++)!function(n){e[r].prototype[n]=function(t){var i=this._a,u=this._b,o=this._c;return t||0===t||(t=this.data),"number"!=typeof t?e.fn.map.call(t,(function(t){return e[r][n](t,i,u,o)})):e[r][n](t,i,u,o)}}(n[t])}("pdf cdf inv".split(" ")),function(n){for(var t=0;t<n.length;t++)!function(n){e[r].prototype[n]=function(){return e[r][n](this._a,this._b,this._c)}}(n[t])}("mean median mode variance".split(" "))}(r[n])}("beta centralF cauchy chisquare exponential gamma invgamma kumaraswamy laplace lognormal noncentralt normal pareto studentt weibull uniform binomial negbin hypgeom poisson triangular tukey arcsine".split(" ")),e.extend(e.beta,{pdf:function(n,t,i){return n>1||n<0?0:1==t&&1==i?1:t<512&&i<512?r.pow(n,t-1)*r.pow(1-n,i-1)/e.betafn(t,i):r.exp((t-1)*r.log(n)+(i-1)*r.log(1-n)-e.betaln(t,i))},cdf:function(r,n,t){return r>1||r<0?1*(r>1):e.ibeta(r,n,t)},inv:function(r,n,t){return e.ibetainv(r,n,t)},mean:function(e,r){return e/(e+r)},median:function(r,n){return e.ibetainv(.5,r,n)},mode:function(e,r){return(e-1)/(e+r-2)},sample:function(r,n){var t=e.randg(r);return t/(t+e.randg(n))},variance:function(e,n){return e*n/(r.pow(e+n,2)*(e+n+1))}}),e.extend(e.centralF,{pdf:function(n,t,i){var u;return n<0?0:t<=2?0===n&&t<2?1/0:0===n&&2===t?1:1/e.betafn(t/2,i/2)*r.pow(t/i,t/2)*r.pow(n,t/2-1)*r.pow(1+t/i*n,-(t+i)/2):(u=t*n/(i+n*t),t*(i/(i+n*t))/2*e.binomial.pdf((t-2)/2,(t+i-2)/2,u))},cdf:function(r,n,t){return r<0?0:e.ibeta(n*r/(n*r+t),n/2,t/2)},inv:function(r,n,t){return t/(n*(1/e.ibetainv(r,n/2,t/2)-1))},mean:function(e,r){return r>2?r/(r-2):void 0},mode:function(e,r){return e>2?r*(e-2)/(e*(r+2)):void 0},sample:function(r,n){return 2*e.randg(r/2)/r/(2*e.randg(n/2)/n)},variance:function(e,r){if(!(r<=4))return 2*r*r*(e+r-2)/(e*(r-2)*(r-2)*(r-4))}}),e.extend(e.cauchy,{pdf:function(e,n,t){return t<0?0:t/(r.pow(e-n,2)+r.pow(t,2))/r.PI},cdf:function(e,n,t){return r.atan((e-n)/t)/r.PI+.5},inv:function(e,n,t){return n+t*r.tan(r.PI*(e-.5))},median:function(e){return e},mode:function(e){return e},sample:function(n,t){return e.randn()*r.sqrt(1/(2*e.randg(.5)))*t+n}}),e.extend(e.chisquare,{pdf:function(n,t){return n<0?0:0===n&&2===t?.5:r.exp((t/2-1)*r.log(n)-n/2-t/2*r.log(2)-e.gammaln(t/2))},cdf:function(r,n){return r<0?0:e.lowRegGamma(n/2,r/2)},inv:function(r,n){return 2*e.gammapinv(r,.5*n)},mean:function(e){return e},median:function(e){return e*r.pow(1-2/(9*e),3)},mode:function(e){return e-2>0?e-2:0},sample:function(r){return 2*e.randg(r/2)},variance:function(e){return 2*e}}),e.extend(e.exponential,{pdf:function(e,n){return e<0?0:n*r.exp(-n*e)},cdf:function(e,n){return e<0?0:1-r.exp(-n*e)},inv:function(e,n){return-r.log(1-e)/n},mean:function(e){return 1/e},median:function(e){return 1/e*r.log(2)},mode:function(){return 0},sample:function(n){return-1/n*r.log(e._random_fn())},variance:function(e){return r.pow(e,-2)}}),e.extend(e.gamma,{pdf:function(n,t,i){return n<0?0:0===n&&1===t?1/i:r.exp((t-1)*r.log(n)-n/i-e.gammaln(t)-t*r.log(i))},cdf:function(r,n,t){return r<0?0:e.lowRegGamma(n,r/t)},inv:function(r,n,t){return e.gammapinv(r,n)*t},mean:function(e,r){return e*r},mode:function(e,r){if(e>1)return(e-1)*r},sample:function(r,n){return e.randg(r)*n},variance:function(e,r){return e*r*r}}),e.extend(e.invgamma,{pdf:function(n,t,i){return n<=0?0:r.exp(-(t+1)*r.log(n)-i/n-e.gammaln(t)+t*r.log(i))},cdf:function(r,n,t){return r<=0?0:1-e.lowRegGamma(n,t/r)},inv:function(r,n,t){return t/e.gammapinv(1-r,n)},mean:function(e,r){return e>1?r/(e-1):void 0},mode:function(e,r){return r/(e+1)},sample:function(r,n){return n/e.randg(r)},variance:function(e,r){if(!(e<=2))return r*r/((e-1)*(e-1)*(e-2))}}),e.extend(e.kumaraswamy,{pdf:function(e,n,t){return 0===e&&1===n?t:1===e&&1===t?n:r.exp(r.log(n)+r.log(t)+(n-1)*r.log(e)+(t-1)*r.log(1-r.pow(e,n)))},cdf:function(e,n,t){return e<0?0:e>1?1:1-r.pow(1-r.pow(e,n),t)},inv:function(e,n,t){return r.pow(1-r.pow(1-e,1/t),1/n)},mean:function(r,n){return n*e.gammafn(1+1/r)*e.gammafn(n)/e.gammafn(1+1/r+n)},median:function(e,n){return r.pow(1-r.pow(2,-1/n),1/e)},mode:function(e,n){if(e>=1&&n>=1&&1!==e&&1!==n)return r.pow((e-1)/(e*n-1),1/e)},variance:function(){throw new Error("variance not yet implemented")}}),e.extend(e.lognormal,{pdf:function(e,n,t){return e<=0?0:r.exp(-r.log(e)-.5*r.log(2*r.PI)-r.log(t)-r.pow(r.log(e)-n,2)/(2*t*t))},cdf:function(n,t,i){return n<0?0:.5+.5*e.erf((r.log(n)-t)/r.sqrt(2*i*i))},inv:function(n,t,i){return r.exp(-1.4142135623730951*i*e.erfcinv(2*n)+t)},mean:function(e,n){return r.exp(e+n*n/2)},median:function(e){return r.exp(e)},mode:function(e,n){return r.exp(e-n*n)},sample:function(n,t){return r.exp(e.randn()*t+n)},variance:function(e,n){return(r.exp(n*n)-1)*r.exp(2*e+n*n)}}),e.extend(e.noncentralt,{pdf:function(n,t,i){var u=1e-14;return r.abs(i)<u?e.studentt.pdf(n,t):r.abs(n)<u?r.exp(e.gammaln((t+1)/2)-i*i/2-.5*r.log(r.PI*t)-e.gammaln(t/2)):t/n*(e.noncentralt.cdf(n*r.sqrt(1+2/t),t+2,i)-e.noncentralt.cdf(n,t,i))},cdf:function(n,t,i){var u=1e-14,o=200;if(r.abs(i)<u)return e.studentt.cdf(n,t);var a=!1;n<0&&(a=!0,i=-i);for(var s=e.normal.cdf(-i,0,1),l=u+1,f=l,c=n*n/(n*n+t),p=0,h=r.exp(-i*i/2),d=r.exp(-i*i/2-.5*r.log(2)-e.gammaln(1.5))*i;p<o||f>u||l>u;)f=l,p>0&&(h*=i*i/(2*p),d*=i*i/(2*(p+.5))),s+=.5*(l=h*e.beta.cdf(c,p+.5,t/2)+d*e.beta.cdf(c,p+1,t/2)),p++;return a?1-s:s}}),e.extend(e.normal,{pdf:function(e,n,t){return r.exp(-.5*r.log(2*r.PI)-r.log(t)-r.pow(e-n,2)/(2*t*t))},cdf:function(n,t,i){return.5*(1+e.erf((n-t)/r.sqrt(2*i*i)))},inv:function(r,n,t){return-1.4142135623730951*t*e.erfcinv(2*r)+n},mean:function(e){return e},median:function(e){return e},mode:function(e){return e},sample:function(r,n){return e.randn()*n+r},variance:function(e,r){return r*r}}),e.extend(e.pareto,{pdf:function(e,n,t){return e<n?0:t*r.pow(n,t)/r.pow(e,t+1)},cdf:function(e,n,t){return e<n?0:1-r.pow(n/e,t)},inv:function(e,n,t){return n/r.pow(1-e,1/t)},mean:function(e,n){if(!(n<=1))return n*r.pow(e,n)/(n-1)},median:function(e,n){return e*(n*r.SQRT2)},mode:function(e){return e},variance:function(e,n){if(!(n<=2))return e*e*n/(r.pow(n-1,2)*(n-2))}}),e.extend(e.studentt,{pdf:function(n,t){return t=t>1e100?1e100:t,1/(r.sqrt(t)*e.betafn(.5,t/2))*r.pow(1+n*n/t,-(t+1)/2)},cdf:function(n,t){var i=t/2;return e.ibeta((n+r.sqrt(n*n+t))/(2*r.sqrt(n*n+t)),i,i)},inv:function(n,t){var i=e.ibetainv(2*r.min(n,1-n),.5*t,.5);return i=r.sqrt(t*(1-i)/i),n>.5?i:-i},mean:function(e){return e>1?0:void 0},median:function(){return 0},mode:function(){return 0},sample:function(n){return e.randn()*r.sqrt(n/(2*e.randg(n/2)))},variance:function(e){return e>2?e/(e-2):e>1?1/0:void 0}}),e.extend(e.weibull,{pdf:function(e,n,t){return e<0||n<0||t<0?0:t/n*r.pow(e/n,t-1)*r.exp(-r.pow(e/n,t))},cdf:function(e,n,t){return e<0?0:1-r.exp(-r.pow(e/n,t))},inv:function(e,n,t){return n*r.pow(-r.log(1-e),1/t)},mean:function(r,n){return r*e.gammafn(1+1/n)},median:function(e,n){return e*r.pow(r.log(2),1/n)},mode:function(e,n){return n<=1?0:e*r.pow((n-1)/n,1/n)},sample:function(n,t){return n*r.pow(-r.log(e._random_fn()),1/t)},variance:function(n,t){return n*n*e.gammafn(1+2/t)-r.pow(e.weibull.mean(n,t),2)}}),e.extend(e.uniform,{pdf:function(e,r,n){return e<r||e>n?0:1/(n-r)},cdf:function(e,r,n){return e<r?0:e<n?(e-r)/(n-r):1},inv:function(e,r,n){return r+e*(n-r)},mean:function(e,r){return.5*(e+r)},median:function(r,n){return e.mean(r,n)},mode:function(){throw new Error("mode is not yet implemented")},sample:function(r,n){return r/2+n/2+(n/2-r/2)*(2*e._random_fn()-1)},variance:function(e,n){return r.pow(n-e,2)/12}}),e.extend(e.binomial,{pdf:function(n,t,i){return 0===i||1===i?t*i===n?1:0:e.combination(t,n)*r.pow(i,n)*r.pow(1-i,t-n)},cdf:function(t,i,u){var o,a=1e-10;if(t<0)return 0;if(t>=i)return 1;if(u<0||u>1||i<=0)return NaN;var s=u,l=(t=r.floor(t))+1,f=i-t,c=l+f,p=r.exp(e.gammaln(c)-e.gammaln(f)-e.gammaln(l)+l*r.log(s)+f*r.log(1-s));return o=s<(l+1)/(c+2)?p*n(s,l,f,a):1-p*n(1-s,f,l,a),r.round(1/a*(1-o))/(1/a)}}),e.extend(e.negbin,{pdf:function(n,t,i){return n===n>>>0&&(n<0?0:e.combination(n+t-1,t-1)*r.pow(1-i,n)*r.pow(i,t))},cdf:function(r,n,t){var i=0,u=0;if(r<0)return 0;for(;u<=r;u++)i+=e.negbin.pdf(u,n,t);return i}}),e.extend(e.hypgeom,{pdf:function(n,t,i,u){if(n!=n|0)return!1;if(n<0||n<i-(t-u))return 0;if(n>u||n>i)return 0;if(2*i>t)return 2*u>t?e.hypgeom.pdf(t-i-u+n,t,t-i,t-u):e.hypgeom.pdf(u-n,t,t-i,u);if(2*u>t)return e.hypgeom.pdf(i-n,t,i,t-u);if(i<u)return e.hypgeom.pdf(n,t,u,i);for(var o=1,a=0,s=0;s<n;s++){for(;o>1&&a<u;)o*=1-i/(t-a),a++;o*=(u-s)*(i-s)/((s+1)*(t-i-u+s+1))}for(;a<u;a++)o*=1-i/(t-a);return r.min(1,r.max(0,o))},cdf:function(n,t,i,u){if(n<0||n<i-(t-u))return 0;if(n>=u||n>=i)return 1;if(2*i>t)return 2*u>t?e.hypgeom.cdf(t-i-u+n,t,t-i,t-u):1-e.hypgeom.cdf(u-n-1,t,t-i,u);if(2*u>t)return 1-e.hypgeom.cdf(i-n-1,t,i,t-u);if(i<u)return e.hypgeom.cdf(n,t,u,i);for(var o=1,a=1,s=0,l=0;l<n;l++){for(;o>1&&s<u;){var f=1-i/(t-s);a*=f,o*=f,s++}o+=a*=(u-l)*(i-l)/((l+1)*(t-i-u+l+1))}for(;s<u;s++)o*=1-i/(t-s);return r.min(1,r.max(0,o))}}),e.extend(e.poisson,{pdf:function(n,t){return t<0||n%1!=0||n<0?0:r.pow(t,n)*r.exp(-t)/e.factorial(n)},cdf:function(r,n){var t=[],i=0;if(r<0)return 0;for(;i<=r;i++)t.push(e.poisson.pdf(i,n));return e.sum(t)},mean:function(e){return e},variance:function(e){return e},sampleSmall:function(n){var t=1,i=0,u=r.exp(-n);do{i++,t*=e._random_fn()}while(t>u);return i-1},sampleLarge:function(n){var t,i,u,o,a,s,l,f,c,p,h=n;for(o=r.sqrt(h),a=r.log(h),s=.02483*(l=.931+2.53*o)-.059,f=1.1239+1.1328/(l-3.4),c=.9277-3.6224/(l-2);;){if(i=r.random()-.5,u=r.random(),p=.5-r.abs(i),t=r.floor((2*s/p+l)*i+h+.43),p>=.07&&u<=c)return t;if(!(t<0||p<.013&&u>p)&&r.log(u)+r.log(f)-r.log(s/(p*p)+l)<=t*a-h-e.loggam(t+1))return t}},sample:function(e){return e<10?this.sampleSmall(e):this.sampleLarge(e)}}),e.extend(e.triangular,{pdf:function(e,r,n,t){return n<=r||t<r||t>n?NaN:e<r||e>n?0:e<t?2*(e-r)/((n-r)*(t-r)):e===t?2/(n-r):2*(n-e)/((n-r)*(n-t))},cdf:function(e,n,t,i){return t<=n||i<n||i>t?NaN:e<=n?0:e>=t?1:e<=i?r.pow(e-n,2)/((t-n)*(i-n)):1-r.pow(t-e,2)/((t-n)*(t-i))},inv:function(e,n,t,i){return t<=n||i<n||i>t?NaN:e<=(i-n)/(t-n)?n+(t-n)*r.sqrt(e*((i-n)/(t-n))):n+(t-n)*(1-r.sqrt((1-e)*(1-(i-n)/(t-n))))},mean:function(e,r,n){return(e+r+n)/3},median:function(e,n,t){return t<=(e+n)/2?n-r.sqrt((n-e)*(n-t))/r.sqrt(2):t>(e+n)/2?e+r.sqrt((n-e)*(t-e))/r.sqrt(2):void 0},mode:function(e,r,n){return n},sample:function(n,t,i){var u=e._random_fn();return u<(i-n)/(t-n)?n+r.sqrt(u*(t-n)*(i-n)):t-r.sqrt((1-u)*(t-n)*(t-i))},variance:function(e,r,n){return(e*e+r*r+n*n-e*r-e*n-r*n)/18}}),e.extend(e.arcsine,{pdf:function(e,n,t){return t<=n?NaN:e<=n||e>=t?0:2/r.PI*r.pow(r.pow(t-n,2)-r.pow(2*e-n-t,2),-.5)},cdf:function(e,n,t){return e<n?0:e<t?2/r.PI*r.asin(r.sqrt((e-n)/(t-n))):1},inv:function(e,n,t){return n+(.5-.5*r.cos(r.PI*e))*(t-n)},mean:function(e,r){return r<=e?NaN:(e+r)/2},median:function(e,r){return r<=e?NaN:(e+r)/2},mode:function(){throw new Error("mode is not yet implemented")},sample:function(n,t){return(n+t)/2+(t-n)/2*r.sin(2*r.PI*e.uniform.sample(0,1))},variance:function(e,n){return n<=e?NaN:r.pow(n-e,2)/8}}),e.extend(e.laplace,{pdf:function(e,n,t){return t<=0?0:r.exp(-r.abs(e-n)/t)/(2*t)},cdf:function(e,n,t){return t<=0?0:e<n?.5*r.exp((e-n)/t):1-.5*r.exp(-(e-n)/t)},mean:function(e){return e},median:function(e){return e},mode:function(e){return e},variance:function(e,r){return 2*r*r},sample:function(n,i){var u=e._random_fn()-.5;return n-i*t(u)*r.log(1-2*r.abs(u))}}),e.extend(e.tukey,{cdf:function(n,t,u){var o=1,a=t,s=16,l=8,f=-30,c=1e-14,p=100,h=800,d=5e3,v=25e3,g=1,m=.5,y=.25,w=.125,b=[.9894009349916499,.9445750230732326,.8656312023878318,.755404408355003,.6178762444026438,.45801677765722737,.2816035507792589,.09501250983763744],$=[.027152459411754096,.062253523938647894,.09515851168249279,.12462897125553388,.14959598881657674,.16915651939500254,.18260341504492358,.1894506104550685];if(n<=0)return 0;if(u<2||o<1||a<2)return NaN;if(!Number.isFinite(n))return 1;if(u>v)return i(n,o,a);var x,S=.5*u,E=S*r.log(u)-u*r.log(2)-e.gammaln(S),_=S-1,j=.25*u;x=u<=p?g:u<=h?m:u<=d?y:w,E+=r.log(x);for(var O=0,D=1;D<=50;D++){for(var R=0,M=(2*D-1)*x,q=1;q<=s;q++){var k,P;l<q?(k=q-l-1,P=E+_*r.log(M+b[k]*x)-(b[k]*x+M)*j):(k=q-1,P=E+_*r.log(M-b[k]*x)+(b[k]*x-M)*j),P>=f&&(R+=i(l<q?n*r.sqrt(.5*(b[k]*x+M)):n*r.sqrt(.5*(-b[k]*x+M)),o,a)*$[k]*r.exp(P))}if(D*x>=1&&R<=c)break;O+=R}if(R>c)throw new Error("tukey.cdf failed to converge");return O>1&&(O=1),O},inv:function(n,t,i){var o=1e-4,a=50;if(i<2||t<2)return NaN;if(n<0||n>1)return NaN;if(0===n)return 0;if(1===n)return 1/0;var s,l=u(n,t,i),f=e.tukey.cdf(l,t,i)-n;s=f>0?r.max(0,l-1):l+1;for(var c,p=e.tukey.cdf(s,t,i)-n,h=1;h<a;h++)if(c=s-p*(s-l)/(p-f),f=p,l=s,c<0&&(c=0,p=-n),p=e.tukey.cdf(c,t,i)-n,s=c,r.abs(s-l)<o)return c;throw new Error("tukey.inv failed to converge")}})}(e,Math),function(e,r){var n=Array.prototype.push,t=e.utils.isArray;function i(r){return t(r)||r instanceof e}e.extend({add:function(r,n){return i(n)?(i(n[0])||(n=[n]),e.map(r,(function(e,r,t){return e+n[r][t]}))):e.map(r,(function(e){return e+n}))},subtract:function(r,n){return i(n)?(i(n[0])||(n=[n]),e.map(r,(function(e,r,t){return e-n[r][t]||0}))):e.map(r,(function(e){return e-n}))},divide:function(r,n){return i(n)?(i(n[0])||(n=[n]),e.multiply(r,e.inv(n))):e.map(r,(function(e){return e/n}))},multiply:function(r,n){var t,u,o,a,s,l,f,c;if(void 0===r.length&&void 0===n.length)return r*n;if(s=r.length,l=r[0].length,f=e.zeros(s,o=i(n)?n[0].length:l),c=0,i(n)){for(;c<o;c++)for(t=0;t<s;t++){for(a=0,u=0;u<l;u++)a+=r[t][u]*n[u][c];f[t][c]=a}return 1===s&&1===c?f[0][0]:f}return e.map(r,(function(e){return e*n}))},outer:function(r,n){return e.multiply(r.map((function(e){return[e]})),[n])},dot:function(r,n){i(r[0])||(r=[r]),i(n[0])||(n=[n]);for(var t,u,o=1===r[0].length&&1!==r.length?e.transpose(r):r,a=1===n[0].length&&1!==n.length?e.transpose(n):n,s=[],l=0,f=o.length,c=o[0].length;l<f;l++){for(s[l]=[],t=0,u=0;u<c;u++)t+=o[l][u]*a[l][u];s[l]=t}return 1===s.length?s[0]:s},pow:function(n,t){return e.map(n,(function(e){return r.pow(e,t)}))},exp:function(n){return e.map(n,(function(e){return r.exp(e)}))},log:function(n){return e.map(n,(function(e){return r.log(e)}))},abs:function(n){return e.map(n,(function(e){return r.abs(e)}))},norm:function(e,n){var t=0,u=0;for(isNaN(n)&&(n=2),i(e[0])&&(e=e[0]);u<e.length;u++)t+=r.pow(r.abs(e[u]),n);return r.pow(t,1/n)},angle:function(n,t){return r.acos(e.dot(n,t)/(e.norm(n)*e.norm(t)))},aug:function(e,r){var t,i=[];for(t=0;t<e.length;t++)i.push(e[t].slice());for(t=0;t<i.length;t++)n.apply(i[t],r[t]);return i},inv:function(r){for(var n,t=r.length,i=r[0].length,u=e.identity(t,i),o=e.gauss_jordan(r,u),a=[],s=0;s<t;s++)for(a[s]=[],n=i;n<o[0].length;n++)a[s][n-i]=o[s][n];return a},det:function e(r){if(2===r.length)return r[0][0]*r[1][1]-r[0][1]*r[1][0];for(var n=0,t=0;t<r.length;t++){for(var i=[],u=1;u<r.length;u++){i[u-1]=[];for(var o=0;o<r.length;o++)o<t?i[u-1][o]=r[u][o]:o>t&&(i[u-1][o-1]=r[u][o])}var a=t%2?-1:1;n+=e(i)*r[0][t]*a}return n},gauss_elimination:function(n,t){var i,u,o,a,s=0,l=0,f=n.length,c=n[0].length,p=1,h=0,d=[];for(i=(n=e.aug(n,t))[0].length,s=0;s<f;s++){for(u=n[s][s],l=s,a=s+1;a<c;a++)u<r.abs(n[a][s])&&(u=n[a][s],l=a);if(l!=s)for(a=0;a<i;a++)o=n[s][a],n[s][a]=n[l][a],n[l][a]=o;for(l=s+1;l<f;l++)for(p=n[l][s]/n[s][s],a=s;a<i;a++)n[l][a]=n[l][a]-p*n[s][a]}for(s=f-1;s>=0;s--){for(h=0,l=s+1;l<=f-1;l++)h+=d[l]*n[s][l];d[s]=(n[s][i-1]-h)/n[s][s]}return d},gauss_jordan:function(n,t){var i,u,o,a=e.aug(n,t),s=a.length,l=a[0].length,f=0;for(u=0;u<s;u++){var c=u;for(o=u+1;o<s;o++)r.abs(a[o][u])>r.abs(a[c][u])&&(c=o);var p=a[u];for(a[u]=a[c],a[c]=p,o=u+1;o<s;o++)for(f=a[o][u]/a[u][u],i=u;i<l;i++)a[o][i]-=a[u][i]*f}for(u=s-1;u>=0;u--){for(f=a[u][u],o=0;o<u;o++)for(i=l-1;i>u-1;i--)a[o][i]-=a[u][i]*a[o][u]/f;for(a[u][u]/=f,i=s;i<l;i++)a[u][i]/=f}return a},triaUpSolve:function(r,n){var t,i=r[0].length,u=e.zeros(1,i)[0],o=!1;return null!=n[0].length&&(n=n.map((function(e){return e[0]})),o=!0),e.arange(i-1,-1,-1).forEach((function(o){t=e.arange(o+1,i).map((function(e){return u[e]*r[o][e]})),u[o]=(n[o]-e.sum(t))/r[o][o]})),o?u.map((function(e){return[e]})):u},triaLowSolve:function(r,n){var t,i=r[0].length,u=e.zeros(1,i)[0],o=!1;return null!=n[0].length&&(n=n.map((function(e){return e[0]})),o=!0),e.arange(i).forEach((function(i){t=e.arange(i).map((function(e){return r[i][e]*u[e]})),u[i]=(n[i]-e.sum(t))/r[i][i]})),o?u.map((function(e){return[e]})):u},lu:function(r){var n,t=r.length,i=e.identity(t),u=e.zeros(r.length,r[0].length);return e.arange(t).forEach((function(e){u[0][e]=r[0][e]})),e.arange(1,t).forEach((function(o){e.arange(o).forEach((function(t){n=e.arange(t).map((function(e){return i[o][e]*u[e][t]})),i[o][t]=(r[o][t]-e.sum(n))/u[t][t]})),e.arange(o,t).forEach((function(t){n=e.arange(o).map((function(e){return i[o][e]*u[e][t]})),u[o][t]=r[n.length][t]-e.sum(n)}))})),[i,u]},cholesky:function(n){var t,i=n.length,u=e.zeros(n.length,n[0].length);return e.arange(i).forEach((function(o){t=e.arange(o).map((function(e){return r.pow(u[o][e],2)})),u[o][o]=r.sqrt(n[o][o]-e.sum(t)),e.arange(o+1,i).forEach((function(r){t=e.arange(o).map((function(e){return u[o][e]*u[r][e]})),u[r][o]=(n[o][r]-e.sum(t))/u[o][o]}))})),u},gauss_jacobi:function(n,t,i,u){for(var o,a,s,l,f=0,c=0,p=n.length,h=[],d=[],v=[];f<p;f++)for(h[f]=[],d[f]=[],v[f]=[],c=0;c<p;c++)f>c?(h[f][c]=n[f][c],d[f][c]=v[f][c]=0):f<c?(d[f][c]=n[f][c],h[f][c]=v[f][c]=0):(v[f][c]=n[f][c],h[f][c]=d[f][c]=0);for(s=e.multiply(e.multiply(e.inv(v),e.add(h,d)),-1),a=e.multiply(e.inv(v),t),o=i,l=e.add(e.multiply(s,i),a),f=2;r.abs(e.norm(e.subtract(l,o)))>u;)o=l,l=e.add(e.multiply(s,o),a),f++;return l},gauss_seidel:function(n,t,i,u){for(var o,a,s,l,f,c=0,p=n.length,h=[],d=[],v=[];c<p;c++)for(h[c]=[],d[c]=[],v[c]=[],o=0;o<p;o++)c>o?(h[c][o]=n[c][o],d[c][o]=v[c][o]=0):c<o?(d[c][o]=n[c][o],h[c][o]=v[c][o]=0):(v[c][o]=n[c][o],h[c][o]=d[c][o]=0);for(l=e.multiply(e.multiply(e.inv(e.add(v,h)),d),-1),s=e.multiply(e.inv(e.add(v,h)),t),a=i,f=e.add(e.multiply(l,i),s),c=2;r.abs(e.norm(e.subtract(f,a)))>u;)a=f,f=e.add(e.multiply(l,a),s),c+=1;return f},SOR:function(n,t,i,u,o){for(var a,s,l,f,c,p=0,h=n.length,d=[],v=[],g=[];p<h;p++)for(d[p]=[],v[p]=[],g[p]=[],a=0;a<h;a++)p>a?(d[p][a]=n[p][a],v[p][a]=g[p][a]=0):p<a?(v[p][a]=n[p][a],d[p][a]=g[p][a]=0):(g[p][a]=n[p][a],d[p][a]=v[p][a]=0);for(f=e.multiply(e.inv(e.add(g,e.multiply(d,o))),e.subtract(e.multiply(g,1-o),e.multiply(v,o))),l=e.multiply(e.multiply(e.inv(e.add(g,e.multiply(d,o))),t),o),s=i,c=e.add(e.multiply(f,i),l),p=2;r.abs(e.norm(e.subtract(c,s)))>u;)s=c,c=e.add(e.multiply(f,s),l),p++;return c},householder:function(n){for(var t,i,u,o,a=n.length,s=n[0].length,l=0,f=[],c=[];l<a-1;l++){for(t=0,o=l+1;o<s;o++)t+=n[o][l]*n[o][l];for(t=(n[l+1][l]>0?-1:1)*r.sqrt(t),i=r.sqrt((t*t-n[l+1][l]*t)/2),(f=e.zeros(a,1))[l+1][0]=(n[l+1][l]-t)/(2*i),u=l+2;u<a;u++)f[u][0]=n[u][l]/(2*i);c=e.subtract(e.identity(a,s),e.multiply(e.multiply(f,e.transpose(f)),2)),n=e.multiply(c,e.multiply(n,c))}return n},QR:function(){var n=e.sum,t=e.arange;function i(i){var u,o,a,s=i.length,l=i[0].length,f=e.zeros(l,l);for(i=e.copy(i),o=0;o<l;o++){for(f[o][o]=r.sqrt(n(t(s).map((function(e){return i[e][o]*i[e][o]})))),u=0;u<s;u++)i[u][o]=i[u][o]/f[o][o];for(a=o+1;a<l;a++)for(f[o][a]=n(t(s).map((function(e){return i[e][o]*i[e][a]}))),u=0;u<s;u++)i[u][a]=i[u][a]-i[u][o]*f[o][a]}return[i,f]}return i}(),lstsq:function(){function r(r){var n=(r=e.copy(r)).length,t=e.identity(n);return e.arange(n-1,-1,-1).forEach((function(n){e.sliceAssign(t,{row:n},e.divide(e.slice(t,{row:n}),r[n][n])),e.sliceAssign(r,{row:n},e.divide(e.slice(r,{row:n}),r[n][n])),e.arange(n).forEach((function(i){var u=e.multiply(r[i][n],-1),o=e.slice(r,{row:i}),a=e.multiply(e.slice(r,{row:n}),u);e.sliceAssign(r,{row:i},e.add(o,a));var s=e.slice(t,{row:i}),l=e.multiply(e.slice(t,{row:n}),u);e.sliceAssign(t,{row:i},e.add(s,l))}))})),t}function n(n,t){var i=!1;void 0===t[0].length&&(t=t.map((function(e){return[e]})),i=!0);var u=e.QR(n),o=u[0],a=u[1],s=n[0].length,l=e.slice(o,{col:{end:s}}),f=r(e.slice(a,{row:{end:s}})),c=e.transpose(l);void 0===c[0].length&&(c=[c]);var p=e.multiply(e.multiply(f,c),t);return void 0===p.length&&(p=[[p]]),i?p.map((function(e){return e[0]})):p}return n}(),jacobi:function(n){for(var t,i,u,o,a,s,l,f=1,c=n.length,p=e.identity(c,c),h=[];1===f;){for(a=n[0][1],u=0,o=1,t=0;t<c;t++)for(i=0;i<c;i++)t!=i&&a<r.abs(n[t][i])&&(a=r.abs(n[t][i]),u=t,o=i);for(s=n[u][u]===n[o][o]?n[u][o]>0?r.PI/4:-r.PI/4:r.atan(2*n[u][o]/(n[u][u]-n[o][o]))/2,(l=e.identity(c,c))[u][u]=r.cos(s),l[u][o]=-r.sin(s),l[o][u]=r.sin(s),l[o][o]=r.cos(s),p=e.multiply(p,l),n=e.multiply(e.multiply(e.inv(l),n),l),f=0,t=1;t<c;t++)for(i=1;i<c;i++)t!=i&&r.abs(n[t][i])>.001&&(f=1)}for(t=0;t<c;t++)h.push(n[t][t]);return[p,h]},rungekutta:function(e,r,n,t,i,u){var o,a,s;if(2===u)for(;t<=n;)i+=((o=r*e(t,i))+(a=r*e(t+r,i+o)))/2,t+=r;if(4===u)for(;t<=n;)i+=((o=r*e(t,i))+2*(a=r*e(t+r/2,i+o/2))+2*(s=r*e(t+r/2,i+a/2))+r*e(t+r,i+s))/6,t+=r;return i},romberg:function(e,n,t,i){for(var u,o,a,s,l,f=0,c=(t-n)/2,p=[],h=[],d=[];f<i/2;){for(l=e(n),a=n,s=0;a<=t;a+=c,s++)p[s]=a;for(u=p.length,a=1;a<u-1;a++)l+=(a%2!=0?4:2)*e(p[a]);l=c/3*(l+e(t)),d[f]=l,c/=2,f++}for(o=d.length,u=1;1!==o;){for(a=0;a<o-1;a++)h[a]=(r.pow(4,u)*d[a+1]-d[a])/(r.pow(4,u)-1);o=h.length,d=h,h=[],u++}return d},richardson:function(e,n,t,i){function u(e,r){for(var n,t=0,i=e.length;t<i;t++)e[t]===r&&(n=t);return n}for(var o,a,s,l,f,c=r.abs(t-e[u(e,t)+1]),p=0,h=[],d=[];i>=c;)o=u(e,t+i),a=u(e,t),h[p]=(n[o]-2*n[a]+n[2*a-o])/(i*i),i/=2,p++;for(l=h.length,s=1;1!=l;){for(f=0;f<l-1;f++)d[f]=(r.pow(4,s)*h[f+1]-h[f])/(r.pow(4,s)-1);l=d.length,h=d,d=[],s++}return h},simpson:function(e,r,n,t){for(var i,u=(n-r)/t,o=e(r),a=[],s=r,l=0,f=1;s<=n;s+=u,l++)a[l]=s;for(i=a.length;f<i-1;f++)o+=(f%2!=0?4:2)*e(a[f]);return u/3*(o+e(n))},hermite:function(e,r,n,t){for(var i,u=e.length,o=0,a=0,s=[],l=[],f=[],c=[];a<u;a++){for(s[a]=1,i=0;i<u;i++)a!=i&&(s[a]*=(t-e[i])/(e[a]-e[i]));for(l[a]=0,i=0;i<u;i++)a!=i&&(l[a]+=1/(e[a]-e[i]));f[a]=(1-2*(t-e[a])*l[a])*(s[a]*s[a]),c[a]=(t-e[a])*(s[a]*s[a]),o+=f[a]*r[a]+c[a]*n[a]}return o},lagrange:function(e,r,n){for(var t,i,u=0,o=0,a=e.length;o<a;o++){for(i=r[o],t=0;t<a;t++)o!=t&&(i*=(n-e[t])/(e[o]-e[t]));u+=i}return u},cubic_spline:function(r,n,t){for(var i,u=r.length,o=0,a=[],s=[],l=[],f=[],c=[],p=[],h=[];o<u-1;o++)c[o]=r[o+1]-r[o];for(l[0]=0,o=1;o<u-1;o++)l[o]=3/c[o]*(n[o+1]-n[o])-3/c[o-1]*(n[o]-n[o-1]);for(o=1;o<u-1;o++)a[o]=[],s[o]=[],a[o][o-1]=c[o-1],a[o][o]=2*(c[o-1]+c[o]),a[o][o+1]=c[o],s[o][0]=l[o];for(f=e.multiply(e.inv(a),s),i=0;i<u-1;i++)p[i]=(n[i+1]-n[i])/c[i]-c[i]*(f[i+1][0]+2*f[i][0])/3,h[i]=(f[i+1][0]-f[i][0])/(3*c[i]);for(i=0;i<u&&!(r[i]>t);i++);return n[i-=1]+(t-r[i])*p[i]+e.sq(t-r[i])*f[i]+(t-r[i])*e.sq(t-r[i])*h[i]},gauss_quadrature:function(){throw new Error("gauss_quadrature not yet implemented")},PCA:function(r){var n,t,i=r.length,u=r[0].length,o=0,a=[],s=[],l=[],f=[],c=[],p=[],h=[],d=[],v=[],g=[];for(o=0;o<i;o++)a[o]=e.sum(r[o])/u;for(o=0;o<u;o++)for(h[o]=[],n=0;n<i;n++)h[o][n]=r[n][o]-a[n];for(h=e.transpose(h),o=0;o<i;o++)for(d[o]=[],n=0;n<i;n++)d[o][n]=e.dot([h[o]],[h[n]])/(u-1);for(v=(l=e.jacobi(d))[0],s=l[1],g=e.transpose(v),o=0;o<s.length;o++)for(n=o;n<s.length;n++)s[o]<s[n]&&(t=s[o],s[o]=s[n],s[n]=t,f=g[o],g[o]=g[n],g[n]=f);for(p=e.transpose(h),o=0;o<i;o++)for(c[o]=[],n=0;n<p.length;n++)c[o][n]=e.dot([g[o]],[p[n]]);return[r,s,g,c]}}),function(r){for(var n=0;n<r.length;n++)!function(r){e.fn[r]=function(n,t){var i=this;return t?(setTimeout((function(){t.call(i,e.fn[r].call(i,n))}),15),this):"number"==typeof e[r](this,n)?e[r](this,n):e(e[r](this,n))}}(r[n])}("add divide multiply subtract dot pow exp log abs norm angle".split(" "))}(e,Math),function(e,r){var n=[].slice,t=e.utils.isNumber,i=e.utils.isArray;function u(e,n,t,i){if(e>1||t>1||e<=0||t<=0)throw new Error("Proportions should be greater than 0 and less than 1");var u=(e*n+t*i)/(n+i);return(e-t)/r.sqrt(u*(1-u)*(1/n+1/i))}e.extend({zscore:function(){var r=n.call(arguments);return t(r[1])?(r[0]-r[1])/r[2]:(r[0]-e.mean(r[1]))/e.stdev(r[1],r[2])},ztest:function(){var t,u=n.call(arguments);return i(u[1])?(t=e.zscore(u[0],u[1],u[3]),1===u[2]?e.normal.cdf(-r.abs(t),0,1):2*e.normal.cdf(-r.abs(t),0,1)):u.length>2?(t=e.zscore(u[0],u[1],u[2]),1===u[3]?e.normal.cdf(-r.abs(t),0,1):2*e.normal.cdf(-r.abs(t),0,1)):(t=u[0],1===u[1]?e.normal.cdf(-r.abs(t),0,1):2*e.normal.cdf(-r.abs(t),0,1))}}),e.extend(e.fn,{zscore:function(e,r){return(e-this.mean())/this.stdev(r)},ztest:function(n,t,i){var u=r.abs(this.zscore(n,i));return 1===t?e.normal.cdf(-u,0,1):2*e.normal.cdf(-u,0,1)}}),e.extend({tscore:function(){var t=n.call(arguments);return 4===t.length?(t[0]-t[1])/(t[2]/r.sqrt(t[3])):(t[0]-e.mean(t[1]))/(e.stdev(t[1],!0)/r.sqrt(t[1].length))},ttest:function(){var i,u=n.call(arguments);return 5===u.length?(i=r.abs(e.tscore(u[0],u[1],u[2],u[3])),1===u[4]?e.studentt.cdf(-i,u[3]-1):2*e.studentt.cdf(-i,u[3]-1)):t(u[1])?(i=r.abs(u[0]),1==u[2]?e.studentt.cdf(-i,u[1]-1):2*e.studentt.cdf(-i,u[1]-1)):(i=r.abs(e.tscore(u[0],u[1])),1==u[2]?e.studentt.cdf(-i,u[1].length-1):2*e.studentt.cdf(-i,u[1].length-1))}}),e.extend(e.fn,{tscore:function(e){return(e-this.mean())/(this.stdev(!0)/r.sqrt(this.cols()))},ttest:function(n,t){return 1===t?1-e.studentt.cdf(r.abs(this.tscore(n)),this.cols()-1):2*e.studentt.cdf(-r.abs(this.tscore(n)),this.cols()-1)}}),e.extend({anovafscore:function(){var t,i,u,o,a,s,l,f,c=n.call(arguments);if(1===c.length){for(a=new Array(c[0].length),l=0;l<c[0].length;l++)a[l]=c[0][l];c=a}for(i=new Array,l=0;l<c.length;l++)i=i.concat(c[l]);for(u=e.mean(i),t=0,l=0;l<c.length;l++)t+=c[l].length*r.pow(e.mean(c[l])-u,2);for(t/=c.length-1,s=0,l=0;l<c.length;l++)for(o=e.mean(c[l]),f=0;f<c[l].length;f++)s+=r.pow(c[l][f]-o,2);return t/(s/=i.length-c.length)},anovaftest:function(){var r,i,u,o,a=n.call(arguments);if(t(a[0]))return 1-e.centralF.cdf(a[0],a[1],a[2]);var s=e.anovafscore(a);for(r=a.length-1,u=0,o=0;o<a.length;o++)u+=a[o].length;return i=u-r-1,1-e.centralF.cdf(s,r,i)},ftest:function(r,n,t){return 1-e.centralF.cdf(r,n,t)}}),e.extend(e.fn,{anovafscore:function(){return e.anovafscore(this.toArray())},anovaftes:function(){var r,n=0;for(r=0;r<this.length;r++)n+=this[r].length;return e.ftest(this.anovafscore(),this.length-1,n-this.length)}}),e.extend({qscore:function(){var i,u,o,a,s,l=n.call(arguments);return t(l[0])?(i=l[0],u=l[1],o=l[2],a=l[3],s=l[4]):(i=e.mean(l[0]),u=e.mean(l[1]),o=l[0].length,a=l[1].length,s=l[2]),r.abs(i-u)/(s*r.sqrt((1/o+1/a)/2))},qtest:function(){var r,t=n.call(arguments);3===t.length?(r=t[0],t=t.slice(1)):7===t.length?(r=e.qscore(t[0],t[1],t[2],t[3],t[4]),t=t.slice(5)):(r=e.qscore(t[0],t[1],t[2]),t=t.slice(3));var i=t[0],u=t[1];return 1-e.tukey.cdf(r,u,i-u)},tukeyhsd:function(r){for(var n=e.pooledstdev(r),t=r.map((function(r){return e.mean(r)})),i=r.reduce((function(e,r){return e+r.length}),0),u=[],o=0;o<r.length;++o)for(var a=o+1;a<r.length;++a){var s=e.qtest(t[o],t[a],r[o].length,r[a].length,n,i,r.length);u.push([[o,a],s])}return u}}),e.extend({normalci:function(){var t,i=n.call(arguments),u=new Array(2);return t=4===i.length?r.abs(e.normal.inv(i[1]/2,0,1)*i[2]/r.sqrt(i[3])):r.abs(e.normal.inv(i[1]/2,0,1)*e.stdev(i[2])/r.sqrt(i[2].length)),u[0]=i[0]-t,u[1]=i[0]+t,u},tci:function(){var t,i=n.call(arguments),u=new Array(2);return t=4===i.length?r.abs(e.studentt.inv(i[1]/2,i[3]-1)*i[2]/r.sqrt(i[3])):r.abs(e.studentt.inv(i[1]/2,i[2].length-1)*e.stdev(i[2],!0)/r.sqrt(i[2].length)),u[0]=i[0]-t,u[1]=i[0]+t,u},significant:function(e,r){return e<r}}),e.extend(e.fn,{normalci:function(r,n){return e.normalci(r,n,this.toArray())},tci:function(r,n){return e.tci(r,n,this.toArray())}}),e.extend(e.fn,{oneSidedDifferenceOfProportions:function(r,n,t,i){var o=u(r,n,t,i);return e.ztest(o,1)},twoSidedDifferenceOfProportions:function(r,n,t,i){var o=u(r,n,t,i);return e.ztest(o,2)}})}(e,Math),e.models=function(){function r(r){var t=r[0].length;return e.arange(t).map((function(i){var u=e.arange(t).filter((function(e){return e!==i}));return n(e.col(r,i).map((function(e){return e[0]})),e.col(r,u))}))}function n(r,n){var t=r.length,i=n[0].length-1,u=t-i-1,o=e.lstsq(n,r),a=e.multiply(n,o.map((function(e){return[e]}))).map((function(e){return e[0]})),s=e.subtract(r,a),l=e.mean(r),f=e.sum(a.map((function(e){return Math.pow(e-l,2)}))),c=e.sum(r.map((function(e,r){return Math.pow(e-a[r],2)}))),p=f+c;return{exog:n,endog:r,nobs:t,df_model:i,df_resid:u,coef:o,predict:a,resid:s,ybar:l,SST:p,SSE:f,SSR:c,R2:f/p}}function t(n){var t=r(n.exog),i=Math.sqrt(n.SSR/n.df_resid),u=t.map((function(e){var r=e.SST,n=e.R2;return i/Math.sqrt(r*(1-n))})),o=n.coef.map((function(e,r){return(e-0)/u[r]})),a=o.map((function(r){var t=e.studentt.cdf(r,n.df_resid);return 2*(t>.5?1-t:t)})),s=e.studentt.inv(.975,n.df_resid),l=n.coef.map((function(e,r){var n=s*u[r];return[e-n,e+n]}));return{se:u,t:o,p:a,sigmaHat:i,interval95:l}}function i(r){var n,t,i,u=r.R2/r.df_model/((1-r.R2)/r.df_resid);return{F_statistic:u,pvalue:1-(n=u,t=r.df_model,i=r.df_resid,e.beta.cdf(n/(i/t+n),t/2,i/2))}}function u(e,r){var u=n(e,r),o=t(u),a=i(u),s=1-(1-u.R2)*((u.nobs-1)/u.df_resid);return u.t=o,u.f=a,u.adjust_R2=s,u}return{ols:u}}(),e.extend({buildxmatrix:function(){for(var r=new Array(arguments.length),n=0;n<arguments.length;n++){var t=[1];r[n]=t.concat(arguments[n])}return e(r)},builddxmatrix:function(){for(var r=new Array(arguments[0].length),n=0;n<arguments[0].length;n++){var t=[1];r[n]=t.concat(arguments[0][n])}return e(r)},buildjxmatrix:function(r){for(var n=new Array(r.length),t=0;t<r.length;t++)n[t]=r[t];return e.builddxmatrix(n)},buildymatrix:function(r){return e(r).transpose()},buildjymatrix:function(e){return e.transpose()},matrixmult:function(r,n){var t,i,u,o,a;if(r.cols()==n.rows()){if(n.rows()>1){for(o=[],t=0;t<r.rows();t++)for(o[t]=[],i=0;i<n.cols();i++){for(a=0,u=0;u<r.cols();u++)a+=r.toArray()[t][u]*n.toArray()[u][i];o[t][i]=a}return e(o)}for(o=[],t=0;t<r.rows();t++)for(o[t]=[],i=0;i<n.cols();i++){for(a=0,u=0;u<r.cols();u++)a+=r.toArray()[t][u]*n.toArray()[i];o[t][i]=a}return e(o)}},regress:function(r,n){var t=e.xtranspxinv(r),i=r.transpose(),u=e.matrixmult(e(t),i);return e.matrixmult(u,n)},regresst:function(r,n,t){var i=e.regress(r,n),u={anova:{}},o=e.jMatYBar(r,i);u.yBar=o;var a=n.mean();u.anova.residuals=e.residuals(n,o),u.anova.ssr=e.ssr(o,a),u.anova.msr=u.anova.ssr/(r[0].length-1),u.anova.sse=e.sse(n,o),u.anova.mse=u.anova.sse/(n.length-(r[0].length-1)-1),u.anova.sst=e.sst(n,a),u.anova.mst=u.anova.sst/(n.length-1),u.anova.r2=1-u.anova.sse/u.anova.sst,u.anova.r2<0&&(u.anova.r2=0),u.anova.fratio=u.anova.msr/u.anova.mse,u.anova.pvalue=e.anovaftest(u.anova.fratio,r[0].length-1,n.length-(r[0].length-1)-1),u.anova.rmse=Math.sqrt(u.anova.mse),u.anova.r2adj=1-u.anova.mse/u.anova.mst,u.anova.r2adj<0&&(u.anova.r2adj=0),u.stats=new Array(r[0].length);for(var s,l,f,c=e.xtranspxinv(r),p=0;p<i.length;p++)s=Math.sqrt(u.anova.mse*Math.abs(c[p][p])),l=Math.abs(i[p]/s),f=e.ttest(l,n.length-r[0].length-1,t),u.stats[p]=[i[p],s,l,f];return u.regress=i,u},xtranspx:function(r){return e.matrixmult(r.transpose(),r)},xtranspxinv:function(r){var n=e.matrixmult(r.transpose(),r);return e.inv(n)},jMatYBar:function(r,n){var t=e.matrixmult(r,n);return new e(t)},residuals:function(r,n){return e.matrixsubtract(r,n)},ssr:function(e,r){for(var n=0,t=0;t<e.length;t++)n+=Math.pow(e[t]-r,2);return n},sse:function(e,r){for(var n=0,t=0;t<e.length;t++)n+=Math.pow(e[t]-r[t],2);return n},sst:function(e,r){for(var n=0,t=0;t<e.length;t++)n+=Math.pow(e[t]-r,2);return n},matrixsubtract:function(r,n){for(var t=new Array(r.length),i=0;i<r.length;i++){t[i]=new Array(r[i].length);for(var u=0;u<r[i].length;u++)t[i][u]=r[i][u]-n[i][u]}return e(t)}}),e.jStat=e,e}()}({get exports(){return kf},set exports(e){kf=e}});let Pf=kf.jStat,Cf={beta:{pdf:Pf.beta.pdf,cdf:Pf.beta.cdf,inv:Pf.beta.inv,sample:Pf.beta.sample},centralF:{pdf:Pf.centralF.pdf,cdf:Pf.centralF.cdf,inv:Pf.centralF.inv,sample:Pf.centralF.sample},cauchy:{pdf:Pf.cauchy.pdf,cdf:Pf.cauchy.cdf,inv:Pf.cauchy.inv,sample:Pf.cauchy.sample},chisquare:{pdf:Pf.chisquare.pdf,cdf:Pf.chisquare.cdf,inv:Pf.chisquare.inv,sample:Pf.chisquare.sample},exponential:{pdf:Pf.exponential.pdf,cdf:Pf.exponential.cdf,inv:Pf.exponential.inv,sample:Pf.exponential.sample},gamma:{pdf:Pf.gamma.pdf,cdf:Pf.gamma.cdf,inv:Pf.gamma.inv,sample:Pf.gamma.sample},invgamma:{pdf:Pf.invgamma.pdf,cdf:Pf.invgamma.cdf,inv:Pf.invgamma.inv,sample:Pf.invgamma.sample},kumaraswamy:{pdf:Pf.kumaraswamy.pdf,cdf:Pf.kumaraswamy.cdf,inv:Pf.kumaraswamy.inv,sample:Pf.kumaraswamy.sample},lognormal:{pdf:Pf.lognormal.pdf,cdf:Pf.lognormal.cdf,inv:Pf.lognormal.inv,sample:Pf.lognormal.sample},normal:{pdf:Pf.normal.pdf,cdf:Pf.normal.cdf,inv:Pf.normal.inv,sample:Pf.normal.sample},pareto:{pdf:Pf.pareto.pdf,cdf:Pf.pareto.cdf,inv:Pf.pareto.inv,sample:(e,r)=>{throw new Error("invalid pareto.sample")}},studentt:{pdf:Pf.studentt.pdf,cdf:Pf.studentt.cdf,inv:Pf.studentt.inv,sample:Pf.studentt.sample},tukey:{pdf:(e,r,n)=>{throw new Error("invalid tukey.pdf")},cdf:Pf.tukey.cdf,inv:Pf.tukey.inv,sample:(e,r)=>{throw new Error("invalid tukey.sample")}},weibull:{pdf:Pf.weibull.pdf,cdf:Pf.weibull.cdf,inv:Pf.weibull.inv,sample:Pf.weibull.sample},uniform:{pdf:Pf.uniform.pdf,cdf:Pf.uniform.cdf,inv:Pf.uniform.inv,sample:Pf.uniform.sample},binomial:{pdf:Pf.binomial.pdf,cdf:Pf.binomial.cdf,inv:(e,r,n)=>{throw new Error("invalid binomial.inv")},sample:(e,r)=>{throw new Error("invalid binomial.sample")}},negbin:{pdf:Pf.negbin.pdf,cdf:Pf.negbin.cdf,inv:(e,r,n)=>{throw new Error("invalid negbin.inv")},sample:(e,r)=>{throw new Error("invalid negbin.sample")}},hypgeom:{pdf:Pf.hypgeom.pdf,cdf:Pf.hypgeom.cdf,inv:(e,r,n,t)=>{throw new Error("invalid hypgeom.inv")},sample:(e,r,n)=>{throw new Error("invalid hypgeom.sample")}},poisson:{pdf:Pf.poisson.pdf,cdf:Pf.poisson.cdf,inv:(e,r)=>{throw new Error("invalid poisson.inv")},sample:Pf.poisson.sample},triangular:{pdf:Pf.triangular.pdf,cdf:Pf.triangular.cdf,inv:(e,r,n,t)=>{throw new Error("invalid triangular.inv")},sample:Pf.triangular.sample},arcsine:{pdf:Pf.arcsine.pdf,cdf:Pf.arcsine.cdf,inv:Pf.arcsine.inv,sample:Pf.arcsine.sample},std:e=>Pf.stdev(e,!1),sampleStd:e=>Pf.stdev(e,!0),emquantile:(e,r)=>Pf.quantiles(e,[r],.4,.4)[0],emquantiles:Pf.quantiles,percentile:Pf.percentile};var Nf=Me;var Af=function(e,r,n,t){for(var i=-1,u=null==e?0:e.length;++i<u;){var o=e[i];r(t,o,n(o),e)}return t},zf=function(e,r,n,t){return Nf(e,(function(e,i,u){r(t,e,n(e),u)})),t},Ff=tu,Lf=z;var Tf=vu,If=function(e,r){return function(n,t){var i=Lf(n)?Af:zf,u=r?r():{};return i(n,e,Ff(t),u)}},Gf=Object.prototype.hasOwnProperty,Uf=If((function(e,r,n){Gf.call(e,n)?e[n].push(r):Tf(e,n,[r])})),Bf=Array.prototype.reverse;var Qf=function(e){return null==e?e:Bf.call(e)};function Vf(e){if(!ps(e)&&!hs(e)&&!Xt(e))return"";let r="";try{r=String(e)}catch(e){}try{r=e.toString()}catch(e){}return r}function Yf(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function Zf(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?Yf(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yf(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function Hf(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(0===tl(e))return[];if(!ps(r))return[];let t=Mi(n,"ranger.countHalf");bf(t)||(t=5),t=wf(t);let i=Mi(n,"ranger.depthHalf");hs(i)||(i=.25),i=_s(i);let u=Mi(n,"keyDepth");ps(u)||(u="depth");let o=Mi(n,"methodSmooth");"average"!==o&&"averageIn95"!==o&&"maxCount"!==o&&(o="average");let a=[];if(Fe(e,(e=>{let n=Mi(e,u),t=Mi(e,r);hs(n)&&(ps(t)||hs(t))&&(e[u]=_s(n),e[r]=t,a.push(e))})),0===tl(a))return[];a=Ul(a,u);let s=tl(a)-1,l=[];return Fe(a,((e,n)=>{let f=n,c=n;if(null!==t)f=Math.max(n-t,0),c=Math.min(n+t,s);else if(null!==i){for(let r=n;r>=0;r--){if(!(Math.abs(a[r][u]-e[u])<i))break;f=r}for(let r=n;r<=s;r++){if(!(Math.abs(a[r][u]-e[u])<i))break;c=r}}let p=function(e,r){let n,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!af(e))return[];if(!bf(r))return[];if(r=wf(r),of(t)){if(r>=e.length)return[];n=tf(e,r)}else{if(!bf(t))return[];if(t=wf(t),r>=e.length||t>=e.length)return[];let i=Hl(r,t+1);n=tf(e,i)}return n}(a,f,c),h=null;if("average"===o){let e=qf(cu(p,r));h={[r]:e}}else if("averageIn95"===o){let e=cu(p,r),n=qf(e),t=function(e){return uf(e)?0===tl(e)?null:(e=Mf(e,(e=>hs(e))),e=cu(e,_s),tl(e)<=1?null:Cf.sampleStd(e)):null}(e),i=[];Fe(p,(e=>{let u=Mi(e,r);hs(u)&&(u=_s(u),u>=n-2*t&&u<=n+2*t&&i.push(u))}));let u=qf(i);h={[r]:u}}else if("maxCount"===o){let e=function(e){if(!uf(e))return[];if(0===tl(e))return[];let r=[];if(Fe(e,(e=>{(hs(e)||ps(e))&&r.push(Vf(e))})),0===tl(r))return[];r=cu(r,(e=>({v:e})));let n=Uf(r,"v");return n=cu(n,((e,r)=>({key:r,count:tl(e)}))),n=Ul(n,"count"),n=Qf(n),n}(cu(p,r)),n=Mi(e,"0.key",""),t=Mi(e,"0.count","");h={[r]:n,count:t}}let d=Zf(Zf({},e),h);l.push(d)})),l}function Wf(e,r){return!!os(e)&&(!(!ps(r)&&!hs(r))&&r in e)}let Kf=null;function Jf(){return null!==Kf||(Kf=[{nameCht:"",nameEng:"Gravelly sand",color:"rgb(173, 215, 255)",colorPrimary:"#467dec",min:0,max:1.31},{nameCht:"-",nameEng:"Sands-clean sand to silty sand",color:"rgb(193, 233, 247)",colorPrimary:"linear-gradient(90deg, #dad74d 0%, #467dec 100%)",min:1.31,max:2.05},{nameCht:"-",nameEng:"Sand mixtures-silty sand to sandy silt",color:"rgb(223, 223, 247)",colorPrimary:"linear-gradient(90deg, #467dec 0%, #dad74d 100%)",min:2.05,max:2.6},{nameCht:"-",nameEng:"Silt mixtures-clayey silt to silty clay",color:"rgb(253, 223, 225)",colorPrimary:"linear-gradient(90deg, #ea4e2d 0%, #dad74d 100%)",min:2.6,max:2.95},{nameCht:"",nameEng:"Clays",color:"rgb(253, 203, 207)",colorPrimary:"#ea4e2d",min:2.95,max:3.6},{nameCht:"",nameEng:"Organic soils",color:"rgb(255, 193, 227)",colorPrimary:"#ea4e2d",min:3.6,max:99}]),Kf}var Xf={getIcInfor:Jf};function ec(e,r){if(!af(e))return null;if(!af(r))return null;let n=e[0],t=e[1],i=!1;for(let e=0,u=r.length-1;e<r.length;u=e++){let o=r[e][0],a=r[e][1],s=r[u][0],l=r[u][1];a>t!=l>t&&n<(s-o)*(t-a)/(l-a)+o&&(i=!i)}return i}let rc={zone1:[[.8042788645514245,-1],[1.4,-1],[1.4,-.04961518419811251],[1.3360639947293758,.00515510285998122],[.8042788645514245,-1]],zone2:[[.22901013093819989,-1],[.7989205421525307,-1],[.535671,-.732631],[.267238,-.973016],[.22901013093819989,-1]],zone3:[[-.0827455,-.507509],[.19919261999759594,-1],[.22901013093819989,-1],[.267238,-.973016],[.535671,-.732631],[.7989205421525307,-1],[.8042788645514245,-1],[1.3360639947293758,.00515510285998122],[.7507188345305402,.5065865313087334],[.00899762,-.488431],[-.0798201488308562,-.39581841738701223],[-.0827455,-.507509]],zone4:[[-.0798201488308562,-.39581841738701223],[.00899762,-.488431],[.75071883453054,.5065865313087332],[.46563663689560464,.750800002787402],[.00559973,-.282387],[-.0748262901884575,-.20092818800278278],[-.0776487,-.312912],[-.0798201488308562,-.39581841738701223]],zone5:[[-.0748262901884575,-.20092818800278278],[.00559973,-.282387],[.4656366368956047,.7508000027874022],[.28177542293386015,.9083032972911816],[.00559973,-.0610806],[-.06726062655330566,.04677010378206706],[-.0725518,-.110684],[-.0748262901884575,-.20092818800278278]],zone6:[[-.06726062655330566,.04677010378206706],[.00559973,-.0610806],[.28177542293386015,.9083032972911816],[.219667,.961508],[.19999604525814957,1.0454031412933176],[.00220183,.247985],[-.06071692978405572,.34104143783205454],[-.0623581,.274695],[-.065756,.0915446],[-.06726062655330566,.04677010378206706]],zone7:[[-.06071692978405572,.34104143783205454],[.00220183,.247985],[.19999604525814962,1.0454031412933178],[.1466205435691607,1.2730456382928406],[.00390078,.522711],[-.053725768119182775,.6023554362478534],[-.0555624,.54942],[-.06071692978405572,.34104143783205454]],zone8:[[-.053725768119182775,.6023554362478534],[.00390078,.522711],[.1466205435691607,1.2730456382928403],[.09752669166574157,1.4824272212471161],[.00390078,.866117],[-.042929930936118785,.9237944636517381],[-.0453687,.843223],[-.053725768119182775,.6023554362478534]],zone9:[[0,.8709212639576908],[.00390078,.866117],[.09752669166574157,1.4824272212471163],[.055798348065744074,1.6603954657070483],[.00390078,1.36215],[0,1.3672038510406228],[0,.8709212639576908]],zone10:[[0,1.3672038510406228],[.00390078,1.36215],[.055798348065744074,1.6603954657070483],[.0514713,1.67885],[.05300885596731013,2],[0,2],[0,1.3672038510406228]],"zone9,10,11,12":[[-.042929930936118785,.9237944636517381],[0,.8709212639576908],[0,2],[-.029975073717927975,2],[-.0283792,1.41938],[-.035175,1.18],[-.042929930936118785,.9237944636517381]]},nc={zone1:[[0,-1],[2.599004449,-.910151233],[2.59819,-.9033989],[2.47734,-.785331],[2.38066,-.683363],[2.22356,-.592129],[2.06647,-.479428],[1.90937,-.382826],[1.75227,-.307692],[1.51057,-.216458],[1.26888,-.152057],[.954683,-.103757],[.628399,-.0554559999999999],[.302115,-.0232560000000001],[0,.00770169199999993],[0,-1]],zone2:[[0,-1],[8,-1],[8,-.312420334],[7.98792,-.313059],[4.03625,-.860465],[0,-1]],zone3:[[1.91607919296796,-.386951534430881],[2.06647,-.479428],[2.22356,-.592129],[2.38066,-.683363],[2.47734,-.785331],[2.59819,-.9033989],[2.59900444877071,-.910151233011032],[4.03625,-.860465],[7.98792,-.313059],[8,-.312420334410403],[8,.73886157340706],[5.21686256331027,.74843976095338],[5.20846,.74419],[5.0997,.67442],[5.00302,.60465],[4.84592,.50805],[4.65257,.41682],[4.4713,.33095],[4.27795,.25045],[4.07251,.17531],[3.86707,.0948100000000001],[3.67372,.0357799999999999],[3.49245,-.012522],[3.29909,-.08229],[3.08157,-.13059],[2.87613,-.184258],[2.67069,-.243292],[2.429,-.291592],[2.1994,-.334526],[1.91607919296796,-.386951534430881]],zone4:[[1.51477387839753,-.218044829299632],[1.75227,-.307692],[1.90937,-.382826],[1.91607919296796,-.386951534430881],[2.1994,-.334526],[2.429,-.291592],[2.67069,-.243292],[2.87613,-.184258],[3.08157,-.13059],[3.29909,-.08229],[3.49245,-.012522],[3.67372,.0357799999999999],[3.86707,.0948100000000001],[4.07251,.17531],[4.27795,.25045],[4.4713,.33095],[4.65257,.41682],[4.84592,.50805],[5.00302,.60465],[5.0997,.67442],[5.20846,.74419],[5.21686256331027,.74843976095338],[4.89426,.74955],[4.59943743716958,.84244763970655],[4.59215,.84079],[4.41088,.72272],[4.29003,.63148],[4.14502,.56172],[4.01208,.48122],[3.87915,.41682],[3.72205,.35242],[3.56495,.28801],[3.40785,.23435],[3.19033,.16995],[2.97281,.11091],[2.7432,.04114],[2.50151,-.012522],[2.22356,-.08229],[1.98187,-.135957],[1.7281,-.189624],[1.51477387839753,-.218044829299632]],zone5:[[.60423,-.0500890000000001],[.604258597461038,-.053073655288784],[.628399,-.0554559999999999],[.954683,-.103757],[1.26888,-.152057],[1.51057,-.216458],[1.51477387839753,-.218044829299632],[1.7281,-.189624],[1.98187,-.135957],[2.22356,-.08229],[2.50151,-.012522],[2.7432,.04114],[2.97281,.11091],[3.19033,.16995],[3.40785,.23435],[3.56495,.28801],[3.72205,.35242],[3.87915,.41682],[4.01208,.48122],[4.14502,.56172],[4.29003,.63148],[4.41088,.72272],[4.59215,.84079],[4.59943743716958,.84244763970655],[3.89979234877181,1.06290355298692],[3.80665,.98569],[3.66163,.89982],[3.48036,.78712],[3.29909,.68515],[3.08157,.59392],[2.88822,.50805],[2.67069,.42218],[2.34441,.32021],[2.09063,.25581],[1.81269,.18068],[1.4864,.10555],[1.22054,.0518799999999999],[.89426,-.012522],[.60423,-.0500890000000001]],zone6:[[0,.00770169230769002],[.302115,-.0232560000000001],[.604258597461038,-.053073655288784],[.60423,-.0500890000000001],[.89426,-.012522],[1.22054,.0518799999999999],[1.4864,.10555],[1.81269,.18068],[2.09063,.25581],[2.34441,.32021],[2.67069,.42218],[2.88822,.50805],[3.08157,.59392],[3.29909,.68515],[3.48036,.78712],[3.66163,.89982],[3.80665,.98569],[3.89979234877181,1.06290355298692],[3.22606294765238,1.27519351669947],[3.04532,1.17352],[2.83988,1.05546],[2.62236,.95349],[2.429,.85152],[2.18731,.76029],[1.9577,.66905],[1.71601,.58318],[1.42598,.48122],[1.12387,.38998],[.809668,.32021],[.422961,.23435],[.0120846,.17531],[0,.17356],[0,.00770169230769002]],zone7:[[0,.17356],[.0120846,.17531],[.422961,.23435],[.809668,.32021],[1.12387,.38998],[1.42598,.48122],[1.71601,.58318],[1.9577,.66905],[2.18731,.76029],[2.429,.85152],[2.62236,.95349],[2.83988,1.05546],[3.04532,1.17352],[3.22606294765237,1.27519351669947],[2.42760757719909,1.52678423151461],[2.22356,1.38819],[2.07855,1.27549],[1.89728,1.16279],[1.69184,1.05009],[1.43807,.92129],[1.20846,.81932],[.930514,.72809],[.640483,.63685],[.314199,.54025],[0,.48856778143308],[0,.17356]],zone8:[[0,.48856778143308],[.314199,.54025],[.640483,.63685],[.930514,.72809],[1.20846,.81932],[1.43807,.92129],[1.69184,1.05009],[1.89728,1.16279],[2.07855,1.27549],[2.22356,1.38819],[2.42760757719909,1.52678423151461],[2.3565,1.54919],[2.18731,1.60823],[2.06647,1.6458],[1.98187,1.7102],[1.92145,1.78533],[1.84894,1.87657],[1.83686,2],[1.78852,1.86047],[1.71601,1.72093],[1.60725,1.5653],[1.4864,1.44723],[1.34139,1.33989],[1.22054,1.24866],[1.06344,1.14669],[.89426,1.07692],[.712991,.99642],[.386707,.91592],[0,.85689],[0,.48856778143308]],zone9:[[0,.85689],[.386707,.91592],[.712991,.99642],[.89426,1.07692],[1.06344,1.14669],[1.22054,1.24866],[1.34139,1.33989],[1.4864,1.44723],[1.60725,1.5653],[1.71601,1.72093],[1.78852,1.86047],[1.83686,2],[1.22054,2],[1.22054,1.99463],[1.11178,1.8229],[.990937,1.68873],[.845921,1.54919],[.652568,1.44723],[.386707,1.35063],[0,1.25175000154968],[0,.85689]],zone10:[[0,1.25175000154968],[.386707,1.35063],[.652568,1.44723],[.845921,1.54919],[.990937,1.68873],[1.11178,1.8229],[1.22054,1.99463],[1.22054,2],[0,2],[0,1.25175000154968]],zone11:[[3.89979234877181,1.06290355298692],[4.89426,.74955],[8,.73886157340706],[8,2],[4.70091,2],[4.59215,1.65116],[4.41088,1.50626],[4.25378,1.38283],[4.13293,1.26476],[3.98792,1.13596],[3.89979234877181,1.06290355298692]],zone12:[[1.83686,2],[1.84894,1.87657],[1.92145,1.78533],[1.98187,1.7102],[2.06647,1.6458],[2.18731,1.60823],[2.3565,1.54919],[3.89979234877181,1.06290355298692],[3.98792,1.13596],[4.13293,1.26476],[4.25378,1.38283],[4.41088,1.50626],[4.59215,1.65116],[4.70091,2],[1.83686,2]]},tc={zone1:[[.814956350795433,0],[1.4,0],[1.4,1.0444774529587604],[.814956350795433,0]],zone2:[[.15755797913451555,0],[.8081353465726996,0],[.803677,.00955108],[.542358,.411052],[.163577,.00955108],[.15755797913451555,0]],zone3:[[-.557635,1.27767],[.135961,.0225141],[.14709816115300722,0],[.15755797913451555,0],[.163577,.00955108],[.542358,.411052],[.803677,.00955108],[.8081353465726996,0],[.8159217107198008,0],[.824794,.015206],[1.38835,1.02178],[1.3952840233278456,1.0277257015798282],[.6051580468079697,1.6769417299522127],[.0144398,.684374],[-.389417,1.78897],[-.3965860167997673,1.8080830326156345],[-.557635,1.27767]],zone4:[[-.3965860167997673,1.8080830326156345],[-.389417,1.78897],[.0144398,.684374],[.6051580468079698,1.6769417299522127],[.4233286829382924,1.8263439024676476],[.01312,1.05006],[-.3126662899731374,2.0844717183302555],[-.3965860167997673,1.8080830326156345]],zone5:[[-.3126662899731374,2.0844717183302555],[.01312,1.05006],[.4233286829382924,1.8263439024676478],[.23050362977173397,1.9847808086162937],[.01312,1.46853],[-.24501712858513175,2.307273477973186],[-.3126662899731374,2.0844717183302555]],zone6:[[-.24501712858513178,2.307273477973186],[.01312,1.46853],[.23050362977173397,1.9847808086162937],[.182054,2.02459],[.14155632003411384,2.4608700593991886],[.0157596,2.2376],[-.15640870819128455,2.5991043237348594],[-.24501712858513178,2.307273477973186]],zone7:[[-.15640870819128455,2.5991043237348594],[.0157596,2.2376],[.14155632003411384,2.4608700593991886],[.091511603746722,3],[-.0346850003225585,3],[-.15640870819128455,2.5991043237348594]]},ic={zone1:[[-1,0],[.214255,0],[.214255,.0100411],[.20255,.0539655],[.183822,.106126],[.165093,.155541],[.139342,.213191],[.113591,.276333],[.0808163,.328493],[.0574059,.386144],[.0269725,.438304],[-.00814305,.484973],[-.0385765,.520662],[-.0690099,.567332],[-.104125,.605766],[-.143923,.644199],[-.183721,.677143],[-.223518,.712831],[-.260975,.74852],[-.300772,.770482],[-.338229,.797935],[-.375685,.819897],[-.420165,.84735],[-.459963,.869312],[-.509124,.894019],[-.555945,.915981],[-.609789,.932453],[-.651928,.943434],[-.70343,.959906],[-.754933,.973632],[-.8158,.984613],[-.871985,.990104],[-.935193,.998],[-.982013,.995594],[-1,.9964730699272073],[-1,0]],zone2:[[.2064750618712659,.039236240054828495],[.214255,.0100411],[.214255,0],[1,0],[1,.8318045794934391],[.99382,.819897],[.965727,.762246],[.930612,.704595],[.897837,.638709],[.860381,.592039],[.827606,.55086],[.797173,.50419],[.748011,.441049],[.715237,.391634],[.682462,.344965],[.645006,.306531],[.60989,.279078],[.56541,.243389],[.516249,.213191],[.471769,.174758],[.417925,.14456],[.366422,.114362],[.310238,.0814182],[.261076,.059456],[.2064750618712659,.039236240054828495]],zone3:[[-.1691945840894161,.6651183192180945],[-.143923,.644199],[-.104125,.605766],[-.0690099,.567332],[-.0385765,.520662],[-.00814305,.484973],[.0269725,.438304],[.0574059,.386144],[.0808163,.328493],[.113591,.276333],[.139342,.213191],[.165093,.155541],[.183822,.106126],[.20255,.0539655],[.2064750618712659,.039236240054828495],[.261076,.059456],[.310238,.0814182],[.366422,.114362],[.417925,.14456],[.471769,.174758],[.516249,.213191],[.56541,.243389],[.60989,.279078],[.645006,.306531],[.682462,.344965],[.715237,.391634],[.748011,.441049],[.797173,.50419],[.827606,.55086],[.860381,.592039],[.897837,.638709],[.930612,.704595],[.965727,.762246],[.99382,.819897],[1,.8318045794934391],[1,1.743385534886701],[.965727,1.73133],[.911883,1.73682],[.839311,1.76153],[.7838498913648442,1.785615676370634],[.778445,1.75604],[.762057,1.69015],[.743329,1.62426],[.717578,1.56387],[.689485,1.49523],[.652029,1.43209],[.619254,1.36895],[.577116,1.30032],[.530295,1.23992],[.495179,1.18227],[.453041,1.13286],[.40622,1.07521],[.366422,1.03677],[.29385,.965396],[.237666,.918727],[.174458,.866567],[.106568,.819897],[.0410187,.773227],[-.0268713,.732048],[-.0994434,.690869],[-.1691945840894161,.6651183192180945]],zone4:[[-.5572591210207868,.9163830169648318],[-.555945,.915981],[-.509124,.894019],[-.459963,.869312],[-.420165,.84735],[-.375685,.819897],[-.338229,.797935],[-.300772,.770482],[-.260975,.74852],[-.223518,.712831],[-.183721,.677143],[-.1691945840894161,.6651183192180945],[-.0994434,.690869],[-.0268713,.732048],[.0410187,.773227],[.106568,.819897],[.174458,.866567],[.237666,.918727],[.29385,.965396],[.366422,1.03677],[.40622,1.07521],[.453041,1.13286],[.495179,1.18227],[.530295,1.23992],[.577116,1.30032],[.619254,1.36895],[.652029,1.43209],[.689485,1.49523],[.717578,1.56387],[.743329,1.62426],[.762057,1.69015],[.778445,1.75604],[.7838498913648442,1.785615676370634],[.776103,1.78898],[.733965,1.81918],[.689485,1.8631],[.652029,1.90428],[.614572,1.9482],[.5812671176412162,1.992142954030625],[.556046,1.91252],[.525613,1.83016],[.492838,1.74505],[.453041,1.6627],[.422607,1.6023],[.373446,1.54739],[.324284,1.48425],[.277463,1.44582],[.22596,1.3964],[.146365,1.33052],[.0714521,1.27012],[.00590315,1.20973],[-.0690099,1.15757],[-.134559,1.12188],[-.209472,1.07521],[-.293749,1.03128],[-.36398,1.00108],[-.445916,.965396],[-.523171,.929708],[-.5572591210207868,.9163830169648318]],zone5:[[-1,.9964730699272073],[-.982013,.995594],[-.935193,.998],[-.871985,.990104],[-.8158,.984613],[-.754933,.973632],[-.70343,.959906],[-.651928,.943434],[-.609789,.932453],[-.5572591210207868,.9163830169648318],[-.523171,.929708],[-.445916,.965396],[-.36398,1.00108],[-.293749,1.03128],[-.209472,1.07521],[-.134559,1.12188],[-.0690099,1.15757],[.00590315,1.20973],[.0714521,1.27012],[.146365,1.33052],[.22596,1.3964],[.277463,1.44582],[.324284,1.48425],[.373446,1.54739],[.422607,1.6023],[.453041,1.6627],[.492838,1.74505],[.525613,1.83016],[.556046,1.91252],[.5812671176412162,1.992142954030625],[.577116,1.99762],[.544341,2.0388],[.516249,2.10194],[.478792,2.14861],[.453041,2.20901],[.420266,2.2694],[.392174,2.3298],[.3884063655271938,2.33783211915801],[.375787,2.31607],[.343012,2.25018],[.305556,2.17332],[.263417,2.11018],[.223619,2.04429],[.165093,1.97291],[.113591,1.91526],[.062088,1.8631],[.00356212,1.8082],[-.0502817,1.76976],[-.111149,1.72584],[-.179039,1.67917],[-.230541,1.64348],[-.312478,1.59681],[-.40846,1.56387],[-.488055,1.53092],[-.58872,1.49798],[-.672997,1.47876],[-.773661,1.45955],[-.864962,1.44856],[-.944557,1.44307],[-1,1.4377631547427059],[-1,.9964730699272073]],zone6:[[-1,1.4377631547427059],[-.944557,1.44307],[-.864962,1.44856],[-.773661,1.45955],[-.672997,1.47876],[-.58872,1.49798],[-.488055,1.53092],[-.40846,1.56387],[-.312478,1.59681],[-.230541,1.64348],[-.179039,1.67917],[-.111149,1.72584],[-.0502817,1.76976],[.00356212,1.8082],[.062088,1.8631],[.113591,1.91526],[.165093,1.97291],[.223619,2.04429],[.263417,2.11018],[.305556,2.17332],[.343012,2.25018],[.375787,2.31607],[.3884063655271938,2.33783211915801],[.366422,2.3847],[.347694,2.42314],[.328966,2.47255],[.303215,2.51922],[.289168,2.56864],[.263417,2.62354],[.24703,2.66747],[.232983,2.71688],[.216596,2.75531],[.200209,2.81022],[.186163,2.85689],[.169776,2.9118],[.148706,2.95847],[.1412503458588957,3],[-.001459668032786902,3],[-.00346099,2.98592],[-.0385765,2.90356],[-.073692,2.83218],[-.118172,2.75531],[-.16031,2.68394],[-.200108,2.62354],[-.244588,2.57687],[-.29609,2.53295],[-.352275,2.48902],[-.403778,2.44784],[-.471668,2.40941],[-.527853,2.36823],[-.586379,2.33529],[-.649586,2.30509],[-.726841,2.27215],[-.804095,2.24744],[-.881349,2.21999],[-.956262,2.20077],[-1,2.1949642579667628],[-1,1.4377631547427059]],zone7:[[-1,2.1949642579667628],[-.956262,2.20077],[-.881349,2.21999],[-.804095,2.24744],[-.726841,2.27215],[-.649586,2.30509],[-.586379,2.33529],[-.527853,2.36823],[-.471668,2.40941],[-.403778,2.44784],[-.352275,2.48902],[-.29609,2.53295],[-.244588,2.57687],[-.200108,2.62354],[-.16031,2.68394],[-.118172,2.75531],[-.073692,2.83218],[-.0385765,2.90356],[-.00346099,2.98592],[-.001459668032786902,3],[-1,3],[-1,2.1949642579667628]],zone8:[[.1412503458588957,3],[.148706,2.95847],[.169776,2.9118],[.186163,2.85689],[.200209,2.81022],[.216596,2.75531],[.232983,2.71688],[.24703,2.66747],[.263417,2.62354],[.289168,2.56864],[.303215,2.51922],[.328966,2.47255],[.347694,2.42314],[.366422,2.3847],[.392174,2.3298],[.420266,2.2694],[.453041,2.20901],[.478792,2.14861],[.516249,2.10194],[.544341,2.0388],[.577116,1.99762],[.5812671176412162,1.992142954030625],[.58648,2.0086],[.607549,2.08821],[.628618,2.17881],[.647347,2.26666],[.661393,2.36549],[.670757,2.45883],[.67778,2.54393],[.682462,2.63727],[.689485,2.74159],[.689485,2.84591],[.687144,2.93925],[.6855251525327263,3],[.1412503458588957,3]],zone9:[[.5812671176412162,1.992142954030625],[.614572,1.9482],[.652029,1.90428],[.689485,1.8631],[.733965,1.81918],[.776103,1.78898],[.839311,1.76153],[.911883,1.73682],[.965727,1.73133],[1,1.743385534886701],[1,3],[.6855251525327263,3],[.687144,2.93925],[.689485,2.84591],[.689485,2.74159],[.682462,2.63727],[.67778,2.54393],[.670757,2.45883],[.661393,2.36549],[.647347,2.26666],[.628618,2.17881],[.607549,2.08821],[.58648,2.0086],[.5812671176412162,1.992142954030625]]},uc={zone1:[[1.40104,0],[1.40104,1],[.801704,0],[1.40104,0]],zone2:[[.801704,0],[.539905,.442651],[.141125,0],[.801704,0]],zone3:[[1.40104,1],[.8,1.60253],[.0303888,1.20246],[.0310289,1],[-.0304203,1],[-.0291401,1.20408],[-.6,1.39605],[.141125,0],[.539905,.442651],[.801704,0],[1.40104,1]],zone4a:[[-.1,3.78518],[-.6,1.39605],[-.0291401,1.20408],[-.1,3.78518]],zone4b:[[.0617535,3.78356],[.0303888,1.20246],[.8,1.60253],[.4,2],[.0617535,3.78356]],zone5a:[[-.0304203,3.78518],[-.1,3.78518],[-.0291401,1.20408],[-.0297802,1.31539],[-.0297802,1.70094],[-.0291401,2.2591],[-.0304203,3.78518]],zone5b:[[.0617535,3.78356],[.0297487,3.78679],[.0297487,2.28169],[.0297487,1.72352],[.031669,1.32184],[.0303888,1.20246],[.0617535,3.78356]],zone6:[[0,1.59285],[-.0297802,1.31539],[-.0291401,1.20408],[-.0304203,1],[.0310289,1],[.0303888,1.20246],[.031669,1.32184],[0,1.59285]],zone7:[[0,1.94937],[-.0297802,1.70094],[-.0297802,1.31539],[0,1.59285],[.031669,1.32184],[.0297487,1.72352],[0,1.94937]],zone8:[[0,2.48656],[-.0291401,2.2591],[-.0297802,1.70094],[0,1.94937],[.0297487,1.72352],[.0297487,2.28169],[0,2.48656]],zone9:[[.0297487,3.78679],[-.0304203,3.78518],[-.0291401,2.2591],[0,2.48656],[.0297487,2.28169],[.0297487,3.78679]]},oc={zone1:[[.170602,0],[0,.477345],[-.220456,.755759],[-.382872,.855193],[-1,1],[-1,0],[.170602,0]],zone2:[[1,0],[1,.413708],[.170602,0],[1,0]],zone3:[[1,1.53134],[.285712,1.19327],[.148527,1.17338],[-1,1],[-.382872,.855193],[-.220456,.755759],[0,.477345],[.170602,0],[1,.413708],[1,1.53134]],zone4:[[1,3.77456],[.143796,3.77456],[.285712,1.19327],[1,1.53134],[1,3.77456]],zone5:[[.143796,3.77456],[-.0265037,3.77456],[.0570693,2.49386],[.09176,1.98078],[.11699,1.60293],[.148527,1.17338],[.285712,1.19327],[.143796,3.77456]],zone6:[[.11699,1.60293],[-1,1.30066],[-1,1],[.148527,1.17338],[.11699,1.60293]],zone7:[[.09176,1.98078],[-1,1.69839],[-1,1.30066],[.11699,1.60293],[.09176,1.98078]],zone8:[[.0570693,2.49386],[-1,2.17567],[-1,1.69839],[.09176,1.98078],[.0570693,2.49386]],zone9:[[-.0265037,3.77456],[-1,3.77456],[-1,2.17567],[.0570693,2.49386],[-.0265037,3.77456]]},ac={1:"Sensitive fine grained",2:"Organic material",3:"Clay",4:"Silty clay to clay",5:"Clayey silt to silty clay",6:"Sandy silt to clayey silt",7:"Silty sand to sandy silt",8:"Sand to silty sand",9:"Sand",10:"Gravelly sand to sand",11:"Very stiff find grained(overconsolidated or cemented)",12:"Sand to clayer sand(overconsolidated or cemented)",13:"9,10,11,12"},sc={1:"Sensitive fine grained",2:"Organic soils - peats",3:"Clays - clay to silty clay",4:"Silt mixtures - clayey silt to silty clay",5:"Sand mixtures - silty sand to sandy silt",6:"Sands - clean sand to silty sand",7:"Gravelly sand to sand",8:"Very stiff sand to clayey sand(heavily overconsolidated or cemented)",9:"Very stiff fine grained(heavily overconsolidated or cemented)"},lc={1:"Extra sensitibe clay",2:"Organic clay and peat",3:"Clay(su/p0'<=1)",4:"Clay(su/p0'>1)",5:"Clayey sand",6:"Sandy very clayey silt",7:"Sandy silt",8:"Silty sand",9:"Clean to slightly silty sand"};function fc(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Mi(r,"numOfType");3!==n&&4!==n&&5!==n&&6!==n&&(console.log(`invalid numOfType[${n}]`),n=3);let t=Mi(r,"funAdjust");if(!hs(e))return"";let i="",u=wf(e);if(3===n){let e={1:"clay",2:"clay",3:"clay",4:"silt",5:"silt",6:"silt",7:"silt",8:"sand",9:"sand",10:"sand",11:"sand",12:"sand",13:"sand"};Wf(e,u)&&(us(t)&&(u=t(u,e,r)),i=e[u])}else if(4===n){let e={1:"clay",2:"clay",3:"clay",4:"silt",5:"clayey-silt",6:"clayey-silt",7:"sandy-silt",8:"sandy-silt",9:"sand",10:"sand",11:"sand",12:"sand",13:"sand"};Wf(e,u)&&(us(t)&&(u=t(u,e,r)),i=e[u])}else if(5===n){let e={1:"clay",2:"clay",3:"clay",4:"silt",5:"clayey-silt",6:"clayey-silt",7:"sandy-silt",8:"silty-sand",9:"sand",10:"sand",11:"silty-sand",12:"sand",13:"sand"};Wf(e,u)&&(us(t)&&(u=t(u,e,r)),i=e[u])}else if(6===n){let e={1:"clay",2:"clay",3:"clay",4:"silt",5:"clayey-silt",6:"clayey-silt",7:"sandy-silt",8:"silty-sand",9:"sand",10:"sand",11:"clayey-sand",12:"sand",13:"sand"};Wf(e,u)&&(us(t)&&(u=t(u,e,r)),i=e[u])}return i}function cc(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Mi(n,"returnZone");cs(t)||(t=!1),e=hs(e)?wf(e):null,r=hs(r)?wf(r):null;let i=fc(e,n),u=fc(r,n);if(null===e&&null===r)return"";if(null!==e&&null===r)return t?e:i;if(null===e&&null!==r)return t?r:u;if(i!==u){let n=e>=6,o=r>=6;return n&&o?t?r:u:n||o?"":t?e:i}return t?e:i}function pc(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Mi(r,"numOfType");3!==n&&4!==n&&5!==n&&6!==n&&(console.log(`invalid numOfType[${n}]`),n=3);let t=Mi(r,"funAdjust");if(!hs(e))return"";let i="",u=wf(e);if(3===n){let e={1:"clay",2:"clay",3:"clay",4:"silt",5:"silt",6:"sand",7:"sand",8:"sand",9:"sand"};Wf(e,u)&&(us(t)&&(u=t(u,e,r)),i=e[u])}else if(4===n){let e={1:"clay",2:"clay",3:"clay",4:"clayey-silt",5:"sandy-silt",6:"sand",7:"sand",8:"sand",9:"sand"};Wf(e,u)&&(us(t)&&(u=t(u,e,r)),i=e[u])}else if(5===n){let e={1:"clay",2:"clay",3:"clay",4:"clayey-silt",5:"sandy-silt",6:"silty-sand",7:"sand",8:"silty-sand",9:"sand"};Wf(e,u)&&(us(t)&&(u=t(u,e,r)),i=e[u])}else if(6===n){let e={1:"clay",2:"clay",3:"clay",4:"clayey-silt",5:"sandy-silt",6:"silty-sand",7:"sand",8:"clayey-sand",9:"sand"};Wf(e,u)&&(us(t)&&(u=t(u,e,r)),i=e[u])}return i}function hc(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Mi(n,"returnZone");cs(t)||(t=!1),e=hs(e)?wf(e):null,r=hs(r)?wf(r):null;let i=pc(e,n),u=pc(r,n);if(null===e&&null===r)return"";if(null!==e&&null===r)return t?e:i;if(null===e&&null!==r)return t?r:u;if(i!==u){let n=e>=6,o=r>=6;return n&&o?t?r:u:n||o?"":t?e:i}return t?e:i}function dc(e,r){return hc(e,r,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}function vc(e){let r=Mi(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},"numOfType");if(3!==r&&4!==r&&5!==r&&6!==r&&(console.log(`invalid numOfType[${r}]`),r=3),!hs(e))return"";let n=wf(e);if(3===r){let e={1:"clay",2:"clay",3:"clay",4:"clay",6:"silt",7:"silt",5:"sand",8:"sand",9:"sand"};if(Wf(e,n))return e[n]}else if(4===r){let e={1:"clay",2:"clay",3:"clay",4:"clay",5:"sand",6:"clayey-silt",7:"sandy-silt",8:"sand",9:"sand"};if(Wf(e,n))return e[n]}else if(5===r){let e={1:"clay",2:"clay",3:"clay",4:"clay",5:"silty-sand",6:"clayey-silt",7:"sandy-silt",8:"silty-sand",9:"sand"};if(Wf(e,n))return e[n]}else if(6===r){let e={1:"clay",2:"clay",3:"clay",4:"clay",5:"clayey-sand",6:"clayey-silt",7:"sandy-silt",8:"silty-sand",9:"sand"};if(Wf(e,n))return e[n]}return""}function gc(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Mi(n,"returnZone");cs(t)||(t=!1),e=hs(e)?wf(e):null,r=hs(r)?wf(r):null;let i=vc(e,n),u=vc(r,n);if(null===e&&null===r)return"";if(null!==e&&null===r)return t?e:i;if(null===e&&null!==r)return t?e:u;if(i!==u){let n=5===e||8===e||9===e,o=5===r||8===r||9===r;return n&&o?t?e:u:n||o?"":t?e:i}return t?e:i}let mc={csfIc:function(e){let r=null,n="",t=null,i=null;if(!da(e))return{error:"invalid Ic"};let u=Jf();return Fe(u,((u,o)=>{if(e>=u.min&&e<u.max)return r=o+1,n=`${u.min}~${u.max}`,t=u.nameCht,i=u.nameEng,!1})),null===t||null===i?{error:"invalid Ic"}:{success:{int:r,rang:n,cht:t,eng:i}}},csfRobRfqt:function(e,r){if(!da(e))return{error:"invalid Rf"};if(!da(r))return{error:"invalid qt"};if(e<0||e>8)return{error:"Rf < 0 or Rf > 8"};if(r<.1||r>100)return{error:"qt < 0.1 or qt > 100"};let n=[e,Math.log10(r)],t="";if(Fe(nc,((e,r)=>{if(ec(n,e))return t=r,!1})),""===t)return{error:"no zone"};let i=t.replace("zone",""),u=null;return pf(i)&&(u=wf(i),i=`${u}: ${ac[u]}`),{success:{int:u,msg:i}}},csfRobBqqt:function(e,r){if(!da(e))return{error:"invalid Bq"};if(!da(r))return{error:"invalid qt"};if(e<-.2||e>1.4)return{error:"Bq < -0.2 or Bq > 1.4"};if(r<.1||r>100)return{error:"qt < 0.1 or qt > 100"};let n=[e,Math.log10(r)],t="";if(Fe(rc,((e,r)=>{if(ec(n,e))return t=r,!1})),""===t)return{error:"no zone"};let i=t.replace("zone",""),u=null;return"9,10,11,12"===i&&(i="13"),pf(i)&&(u=wf(i),i=`${u}: ${ac[u]}`),{success:{int:u,msg:i}}},csfRobBqQt:function(e,r){if(!da(e))return{error:"invalid Bq"};if(!da(r))return{error:"invalid Qt"};if(e<-.6||e>1.4)return{error:"Bq < -0.6 or Bq > 1.4"};if(r<1||r>1e3)return{error:"Qt < 1 or Qt > 1000"};let n=[e,Math.log10(r)],t="";if(Fe(tc,((e,r)=>{if(ec(n,e))return t=r,!1})),""===t)return{error:"no zone"};let i=t.replace("zone",""),u=null;return pf(i)&&(u=wf(i),i=`${u}: ${sc[u]}`),{success:{int:u,msg:i}}},csfRobFrQt:function(e,r){if(!da(e))return{error:"invalid Fr"};if(!da(r))return{error:"invalid Qt"};if(e<.1||e>10)return{error:"Fr < 0.1 or Fr > 10"};if(r<1||r>1e3)return{error:"Qt < 1 or Qt > 1000"};let n=[Math.log10(e),Math.log10(r)],t="";if(Fe(ic,((e,r)=>{if(ec(n,e))return t=r,!1})),""===t)return{error:"no zone"};let i=t.replace("zone",""),u=null;return pf(i)&&(u=wf(i),i=`${u}: ${sc[u]}`),{success:{int:u,msg:i}}},csfRamBqQt:function(e,r){if(!da(e))return{error:"invalid Bq"};if(!da(r))return{error:"invalid Qt"};if(e<-.6||e>1.4)return{error:"Bq < -0.6 or Bq > 1.4"};if(r<1||r>6097.895815)return{error:"Qt < 1 or Qt > 6097.895815"};let n=[e,Math.log10(r)],t="";if(Fe(uc,((e,r)=>{if(ec(n,e))return t=r,!1})),""===t)return{error:"no zone"};let i=t.replace("zone","");i=i.replace("a",""),i=i.replace("b","");let u=null;return pf(i)&&(u=wf(i),i=`${u}: ${lc[u]}`),{success:{int:u,msg:i}}},csfRamFrQt:function(e,r){if(!da(e))return{error:"invalid Fr"};if(!da(r))return{error:"invalid Qt"};if(e<.1||e>10)return{error:"Fr < 0.1 or Fr > 10"};if(r<1||r>5950.589615)return{error:"Qt < 1 or Qt > 5950.589615"};let n=[Math.log10(e),Math.log10(r)],t="";if(Fe(oc,((e,r)=>{if(ec(n,e))return t=r,!1})),""===t)return{error:"no zone"};let i=t.replace("zone",""),u=null;return pf(i)&&(u=wf(i),i=`${u}: ${lc[u]}`),{success:{int:u,msg:i}}}};var yc={kpCPTClassForRobBqRfqt:ac,kpCPTClassForRobBqFrQt:sc,kpCPTClassForRamQt:lc,cptClassifyBond:{inforRobBqqt:{zones:rc,markers:{zone1:{p:[1.19678,-.727798566],text:"1"},zone2:{p:[.535691,-.855211033],text:"2"},zone3:{p:[.633441,-.444014891],text:"3"},zone4:{p:[.368489,.303088011],text:"4"},zone5:{p:[.255305,.511582591],text:"5"},zone6:{p:[.18328,.760617721],text:"6"},zone7:{p:[.136977,1.015443588],text:"7"},zone8:{p:[.0983923,1.229730464],text:"8"},zone9:{p:[.0495177,1.403475708],text:"9"},zone10:{p:[.0186495,1.75096559],text:"10"},"zone9,10,11,12":{p:[[-.014791,1.60617707],[-.0122186,1.189189825]],text:"9,<br>10,<br>11,<br>12"}}},inforRobRfqt:{zones:nc,markers:{zone1:{p:[.866142,-.534722],text:"1"},zone2:{p:[6.61417,-.833333],text:"2"},zone3:{p:[5.03937,-.083333],text:"3"},zone4:{p:[3.66929,.17361],text:"4"},zone5:{p:[2.97638,.3125],text:"5"},zone6:{p:[2.31496,.54861],text:"6"},zone7:{p:[1.65354,.8125],text:"7"},zone8:{p:[1.24409,1.05556],text:"8"},zone9:{p:[.866142,1.32639],text:"9"},zone10:{p:[.393701,1.76389],text:"10"},zone11:{p:[6.48819,1.48611],text:"11"},zone12:{p:[3.51181,1.72917],text:"12"}}},inforRobBqQt:{zones:tc,markers:{zone1:{p:[1.21905,.455696],text:"1"},zone2:{p:[.491429,.211573],text:"2"},zone3:{p:[.529524,.922242],text:"3"},zone4:{p:[.346667,1.48101],text:"4"},zone5:{p:[.198095,1.67631],text:"5"},zone6:{p:[.0761905,2.03436],text:"6"},zone7:{p:[.0609524,2.60398],text:"7"}}},inforRobFrQt:{zones:ic,znoeNC:[[-.642563,2.38745],[.577116,.24888],[.607549,.218682],[.626277,.207701],[.649688,.204956],[.673098,.207701],[.682462,.229663],[.680121,.259861],[.666075,.292804],[.656711,.309276],[-.345252,2.64001],[-.642563,2.38745]],markers:{zone1:{p:[-.716937,.259459],text:"1"},zone2:{p:[.763341,.232432],text:"2"},zone3:{p:[.206497,.427027],text:"3"},zone4:{p:[-.141531,.951351],text:"4"},zone5:{p:[-.443155,1.2973],text:"5"},zone6:{p:[-.712297,1.85405],text:"6"},zone7:{p:[-.62877,2.77297],text:"7"},zone8:{p:[.419954,2.77297],text:"8"},zone9:{p:[.726218,2.18919],text:"9"},zoneNC:{p:[-.0719,1.679],text:"(Normally consolidated)"}}},inforRamBqQt:{zones:uc,markers:{zone1:{p:[1.3078,.298266],text:"1"},zone2:{p:[.504128,.17341],text:"2"},zone3:{p:[.795872,.991908],text:"3"},zone4a:{p:[-.302294,2.00462],text:"4"},zone4b:{p:[.201376,1.99769],text:"4"},zone5a:{p:[-.0573394,3.60694],text:"5"},zone5b:{p:[.0472477,3.60694],text:"5"},zone6:{p:[.0059633,1.17225],text:"6"},zone7:{p:[.0059633,1.66474],text:"7"},zone8:{p:[458716e-9,2.15723],text:"8"},zone9:{p:[.0059633,3.00347],text:"9"}}},inforRamFrQt:{zones:oc,markers:{zone1:{p:[-.520058,.477345],text:"1"},zone2:{p:[.903837,.179044],text:"2"},zone3:{p:[.298327,.696099],text:"3"},zone4:{p:[.694116,2.00862],text:"4"},zone5:{p:[.129604,2.62113],text:"5"},zone6:{p:[-.521634,1.28475],text:"6"},zone7:{p:[-.521634,1.65862],text:"7"},zone8:{p:[-.521634,2.14385],text:"8"},zone9:{p:[-.524788,2.99898],text:"9"}}}},cptClassify:mc,simplifyRobertson1986:cc,simplifyRobertson1990:hc,simplifyRobertson2009:dc,simplifyRamsey:gc};function wc(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function bc(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?wc(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wc(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function $c(e){let r=[];return Fe(e,(e=>{let n={};Fe(e,((e,r)=>{is(e)&&(e=ts(e)),n[r]=e}));let t=js(e=n,"depth"),i=js(e,"qc"),u=js(e,"fs"),o=js(e,"u2");r.push(bc(bc({},e),{},{depth:t,qc:i,fs:u,u2:o}))})),r}function xc(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Mi(r,"ranger");as(n)||(n={depthHalf:.25});let t=Mi(r,"methodSmooth");return"none"!==t&&"average"!==t&&"averageIn95"!==t&&(t="none"),"none"!==t&&(e=Hf(e,"qc",{ranger:n,methodSmooth:t}),e=Hf(e,"fs",{ranger:n,methodSmooth:t}),e=Hf(e,"u2",{ranger:n,methodSmooth:t})),e}function Sc(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Mi(r,"intrpSv");us(n)||(n=Ms);let t=Mi(r,"intrpU0");us(t)||(t=Rs);let i=[];return Fe(e,((r,u)=>{let o=js(r,"depth"),a=n(o,u,r,e).sv;hs(a)&&(a=_s(a));let s=t(o,u,r,e);hs(s)&&(s=_s(s));let l=js(r,"u2");if(null!==l&&l>10)return!0;let f=null;da(a)&&da(s)&&(f=a-s,f=Math.max(f,0)),i.push(bc(bc({},r),{},{sv:a,svp:f,u0:s}))})),i}function Ec(e,r,n){let t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=null,u=Ds.Pa,o=Mi(t,"useCnLeq");if(cs(o)||(o=!1),n<=0)return{Qtn:null,Icn:null,err:"svp <= 0"};let a=t=>{let i=(u/n)**t;o&&(i=Math.min(i,1.7));let a=i*e/u,s=Math.sqrt((3.47-Math.log10(a))**2+(Math.log10(r)+1.22)**2);return{n:t,Cn:i,Qtn:a,Icn:s,nn:.381*s+n/u*.05-.15}},s=e=>{let r=a(e);return Math.abs(r.n-r.nn)},l=null,f=null;try{let e=function(e,r,n){let t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!us(e))throw new Error("invalid fun");if(!hs(r))throw new Error("xMin is not a number");if(r=_s(r),!hs(n))throw new Error("xMax is not a number");n=_s(n);let i=Mi(t,"delta");hs(i)||(i=.1),i=_s(i);let u=Mi(t,"maxIterations");hs(u)||(u=100),u=_s(u);let o=e(r),a=e(n),s=(r+n)/2,l=e(s),f=0,c=null;for(;;){if(f++,f>u)return null;if(o<=a&&o<=l){c={y:o,x:r};break}if(a<=o&&a<=l){c={y:a,x:n};break}a>=o?(a=l,a=e(n=s)):(o=l,o=e(r=s)),s=(r+n)/2,l=e(s)}return c}(s,0,1),r=e.x,n=a(r);if(n.nn>1)throw new Error("");l=Mi(n,"Qtn",null),f=Mi(n,"Icn",null)}catch(e){i=e.toString()}return{Qtn:l,Icn:f,err:i}}function _c(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=(e,r)=>Mi(e,`success.${r}`,null),i=Mi(e,"sv");i=hs(i)?_s(i):null;let u=Mi(e,"svp");u=hs(u)?_s(u):null;let o=Mi(e,"qc");o=hs(o)?_s(o):null;let a=Mi(e,"fs");a=hs(a)?_s(a):null;let s=Mi(e,"u0");s=hs(s)?_s(s):null;let l=Mi(e,"u2");if(l=hs(l)?_s(l):null,!hs(r))throw new Error(`coe_a[${r}] is not a number`);r=_s(r);let f=Mi(n,"useCnLeq");cs(f)||(f=!1);let c=null;da(o)&&da(s)&&da(l)&&(c=o+l*(1-r),c=Math.max(c,0));let p=null;da(c)&&da(i)&&(p=c-i,p=Math.max(p,0));let h=null;da(p)&&da(l)&&p>0&&(h=(l-s)/p);let d=null;da(c)&&da(a)&&c>0&&(d=a/c*100,d=Math.max(d,0));let v=null;da(p)&&da(u)&&u>0&&(v=p/u,v=Math.max(v,0));let g=null;da(p)&&da(a)&&p>0&&(g=a/p*100,g=Math.max(g,0));let m=null;da(v)&&da(g)&&v>0&&g>0&&(m=Math.sqrt((3.47-Math.log10(v))**2+(Math.log10(g)+1.22)**2));let y=Ec(p,g,u,{useCnLeq:f}),w=Mi(y,"Icn",null),b=Mi(y,"Qtn",null),$=mc.csfIc(m),x=mc.csfIc(w),S=mc.csfRobBqqt(h,c),E=mc.csfRobRfqt(d,c),_=mc.csfRobBqQt(h,v),j=mc.csfRobFrQt(g,v),O=mc.csfRobBqQt(h,b),D=mc.csfRobFrQt(g,b),R=mc.csfRamBqQt(h,v),M=mc.csfRamFrQt(g,v),q=t($,"int"),k=t(x,"int"),P=t(S,"int"),C=t(E,"int"),N=t(_,"int"),A=t(j,"int"),z=t(O,"int"),F=t(D,"int"),L=t(R,"int"),T=t(M,"int");return bc(bc({},e),{},{sv:i,svp:u,qc:o,fs:a,u0:s,u2:l,qt:c,qnet:p,Bq:h,Qt:v,Qtn:b,Rf:d,Fr:g,Ic:m,Icn:w,iIc:q,iIcn:k,iRobBqqt:P,iRobRfqt:C,iRobBqQt:N,iRobFrQt:A,iRobBqQtn:z,iRobFrQtn:F,iRamBqQt:L,iRamFrQt:T})}var jc={basic:$c,smooth:xc,stress:Sc,calcCpt:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Mi(r,"coe_a");return hs(n)||(n=.8),n=_s(n),e=Sc(e=xc(e=$c(e=ca(e)),r),r),e=cu(e,(e=>_c(e,n)))},calcCptCore:_c};function Oc(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return hs(e)&&bf(r)?(e=_s(e),yf(e,r).toFixed(r)):""}var Dc=Array.prototype.join;var Rc,Mc,qc=function(e,r){return null==e?"":Dc.call(e,r)},kc=9e15,Pc=1e9,Cc="0123456789abcdef",Nc="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",Ac="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",zc={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-kc,maxE:kc,crypto:!1},Fc=!0,Lc="[DecimalError] ",Tc=Lc+"Invalid argument: ",Ic=Lc+"Precision limit exceeded",Gc=Lc+"crypto unavailable",Uc="[object Decimal]",Bc=Math.floor,Qc=Math.pow,Vc=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Yc=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Zc=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Hc=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Wc=1e7,Kc=7,Jc=Nc.length-1,Xc=Ac.length-1,ep={toStringTag:Uc};
/*!
   *  decimal.js v10.4.3
   *  An arbitrary-precision Decimal type for JavaScript.
   *  https://github.com/MikeMcl/decimal.js
   *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
   *  MIT Licence
   */function rp(e){var r,n,t,i=e.length-1,u="",o=e[0];if(i>0){for(u+=o,r=1;r<i;r++)t=e[r]+"",(n=Kc-t.length)&&(u+=pp(n)),u+=t;o=e[r],(n=Kc-(t=o+"").length)&&(u+=pp(n))}else if(0===o)return"0";for(;o%10==0;)o/=10;return u+o}function np(e,r,n){if(e!==~~e||e<r||e>n)throw Error(Tc+e)}function tp(e,r,n,t){var i,u,o,a;for(u=e[0];u>=10;u/=10)--r;return--r<0?(r+=Kc,i=0):(i=Math.ceil((r+1)/Kc),r%=Kc),u=Qc(10,Kc-r),a=e[i]%u|0,null==t?r<3?(0==r?a=a/100|0:1==r&&(a=a/10|0),o=n<4&&99999==a||n>3&&49999==a||5e4==a||0==a):o=(n<4&&a+1==u||n>3&&a+1==u/2)&&(e[i+1]/u/100|0)==Qc(10,r-2)-1||(a==u/2||0==a)&&0==(e[i+1]/u/100|0):r<4?(0==r?a=a/1e3|0:1==r?a=a/100|0:2==r&&(a=a/10|0),o=(t||n<4)&&9999==a||!t&&n>3&&4999==a):o=((t||n<4)&&a+1==u||!t&&n>3&&a+1==u/2)&&(e[i+1]/u/1e3|0)==Qc(10,r-3)-1,o}function ip(e,r,n){for(var t,i,u=[0],o=0,a=e.length;o<a;){for(i=u.length;i--;)u[i]*=r;for(u[0]+=Cc.indexOf(e.charAt(o++)),t=0;t<u.length;t++)u[t]>n-1&&(void 0===u[t+1]&&(u[t+1]=0),u[t+1]+=u[t]/n|0,u[t]%=n)}return u.reverse()}ep.absoluteValue=ep.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),op(e)},ep.ceil=function(){return op(new this.constructor(this),this.e+1,2)},ep.clampedTo=ep.clamp=function(e,r){var n=this,t=n.constructor;if(e=new t(e),r=new t(r),!e.s||!r.s)return new t(NaN);if(e.gt(r))throw Error(Tc+r);return n.cmp(e)<0?e:n.cmp(r)>0?r:new t(n)},ep.comparedTo=ep.cmp=function(e){var r,n,t,i,u=this,o=u.d,a=(e=new u.constructor(e)).d,s=u.s,l=e.s;if(!o||!a)return s&&l?s!==l?s:o===a?0:!o^s<0?1:-1:NaN;if(!o[0]||!a[0])return o[0]?s:a[0]?-l:0;if(s!==l)return s;if(u.e!==e.e)return u.e>e.e^s<0?1:-1;for(r=0,n=(t=o.length)<(i=a.length)?t:i;r<n;++r)if(o[r]!==a[r])return o[r]>a[r]^s<0?1:-1;return t===i?0:t>i^s<0?1:-1},ep.cosine=ep.cos=function(){var e,r,n=this,t=n.constructor;return n.d?n.d[0]?(e=t.precision,r=t.rounding,t.precision=e+Math.max(n.e,n.sd())+Kc,t.rounding=1,n=function(e,r){var n,t,i;if(r.isZero())return r;t=r.d.length,t<32?i=(1/xp(4,n=Math.ceil(t/3))).toString():(n=16,i="2.3283064365386962890625e-10");e.precision+=n,r=$p(e,1,r.times(i),new e(1));for(var u=n;u--;){var o=r.times(r);r=o.times(o).minus(o).times(8).plus(1)}return e.precision-=n,r}(t,Sp(t,n)),t.precision=e,t.rounding=r,op(2==Mc||3==Mc?n.neg():n,e,r,!0)):new t(1):new t(NaN)},ep.cubeRoot=ep.cbrt=function(){var e,r,n,t,i,u,o,a,s,l,f=this,c=f.constructor;if(!f.isFinite()||f.isZero())return new c(f);for(Fc=!1,(u=f.s*Qc(f.s*f,1/3))&&Math.abs(u)!=1/0?t=new c(u.toString()):(n=rp(f.d),(u=((e=f.e)-n.length+1)%3)&&(n+=1==u||-2==u?"0":"00"),u=Qc(n,1/3),e=Bc((e+1)/3)-(e%3==(e<0?-1:2)),(t=new c(n=u==1/0?"5e"+e:(n=u.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=f.s),o=(e=c.precision)+3;;)if(l=(s=(a=t).times(a).times(a)).plus(f),t=up(l.plus(f).times(a),l.plus(s),o+2,1),rp(a.d).slice(0,o)===(n=rp(t.d)).slice(0,o)){if("9999"!=(n=n.slice(o-3,o+1))&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(op(t,e+1,1),r=!t.times(t).times(t).eq(f));break}if(!i&&(op(a,e+1,0),a.times(a).times(a).eq(f))){t=a;break}o+=4,i=1}return Fc=!0,op(t,e,c.rounding,r)},ep.decimalPlaces=ep.dp=function(){var e,r=this.d,n=NaN;if(r){if(n=((e=r.length-1)-Bc(this.e/Kc))*Kc,e=r[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},ep.dividedBy=ep.div=function(e){return up(this,new this.constructor(e))},ep.dividedToIntegerBy=ep.divToInt=function(e){var r=this.constructor;return op(up(this,new r(e),0,1,1),r.precision,r.rounding)},ep.equals=ep.eq=function(e){return 0===this.cmp(e)},ep.floor=function(){return op(new this.constructor(this),this.e+1,3)},ep.greaterThan=ep.gt=function(e){return this.cmp(e)>0},ep.greaterThanOrEqualTo=ep.gte=function(e){var r=this.cmp(e);return 1==r||0===r},ep.hyperbolicCosine=ep.cosh=function(){var e,r,n,t,i,u=this,o=u.constructor,a=new o(1);if(!u.isFinite())return new o(u.s?1/0:NaN);if(u.isZero())return a;n=o.precision,t=o.rounding,o.precision=n+Math.max(u.e,u.sd())+4,o.rounding=1,(i=u.d.length)<32?r=(1/xp(4,e=Math.ceil(i/3))).toString():(e=16,r="2.3283064365386962890625e-10"),u=$p(o,1,u.times(r),new o(1),!0);for(var s,l=e,f=new o(8);l--;)s=u.times(u),u=a.minus(s.times(f.minus(s.times(f))));return op(u,o.precision=n,o.rounding=t,!0)},ep.hyperbolicSine=ep.sinh=function(){var e,r,n,t,i=this,u=i.constructor;if(!i.isFinite()||i.isZero())return new u(i);if(r=u.precision,n=u.rounding,u.precision=r+Math.max(i.e,i.sd())+4,u.rounding=1,(t=i.d.length)<3)i=$p(u,2,i,i,!0);else{e=(e=1.4*Math.sqrt(t))>16?16:0|e,i=$p(u,2,i=i.times(1/xp(5,e)),i,!0);for(var o,a=new u(5),s=new u(16),l=new u(20);e--;)o=i.times(i),i=i.times(a.plus(o.times(s.times(o).plus(l))))}return u.precision=r,u.rounding=n,op(i,r,n,!0)},ep.hyperbolicTangent=ep.tanh=function(){var e,r,n=this,t=n.constructor;return n.isFinite()?n.isZero()?new t(n):(e=t.precision,r=t.rounding,t.precision=e+7,t.rounding=1,up(n.sinh(),n.cosh(),t.precision=e,t.rounding=r)):new t(n.s)},ep.inverseCosine=ep.acos=function(){var e,r=this,n=r.constructor,t=r.abs().cmp(1),i=n.precision,u=n.rounding;return-1!==t?0===t?r.isNeg()?fp(n,i,u):new n(0):new n(NaN):r.isZero()?fp(n,i+4,u).times(.5):(n.precision=i+6,n.rounding=1,r=r.asin(),e=fp(n,i+4,u).times(.5),n.precision=i,n.rounding=u,e.minus(r))},ep.inverseHyperbolicCosine=ep.acosh=function(){var e,r,n=this,t=n.constructor;return n.lte(1)?new t(n.eq(1)?0:NaN):n.isFinite()?(e=t.precision,r=t.rounding,t.precision=e+Math.max(Math.abs(n.e),n.sd())+4,t.rounding=1,Fc=!1,n=n.times(n).minus(1).sqrt().plus(n),Fc=!0,t.precision=e,t.rounding=r,n.ln()):new t(n)},ep.inverseHyperbolicSine=ep.asinh=function(){var e,r,n=this,t=n.constructor;return!n.isFinite()||n.isZero()?new t(n):(e=t.precision,r=t.rounding,t.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,t.rounding=1,Fc=!1,n=n.times(n).plus(1).sqrt().plus(n),Fc=!0,t.precision=e,t.rounding=r,n.ln())},ep.inverseHyperbolicTangent=ep.atanh=function(){var e,r,n,t,i=this,u=i.constructor;return i.isFinite()?i.e>=0?new u(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=u.precision,r=u.rounding,t=i.sd(),Math.max(t,e)<2*-i.e-1?op(new u(i),e,r,!0):(u.precision=n=t-i.e,i=up(i.plus(1),new u(1).minus(i),n+e,1),u.precision=e+4,u.rounding=1,i=i.ln(),u.precision=e,u.rounding=r,i.times(.5))):new u(NaN)},ep.inverseSine=ep.asin=function(){var e,r,n,t,i=this,u=i.constructor;return i.isZero()?new u(i):(r=i.abs().cmp(1),n=u.precision,t=u.rounding,-1!==r?0===r?((e=fp(u,n+4,t).times(.5)).s=i.s,e):new u(NaN):(u.precision=n+6,u.rounding=1,i=i.div(new u(1).minus(i.times(i)).sqrt().plus(1)).atan(),u.precision=n,u.rounding=t,i.times(2)))},ep.inverseTangent=ep.atan=function(){var e,r,n,t,i,u,o,a,s,l=this,f=l.constructor,c=f.precision,p=f.rounding;if(l.isFinite()){if(l.isZero())return new f(l);if(l.abs().eq(1)&&c+4<=Xc)return(o=fp(f,c+4,p).times(.25)).s=l.s,o}else{if(!l.s)return new f(NaN);if(c+4<=Xc)return(o=fp(f,c+4,p).times(.5)).s=l.s,o}for(f.precision=a=c+10,f.rounding=1,e=n=Math.min(28,a/Kc+2|0);e;--e)l=l.div(l.times(l).plus(1).sqrt().plus(1));for(Fc=!1,r=Math.ceil(a/Kc),t=1,s=l.times(l),o=new f(l),i=l;-1!==e;)if(i=i.times(s),u=o.minus(i.div(t+=2)),i=i.times(s),void 0!==(o=u.plus(i.div(t+=2))).d[r])for(e=r;o.d[e]===u.d[e]&&e--;);return n&&(o=o.times(2<<n-1)),Fc=!0,op(o,f.precision=c,f.rounding=p,!0)},ep.isFinite=function(){return!!this.d},ep.isInteger=ep.isInt=function(){return!!this.d&&Bc(this.e/Kc)>this.d.length-2},ep.isNaN=function(){return!this.s},ep.isNegative=ep.isNeg=function(){return this.s<0},ep.isPositive=ep.isPos=function(){return this.s>0},ep.isZero=function(){return!!this.d&&0===this.d[0]},ep.lessThan=ep.lt=function(e){return this.cmp(e)<0},ep.lessThanOrEqualTo=ep.lte=function(e){return this.cmp(e)<1},ep.logarithm=ep.log=function(e){var r,n,t,i,u,o,a,s,l=this,f=l.constructor,c=f.precision,p=f.rounding;if(null==e)e=new f(10),r=!0;else{if(n=(e=new f(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new f(NaN);r=e.eq(10)}if(n=l.d,l.s<0||!n||!n[0]||l.eq(1))return new f(n&&!n[0]?-1/0:1!=l.s?NaN:n?0:1/0);if(r)if(n.length>1)u=!0;else{for(i=n[0];i%10==0;)i/=10;u=1!==i}if(Fc=!1,o=mp(l,a=c+5),t=r?lp(f,a+10):mp(e,a),tp((s=up(o,t,a,1)).d,i=c,p))do{if(o=mp(l,a+=10),t=r?lp(f,a+10):mp(e,a),s=up(o,t,a,1),!u){+rp(s.d).slice(i+1,i+15)+1==1e14&&(s=op(s,c+1,0));break}}while(tp(s.d,i+=10,p));return Fc=!0,op(s,c,p)},ep.minus=ep.sub=function(e){var r,n,t,i,u,o,a,s,l,f,c,p,h=this,d=h.constructor;if(e=new d(e),!h.d||!e.d)return h.s&&e.s?h.d?e.s=-e.s:e=new d(e.d||h.s!==e.s?h:NaN):e=new d(NaN),e;if(h.s!=e.s)return e.s=-e.s,h.plus(e);if(l=h.d,p=e.d,a=d.precision,s=d.rounding,!l[0]||!p[0]){if(p[0])e.s=-e.s;else{if(!l[0])return new d(3===s?-0:0);e=new d(h)}return Fc?op(e,a,s):e}if(n=Bc(e.e/Kc),f=Bc(h.e/Kc),l=l.slice(),u=f-n){for((c=u<0)?(r=l,u=-u,o=p.length):(r=p,n=f,o=l.length),u>(t=Math.max(Math.ceil(a/Kc),o)+2)&&(u=t,r.length=1),r.reverse(),t=u;t--;)r.push(0);r.reverse()}else{for((c=(t=l.length)<(o=p.length))&&(o=t),t=0;t<o;t++)if(l[t]!=p[t]){c=l[t]<p[t];break}u=0}for(c&&(r=l,l=p,p=r,e.s=-e.s),o=l.length,t=p.length-o;t>0;--t)l[o++]=0;for(t=p.length;t>u;){if(l[--t]<p[t]){for(i=t;i&&0===l[--i];)l[i]=Wc-1;--l[i],l[t]+=Wc}l[t]-=p[t]}for(;0===l[--o];)l.pop();for(;0===l[0];l.shift())--n;return l[0]?(e.d=l,e.e=sp(l,n),Fc?op(e,a,s):e):new d(3===s?-0:0)},ep.modulo=ep.mod=function(e){var r,n=this,t=n.constructor;return e=new t(e),!n.d||!e.s||e.d&&!e.d[0]?new t(NaN):!e.d||n.d&&!n.d[0]?op(new t(n),t.precision,t.rounding):(Fc=!1,9==t.modulo?(r=up(n,e.abs(),0,3,1)).s*=e.s:r=up(n,e,0,t.modulo,1),r=r.times(e),Fc=!0,n.minus(r))},ep.naturalExponential=ep.exp=function(){return gp(this)},ep.naturalLogarithm=ep.ln=function(){return mp(this)},ep.negated=ep.neg=function(){var e=new this.constructor(this);return e.s=-e.s,op(e)},ep.plus=ep.add=function(e){var r,n,t,i,u,o,a,s,l,f,c=this,p=c.constructor;if(e=new p(e),!c.d||!e.d)return c.s&&e.s?c.d||(e=new p(e.d||c.s===e.s?c:NaN)):e=new p(NaN),e;if(c.s!=e.s)return e.s=-e.s,c.minus(e);if(l=c.d,f=e.d,a=p.precision,s=p.rounding,!l[0]||!f[0])return f[0]||(e=new p(c)),Fc?op(e,a,s):e;if(u=Bc(c.e/Kc),t=Bc(e.e/Kc),l=l.slice(),i=u-t){for(i<0?(n=l,i=-i,o=f.length):(n=f,t=u,o=l.length),i>(o=(u=Math.ceil(a/Kc))>o?u+1:o+1)&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for((o=l.length)-(i=f.length)<0&&(i=o,n=f,f=l,l=n),r=0;i;)r=(l[--i]=l[i]+f[i]+r)/Wc|0,l[i]%=Wc;for(r&&(l.unshift(r),++t),o=l.length;0==l[--o];)l.pop();return e.d=l,e.e=sp(l,t),Fc?op(e,a,s):e},ep.precision=ep.sd=function(e){var r,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(Tc+e);return n.d?(r=cp(n.d),e&&n.e+1>r&&(r=n.e+1)):r=NaN,r},ep.round=function(){var e=this,r=e.constructor;return op(new r(e),e.e+1,r.rounding)},ep.sine=ep.sin=function(){var e,r,n=this,t=n.constructor;return n.isFinite()?n.isZero()?new t(n):(e=t.precision,r=t.rounding,t.precision=e+Math.max(n.e,n.sd())+Kc,t.rounding=1,n=function(e,r){var n,t=r.d.length;if(t<3)return r.isZero()?r:$p(e,2,r,r);n=(n=1.4*Math.sqrt(t))>16?16:0|n,r=r.times(1/xp(5,n)),r=$p(e,2,r,r);for(var i,u=new e(5),o=new e(16),a=new e(20);n--;)i=r.times(r),r=r.times(u.plus(i.times(o.times(i).minus(a))));return r}(t,Sp(t,n)),t.precision=e,t.rounding=r,op(Mc>2?n.neg():n,e,r,!0)):new t(NaN)},ep.squareRoot=ep.sqrt=function(){var e,r,n,t,i,u,o=this,a=o.d,s=o.e,l=o.s,f=o.constructor;if(1!==l||!a||!a[0])return new f(!l||l<0&&(!a||a[0])?NaN:a?o:1/0);for(Fc=!1,0==(l=Math.sqrt(+o))||l==1/0?(((r=rp(a)).length+s)%2==0&&(r+="0"),l=Math.sqrt(r),s=Bc((s+1)/2)-(s<0||s%2),t=new f(r=l==1/0?"5e"+s:(r=l.toExponential()).slice(0,r.indexOf("e")+1)+s)):t=new f(l.toString()),n=(s=f.precision)+3;;)if(t=(u=t).plus(up(o,u,n+2,1)).times(.5),rp(u.d).slice(0,n)===(r=rp(t.d)).slice(0,n)){if("9999"!=(r=r.slice(n-3,n+1))&&(i||"4999"!=r)){+r&&(+r.slice(1)||"5"!=r.charAt(0))||(op(t,s+1,1),e=!t.times(t).eq(o));break}if(!i&&(op(u,s+1,0),u.times(u).eq(o))){t=u;break}n+=4,i=1}return Fc=!0,op(t,s,f.rounding,e)},ep.tangent=ep.tan=function(){var e,r,n=this,t=n.constructor;return n.isFinite()?n.isZero()?new t(n):(e=t.precision,r=t.rounding,t.precision=e+10,t.rounding=1,(n=n.sin()).s=1,n=up(n,new t(1).minus(n.times(n)).sqrt(),e+10,0),t.precision=e,t.rounding=r,op(2==Mc||4==Mc?n.neg():n,e,r,!0)):new t(NaN)},ep.times=ep.mul=function(e){var r,n,t,i,u,o,a,s,l,f=this,c=f.constructor,p=f.d,h=(e=new c(e)).d;if(e.s*=f.s,!(p&&p[0]&&h&&h[0]))return new c(!e.s||p&&!p[0]&&!h||h&&!h[0]&&!p?NaN:p&&h?0*e.s:e.s/0);for(n=Bc(f.e/Kc)+Bc(e.e/Kc),(s=p.length)<(l=h.length)&&(u=p,p=h,h=u,o=s,s=l,l=o),u=[],t=o=s+l;t--;)u.push(0);for(t=l;--t>=0;){for(r=0,i=s+t;i>t;)a=u[i]+h[t]*p[i-t-1]+r,u[i--]=a%Wc|0,r=a/Wc|0;u[i]=(u[i]+r)%Wc|0}for(;!u[--o];)u.pop();return r?++n:u.shift(),e.d=u,e.e=sp(u,n),Fc?op(e,c.precision,c.rounding):e},ep.toBinary=function(e,r){return Ep(this,2,e,r)},ep.toDecimalPlaces=ep.toDP=function(e,r){var n=this,t=n.constructor;return n=new t(n),void 0===e?n:(np(e,0,Pc),void 0===r?r=t.rounding:np(r,0,8),op(n,e+n.e+1,r))},ep.toExponential=function(e,r){var n,t=this,i=t.constructor;return void 0===e?n=ap(t,!0):(np(e,0,Pc),void 0===r?r=i.rounding:np(r,0,8),n=ap(t=op(new i(t),e+1,r),!0,e+1)),t.isNeg()&&!t.isZero()?"-"+n:n},ep.toFixed=function(e,r){var n,t,i=this,u=i.constructor;return void 0===e?n=ap(i):(np(e,0,Pc),void 0===r?r=u.rounding:np(r,0,8),n=ap(t=op(new u(i),e+i.e+1,r),!1,e+t.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n},ep.toFraction=function(e){var r,n,t,i,u,o,a,s,l,f,c,p,h=this,d=h.d,v=h.constructor;if(!d)return new v(h);if(l=n=new v(1),t=s=new v(0),o=(u=(r=new v(t)).e=cp(d)-h.e-1)%Kc,r.d[0]=Qc(10,o<0?Kc+o:o),null==e)e=u>0?r:l;else{if(!(a=new v(e)).isInt()||a.lt(l))throw Error(Tc+a);e=a.gt(r)?u>0?r:l:a}for(Fc=!1,a=new v(rp(d)),f=v.precision,v.precision=u=d.length*Kc*2;c=up(a,r,0,1,1),1!=(i=n.plus(c.times(t))).cmp(e);)n=t,t=i,i=l,l=s.plus(c.times(i)),s=i,i=r,r=a.minus(c.times(i)),a=i;return i=up(e.minus(n),t,0,1,1),s=s.plus(i.times(l)),n=n.plus(i.times(t)),s.s=l.s=h.s,p=up(l,t,u,1).minus(h).abs().cmp(up(s,n,u,1).minus(h).abs())<1?[l,t]:[s,n],v.precision=f,Fc=!0,p},ep.toHexadecimal=ep.toHex=function(e,r){return Ep(this,16,e,r)},ep.toNearest=function(e,r){var n=this,t=n.constructor;if(n=new t(n),null==e){if(!n.d)return n;e=new t(1),r=t.rounding}else{if(e=new t(e),void 0===r?r=t.rounding:np(r,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(Fc=!1,n=up(n,e,0,r,1).times(e),Fc=!0,op(n)):(e.s=n.s,n=e),n},ep.toNumber=function(){return+this},ep.toOctal=function(e,r){return Ep(this,8,e,r)},ep.toPower=ep.pow=function(e){var r,n,t,i,u,o,a=this,s=a.constructor,l=+(e=new s(e));if(!(a.d&&e.d&&a.d[0]&&e.d[0]))return new s(Qc(+a,l));if((a=new s(a)).eq(1))return a;if(t=s.precision,u=s.rounding,e.eq(1))return op(a,t,u);if((r=Bc(e.e/Kc))>=e.d.length-1&&(n=l<0?-l:l)<=9007199254740991)return i=hp(s,a,n,t),e.s<0?new s(1).div(i):op(i,t,u);if((o=a.s)<0){if(r<e.d.length-1)return new s(NaN);if(0==(1&e.d[r])&&(o=1),0==a.e&&1==a.d[0]&&1==a.d.length)return a.s=o,a}return(r=0!=(n=Qc(+a,l))&&isFinite(n)?new s(n+"").e:Bc(l*(Math.log("0."+rp(a.d))/Math.LN10+a.e+1)))>s.maxE+1||r<s.minE-1?new s(r>0?o/0:0):(Fc=!1,s.rounding=a.s=1,n=Math.min(12,(r+"").length),(i=gp(e.times(mp(a,t+n)),t)).d&&tp((i=op(i,t+5,1)).d,t,u)&&(r=t+10,+rp((i=op(gp(e.times(mp(a,r+n)),r),r+5,1)).d).slice(t+1,t+15)+1==1e14&&(i=op(i,t+1,0))),i.s=o,Fc=!0,s.rounding=u,op(i,t,u))},ep.toPrecision=function(e,r){var n,t=this,i=t.constructor;return void 0===e?n=ap(t,t.e<=i.toExpNeg||t.e>=i.toExpPos):(np(e,1,Pc),void 0===r?r=i.rounding:np(r,0,8),n=ap(t=op(new i(t),e,r),e<=t.e||t.e<=i.toExpNeg,e)),t.isNeg()&&!t.isZero()?"-"+n:n},ep.toSignificantDigits=ep.toSD=function(e,r){var n=this.constructor;return void 0===e?(e=n.precision,r=n.rounding):(np(e,1,Pc),void 0===r?r=n.rounding:np(r,0,8)),op(new n(this),e,r)},ep.toString=function(){var e=this,r=e.constructor,n=ap(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},ep.truncated=ep.trunc=function(){return op(new this.constructor(this),this.e+1,1)},ep.valueOf=ep.toJSON=function(){var e=this,r=e.constructor,n=ap(e,e.e<=r.toExpNeg||e.e>=r.toExpPos);return e.isNeg()?"-"+n:n};var up=function(){function e(e,r,n){var t,i=0,u=e.length;for(e=e.slice();u--;)t=e[u]*r+i,e[u]=t%n|0,i=t/n|0;return i&&e.unshift(i),e}function r(e,r,n,t){var i,u;if(n!=t)u=n>t?1:-1;else for(i=u=0;i<n;i++)if(e[i]!=r[i]){u=e[i]>r[i]?1:-1;break}return u}function n(e,r,n,t){for(var i=0;n--;)e[n]-=i,i=e[n]<r[n]?1:0,e[n]=i*t+e[n]-r[n];for(;!e[0]&&e.length>1;)e.shift()}return function(t,i,u,o,a,s){var l,f,c,p,h,d,v,g,m,y,w,b,$,x,S,E,_,j,O,D,R=t.constructor,M=t.s==i.s?1:-1,q=t.d,k=i.d;if(!(q&&q[0]&&k&&k[0]))return new R(t.s&&i.s&&(q?!k||q[0]!=k[0]:k)?q&&0==q[0]||!k?0*M:M/0:NaN);for(s?(h=1,f=t.e-i.e):(s=Wc,h=Kc,f=Bc(t.e/h)-Bc(i.e/h)),O=k.length,_=q.length,y=(m=new R(M)).d=[],c=0;k[c]==(q[c]||0);c++);if(k[c]>(q[c]||0)&&f--,null==u?(x=u=R.precision,o=R.rounding):x=a?u+(t.e-i.e)+1:u,x<0)y.push(1),d=!0;else{if(x=x/h+2|0,c=0,1==O){for(p=0,k=k[0],x++;(c<_||p)&&x--;c++)S=p*s+(q[c]||0),y[c]=S/k|0,p=S%k|0;d=p||c<_}else{for((p=s/(k[0]+1)|0)>1&&(k=e(k,p,s),q=e(q,p,s),O=k.length,_=q.length),E=O,b=(w=q.slice(0,O)).length;b<O;)w[b++]=0;(D=k.slice()).unshift(0),j=k[0],k[1]>=s/2&&++j;do{p=0,(l=r(k,w,O,b))<0?($=w[0],O!=b&&($=$*s+(w[1]||0)),(p=$/j|0)>1?(p>=s&&(p=s-1),1==(l=r(v=e(k,p,s),w,g=v.length,b=w.length))&&(p--,n(v,O<g?D:k,g,s))):(0==p&&(l=p=1),v=k.slice()),(g=v.length)<b&&v.unshift(0),n(w,v,b,s),-1==l&&(l=r(k,w,O,b=w.length))<1&&(p++,n(w,O<b?D:k,b,s)),b=w.length):0===l&&(p++,w=[0]),y[c++]=p,l&&w[0]?w[b++]=q[E]||0:(w=[q[E]],b=1)}while((E++<_||void 0!==w[0])&&x--);d=void 0!==w[0]}y[0]||y.shift()}if(1==h)m.e=f,Rc=d;else{for(c=1,p=y[0];p>=10;p/=10)c++;m.e=c+f*h-1,op(m,a?u+m.e+1:u,o,d)}return m}}();function op(e,r,n,t){var i,u,o,a,s,l,f,c,p,h=e.constructor;e:if(null!=r){if(!(c=e.d))return e;for(i=1,a=c[0];a>=10;a/=10)i++;if((u=r-i)<0)u+=Kc,o=r,s=(f=c[p=0])/Qc(10,i-o-1)%10|0;else if((p=Math.ceil((u+1)/Kc))>=(a=c.length)){if(!t)break e;for(;a++<=p;)c.push(0);f=s=0,i=1,o=(u%=Kc)-Kc+1}else{for(f=a=c[p],i=1;a>=10;a/=10)i++;s=(o=(u%=Kc)-Kc+i)<0?0:f/Qc(10,i-o-1)%10|0}if(t=t||r<0||void 0!==c[p+1]||(o<0?f:f%Qc(10,i-o-1)),l=n<4?(s||t)&&(0==n||n==(e.s<0?3:2)):s>5||5==s&&(4==n||t||6==n&&(u>0?o>0?f/Qc(10,i-o):0:c[p-1])%10&1||n==(e.s<0?8:7)),r<1||!c[0])return c.length=0,l?(r-=e.e+1,c[0]=Qc(10,(Kc-r%Kc)%Kc),e.e=-r||0):c[0]=e.e=0,e;if(0==u?(c.length=p,a=1,p--):(c.length=p+1,a=Qc(10,Kc-u),c[p]=o>0?(f/Qc(10,i-o)%Qc(10,o)|0)*a:0),l)for(;;){if(0==p){for(u=1,o=c[0];o>=10;o/=10)u++;for(o=c[0]+=a,a=1;o>=10;o/=10)a++;u!=a&&(e.e++,c[0]==Wc&&(c[0]=1));break}if(c[p]+=a,c[p]!=Wc)break;c[p--]=0,a=1}for(u=c.length;0===c[--u];)c.pop()}return Fc&&(e.e>h.maxE?(e.d=null,e.e=NaN):e.e<h.minE&&(e.e=0,e.d=[0])),e}function ap(e,r,n){if(!e.isFinite())return yp(e);var t,i=e.e,u=rp(e.d),o=u.length;return r?(n&&(t=n-o)>0?u=u.charAt(0)+"."+u.slice(1)+pp(t):o>1&&(u=u.charAt(0)+"."+u.slice(1)),u=u+(e.e<0?"e":"e+")+e.e):i<0?(u="0."+pp(-i-1)+u,n&&(t=n-o)>0&&(u+=pp(t))):i>=o?(u+=pp(i+1-o),n&&(t=n-i-1)>0&&(u=u+"."+pp(t))):((t=i+1)<o&&(u=u.slice(0,t)+"."+u.slice(t)),n&&(t=n-o)>0&&(i+1===o&&(u+="."),u+=pp(t))),u}function sp(e,r){var n=e[0];for(r*=Kc;n>=10;n/=10)r++;return r}function lp(e,r,n){if(r>Jc)throw Fc=!0,n&&(e.precision=n),Error(Ic);return op(new e(Nc),r,1,!0)}function fp(e,r,n){if(r>Xc)throw Error(Ic);return op(new e(Ac),r,n,!0)}function cp(e){var r=e.length-1,n=r*Kc+1;if(r=e[r]){for(;r%10==0;r/=10)n--;for(r=e[0];r>=10;r/=10)n++}return n}function pp(e){for(var r="";e--;)r+="0";return r}function hp(e,r,n,t){var i,u=new e(1),o=Math.ceil(t/Kc+4);for(Fc=!1;;){if(n%2&&_p((u=u.times(r)).d,o)&&(i=!0),0===(n=Bc(n/2))){n=u.d.length-1,i&&0===u.d[n]&&++u.d[n];break}_p((r=r.times(r)).d,o)}return Fc=!0,u}function dp(e){return 1&e.d[e.d.length-1]}function vp(e,r,n){for(var t,i=new e(r[0]),u=0;++u<r.length;){if(!(t=new e(r[u])).s){i=t;break}i[n](t)&&(i=t)}return i}function gp(e,r){var n,t,i,u,o,a,s,l=0,f=0,c=0,p=e.constructor,h=p.rounding,d=p.precision;if(!e.d||!e.d[0]||e.e>17)return new p(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==r?(Fc=!1,s=d):s=r,a=new p(.03125);e.e>-2;)e=e.times(a),c+=5;for(s+=t=Math.log(Qc(2,c))/Math.LN10*2+5|0,n=u=o=new p(1),p.precision=s;;){if(u=op(u.times(e),s,1),n=n.times(++f),rp((a=o.plus(up(u,n,s,1))).d).slice(0,s)===rp(o.d).slice(0,s)){for(i=c;i--;)o=op(o.times(o),s,1);if(null!=r)return p.precision=d,o;if(!(l<3&&tp(o.d,s-t,h,l)))return op(o,p.precision=d,h,Fc=!0);p.precision=s+=10,n=u=a=new p(1),f=0,l++}o=a}}function mp(e,r){var n,t,i,u,o,a,s,l,f,c,p,h=1,d=e,v=d.d,g=d.constructor,m=g.rounding,y=g.precision;if(d.s<0||!v||!v[0]||!d.e&&1==v[0]&&1==v.length)return new g(v&&!v[0]?-1/0:1!=d.s?NaN:v?0:d);if(null==r?(Fc=!1,f=y):f=r,g.precision=f+=10,t=(n=rp(v)).charAt(0),!(Math.abs(u=d.e)<15e14))return l=lp(g,f+2,y).times(u+""),d=mp(new g(t+"."+n.slice(1)),f-10).plus(l),g.precision=y,null==r?op(d,y,m,Fc=!0):d;for(;t<7&&1!=t||1==t&&n.charAt(1)>3;)t=(n=rp((d=d.times(e)).d)).charAt(0),h++;for(u=d.e,t>1?(d=new g("0."+n),u++):d=new g(t+"."+n.slice(1)),c=d,s=o=d=up(d.minus(1),d.plus(1),f,1),p=op(d.times(d),f,1),i=3;;){if(o=op(o.times(p),f,1),rp((l=s.plus(up(o,new g(i),f,1))).d).slice(0,f)===rp(s.d).slice(0,f)){if(s=s.times(2),0!==u&&(s=s.plus(lp(g,f+2,y).times(u+""))),s=up(s,new g(h),f,1),null!=r)return g.precision=y,s;if(!tp(s.d,f-10,m,a))return op(s,g.precision=y,m,Fc=!0);g.precision=f+=10,l=o=d=up(c.minus(1),c.plus(1),f,1),p=op(d.times(d),f,1),i=a=1}s=l,i+=2}}function yp(e){return String(e.s*e.s/0)}function wp(e,r){var n,t,i;for((n=r.indexOf("."))>-1&&(r=r.replace(".","")),(t=r.search(/e/i))>0?(n<0&&(n=t),n+=+r.slice(t+1),r=r.substring(0,t)):n<0&&(n=r.length),t=0;48===r.charCodeAt(t);t++);for(i=r.length;48===r.charCodeAt(i-1);--i);if(r=r.slice(t,i)){if(i-=t,e.e=n=n-t-1,e.d=[],t=(n+1)%Kc,n<0&&(t+=Kc),t<i){for(t&&e.d.push(+r.slice(0,t)),i-=Kc;t<i;)e.d.push(+r.slice(t,t+=Kc));r=r.slice(t),t=Kc-r.length}else t-=i;for(;t--;)r+="0";e.d.push(+r),Fc&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function bp(e,r){var n,t,i,u,o,a,s,l,f;if(r.indexOf("_")>-1){if(r=r.replace(/(\d)_(?=\d)/g,"$1"),Hc.test(r))return wp(e,r)}else if("Infinity"===r||"NaN"===r)return+r||(e.s=NaN),e.e=NaN,e.d=null,e;if(Yc.test(r))n=16,r=r.toLowerCase();else if(Vc.test(r))n=2;else{if(!Zc.test(r))throw Error(Tc+r);n=8}for((u=r.search(/p/i))>0?(s=+r.slice(u+1),r=r.substring(2,u)):r=r.slice(2),o=(u=r.indexOf("."))>=0,t=e.constructor,o&&(u=(a=(r=r.replace(".","")).length)-u,i=hp(t,new t(n),u,2*u)),u=f=(l=ip(r,n,Wc)).length-1;0===l[u];--u)l.pop();return u<0?new t(0*e.s):(e.e=sp(l,f),e.d=l,Fc=!1,o&&(e=up(e,i,4*a)),s&&(e=e.times(Math.abs(s)<54?Qc(2,s):ph.pow(2,s))),Fc=!0,e)}function $p(e,r,n,t,i){var u,o,a,s,l=e.precision,f=Math.ceil(l/Kc);for(Fc=!1,s=n.times(n),a=new e(t);;){if(o=up(a.times(s),new e(r++*r++),l,1),a=i?t.plus(o):t.minus(o),t=up(o.times(s),new e(r++*r++),l,1),void 0!==(o=a.plus(t)).d[f]){for(u=f;o.d[u]===a.d[u]&&u--;);if(-1==u)break}u=a,a=t,t=o,o=u}return Fc=!0,o.d.length=f+1,o}function xp(e,r){for(var n=e;--r;)n*=e;return n}function Sp(e,r){var n,t=r.s<0,i=fp(e,e.precision,1),u=i.times(.5);if((r=r.abs()).lte(u))return Mc=t?4:1,r;if((n=r.divToInt(i)).isZero())Mc=t?3:2;else{if((r=r.minus(n.times(i))).lte(u))return Mc=dp(n)?t?2:3:t?4:1,r;Mc=dp(n)?t?1:4:t?3:2}return r.minus(i).abs()}function Ep(e,r,n,t){var i,u,o,a,s,l,f,c,p,h=e.constructor,d=void 0!==n;if(d?(np(n,1,Pc),void 0===t?t=h.rounding:np(t,0,8)):(n=h.precision,t=h.rounding),e.isFinite()){for(d?(i=2,16==r?n=4*n-3:8==r&&(n=3*n-2)):i=r,(o=(f=ap(e)).indexOf("."))>=0&&(f=f.replace(".",""),(p=new h(1)).e=f.length-o,p.d=ip(ap(p),10,i),p.e=p.d.length),u=s=(c=ip(f,10,i)).length;0==c[--s];)c.pop();if(c[0]){if(o<0?u--:((e=new h(e)).d=c,e.e=u,c=(e=up(e,p,n,t,0,i)).d,u=e.e,l=Rc),o=c[n],a=i/2,l=l||void 0!==c[n+1],l=t<4?(void 0!==o||l)&&(0===t||t===(e.s<0?3:2)):o>a||o===a&&(4===t||l||6===t&&1&c[n-1]||t===(e.s<0?8:7)),c.length=n,l)for(;++c[--n]>i-1;)c[n]=0,n||(++u,c.unshift(1));for(s=c.length;!c[s-1];--s);for(o=0,f="";o<s;o++)f+=Cc.charAt(c[o]);if(d){if(s>1)if(16==r||8==r){for(o=16==r?4:3,--s;s%o;s++)f+="0";for(s=(c=ip(f,i,r)).length;!c[s-1];--s);for(o=1,f="1.";o<s;o++)f+=Cc.charAt(c[o])}else f=f.charAt(0)+"."+f.slice(1);f=f+(u<0?"p":"p+")+u}else if(u<0){for(;++u;)f="0"+f;f="0."+f}else if(++u>s)for(u-=s;u--;)f+="0";else u<s&&(f=f.slice(0,u)+"."+f.slice(u))}else f=d?"0p+0":"0";f=(16==r?"0x":2==r?"0b":8==r?"0o":"")+f}else f=yp(e);return e.s<0?"-"+f:f}function _p(e,r){if(e.length>r)return e.length=r,!0}function jp(e){return new this(e).abs()}function Op(e){return new this(e).acos()}function Dp(e){return new this(e).acosh()}function Rp(e,r){return new this(e).plus(r)}function Mp(e){return new this(e).asin()}function qp(e){return new this(e).asinh()}function kp(e){return new this(e).atan()}function Pp(e){return new this(e).atanh()}function Cp(e,r){e=new this(e),r=new this(r);var n,t=this.precision,i=this.rounding,u=t+4;return e.s&&r.s?e.d||r.d?!r.d||e.isZero()?(n=r.s<0?fp(this,t,i):new this(0)).s=e.s:!e.d||r.isZero()?(n=fp(this,u,1).times(.5)).s=e.s:r.s<0?(this.precision=u,this.rounding=1,n=this.atan(up(e,r,u,1)),r=fp(this,u,1),this.precision=t,this.rounding=i,n=e.s<0?n.minus(r):n.plus(r)):n=this.atan(up(e,r,u,1)):(n=fp(this,u,1).times(r.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function Np(e){return new this(e).cbrt()}function Ap(e){return op(e=new this(e),e.e+1,2)}function zp(e,r,n){return new this(e).clamp(r,n)}function Fp(e){if(!e||"object"!=typeof e)throw Error(Lc+"Object expected");var r,n,t,i=!0===e.defaults,u=["precision",1,Pc,"rounding",0,8,"toExpNeg",-kc,0,"toExpPos",0,kc,"maxE",0,kc,"minE",-kc,0,"modulo",0,9];for(r=0;r<u.length;r+=3)if(n=u[r],i&&(this[n]=zc[n]),void 0!==(t=e[n])){if(!(Bc(t)===t&&t>=u[r+1]&&t<=u[r+2]))throw Error(Tc+n+": "+t);this[n]=t}if(n="crypto",i&&(this[n]=zc[n]),void 0!==(t=e[n])){if(!0!==t&&!1!==t&&0!==t&&1!==t)throw Error(Tc+n+": "+t);if(t){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error(Gc);this[n]=!0}else this[n]=!1}return this}function Lp(e){return new this(e).cos()}function Tp(e){return new this(e).cosh()}function Ip(e,r){return new this(e).div(r)}function Gp(e){return new this(e).exp()}function Up(e){return op(e=new this(e),e.e+1,3)}function Bp(){var e,r,n=new this(0);for(Fc=!1,e=0;e<arguments.length;)if((r=new this(arguments[e++])).d)n.d&&(n=n.plus(r.times(r)));else{if(r.s)return Fc=!0,new this(1/0);n=r}return Fc=!0,n.sqrt()}function Qp(e){return e instanceof ph||e&&e.toStringTag===Uc||!1}function Vp(e){return new this(e).ln()}function Yp(e,r){return new this(e).log(r)}function Zp(e){return new this(e).log(2)}function Hp(e){return new this(e).log(10)}function Wp(){return vp(this,arguments,"lt")}function Kp(){return vp(this,arguments,"gt")}function Jp(e,r){return new this(e).mod(r)}function Xp(e,r){return new this(e).mul(r)}function eh(e,r){return new this(e).pow(r)}function rh(e){var r,n,t,i,u=0,o=new this(1),a=[];if(void 0===e?e=this.precision:np(e,1,Pc),t=Math.ceil(e/Kc),this.crypto)if(crypto.getRandomValues)for(r=crypto.getRandomValues(new Uint32Array(t));u<t;)(i=r[u])>=429e7?r[u]=crypto.getRandomValues(new Uint32Array(1))[0]:a[u++]=i%1e7;else{if(!crypto.randomBytes)throw Error(Gc);for(r=crypto.randomBytes(t*=4);u<t;)(i=r[u]+(r[u+1]<<8)+(r[u+2]<<16)+((127&r[u+3])<<24))>=214e7?crypto.randomBytes(4).copy(r,u):(a.push(i%1e7),u+=4);u=t/4}else for(;u<t;)a[u++]=1e7*Math.random()|0;for(t=a[--u],e%=Kc,t&&e&&(i=Qc(10,Kc-e),a[u]=(t/i|0)*i);0===a[u];u--)a.pop();if(u<0)n=0,a=[0];else{for(n=-1;0===a[0];n-=Kc)a.shift();for(t=1,i=a[0];i>=10;i/=10)t++;t<Kc&&(n-=Kc-t)}return o.e=n,o.d=a,o}function nh(e){return op(e=new this(e),e.e+1,this.rounding)}function th(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function ih(e){return new this(e).sin()}function uh(e){return new this(e).sinh()}function oh(e){return new this(e).sqrt()}function ah(e,r){return new this(e).sub(r)}function sh(){var e=0,r=arguments,n=new this(r[e]);for(Fc=!1;n.s&&++e<r.length;)n=n.plus(r[e]);return Fc=!0,op(n,this.precision,this.rounding)}function lh(e){return new this(e).tan()}function fh(e){return new this(e).tanh()}function ch(e){return op(e=new this(e),e.e+1,1)}ep[Symbol.for("nodejs.util.inspect.custom")]=ep.toString,ep[Symbol.toStringTag]="Decimal";var ph=ep.constructor=function e(r){var n,t,i;function u(e){var r,n,t,i=this;if(!(i instanceof u))return new u(e);if(i.constructor=u,Qp(e))return i.s=e.s,void(Fc?!e.d||e.e>u.maxE?(i.e=NaN,i.d=null):e.e<u.minE?(i.e=0,i.d=[0]):(i.e=e.e,i.d=e.d.slice()):(i.e=e.e,i.d=e.d?e.d.slice():e.d));if("number"===(t=typeof e)){if(0===e)return i.s=1/e<0?-1:1,i.e=0,void(i.d=[0]);if(e<0?(e=-e,i.s=-1):i.s=1,e===~~e&&e<1e7){for(r=0,n=e;n>=10;n/=10)r++;return void(Fc?r>u.maxE?(i.e=NaN,i.d=null):r<u.minE?(i.e=0,i.d=[0]):(i.e=r,i.d=[e]):(i.e=r,i.d=[e]))}return 0*e!=0?(e||(i.s=NaN),i.e=NaN,void(i.d=null)):wp(i,e.toString())}if("string"!==t)throw Error(Tc+e);return 45===(n=e.charCodeAt(0))?(e=e.slice(1),i.s=-1):(43===n&&(e=e.slice(1)),i.s=1),Hc.test(e)?wp(i,e):bp(i,e)}if(u.prototype=ep,u.ROUND_UP=0,u.ROUND_DOWN=1,u.ROUND_CEIL=2,u.ROUND_FLOOR=3,u.ROUND_HALF_UP=4,u.ROUND_HALF_DOWN=5,u.ROUND_HALF_EVEN=6,u.ROUND_HALF_CEIL=7,u.ROUND_HALF_FLOOR=8,u.EUCLID=9,u.config=u.set=Fp,u.clone=e,u.isDecimal=Qp,u.abs=jp,u.acos=Op,u.acosh=Dp,u.add=Rp,u.asin=Mp,u.asinh=qp,u.atan=kp,u.atanh=Pp,u.atan2=Cp,u.cbrt=Np,u.ceil=Ap,u.clamp=zp,u.cos=Lp,u.cosh=Tp,u.div=Ip,u.exp=Gp,u.floor=Up,u.hypot=Bp,u.ln=Vp,u.log=Yp,u.log10=Hp,u.log2=Zp,u.max=Wp,u.min=Kp,u.mod=Jp,u.mul=Xp,u.pow=eh,u.random=rh,u.round=nh,u.sign=th,u.sin=ih,u.sinh=uh,u.sqrt=oh,u.sub=ah,u.sum=sh,u.tan=lh,u.tanh=fh,u.trunc=ch,void 0===r&&(r={}),r&&!0!==r.defaults)for(i=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],n=0;n<i.length;)r.hasOwnProperty(t=i[n++])||(r[t]=this[t]);return u.config(r),u}(zc);function hh(e,r){return new ph(e).eq(r)}function dh(e,r,n){if("==="===r)return hh(e,n);if("!=="===r)return function(e,r){return!hh(e,r)}(e,n);if(">="===r)return function(e,r){return new ph(e).gte(r)}(e,n);if(">"===r)return function(e,r){return new ph(e).gt(r)}(e,n);if("<="===r)return function(e,r){return new ph(e).lte(r)}(e,n);if("<"===r)return function(e,r){return new ph(e).lt(r)}(e,n);throw console.log(r),new Error("invalid op")}function vh(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(!af(e))return n;let t=Mi(r,"keyDepthStart");ps(t)||(t="depthStart");let i=Mi(r,"keyDepthEnd");ps(i)||(i="depthEnd");let u=Mi(r,"stateConn");return"conn"!==u&&"overlap"!==u&&(u="conn"),Fe(e,((e,r)=>{let u=Mi(e,t,null),o=Mi(e,i,null);hs(u)||n.push(` ${r} ${t}[${u}]`),hs(o)||n.push(` ${r} ${i}[${o}]`)})),e=Ul(e,(e=>_s(e[t]))),Fe(e,((r,o)=>{let a=Mi(r,t,null),s=Mi(r,i,null);if(a=_s(a),s=_s(s),dh(a,">",s)&&n.push(` ${o} ${t}[${a}]${i}[${s}]`),0===o)return!0;let l=Mi(e,o-1),f=Mi(l,i,null);f=_s(f),"conn"===u?dh(f,"!==",a)&&n.push(` ${o} ${i}[${f}] ${o+1} ${t}[${a}]`):"overlap"===u&&dh(f,">",a)&&n.push(` ${o} ${i}[${f}] ${o+1} ${t}[${a}]`)})),n}Nc=new ph(Nc),Ac=new ph(Ac);let gh=Ds.rw;function mh(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Mi(n,"keyDepth");ps(t)||(t="depth");let i=Mi(n,"keyDepthStart");ps(i)||(i="depthStart");let u=Mi(n,"keyDepthEnd");ps(u)||(u="depthEnd"),e=ca(e);let o=0;return e=cu(e,((e,n)=>{let a=Mi(e,"err",""),s=Mi(e,i,null),l=Mi(e,u,null);try{if(!hs(s))throw new Error(` ${n} (${i}): ${s}`);if(!hs(l))throw new Error(` ${n} (${u}): ${l}`);s=_s(s),l=_s(l),e[t]=(l+s)/2;let a=null;if(s<r&&l>r){let t=Mi(e,"rsat",null);if(!hs(t))throw new Error(` ${n} (rsat): ${t}`);let i=Mi(e,"rd",null);if(!hs(i))throw new Error(` ${n} (rd): ${i}`);i=_s(i);let u=r-s,o=l-r;a=(u*i+o*t)/(u+o)}else if(l<=r){let r=Mi(e,"rd",null);if(!hs(r))throw new Error(` ${n} (rd): ${r}`);a=r}else{if(!(s>=r))throw new Error("");{let r=Mi(e,"rsat",null);if(!hs(r))throw new Error(` ${n} (rsat): ${r}`);a=r}}0===o&&s>0&&(o=s*a);let f=(l-s)*a,c=o+f/2;e.sv=c,o+=f;let p=Math.max((s+l)/2-r,0)*gh;e.svp=Math.max(c-p,0)}catch(r){let n=r.toString();""===a?a=n:a.indexOf(n)<0&&(a+=`, ${n}`),e.sv="",e.svp="",e.err=a}return e})),e}function yh(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!af(e))throw new Error("");let n=Mi(r,"keyDepth");ps(n)||(n="depth");let t=Mi(r,"keyDepthStart");ps(t)||(t="depthStart");let i=Mi(r,"keyDepthEnd");ps(i)||(i="depthEnd");let u=vh(e=ca(e),r);if(tl(u)>0)throw new Error(qc(u,"; "));e=Ul(e,(e=>_s(e[t])));let o=Mi(r,"waterLevelUsual");hs(o)||(o=0),o=_s(o);let a=Mi(r,"waterLevelDesign");hs(a)||(a=0),a=_s(a);let s=mh(e,o,{keyDepth:n,keyDepthStart:t,keyDepthEnd:i}),l=mh(e,a,{keyDepth:n,keyDepthStart:t,keyDepthEnd:i});return e=cu(e,((e,r)=>{e.waterLevelUsual=o,e.waterLevelDesign=a;let t=s[r],i=l[r];return e.sv=t.sv,e.svpUsual=t.svp,e.svpDesign=i.svp,e[n]=t[n],e}))}function wh(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(!af(e))throw new Error("");let t=Mi(r,"keyDepth");ps(t)||(t="depth");let i=Mi(r,"keyDepthStart");ps(i)||(i="depthStart");let u=Mi(r,"keyDepthEnd");ps(u)||(u="depthEnd");let o=Mi(r,"depthEndMax");if(o=hs(o)?_s(o):null,e=ca(e),Fe(e,((e,r)=>{let i=Mi(e,t,null);hs(i)||n.push(` ${r} ${t}[${i}]`)})),tl(n)>0)throw new Error(qc(n,"; "));if(e=Ul(e,(e=>_s(e[t]))),Fe(e,((r,i)=>{if(0===i)return!0;let u=Mi(e,`${i-1}.${t}`,null),o=Mi(r,t,null);u=_s(u),o=_s(o),dh(u,">=",o)&&n.push(` ${i-1} ${t}[${u}] ${i} ${t}[${o}]`)})),tl(n)>0)throw new Error(qc(n,"; "));let a=tl(e)-1;if(e=cu(e,((r,n)=>{let o=Mi(e,n-1),s=r,l=Mi(e,n+1),f=Mi(o,t,null),c=Mi(s,t,null),p=Mi(l,t,null),h=null;if(0===n){if(h=0,!hs(c))throw new Error("dc1 is not a number");c=_s(c),h=Math.min(h,c)}else{if(!hs(f)||!hs(c))throw new Error("unexpected error: invalid ds");f=_s(f),c=_s(c),h=(f+c)/2}let d=null;if(n===a){if(!hs(c))throw new Error("dc1 is not a number");d=_s(c)}else{if(!hs(c)||!hs(p))throw new Error("unexpected error: invalid de");c=_s(c),p=_s(p),d=(c+p)/2}return r[i]=h,r[u]=d,r})),da(o)){dh(e[a][u],"<",o)&&(e[a][u]=o)}return e}function bh(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function $h(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?bh(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bh(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}let xh=19.5,Sh={1:17.5,2:12.5,3:17.5,4:18,5:18,6:18,7:18.5,8:19,9:19.5,10:20,11:20.5,12:19,13:79/4};function Eh(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Mi(n,"rdiff");hs(t)||(t=3),t=_s(t);let i=Mi(n,"ratio");if(hs(i)||(i=.8),i=_s(i),i<=0)throw new Error(`ratio[${i}]<=0`);if(i>1)throw new Error(`ratio[${i}]>1`);let u=e=>{let r=Oc(e,2);return{vi:r,vd:_s(r)}},o=1-i,a=i;e=cu(e,(e=>_c(e,r)));let s=!1;return e=cu(e,((e,r)=>{if(!hs(e.rsat))throw console.log("estUnitWeight",r,e),new Error("estUnitWeight: rsat");let n=null;pf(e.iRobFrQt)&&pf(e.iRobBqQt)&&(n=cc(e.iRobFrQt,e.iRobBqQt,{numOfType:3,returnZone:!0})),pf(n)||(pf(e.iRobBqQt)?n=e.iRobBqQt:pf(e.iRobFrQt)&&(n=e.iRobFrQt));let i=null;if(pf(n)&&(n=wf(n),i=Mi(Sh,n,null),!hs(i)))throw new Error(`kpCPTClassForRobBqRfqtizone[${n}]`);hs(i)||(i=xh);let l=_s(e.rsat),f=i,c=u(l),p=u(f),h=c.vi,d=p.vi;if(l=c.vd,f=p.vd,h!==d){s=!0;let r=l*o+f*a;e.rsat=u(r).vd;let n=r-t;e.rd=u(n).vd}return e})),{bUpdate:s,ltdt:e}}var _h=Di,jh=wa;var Oh=Si,Dh=function(e){var r=null==e?0:e.length;return r?e[r-1]:void 0},Rh=function(e,r){return r.length<2?e:_h(e,jh(r,0,-1))},Mh=_i;var qh=function(e,r){return r=Oh(r,e),null==(e=Rh(e,r))||delete e[Mh(Dh(r))]},kh=I,Ph=Array.prototype.splice;var Ch=Le,Nh=Kl,Ah=function(e,r){for(var n=e?r.length:0,t=n-1;n--;){var i=r[n];if(n==t||i!==u){var u=i;kh(i)?Ph.call(e,i,1):qh(e,i)}}return e},zh=cl,Fh=I,Lh=nf((function(e,r){var n=null==e?0:e.length,t=Nh(e,r);return Ah(e,Ch(r,(function(e){return Fh(e,n)?+e:e})).sort(zh)),t}));var Th=tu,Ih=xe,Gh=je;var Uh=function(e){return function(r,n,t){var i=Object(r);if(!Ih(r)){var u=Th(n);r=Gh(r),n=function(e){return u(i[e],e,i)}}var o=e(r,n,t);return o>-1?i[u?r[o]:o]:void 0}},Bh=xa,Qh=tu,Vh=lf,Yh=Math.max;var Zh=Uh((function(e,r,n){var t=null==e?0:e.length;if(!t)return-1;var i=null==n?0:Vh(n);return i<0&&(i=Yh(t+i,0)),Bh(e,Qh(r),i)}));function Hh(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function Wh(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?Hh(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hh(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}let Kh=null;function Jh(){return null!==Kh||(Kh=[{key:"sand",nameCht:"",nameEng:"Sand",nameEngineeringEng:"SAND",group:"",colorPrimary:"#467dec",colorSecondary:"#467dec"},{key:"silty-sand",nameCht:"",nameEng:"Silty-sand",nameEngineeringEng:"SILTY-SAND",group:"",colorPrimary:"linear-gradient(90deg, #dad74d 0%, #467dec 100%)",colorSecondary:"#00D9A3"},{key:"sand/silt",nameCht:"",nameEng:"Sand/Silt",nameEngineeringEng:"SAND/SILT",group:"",colorPrimary:"repeating-linear-gradient(90deg, #dad74d 5px, #467dec 10px, #dad74d 15px)",colorSecondary:"#87A7A3"},{key:"clayey-sand",nameCht:"",nameEng:"Clayey-sand",nameEngineeringEng:"CLAYEY-SAND",group:"",colorPrimary:"linear-gradient(90deg, #ea4e2d 0%, #467dec 100%)",colorSecondary:"#B973FF"},{key:"sand/clay",nameCht:"",nameEng:"Sand/Clay",nameEngineeringEng:"SAND/CLAY",group:"",colorPrimary:"repeating-linear-gradient(90deg, #ea4e2d 5px, #467dec 10px, #ea4e2d 15px)",colorSecondary:"#859C78"},{key:"sandy-silt",nameCht:"",nameEng:"Sandy-silt",nameEngineeringEng:"SANDY-SILT",group:"",colorPrimary:"linear-gradient(90deg, #467dec 0%, #dad74d 100%)",colorSecondary:"#00D9D9"},{key:"silt",nameCht:"",nameEng:"Silt",nameEngineeringEng:"SILT",group:"",colorPrimary:"#dad74d",colorSecondary:"#D9D900"},{key:"clayey-silt",nameCht:"",nameEng:"Clayey-silt",nameEngineeringEng:"CLAYEY-SILT",group:"",colorPrimary:"linear-gradient(90deg, #ea4e2d 0%, #dad74d 100%)",colorSecondary:"#FFBF00"},{key:"sandy-clay",nameCht:"",nameEng:"Sandy-clay",nameEngineeringEng:"SANDY-CLAY",group:"",colorPrimary:"linear-gradient(90deg, #467dec 0%, #ea4e2d 100%)",colorSecondary:"#2DB200"},{key:"silty-clay",nameCht:"",nameEng:"Silty-clay",nameEngineeringEng:"SILTY-CLAY",group:"",colorPrimary:"linear-gradient(90deg, #dad74d 0%, #ea4e2d 100%)",colorSecondary:"#FFDC73"},{key:"silt/clay",nameCht:"",nameEng:"Silt/Clay",nameEngineeringEng:"SILT/CLAY",group:"",colorPrimary:"repeating-linear-gradient(90deg, #dad74d 5px, #ea4e2d 10px, #dad74d 15px",colorSecondary:"#C6BEAC"},{key:"clay",nameCht:"",nameEng:"Clay",nameEngineeringEng:"CLAY",group:"",colorPrimary:"#ea4e2d",colorSecondary:"#ea4e2d"}]),Kh}function Xh(e,r,n){let t=Jh(),i=Zh(t,{[e]:r});return as(i)||(i=null),ps(n)&&(i=Mi(i,n,null)),i}function ed(){let e=["sand","silty-sand","silty-clay","clay"];return e=cu(e,(e=>Xh("key",e,"nameEngineeringEng"))),e}function rd(){let e=["sand","silty-sand","clayey-sand","sandy-silt","clayey-silt","clay"];return e=cu(e,(e=>Xh("key",e,"nameEng"))),e}function nd(){let e=["sand","silty-sand","clayey-sand","sandy-silt","silt","clayey-silt","sandy-clay","silty-clay","clay"];return e=cu(e,(e=>Xh("key",e,"nameEng"))),e}var td={getSoilGroups:Jh,getSoilGroupByKV:Xh,sortSoilGroupsByKey:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key",n=Jh(),t={};if(Fe(n,((e,n)=>{t[e[r]]=n})),af(e))e=Ul(e,(e=>t[e]));else{if(!as(e))return e;{let r=je(e);r=Ul(r,(e=>t[e]));let n={};Fe(r,(r=>{n[r]=e[r]})),e=n}}return e},getSoilGroupsT4:ed,getSoilGroupsT6:rd,getSoilGroupsT9:nd,getKpSoilGroups:function(){let e={},r=Jh(),n=Jf();return Fe(["nameEng","nameEngineeringEng"],(n=>{Fe(r,(r=>{let t=r[n];e[t]=Wh({key:t},r)}))})),Fe(n,(r=>{Fe(["Ic","Icn"],(n=>{let t=`${n}(${Oc(r.min,2)}-${Oc(r.max,2)})`;e[t]=Wh({key:t},r)}))})),e}};function id(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function ud(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?id(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):id(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}let od=ed(),ad=rd(),sd=nd();function ld(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===tl(e))return[];let n=Mi(r,"keyDepth");ps(n)||(n="depth");let t=Mi(r,"keyDepthStart");ps(t)||(t="depthStart");let i=Mi(r,"keyDepthEnd");ps(i)||(i="depthEnd");let u=Mi(r,"depthStartMin");hs(u)&&(u=_s(u));let o=Mi(r,"depthEndMax");hs(o)&&(o=_s(o));let a=Mi(r,"keyType");ps(a)||(a="type");let s=Mi(r,"getType",null),l=Mi(r,"keyInd");ps(l)||(l="ind"),e=wh(e,r);let f=[];return Fe(e,((e,r)=>{let c=Mi(e,t,null);if(!hs(c))throw new Error(`depthStart[${c}] is not a number`);c=_s(c);let p=Mi(e,i,null);if(!hs(p))throw new Error(`depthEnd[${p}] is not a number`);p=_s(p),da(u)&&(c=Math.max(c,u)),da(o)&&(p=Math.min(p,o));let h=(c+p)/2,d=Mi(e,a,null);us(s)&&(d=s(e,r)),ps(d)&&f.push({[n]:h,[t]:c,[i]:p,[a]:d,[l]:r})})),f}function fd(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Mi(r,"keyDepth");ps(n)||(n="depth");let t=Mi(r,"keyDepthStart");ps(t)||(t="depthStart");let i=Mi(r,"keyDepthEnd");ps(i)||(i="depthEnd");let u=Mi(r,"keyType");ps(u)||(u="type");let o=Mi(r,"saveFromInds");cs(o)||(o=!0);let a=Mi(r,"keyInd");ps(a)||(a="ind");let s=Mi(r,"keyFromInds");ps(s)||(s="fromInds");let l=ca(e);return o&&(l=cu(l,((e,r)=>(hs(e[a])||(e[a]=r),e)))),Fe(l,((e,r)=>{if(0===r)return!0;if(!as(e))throw new Error(`ltdt[${r}] is not an object`);let n=Mi(l,r-1),f=e,c=Mi(n,u,""),p=Mi(n,i,""),h=Mi(f,u,""),d=Mi(f,t,"");if(!hs(p)||!hs(d))return!0;p=_s(p),d=_s(d),ps(c)&&c===h&&dh(p,"===",d)&&(o&&(uf(l[r-1][s])||(l[r-1][s]=[l[r-1][a]]),uf(l[r][s])||(l[r][s]=[l[r][a]]),l[r][s]=[...l[r-1][s],...l[r][s]]),l[r][t]=l[r-1][t],l[r-1]=null)})),l=Mf(l,as),l}function cd(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=r=>{let t=Jf();if("Ic"!==r||"Icn"!==r)throw new Error(`key[${r}] must be Ic or Icn`);let i=ud(ud({},n),{},{getType:(e,n)=>{let i=Mi(e,r,""),u="";return Fe(t,(e=>{if(i<e.max)return u=`Ic(${Oc(e.min,2)}-${Oc(e.max,2)})`,!1})),u}});return ld(e,i)},i=r=>{if("T4"!==r&&"T6"!==r)throw new Error(`T[${r}] must be T4 or T6`);let t=wf(r.replace("T","")),i="";i="T4"===r?"nameEngineeringEng":"nameEng";let u=ud(ud({},n),{},{getType:(e,r)=>{let n=Mi(e,"iRobFrQt",""),u=Mi(e,"iRobBqQt",""),o="";try{o=Xh("key",hc(n,u,{numOfType:t}),i)}catch(e){console.log(e)}return o}});return ld(e,u)},u=r=>{if("T4"!==r&&"T6"!==r)throw new Error(`T[${r}] must be T4 or T6`);let t=wf(r.replace("T","")),i="";i="T4"===r?"nameEngineeringEng":"nameEng";let u=ud(ud({},n),{},{getType:(e,r)=>{let n=Mi(e,"iRobFrQtn",""),u=Mi(e,"iRobBqQtn",""),o="";try{o=Xh("key",dc(n,u,{numOfType:t}),i)}catch(e){console.log(e)}return o}});return ld(e,u)},o=r=>{if("T4"!==r&&"T6"!==r)throw new Error(`T[${r}] must be T4 or T6`);let t=wf(r.replace("T","")),i="";i="T4"===r?"nameEngineeringEng":"nameEng";let u=ud(ud({},n),{},{getType:(e,r)=>{let n=Mi(e,"iRamFrQt",""),u=Mi(e,"iRamBqQt",""),o="";try{o=Xh("key",gc(n,u,{numOfType:t}),i)}catch(e){console.log(e)}return o}});return ld(e,u)},a={Ic:()=>t("Ic"),Icn:()=>t("Icn"),Robertson1990T6:()=>i("T6"),Robertson1990T4:()=>i("T4"),Robertson2009T6:()=>u("T6"),Robertson2009T4:()=>u("T4"),RamseyT6:()=>o("T6"),RamseyT4:()=>o("T4")};if(!Wf(a,r))throw console.log(`invalid method[${r}]`,a),new Error(`invalid method[${r}]`);let s=(0,a[r])();return s=fd(s,n),s}var pd={getKpSoilGroupsTn:function(){return{soilGroupsT4:od,soilGroupsT6:ad,soilGroupsT9:sd}},genLayer:ld,mergeLayers:fd,calcLayer:cd,calcLayers:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!af(r))throw new Error(`methods[${r}] is not an effective array`);return cu(r,(r=>({method:r,ltdt:cd(e,r,n)})))}},hd=Xt;var dd=function(e,r,n){for(var t=-1,i=e.length;++t<i;){var u=e[t],o=r(u);if(null!=o&&(void 0===a?o==o&&!hd(o):n(o,a)))var a=o,s=u}return s};var vd=dd,gd=function(e,r){return e<r},md=qe;var yd=function(e){return e&&e.length?vd(e,md,gd):void 0};var wd=dd,bd=function(e,r){return e>r},$d=qe;var xd=function(e){return e&&e.length?wd(e,$d,bd):void 0},Sd=yi;var Ed=function(e){return Sd(e).toLowerCase()},_d=j,jd=O;var Od=function(e){return jd(e)&&"[object RegExp]"==_d(e)},Dd=Z,Rd=H&&H.isRegExp,Md=Rd?Dd(Rd):Od,qd=gi,kd=$a,Pd=Pa,Cd=Ll,Nd=Md,Ad=Ha,zd=yi;var Fd=function(e,r,n){return n&&"number"!=typeof n&&Cd(e,r,n)&&(r=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=zd(e))&&("string"==typeof r||null!=r&&!Nd(r))&&!(r=qd(r))&&Pd(e)?kd(Ad(e),0,n):e.split(r,n):[]};function Ld(e,r){return ps(e)&&bf(r)?0===(r=wf(r))?"":e.substring(0,r):""}let Td="in x-range",Id="out of x-range",Gd="order list",Ud="reverse order list";function Bd(e,r){let n=null,t=null;return n=e[0].x,t=e[tl(e)-1].x,r<n?{err:Id,msg:`x[${r}] less than lower limit[${n}]`,data:{ps:e,x:r,xmin:n,xmax:t}}:r>t?{err:Id,msg:`x[${r}] greater than upper limit[${t}]`,data:{ps:e,x:r,xmin:n,xmax:t}}:Td}function Qd(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!uf(e))return{err:"ps is not an array"};if(!da(r))return{err:"x is not a number"};let t=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(tl(e)<=0)return[];let n=Mi(r,"keyX");ps(n)||(n="x");let t=Mi(r,"keyY");ps(t)||(t="y");let i=[];return Fe(e,(e=>{let r=null,u=null;uf(e)&&tl(e)>=2?(r=Mi(e,0),u=Mi(e,1)):(r=Mi(e,n,null),u=Mi(e,t,null)),hs(r)&&hs(u)&&(r=$s(r),u=$s(u),i.push({x:r,y:u}))})),i}(e,n);if(Mi(t,"err"))return Mi(t,"err");if(0===tl(t))return{err:"ps(length=0) is not an effective array",ps:e,psEff:t};if(1===tl(t))return{err:"ps(length=1) is one point only",ps:e,psEff:t};let i=function(e){let r=!0,n=!0;for(let t=1;t<tl(e);t++){let i=e[t-1],u=e[t];if(r&&i.x>u.x&&(r=!1),n&&i.x<u.x&&(n=!1),i.x===u.x)return{err:`x can not be equal: i=${t}, x=${i.x}`}}return r?Gd:n?Ud:"no"}(t);if("no"===i)return{err:"psEff is not increasing or decreasing"};i===Ud&&(i=Gd,t=Qf(t));let u=Mi(n,"mode");"linear"!==u&&"stairs"!==u&&"blocks"!==u&&(u="linear");try{if("linear"===u)return function(e,r){let n=Bd(e,r);if(n!==Td)return n;let t=null;for(let n=1;n<tl(e);n++){let i=e[n-1],u=e[n];if(i.x<=r&&r<=u.x){t=((r-i.x)*u.y+(u.x-r)*i.y)/(u.x-i.x);break}}return null===t?{err:Id}:t}(t,r);if("blocks"===u)return function(e,r){let n=Bd(e,r);if(n!==Td)return n;let t=null;for(let n=1;n<tl(e);n++){let i=e[n-1],u=e[n],o=i.x,a=u.x;if(o<=r&&r<=a){t=u.y;break}}return null===t?{err:Id}:t}(t,r);if("stairs"===u)return function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Mi(n,"xMin");if(da(t)){if(t>e[0].x)return{err:`xMin=${t} > ps[0].x=${e[0].x}`};t===e[0].x||(e=[{x:t,y:e[0].y},...e])}let i=Mi(n,"xMax");if(da(i)){if(i<e[tl(e)-1].x)return{err:`xMax=${i} < ps[size(ps)-1].x=${e[tl(e)-1].x}`};if(i===e[tl(e)-1].x);else{let r={x:i,y:e[tl(e)-1].y};e=[...e,r]}}let u=Bd(e,r);if(u!==Td)return u;let o=null;for(let n=0;n<tl(e);n++){let t=Mi(e,n-1,null),i=Mi(e,n,null),u=Mi(e,n+1,null),a=i.x;t&&(a=(t.x+i.x)/2);let s=i.x;if(u&&(s=(u.x+i.x)/2),a<=r&&r<=s){o=i.y;break}}return null===o?{err:Id}:o}(t,r,n)}catch(e){return{err:e.toString()}}}var Vd=Le;var Yd=function(e,r){return Vd(r,(function(r){return e[r]}))},Zd=je;var Hd=function(e){return null==e?[]:Yd(e,Zd(e))};let Wd=Ds.rw;function Kd(e,r){return e*Wd/(1+r)}function Jd(e,r){return e-r*Wd/(1+r)}function Xd(e,r){return(e-Wd)*r/(r-1)}function ev(e,r){return(e+r)*Wd/(1+r)}function rv(e,r){return e+r*Wd/(1+r)}function nv(e,r){return e*(r-1)/r+Wd}function tv(e,r){return(e*Wd-r)/r}function iv(e,r){return(e-r)/(r-Wd-e)}function uv(e,r){return(e*Wd-r)/(r-Wd)}function ov(e,r){return e*(1+r)/Wd}function av(e,r){return e/(e-(r-Wd))}function sv(e,r){return(e+e*r-r*Wd)/Wd}function lv(e,r,n,t){let i={},u=Mi(arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},"returnFuncs");function o(){let u,o,a,s,l=!1;return!da(u)&&da(n)&&da(t)&&(u=Kd(n,t)),!da(u)&&da(r)&&da(t)&&(u=Jd(r,t)),!da(u)&&da(r)&&da(n)&&1!==n&&(u=Xd(r,n)),da(e)?Math.abs(e-u)>u/100*5&&(i.ck_rd=`[${e}][${u}]`):(e=u,l=!0),!da(o)&&da(n)&&da(t)&&(o=ev(n,t)),!da(o)&&da(e)&&da(t)&&(o=rv(e,t)),!da(o)&&da(e)&&da(n)&&(o=nv(e,n)),da(r)?Math.abs(r-o)>o/100*5&&(i.ck_rsat=`[${r}][${o}]`):(r=o,l=!0),!da(a)&&da(n)&&da(e)&&(a=tv(n,e)),!da(a)&&da(r)&&da(e)&&r-Wd-e!=0&&(a=iv(e,r)),!da(a)&&da(r)&&da(n)&&r-Wd!=0&&(a=uv(n,r)),da(t)?Math.abs(t-a)>a/100*5&&(i.ck_e=`[${t}][${a}]`):(t=a,l=!0),!da(s)&&da(e)&&da(t)&&(s=ov(e,t)),!da(s)&&da(e)&&da(r)&&e-(r-Wd)!=0&&(s=av(e,r)),!da(s)&&da(r)&&da(t)&&(s=sv(r,t)),da(n)?Math.abs(n-s)>s/100*5&&(i.ck_GS=`[${n}][${s}]`):(n=s,l=!0),l}cs(u)||(u=!1),hs(e)?((e=_s(e))<=0&&(i.rd=`[${e}]<=0`),e<=Wd&&(i.rd=`[${e}]<=[${Wd}]`)):e=null,hs(r)?((r=_s(r))<=0&&(i.rsat=`[${r}]<=0`),r<=Wd&&(i.rsat=`[${r}]<=[${Wd}]`)):r=null,hs(n)?(n=_s(n))<=0&&(i.GS=`[${n}]<=0`):n=null,hs(t)?(t=_s(t))<=0&&(i.e=`[${t}]<=0`):t=null;let a=0;if(a+=hs(e)?1:0,a+=hs(r)?1:0,a+=hs(n)?1:0,a+=hs(t)?1:0,a>=2){let e=o();for(;e;)e=o()}let s={rd:e,rsat:r,GS:n,e:t};if(as(i)){let e=qc(Hd(i),", ");s.err=e}return u&&(s.coreFuncs={get_rd_from_GS_e:Kd,get_rd_from_rsat_e:Jd,get_rd_from_rsat_GS:Xd,get_rsat_from_GS_e:ev,get_rsat_from_rd_e:rv,get_rsat_from_rd_GS:nv,get_e_from_GS_rd:tv,get_e_from_rd_rsat:iv,get_e_from_GS_rsat:uv,get_GS_from_rd_e:ov,get_GS_from_rd_rsat:av,get_GS_from_rsat_e:sv}),s}function fv(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function cv(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?fv(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fv(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}let pv=1/Ds.g*1e3/1e4;function hv(e){let r=ts(Vf(e));return""!==r?`[${r}]`:""}function dv(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"new",n=Ld(e,1),t=Ld(e,2);if("new"===r)return"C"===n||"O"===n||"P"===n||"M"===n&&"ML"!==t&&"MH"!==t;if("classic"===r)return"S"!==n&&"G"!==n;throw new Error(`invalid mode[${r}]`)}function vv(e,r,n){if(tl(e)<=0)return{err:"invalid vx"};if(tl(r)<=0)return{err:"invalid vy"};if(tl(e)!==tl(r))return{err:"size of vx is not equal to size of vy"};let t=Qd(cu(e,((n,t)=>({x:e[t],y:r[t]}))),n);return t.err&&"ps is not effective array"===t.err&&(t.err=""),t}function gv(e,r,n){return((n-e.x)*r.y+(r.x-n)*e.y)/(r.x-e.x)}function mv(e,r){let n=[],t=[{volumetricStrain:10,data:[[1.15304,.6],[1.10234,.0413661],[1.10234,.0348459],[1.04383,.0253621],[.956072,.0161746],[.722041,.0093581],[0,0]]},{volumetricStrain:5,data:[[3.00384,.6],[2.97459,.0591482],[2.94533,.0523317],[2.82832,.0431443],[2.56503,.0348459],[2.12623,.0253621],[1.21936,.0126182],[0,0]]},{volumetricStrain:4,data:[[5.11012,.6],[5.11012,.111606],[5.05161,.103604],[5.02236,.0947126],[4.87609,.0849324],[4.72982,.0754486],[4.52504,.0656684],[4.20325,.0579628],[3.82295,.0499608],[3.32563,.0407733],[2.53578,.0286221],[1.5704,.0161746],[0,0]]},{volumetricStrain:3,data:[[7.68446,.6],[7.53819,.234896],[7.53819,.212964],[7.50893,.191033],[7.39192,.165249],[7.33341,.142428],[7.24565,.125831],[7.07012,.111013],[6.8946,.09738],[6.66057,.0887852],[6.45579,.0804869],[6.07549,.0730776],[5.66594,.0665575],[5.28564,.0606301],[4.75907,.0523317],[4.08623,.043737],[0,0]]},{volumetricStrain:2,data:[[14.1203,.6],[14.091,.248529],[13.974,.231043],[13.7985,.216521],[13.6815,.201702],[13.3597,.184513],[13.2134,.173843],[13.0087,.16347],[12.7161,.152208],[12.131,.139168],[11.546,.12761],[10.8439,.116644],[0,0]]},{volumetricStrain:1,data:[[27.5771,.6],[27.5771,.541935],[27.6063,.507852],[27.5478,.485625],[27.5186,.465471],[27.5186,.445022],[27.4893,.424869],[27.3723,.41005],[27.1675,.392268],[26.9335,.376264],[26.5532,.357889],[26.2021,.339514],[25.7048,.324399],[25.1783,.311655],[24.6224,.298022],[23.9496,.282908],[23.2182,.269571],[22.4576,.256531],[21.7556,.244676],[20.8779,.232525],[19.9126,.218892],[0,0]]},{volumetricStrain:.5,data:[[33.0183,.6],[33.0183,.570979],[32.9598,.554086],[32.9013,.536007],[32.6965,.516743],[32.5502,.500147],[32.3747,.482068],[32.0529,.464582],[31.6726,.445022],[31.3216,.425461],[30.9998,.410939],[30.5025,.394935],[29.9466,.376264],[29.3908,.356704],[28.3962,.335958],[27.1383,.313137],[25.5586,.287057],[23.7156,.261865],[21.8141,.238452],[19.7078,.212964],[0,0]]},{volumetricStrain:.2,data:[[35.4,.6],[35.3,.574535],[35.1,.555864],[34.9,.539267],[34.6,.515558],[34.3,.497183],[34,.477919],[33.4544,.455691],[33,.434353],[32.6087,.415385],[31.8774,.397306],[30.8242,.369151],[30.0051,.348998],[29.069,.327067],[28.1329,.308099],[27.1383,.291799],[25.8218,.271349],[24.3884,.252974],[23.2768,.237859],[21.8726,.220373],[19.9711,.200517],[18.5961,.186291],[17.1627,.170583],[15.583,.154876],[14.3543,.14065],[12.8331,.124942],[10.7269,.103307],[8.59132,.081376],[6.39729,.0612228],[4.17399,.0389951],[2.15548,.0188419],[0,0]]},{volumetricStrain:.1,data:[[36.7,.6],[36.5,.571572],[36.2,.544602],[35.8,.520596],[35.4,.490366],[35,.466657],[34.6,.446207],[34.2,.424869],[33.5,.404419],[32.7,.379228],[32,.358482],[30.9998,.331809],[29.5956,.305432],[28.0159,.278758],[26.9335,.262162],[25.266,.238156],[23.2768,.214446],[21.2875,.192515],[19.0642,.170583],[16.8117,.149541],[14.5006,.129684],[12.2481,.108938],[10.0248,.0881925],[7.77222,.0671502],[5.63669,.0472934],[4.70056,.038106],[3.23787,.0259548],[2.38951,.0194347],[.926818,.00669077],[0,0]]}];t=cu(t,(e=>{let r=cu(e.data,(e=>e[1])),n=cu(e.data,(e=>e[0]));return e.vx=r,e.vy=n,e}));let i=cu(t,"volumetricStrain"),u=cu(t,(e=>{let n=vv(e.vx,e.vy,r);return Mi(n,"err")?n.err:n})),o=u[0],a=[u[0]],s=[i[0]];Fe(u,((e,r)=>{r>0&&u[r]>=o&&(o=u[r],a.push(u[r]),s.push(i[r]))})),u=a,i=s;let l=vv(u,i,e);if(Mi(l,"err"))if("out of x-range"===l.err){let t=l.data.ps,i=xd(u),o=yd(u);if(e>i){let u=t[tl(t)-1].y;n.push(` N160=${e} > N160Max=${i}CSR=${r}vstr=${u}%`),l=u}else if(e<o){let i=gv(t[0],t[1],e);n.push(` N160=${e} < N160Min=${o}CSR=${r}2vstr=${i}%`),l=i}else n.push(""),l=""}else n.push(l.err),l="";return{err:n,vstr:l}}function yv(e,r){let n=[],t=[{N172:3,data:[[0,5.48516],[.791714,5.48516],[.889946,5.48274],[.957602,5.47549],[.972564,5.43681],[.981021,5.37154],[.982973,4.71396],[.984274,4.17243],[.985575,3.45201],[.988177,2.61312],[.992081,2.25532],[.996634,1.94104],[1.00379,1.68961],[1.01095,1.54214],[1.02981,1.32698],[1.04347,1.16501],[1.06624,1.00303],[1.09096,.879735],[1.11503,.773363],[1.1391,.703254],[1.17944,.616222],[1.23018,.529191],[1.28873,.444576],[1.35378,.384138],[1.41558,.333369],[1.48064,.275348],[1.5548,.231832],[2,0]]},{N172:6,data:[[0,4.51524],[.789554,4.51524],[.890726,4.51176],[.938502,4.49784],[.957238,4.45954],[.960985,4.31681],[.962858,3.76677],[.964732,3.36294],[.966605,2.92778],[.971289,2.57618],[.97691,2.27679],[.980657,2.07487],[.990962,1.85903],[1.00314,1.57705],[1.01813,1.35773],[1.03686,1.18367],[1.05935,1.02005],[1.08089,.88428],[1.09401,.818136],[1.13148,.696291],[1.17082,.60926],[1.22367,.517103],[1.28287,.437324],[1.34597,.376885],[1.40778,.323699],[1.47673,.268096],[1.55154,.222162],[2,0]]},{N172:10,data:[[0,3.50567],[.738969,3.50567],[.841077,3.50219],[.896347,3.49523],[.912272,3.43953],[.919767,3.34206],[.928198,3.02874],[.938502,2.64928],[.94787,2.29419],[.961922,1.9774],[.972226,1.74763],[.989088,1.50743],[1.00876,1.28811],[1.03031,1.11404],[1.05466,.953905],[1.08745,.807692],[1.12398,.682366],[1.16333,.584891],[1.21673,.50134],[1.27762,.421271],[1.33757,.358608],[1.39752,.306389],[1.46966,.25417],[1.54366,.205433],[2,0]]},{N172:14,data:[[0,2.77461],[.693066,2.77461],[.763325,2.77113],[.797049,2.73283],[.815784,2.68061],[.831709,2.57966],[.867307,2.26634],[.88979,2.01221],[.915083,1.74763],[.936629,1.54224],[.960985,1.34729],[.991898,1.12797],[1.01532,.978274],[1.04248,.852949],[1.0734,.731104],[1.10712,.623185],[1.14834,.539634],[1.18206,.480453],[1.22797,.414309],[1.28417,.36209],[1.34975,.299427],[1.4275,.240245],[1.51368,.184545],[2,0]]},{N172:20,data:[[0,2.17235],[.511332,2.17235],[.605009,2.16539],[.660279,2.13406],[.69213,2.1062],[.722107,2.0505],[.751147,1.95999],[.794238,1.75808],[.825152,1.6049],[.865433,1.40299],[.901968,1.24285],[.939439,1.06182],[.994709,.859911],[1.04717,.689329],[1.09869,.550078],[1.15021,.459565],[1.20267,.386459],[1.25888,.327277],[1.31228,.271577],[1.38441,.22632],[1.46403,.177583],[2,0]]},{N172:25,data:[[0,1.73371],[.396108,1.73371],[.49447,1.71978],[.544119,1.69542],[.579716,1.65712],[.619998,1.58053],[.660279,1.48306],[.703371,1.37862],[.734285,1.28463],[.775503,1.17671],[.816721,1.06182],[.865433,.93998],[.910399,.82858],[.956301,.724142],[1.00595,.602297],[1.0556,.508303],[1.11743,.403865],[1.16989,.337721],[1.22703,.285502],[1.27855,.247208],[1.33663,.208914],[1.4172,.167139],[1.49963,.132326],[2,0]]},{N172:30,data:[[0,1.30203],[.264959,1.30203],[.388614,1.29159],[.476671,1.26026],[.527257,1.20108],[.588147,1.11056],[.647164,1.01657],[.694003,.919093],[.759578,.804211],[.821405,.689329],[.884169,.591853],[.964732,.47349],[1.02469,.386459],[1.09963,.309871],[1.16895,.25417],[1.24764,.19847],[1.32726,.156695],[1.40876,.125364],[1.48558,.100995],[1.55303,.0870696],[1.63453,.0627007],[2,0]]}];t=cu(t,(e=>{let r=cu(e.data,(e=>e[0])),n=cu(e.data,(e=>e[1]));return e.vx=r,e.vy=n,e}));let i=cu(t,"N172"),u=cu(t,(e=>{let n=vv(e.vx,e.vy,r);return Mi(n,"err")?n.err:n})),o=u[0],a=[u[0]],s=[i[0]];Fe(u,((e,r)=>{r>0&&u[r]<=o&&(o=u[r],a.push(u[r]),s.push(i[r]))})),u=a,i=s;let l=vv(i,u,e);if(Mi(l,"err"))if("out of x-range"===l.err){let t=l.data.ps,u=xd(i),o=yd(i);if(e>u){let i=t[tl(t)-1].y;n.push(` N172=${e} > N172Max=${u}FS=${r}vstr=${i}%`),l=i}else if(e<o){let i=gv(t[0],t[1],e);n.push(` N172=${e} < N172Min=${o}FS=${r}2vstr=${i}%`),l=i}else n.push(""),l=""}else n.push(l.err),l="";return{err:n,vstr:l}}function wv(e,r,n,t){let i=[],u=0;!function(){if(n<0)return i.push(`Volumetric Strain(Tokimatsu And Seed): CSR${hv(n)}<0`),void(u="");n>.6&&(i.push("Volumetric Strain(Tokimatsu And Seed): CSR0.60.6"),n=.6),u=mv(e,n),tl(u.err)>0&&Fe(u.err,(e=>{i.push(`Volumetric Strain(Tokimatsu And Seed): ${e}`)})),u=u.vstr}();let o=0;return function(){if(t<0)return i.push(`Volumetric Strain(Ishihara And Yoshimine): FS${hv(t)}<0`),void(o="");t>=2&&(t=2),o=yv(r,t),tl(o.err)>0&&Fe(o.err,(e=>{i.push(`Volumetric Strain(Ishihara And Yoshimine): ${e}`)})),o=o.vstr}(),{err:i,vstrTS:u,vstrIY:o}}function bv(e){let{ver:r="2012",noLiqueMode:n="new",waterLevelDesign:t,soilClassification:i,depth:u,N60:o,FC:a,PI:s,sv:l,svpUsual:f,svpDesign:c,PGA:p,Mw:h}=e,d=[],v="",g="",m="",y="",w="",b="",$="",x="",S="",E="",_="",j="",O="";function D(){let e={rrd:g,ks:m,CN:y,N160:w,N160cs:b,N172:$,CRR75:x,CRR:S,CSR:E,FS:_,vstrTS:j,vstrIY:O,err:qc(d,"; ")};return Fe(e,((r,n)=>{ps(r)||hs(r)||(e[n]="")})),e}let R=!1,M=!1;for(;;){if("2012"!==r&&"2017"!==r)return d.push(`ver${hv(r)}20122017`),D();if(!hs(u))return d.push(`depth${hv(u)}`),D();if(u=_s(u),u<0)return d.push(`depth${hv(u)}<0`),D();if("new"!==n&&"classic"!==n&&(d.push(`noLiqueMode${hv(n)}'new''classic''new'`),n="new"),hs(t)?(t=_s(t),t<0&&(d.push(`waterLevelDesign${hv(t)}<00(m)`),t=0)):(d.push(`waterLevelDesign${hv(t)}0(m)`),t=0),ps(i)||(d.push(`soilClassification${hv(i)}SW`),i="SW"),(u<t||dv(i,n))&&(R=!0),u>20&&(R=!0),"NP"===ts(Vf(s))&&(s=0),hs(s)?_s(s)>7&&(R=!0):d.push(`PI${hv(s)}NP`),hs(o)?(o=_s(o),o<0&&(d.push(`N60${hv(o)}<0`),M=!0),o>=50&&(R=!0)):(d.push(`N60${hv(o)}`),M=!0),hs(a)?(a=_s(a),a<0&&(d.push(`FC${hv(a)}<0`),M=!0)):(d.push(`FC${hv(a)}`),M=!0),!hs(f))return d.push(`svpUsual${hv(f)}`),D();if(f=_s(f),f<0)return d.push(`svpUsual${hv(f)}<0`),D();if(!hs(c))return d.push(`svpDesign${hv(c)}`),D();if(c=_s(c),c<0)return d.push(`svpDesign${hv(c)}<0`),D();if(!hs(l))return d.push(`sv${hv(l)}`),D();if(l=_s(l),l<0)return d.push(`sv${hv(l)}<0`),D();if(!hs(p))return d.push(`PGA${hv(p)}`),D();if(p=_s(p),p<0)return d.push(`PGA${hv(p)}<0`),D();if(!hs(h))return d.push(`Mw${hv(h)}`),D();if(h=_s(h),h<0)return d.push(`Mw${hv(h)}<0`),D();break}if(!0===R)return d=[],S="-",E="-",_=10,D();if(!0===M)return D();let q=null;"2012"===r?q=-3.3:"2017"===r&&(q=-1.8),v=(h/7.5)**q,g=u<=10?1-.01*u:1.2-.03*u,m=a<=10?1:1+.07*Math.sqrt(a-10);let k=1e3*Ds.Pa;if(y=Math.min(Math.sqrt(k/f),1.7),w=y*o,b=m*w,b>=39)return S="-",E="-",_=10,D();x=.08+.0035*b/(1-b/39),S=x*v,E=null,E=c>0?l/c*.65*p*g:1e20,da(E)&&E>0&&(_=S/E),da(_)&&_>10&&(_=10),S<0&&d.push(`CRR${hv(S)}<0`),E<=0&&d.push(`CSR${hv(E)}<=0`),_<0&&(d.push(`FS${hv(_)}<00`),_=0),$=w/1.2;let P=wv(w,$,E,_);return d=[...d,...P.err],j=P.vstrTS,O=P.vstrIY,D()}function $v(e){let{ver:r="1996",noLiqueMode:n="new",waterLevelDesign:t,soilClassification:i,vibrationType:u,depth:o,N60:a,FC:s,PI:l,D50:f,D10:c,sv:p,svpUsual:h,svpDesign:d,PGA:v}=e,g=[],m="",y="",w="",b="",$="",x="",S="",E="",_="",j="",O="",D="",R="",M="",q="",k="";function P(){let e={rrd:m,N160:O,N172:w,c1:b,c2:$,cFC:x,Na:S,RL:E,cw:_,CN:j,CRR75:"",CRR:D,CSR:R,FS:M,vstrTS:q,vstrIY:k,err:qc(g,"; ")};return Fe(e,((r,n)=>{ps(r)||hs(r)||(e[n]="")})),e}let C=!1,N=!1;for(;;){if("1996"!==r&&"2017"!==r)return g.push(`ver${hv(r)} 19962017`),P();if(!hs(o))return g.push(`depth${hv(o)}`),P();if(o=_s(o),o<0)return g.push(`depth${hv(o)}<0`),P();if("new"!==n&&"classic"!==n&&(g.push(`noLiqueMode${hv(n)}'new''classic''new'`),n="new"),hs(t)?(t=_s(t),t<0&&(g.push(`waterLevelDesign${hv(t)}<00(m)`),t=0)):(g.push(`waterLevelDesign${hv(t)}0(m)`),t=0),ps(i)||(g.push(`soilClassification${hv(i)}SW`),i="SW"),dv(i,n)&&(C=!0),o>20&&(C=!0),hs(a)?(a=_s(a),a<0&&(g.push(`N60${hv(a)}<0`),N=!0),a>=50&&(C=!0)):(g.push(`N60${hv(a)}`),N=!0),(o<t||t>10)&&(C=!0),hs(s)?(s=_s(s),s<0?(g.push(`FC${hv(s)}<0`),N=!0):s<=35||("NP"===ts(Vf(l))&&(l=0),hs(l)?(l=_s(l),l<15||(C=!0)):g.push(`PI${hv(l)}NP`))):(g.push(`FC${hv(s)}`),N=!0),hs(f)||g.push(`D50${hv(f)}`),hs(c)||g.push(`D10${hv(c)}`),hs(f)&&hs(c)&&(f=_s(f),c=_s(c),f>10&&(C=!0),c>1&&(C=!0)),hs(u)?(u=wf(u),1!==u&&2!==u&&(g.push(`vibrationType${hv(u)}121`),u=1)):(g.push(`vibrationType${hv(u)}1`),u=1),!hs(h))return g.push(`svpUsual${hv(h)}`),P();if(h=_s(h),h<0)return g.push(`svpUsual${hv(h)}<0`),P();if(!hs(d))return g.push(`svpDesign${hv(d)}`),P();if(d=_s(d),d<0)return g.push(`svpDesign${hv(d)}<0`),P();if(!hs(p))return g.push(`sv${hv(p)}`),P();if(p=_s(p),p<0)return g.push(`sv${hv(p)}<0`),P();if(!hs(v))return g.push(`PGA${hv(v)}`),P();if(v=_s(v),v<0)return g.push(`PGA${hv(v)}<0`),P();break}if(!0===C)return g=[],D="-",R="-",M=10,P();if(!0===N)return P();m=1-.015*o,y=a/1.2,j=170/(h+70),w=j*y;S=(()=>{let e=0,n="";return hs(f)?n=_s(f)<2?"sand":"gravel":!function(e){let r=Ld(e,1),n=Ld(e,2);return"S"===r||"ML"===n||"MH"===n}(i)?function(e){return"G"===Ld(e,1)}(i)&&(n="gravel"):n="sand","sand"!==n&&"gravel"!==n&&(g.push(`D50${hv(f)}${hv(i)}`),n="sand"),"sand"===n?"1996"===r?e=(()=>{let e=0;return b=s<10?1:s<60?(s+40)/50:s/20-1,$=s<10?0:(s-10)/18,e=b*w+$,e})():"2017"===r&&(e=(()=>{let e=0;return x=s<10?1:s<40?(s+20)/30:(s-16)/12,e=x*(w+2.47)-2.47,e})()):"gravel"===n&&(hs(f)||(g.push(`D50${hv(f)}D50D5010(mm)`),f=10),f=_s(f),e=(1-.361*Math.log10(f/2))*w),e})(),S<14?"1996"===r?E=.0882*Math.sqrt(S/1.7):"2017"===r&&(E=.0882*Math.sqrt((.85*S+2.1)/1.7)):E=.0882*Math.sqrt(S/1.7)+16e-7*(S-14)**4.5,_=2===u?E<=.1?1:E<=.4?3.3*E+.67:2:1,D=_*E,R=null,R=d>0?m*v*p/d:1e20,da(R)&&R>0&&(M=D/R),da(M)&&M>10&&(M=10),D<0&&g.push(`CRR${hv(D)}<0`),R<=0&&g.push(`CSR${hv(R)}<=0`),M<0&&(g.push(`FS${hv(M)}<00`),M=0),O=w/(60/72);let A=wv(O,w,R,M);return g=[...g,...A.err],q=A.vstrTS,k=A.vstrIY,P()}function xv(e){let{ver:r="2012",waterLevelDesign:n,depth:t,coe_a:i,qc:u,fs:o,u2:a,svp:s,svpUsual:l,svpDesign:f,sv:c,PGA:p,Mw:h}=e,d=[],v="",g="",m="",y="",w="",b="",$="",x="",S="",E="",_="",j="";function O(){hs(w)&&(w/=pv),hs(x)&&(x/=pv);let e={rrd:g,Ic:m,Icn:y,qc1N:w,Rf:b,Kc:$,qc1Ncs:x,CRR75:S,CRR:E,CSR:_,FS:j,err:qc(d,"; ")};return Fe(e,((r,n)=>{ps(r)||hs(r)||(e[n]="")})),e}let D=!1,R=!1;for(;;){if("2012"!==r&&"2017"!==r&&"2021"!==r)return d.push(`ver${hv(r)}201220172021`),O();if(!hs(t))return d.push(`depth${hv(t)}`),O();if(t=_s(t),t<0)return d.push(`depth${hv(t)}<0`),O();if("2021"===r&&(hs(i)?(i=_s(i),i<0&&(d.push(`coe_a${hv(i)}<00.8`),i=.8)):(d.push(`coe_a${hv(i)}0.8`),i=.8)),hs(n)?(n=_s(n),n<0&&(d.push(`waterLevelDesign${hv(n)}<00(m)`),n=0)):(d.push(`waterLevelDesign${hv(n)}0(m)`),n=0),t<n&&(D=!0),t>20&&(D=!0),hs(u)?(u=_s(u),u<0&&(d.push(`qc${hv(u)}<0`),R=!0)):(d.push(`qc${hv(u)}`),R=!0),hs(o)?(o=_s(o),o<0&&(d.push(`fs${hv(o)}<0`),R=!0)):(d.push(`fs${hv(o)}`),R=!0),hs(a)?a=_s(a):(d.push(`u2${hv(a)}`),R=!0),hs(s)&&(s=_s(s),l=s,f=s),!hs(l))return d.push(`svpUsual${hv(l)}`),O();if(l=_s(l),l<0)return d.push(`svpUsual${hv(l)}<0`),O();if(!hs(f))return d.push(`svpDesign${hv(f)}`),O();if(f=_s(f),f<0)return d.push(`svpDesign${hv(f)}<0`),O();if(!hs(c))return d.push(`sv${hv(c)}`),O();if(c=_s(c),c<0)return d.push(`sv${hv(c)}<0`),O();if(!hs(p))return d.push(`PGA${hv(p)}`),O();if(p=_s(p),p<0)return d.push(`PGA${hv(p)}<0`),O();if(!hs(h))return d.push(`Mw${hv(h)}`),O();if(h=_s(h),h<0)return d.push(`Mw${hv(h)}<0`),O();break}if(!0===D)return d=[],E="-",_="-",j=10,O();if(!0===R)return O();let M=Rs(t);if("2021"===r){let e=_c({sv:c/1e3,svp:l/1e3,qc:u,fs:o,u0:M,u2:a},i,{useCnLeq:!0});m=Mi(e,"Ic",null),y=Mi(e,"Icn",null);let r=null;if(null===r&&da(y)&&(r=y),null===r&&da(m)&&(d.push("IcnIc"),r=m),r>2.6)return E="-",_="-",j=10,O()}c*=pv,l*=pv,f*=pv,u=1e3*u*pv,o=1e3*o*pv,a=1e3*a*pv,M=1e3*M*pv;let q=null;return"2012"===r?q=-3.3:"2017"!==r&&"2021"!==r||(q=-1.8),v=(h/7.5)**q,g=t<=10?1-.01*t:1.2-.03*t,w=1.7/(l+.7)*u,b=null,b=u>0?o/u*100:1e20,$=b<=.1?1:.4*b**2-.08*b+1.004,x=$*w,x>=180?(E="-",_="-",j=10,O()):(S=.09+28e-5*x/(1-x/180),E=S*v,_=null,_=f>0?.65*p*(c/f)*g:1e20,da(_)&&_>0&&(j=E/_),da(j)&&j>10&&(j=10),E<0&&d.push(`CRR${hv(E)}<0`),_<=0&&d.push(`CSR${hv(_)}<=0`),j<0&&(d.push(`FS${hv(j)}<00`),j=0),O())}let Sv={SPT:{sptSeed:function(e){let{noLiqueMode:r="new",waterLevelDesign:n,soilClassification:t,depth:i,N60:u,FC:o,sv:a,svpUsual:s,svpDesign:l,PGA:f,Mw:c}=e,p=[],h="",d="",v="",g="",m="",y="",w="",b="",$="",x="",S="";function E(){let e={rrd:d,CN:v,N160:g,N172:m,CRR75:y,CRR:w,CSR:b,FS:$,vstrTS:x,vstrIY:S,err:qc(p,"; ")};return Fe(e,((r,n)=>{ps(r)||hs(r)||(e[n]="")})),e}let _=!1,j=!1;for(;;){if(!hs(i))return p.push(`depth${hv(i)}`),E();if(i=_s(i),i<0)return p.push(`depth${hv(i)}<0`),E();if("new"!==r&&"classic"!==r&&(p.push(`noLiqueMode${hv(r)}'new''classic''new'`),r="new"),hs(n)?(n=_s(n),n<0&&(p.push(`waterLevelDesign${hv(n)}<00(m)`),n=0)):(p.push(`waterLevelDesign${hv(n)}0(m)`),n=0),ps(t)||(p.push(`soilClassification${hv(t)}SW`),t="SW"),(i<n||dv(t,r))&&(_=!0),i>20&&(_=!0),hs(u)?(u=_s(u),u<0&&(p.push(`N60${hv(u)}<0`),j=!0),u>=50&&(_=!0)):(p.push(`N60${hv(u)}`),j=!0),hs(o)?(o=_s(o),o<0&&(p.push(`FC${hv(o)}<0`),j=!0)):(p.push(`FC${hv(o)}`),j=!0),!hs(s))return p.push(`svpUsual${hv(s)}`),E();if(s=_s(s),s<0)return p.push(`svpUsual${hv(s)}<0`),E();if(!hs(l))return p.push(`svpDesign${hv(l)}`),E();if(l=_s(l),l<0)return p.push(`svpDesign${hv(l)}<0`),E();if(!hs(a))return p.push(`sv${hv(a)}`),E();if(a=_s(a),a<0)return p.push(`sv${hv(a)}<0`),E();if(!hs(f))return p.push(`PGA${hv(f)}`),E();if(f=_s(f),f<0)return p.push(`PGA${hv(f)}<0`),E();if(!hs(c))return p.push(`Mw${hv(c)}`),E();if(c=_s(c),c<0)return p.push(`Mw${hv(c)}<0`),E();break}if(!0===_)return p=[],w="-",b="-",$=10,E();if(!0===j)return E();h=(c/7.5)**-1.11,d=(1-.4113*i**.5+.04052*i+.001753*i**1.5)/(1-.4177*i**.5+.05729*i-.006205*i**1.5+.00121*i**2);let O=1e3*Ds.Pa;v=Math.min(Math.sqrt(O/s),1.7),g=v*u;let D=[{FC:5,data:[[0,.0496622],[2.65306,.0547297],[4.38776,.0628378],[6.02041,.0719595],[7.55102,.0831081],[8.97959,.100338],[10.5102,.114527],[12.2449,.131757],[13.5714,.146959],[14.7959,.161149],[16.1224,.177365],[17.7551,.193581],[19.1837,.211824],[20.7143,.232095],[22.0408,.248311],[23.2653,.265541],[24.5918,.285811],[25.6122,.307095],[26.4286,.327365],[27.2449,.347635],[27.9592,.372973],[28.3673,.398311],[28.7755,.423649],[28.9796,.444932],[29.2857,.473311],[29.3,.6],[100,100]]},{FC:15,data:[[0,.065],[1.63265,.068],[2.85714,.074],[3.87755,.082],[5.10204,.0932432],[6.22449,.110473],[7.44898,.123649],[8.57143,.136824],[9.69388,.151014],[10.9184,.164189],[11.9388,.178378],[13.0612,.192568],[13.8776,.203716],[14.6939,.214865],[16.1224,.232095],[17.551,.251351],[18.5714,.270608],[19.898,.288851],[20.7143,.308108],[21.4286,.327365],[22.0408,.347635],[22.449,.370946],[22.8571,.393243],[23.2653,.417568],[23.6735,.439865],[23.9796,.460135],[24.05,.483446],[24.0816,.515878],[24.1,.6],[100,101]]},{FC:35,data:[[0,.075],[1.32653,.082],[2.44898,.09],[3.26531,.0962838],[4.79592,.116554],[6.22449,.134797],[7.34694,.152027],[8.87755,.171284],[10.102,.185473],[11.4286,.20777],[13.2653,.228041],[14.5918,.247297],[15.7143,.267568],[16.7347,.287838],[17.7551,.313176],[18.6735,.343581],[19.1837,.364865],[19.6939,.382095],[20.102,.410473],[20.4082,.433784],[20.5102,.464189],[20.7143,.490541],[20.9184,.519932],[20.92,.6],[100,102]]}],R=cu(D,"FC");D=cu(D,(e=>{let r=cu(e.data,(e=>e[0])),n=cu(e.data,(e=>e[1]));return e.vx=r,e.vy=n,e}));let M=cu(D,(e=>{let r=vv(e.vx,e.vy,g);return Mi(r,"err")?r.err:r}));if(y=vv(R,M,o),Mi(y,"err")){if("out of x-range"!==y.err)return p.push(y.err),y="",E();{let e=y.data.ps,r=xd(R),n=yd(R);if(o>r)y=gv(e[tl(e)-2],e[tl(e)-1],o),p.push(` FC=${o} > FCMax=${r}2CRR75=${y}`);else{if(!(o<n))return p.push(""),y="",E();y=gv(e[0],e[1],o),y=Math.max(y,0),p.push(` FC=${o} < FCMin=${n}2CRR75=${y}`)}}}if(!da(y))return p.push(`CRR75${hv(y)}`),E();y>.6&&(p.push(`CRR75${hv(y)}0.60.6`),y=.6),w=y*h,b=null,b=l>0?a/l*.65*f*d:1e20,da(b)&&b>0&&($=w/b),da($)&&$>10&&($=10),w<0&&p.push(`CRR${hv(w)}<0`),b<=0&&p.push(`CSR${hv(b)}<=0`),$<0&&(p.push(`FS${hv($)}<00`),$=0),m=g/1.2;let q=wv(g,m,b,$);return p=[...p,...q.err],x=q.vstrTS,S=q.vstrIY,E()},sptHBF2012:e=>bv(e=cv(cv({},e),{},{ver:"2012"})),sptHBF2017:e=>bv(e=cv(cv({},e),{},{ver:"2017"})),sptNCEER:function(e){let{noLiqueMode:r="new",waterLevelDesign:n,soilClassification:t,depth:i,N60:u,FC:o,sv:a,svpUsual:s,svpDesign:l,PGA:f,Mw:c}=e,p=[],h="",d="",v="",g="",m="",y="",w="",b="",$="",x="",S="",E="",_="",j="";function O(){let e={rrd:d,alpha:v,beta:g,CN:m,N160:y,N160cs:w,N172:b,CRR75:$,CRR:x,CSR:S,FS:E,vstrTS:_,vstrIY:j,err:qc(p,"; ")};return Fe(e,((r,n)=>{ps(r)||hs(r)||(e[n]="")})),e}let D=!1,R=!1;for(;;){if(!hs(i))return p.push(`depth${hv(i)}`),O();if(i=_s(i),i<0)return p.push(`depth${hv(i)}<0`),O();if("new"!==r&&"classic"!==r&&(p.push(`noLiqueMode${hv(r)}'new''classic''new'`),r="new"),hs(n)?(n=_s(n),n<0&&(p.push(`waterLevelDesign${hv(n)}<00(m)`),n=0)):(p.push(`waterLevelDesign${hv(n)}0(m)`),n=0),ps(t)||(p.push(`soilClassification${hv(t)}SW`),t="SW"),(i<n||dv(t,r))&&(D=!0),i>20&&(D=!0),hs(u)?(u=_s(u),u<0&&(p.push(`N60${hv(u)}<0`),R=!0),u>=50&&(D=!0)):(p.push(`N60${hv(u)}`),R=!0),hs(o)?(o=_s(o),o<0&&(p.push(`FC${hv(o)}<0`),R=!0)):(p.push(`FC${hv(o)}`),R=!0),!hs(s))return p.push(`svpUsual${hv(s)}`),O();if(s=_s(s),s<0)return p.push(`svpUsual${hv(s)}<0`),O();if(!hs(l))return p.push(`svpDesign${hv(l)}`),O();if(l=_s(l),l<0)return p.push(`svpDesign${hv(l)}<0`),O();if(!hs(a))return p.push(`sv${hv(a)}`),O();if(a=_s(a),a<0)return p.push(`sv${hv(a)}<0`),O();if(!hs(f))return p.push(`PGA${hv(f)}`),O();if(f=_s(f),f<0)return p.push(`PGA${hv(f)}<0`),O();if(!hs(c))return p.push(`Mw${hv(c)}`),O();if(c=_s(c),c<0)return p.push(`Mw${hv(c)}<0`),O();break}if(!0===D)return p=[],x="-",S="-",E=10,O();if(!0===R)return O();h=(c/7.5)**-2.56,d=(1-.4113*i**.5+.04052*i+.001753*i**1.5)/(1-.4177*i**.5+.05729*i-.006205*i**1.5+.00121*i**2),v=o<=5?0:o<=35?Math.exp(1.76-190/o**2):5,g=o<=5?1:o<=35?.99+o**1.5/1e3:1.2;let M=1e3*Ds.Pa;if(m=Math.min(Math.sqrt(M/s),1.7),y=m*u,w=v+g*y,w>=30)return x="-",S="-",E=10,O();$=(.04844+-.004721*w+6136e-7*w**2+-1673e-8*w**3)/(1+-.1248*w+.009578*w**2+-3285e-7*w**3+3714e-9*w**4),x=$*h,S=null,S=l>0?a/l*.65*f*d:1e20,da(S)&&S>0&&(E=x/S),da(E)&&E>10&&(E=10),x<0&&p.push(`CRR${hv(x)}<0`),S<=0&&p.push(`CSR${hv(S)}<=0`),E<0&&(p.push(`FS${hv(E)}<00`),E=0),b=y/1.2;let q=wv(y,b,S,E);return p=[...p,...q.err],_=q.vstrTS,j=q.vstrIY,O()},sptNJRA1996:e=>$v(e=cv(cv({},e),{},{ver:"1996"})),sptNJRA2017:e=>$v(e=cv(cv({},e),{},{ver:"2017"})),sptTY:function(e){let{noLiqueMode:r="new",waterLevelDesign:n,soilClassification:t,depth:i,a:u,n:o,Cr:a,Cs:s,N60:l,FC:f,sv:c,svpUsual:p,svpDesign:h,PGA:d,Mw:v}=e,g=[],m="",y="",w="",b="",$="",x="",S="",E="",_="",j="",O="",D="";function R(){let e={rrd:m,N160:S,N172:w,dNf:b,Na:$,CN:x,CRR75:"",CRR:E,CSR:_,FS:j,vstrTS:O,vstrIY:D,err:qc(g,"; ")};return Fe(e,((r,n)=>{ps(r)||hs(r)||(e[n]="")})),e}let M=!1,q=!1;for(;;){if(!hs(i))return g.push(`depth${hv(i)}`),R();if(i=_s(i),i<0)return g.push(`depth${hv(i)}<0`),R();if("new"!==r&&"classic"!==r&&(g.push(`noLiqueMode${hv(r)}'new''classic''new'`),r="new"),hs(n)?(n=_s(n),n<0&&(g.push(`waterLevelDesign${hv(n)}<00(m)`),n=0)):(g.push(`waterLevelDesign${hv(n)}0(m)`),n=0),ps(t)||(g.push(`soilClassification${hv(t)}SW`),t="SW"),(i<n||dv(t,r))&&(M=!0),i>20&&(M=!0),hs(l)?(l=_s(l),l<0&&(g.push(`N60${hv(l)}<0`),q=!0),l>=50&&(M=!0)):(g.push(`N60${hv(l)}`),q=!0),hs(f)?(f=_s(f),f<0&&(g.push(`FC${hv(f)}<0`),q=!0)):(g.push(`FC${hv(f)}`),q=!0),!hs(p))return g.push(`svpUsual${hv(p)}`),R();if(p=_s(p),p<0)return g.push(`svpUsual${hv(p)}<0`),R();if(!hs(h))return g.push(`svpDesign${hv(h)}`),R();if(h=_s(h),h<0)return g.push(`svpDesign${hv(h)}<0`),R();if(!hs(c))return g.push(`sv${hv(c)}`),R();if(c=_s(c),c<0)return g.push(`sv${hv(c)}<0`),R();if(!hs(d))return g.push(`PGA${hv(d)}`),R();if(d=_s(d),d<0)return g.push(`PGA${hv(d)}<0`),R();if(!hs(v))return g.push(`Mw${hv(v)}`),R();if(v=_s(v),v<0)return g.push(`Mw${hv(v)}<0`),R();break}if(!0===M)return g=[],E="-",_="-",j=10,R();if(!0===q)return R();hs(u)||(u=.45),u=_s(u),hs(o)||(o=14),o=_s(o),hs(a)||(a=.57),a=_s(a),hs(s)||(s=85),s=_s(s),m=1-.015*i,y=l/1.2,x=170/(p+70),w=x*y,b=f<=5?0:f<=10?f-5:.1*f+4,$=w+b,E=u*a*(16*Math.sqrt($)/100+(16*Math.sqrt($)/s)**o),_=null,_=h>0?.1*(v-1)*d*(c/h)*m:1e20,da(_)&&_>0&&(j=E/_),da(j)&&j>10&&(j=10),E<0&&g.push(`CRR${hv(E)}<0`),_<=0&&g.push(`CSR${hv(_)}<=0`),j<0&&(g.push(`FS${hv(j)}<00`),j=0),S=w/(60/72);let k=wv(S,w,_,j);return g=[...g,...k.err],O=k.vstrTS,D=k.vstrIY,R()}},CPT:{cptHBF2012:e=>xv(e=cv(cv({},e),{},{ver:"2012"})),cptHBF2017:e=>xv(e=cv(cv({},e),{},{ver:"2017"})),cptHBF2021:e=>xv(e=cv(cv({},e),{},{ver:"2021"})),cptNCEER1997:e=>function(e){let{ver:r="1997",waterLevelDesign:n,depth:t,qc:i,fs:u,u2:o,svp:a,svpUsual:s,svpDesign:l,sv:f,PGA:c,Mw:p}=e,h=[],d="",v="",g="",m="",y="",w="",b="",$="",x="",S="";function E(){hs(g)&&(g/=pv),hs(w)&&(w/=pv);let e={rrd:v,Qt1n:g,Ic:m,Kc:y,Qt1ncs:w,CRR75:b,CRR:$,CSR:x,FS:S,err:qc(h,"; ")};return Fe(e,((r,n)=>{ps(r)||hs(r)||(e[n]="")})),e}let _=!1,j=!1;for(;;){if("1997"!==r)return h.push(`ver${hv(r)}1997`),E();if(!hs(t))return h.push(`depth${hv(t)}`),E();if(t=_s(t),t<0)return h.push(`depth${hv(t)}<0`),E();if(hs(n)?(n=_s(n),n<0&&(h.push(`waterLevelDesign${hv(n)}<00(m)`),n=0)):(h.push(`waterLevelDesign${hv(n)}0(m)`),n=0),t<n&&(_=!0),t>20&&(_=!0),hs(i)?(i=_s(i),i<0&&(h.push(`qc${hv(i)}<0`),j=!0)):(h.push(`qc${hv(i)}`),j=!0),hs(u)?(u=_s(u),u<0&&(h.push(`fs${hv(u)}<0`),j=!0)):(h.push(`fs${hv(u)}`),j=!0),hs(o)?o=_s(o):(h.push(`u2${hv(o)}`),j=!0),hs(a)&&(a=_s(a),s=a,l=a),!hs(s))return h.push(`svpUsual${hv(s)}`),E();if(s=_s(s),s<0)return h.push(`svpUsual${hv(s)}<0`),E();if(!hs(l))return h.push(`svpDesign${hv(l)}`),E();if(l=_s(l),l<0)return h.push(`svpDesign${hv(l)}<0`),E();if(!hs(f))return h.push(`sv${hv(f)}`),E();if(f=_s(f),f<0)return h.push(`sv${hv(f)}<0`),E();if(!hs(c))return h.push(`PGA${hv(c)}`),E();if(c=_s(c),c<0)return h.push(`PGA${hv(c)}<0`),E();if(!hs(p))return h.push(`Mw${hv(p)}`),E();if(p=_s(p),p<0)return h.push(`Mw${hv(p)}<0`),E();break}if(!0===_)return h=[],$="-",x="-",S=10,E();if(!0===j)return E();f*=pv,s*=pv,l*=pv,i=1e3*i*pv,u=1e3*u*pv,o=1e3*o*pv,d=(p/7.5)**-2.56,v=(1-.4113*t**.5+.04052*t+.001753*t**1.5)/(1-.4177*t**.5+.05729*t-.006205*t**1.5+.00121*t**2);let O=null;O=s>0?(i-f)/s:1e20;let D=u/(i-f)*100,R=Math.sqrt((3.47-Math.log10(O))**2+(Math.log10(D)+1.22)**2);if(R<=2.6){let e=1e3*Ds.Pa;e*=pv,g=s>0?i/e*(e/s)**.5:1e20;let r=Math.sqrt((3.47-Math.log10(g))**2+(Math.log10(D)+1.22)**2);r<=2.6?m=r:(g=s>0?i/e*(e/s)**.75:1e20,m=Math.sqrt((3.47-Math.log10(g))**2+(Math.log10(D)+1.22)**2))}else g=O,m=R;return m>=2.6?($="-",x="-",S=10,E()):(m<=1.64?y=1:(y=-.403*m**4+5.581*m**3-21.63*m**2+33.75*m-17.88,m<2.36&&D<.5&&(y=1)),w=y*g,w>=160?($="-",x="-",S=10,E()):(b=null,b=w<50?w/1e3*.833+.05:93*(w/1e3)**3+.08,$=b*d,x=null,x=l>0?.65*c*(f/l)*v:1e20,da(x)&&x>0&&(S=$/x),da(S)&&S>10&&(S=10),$<0&&h.push(`CRR${hv($)}<0`),x<=0&&h.push(`CSR${hv(x)}<=0`),S<0&&(h.push(`FS${hv(S)}<00`),S=0),E()))}(e=cv(cv({},e),{},{ver:"1997"})),cptRobertson2009:e=>function(e){let{ver:r="2009",waterLevelDesign:n,depth:t,coe_a:i,qc:u,fs:o,u2:a,svp:s,svpUsual:l,svpDesign:f,sv:c,tou_s:p,su:h,PGA:d,Mw:v}=e,g=[],m="",y="",w="",b="",$="",x="",S="",E="",_="",j="",O="",D="",R="",M="";function q(){let e={rrd:y,Kc:w,Kalpha:b,Fr:$,Ic:x,Icn:S,Qt:E,Qtn:_,Qtncs:j,CRR75:O,CRR:D,CSR:R,FS:M,err:qc(g,"; ")};return Fe(e,((r,n)=>{ps(r)||hs(r)||(e[n]="")})),e}let k=!1,P=!1;for(;;){if("2009"!==r)return g.push(`ver${hv(r)}2009`),q();if(!hs(t))return g.push(`depth${hv(t)}`),q();if(t=_s(t),t<0)return g.push(`depth${hv(t)}<0`),q();if(hs(i)?(i=_s(i),i<0&&(g.push(`coe_a${hv(i)}<00.8`),i=.8)):(g.push(`coe_a${hv(i)}0.8`),i=.8),hs(n)?(n=_s(n),n<0&&(g.push(`waterLevelDesign${hv(n)}<00(m)`),n=0)):(g.push(`waterLevelDesign${hv(n)}0(m)`),n=0),t<n&&(k=!0),t>20&&(k=!0),hs(u)?(u=_s(u),u<0&&(g.push(`qc${hv(u)}<0`),P=!0)):(g.push(`qc${hv(u)}`),P=!0),hs(o)?(o=_s(o),o<0&&(g.push(`fs${hv(o)}<0`),P=!0)):(g.push(`fs${hv(o)}`),P=!0),hs(a)?a=_s(a):(g.push(`u2${hv(a)}`),P=!0),hs(s)&&(s=_s(s),l=s,f=s),!hs(l))return g.push(`svpUsual${hv(l)}`),q();if(l=_s(l),l<0)return g.push(`svpUsual${hv(l)}<0`),q();if(!hs(f))return g.push(`svpDesign${hv(f)}`),q();if(f=_s(f),f<0)return g.push(`svpDesign${hv(f)}<0`),q();if(!hs(c))return g.push(`sv${hv(c)}`),q();if(c=_s(c),c<0)return g.push(`sv${hv(c)}<0`),q();if(!hs(p))return g.push(`tou_s${hv(p)}`),q();if(p=_s(p),p<0)return g.push(`tou_s${hv(p)}<0`),q();if(!hs(h))return g.push(`su${hv(h)}`),q();if(h=_s(h),h<0)return g.push(`su${hv(h)}<0`),q();if(!hs(d))return g.push(`PGA${hv(d)}`),q();if(d=_s(d),d<0)return g.push(`PGA${hv(d)}<0`),q();if(!hs(v))return g.push(`Mw${hv(v)}`),q();if(v=_s(v),v<0)return g.push(`Mw${hv(v)}<0`),q();break}if(!0===k)return g=[],D="-",R="-",M=10,q();if(!0===P)return q();let C=_c({sv:c/1e3,svp:l/1e3,qc:u,fs:o,u0:Rs(t),u2:a},i,{useCnLeq:!1});$=Mi(C,"Fr",null),x=Mi(C,"Ic",null),S=Mi(C,"Icn",null),E=Mi(C,"Qt",null),_=Mi(C,"Qtn",null);let N=null;null===N&&da(S)&&(N=S),null===N&&da(x)&&(g.push("IcnIc"),N=x);let A=null;return null===A&&da(_)&&(A=_),null===A&&da(E)&&(g.push("QtnQt"),A=E),c*=pv,l*=pv,f*=pv,u=1e3*u*pv,o=1e3*o*pv,a=1e3*a*pv,m=(v/7.5)**-2.56,y=(1-.4113*t**.5+.04052*t+.001753*t**1.5)/(1-.4177*t**.5+.05729*t-.006205*t**1.5+.00121*t**2),j=null,O=null,N<=2.5?(N<=1.64?w=1:(w=-.403*N**4+5.581*N**3-21.63*N**2+33.75*N-17.88,N<2.36&&$<.5&&(w=1)),j=w*A,O=j<50?j/1e3*.833+.05:93*(j/1e3)**3+.08):N<2.7?(w=6e-7*N**16.76,j=w*A,O=j<50?j/1e3*.833+.05:93*(j/1e3)**3+.08):(b=1.344-.344/(1-p/h)**.638,j=b*A,O=.053*j),D=O*m,R=null,R=f>0?.65*d*(c/f)*y:1e20,da(R)&&R>0&&(M=D/R),da(M)&&M>10&&(M=10),D<0&&g.push(`CRR${hv(D)}<0`),R<=0&&g.push(`CSR${hv(R)}<=0`),M<0&&(g.push(`FS${hv(M)}<00`),M=0),q()}(e=cv(cv({},e),{},{ver:"2009"})),cptJuang2002:e=>function(e){let{ver:r="2002",waterLevelDesign:n,depth:t,qc:i,fs:u,u2:o,svp:a,svpUsual:s,svpDesign:l,sv:f,PGA:c,Mw:p}=e,h=[],d="",v="",g="",m="",y="",w="",b="",$="",x="";function S(){hs(g)&&(g/=pv),hs(y)&&(y/=pv);let e={rrd:v,qc1N:g,Ic:m,qc1Ncs:y,CRR75:w,CRR:b,CSR:$,FS:x,err:qc(h,"; ")};return Fe(e,((r,n)=>{ps(r)||hs(r)||(e[n]="")})),e}let E=!1,_=!1;for(;;){if("2002"!==r)return h.push(`ver${hv(r)}2002`),S();if(!hs(t))return h.push(`depth${hv(t)}`),S();if(t=_s(t),t<0)return h.push(`depth${hv(t)}<0`),S();if(hs(n)?(n=_s(n),n<0&&(h.push(`waterLevelDesign${hv(n)}<00(m)`),n=0)):(h.push(`waterLevelDesign${hv(n)}0(m)`),n=0),t<n&&(E=!0),t>20&&(E=!0),hs(i)?(i=_s(i),i<0&&(h.push(`qc${hv(i)}<0`),_=!0)):(h.push(`qc${hv(i)}`),_=!0),hs(u)?(u=_s(u),u<0&&(h.push(`fs${hv(u)}<0`),_=!0)):(h.push(`fs${hv(u)}`),_=!0),hs(o)?o=_s(o):(h.push(`u2${hv(o)}`),_=!0),hs(a)&&(a=_s(a),s=a,l=a),!hs(s))return h.push(`svpUsual${hv(s)}`),S();if(s=_s(s),s<0)return h.push(`svpUsual${hv(s)}<0`),S();if(!hs(l))return h.push(`svpDesign${hv(l)}`),S();if(l=_s(l),l<0)return h.push(`svpDesign${hv(l)}<0`),S();if(!hs(f))return h.push(`sv${hv(f)}`),S();if(f=_s(f),f<0)return h.push(`sv${hv(f)}<0`),S();if(!hs(c))return h.push(`PGA${hv(c)}`),S();if(c=_s(c),c<0)return h.push(`PGA${hv(c)}<0`),S();if(!hs(p))return h.push(`Mw${hv(p)}`),S();if(p=_s(p),p<0)return h.push(`Mw${hv(p)}<0`),S();break}if(!0===E)return h=[],b="-",$="-",x=10,S();if(!0===_)return S();f*=pv,s*=pv,l*=pv,i=1e3*i*pv,u=1e3*u*pv,o=1e3*o*pv,d=(p/7.5)**-2.56,v=(1-.4113*t**.5+.04052*t+.001753*t**1.5)/(1-.4177*t**.5+.05729*t-.006205*t**1.5+.00121*t**2);let j=null;i-f>0&&(j=u/(i-f)*100),g=null,s>0&&(g=i/Math.sqrt(s)),m=null,da(g)&&da(j)&&(m=Math.sqrt((3.47-Math.log10(g))**2+(Math.log10(j)+1.22)**2)),y=null,da(g)&&da(m)&&(y=g*(2.429*m**4-16.943*m**3+44.551*m**2-51.497*m+22.802));let O=-.016*(s/100)**3+.178*(s/100)**2-s/100*.063+.903;return w=null,da(O)&&da(y)&&(w=O*Math.exp(1.264*(y/100)**1.25-2.957)),b=null,da(w)&&da(d)&&(b=w*d),$=null,$=l>0?.65*c*(f/l)*v:1e20,da($)&&$>0&&(x=b/$),da(x)&&x>10&&(x=10),b<0&&h.push(`CRR${hv(b)}<0`),$<=0&&h.push(`CSR${hv($)}<=0`),x<0&&(h.push(`FS${hv(x)}<00`),x=0),S()}(e=cv(cv({},e),{},{ver:"2002"})),cptKuAndJuang2012:e=>function(e){let{ver:r="2012",waterLevelDesign:n,depth:t,coe_a:i,qc:u,fs:o,u2:a,svp:s,svpUsual:l,svpDesign:f,sv:c,PGA:p,Mw:h}=e,d=[],v="",g="",m="",y="",w="",b="",$="",x="",S="",E="",_="",j="",O="",D="",R="";function M(){let e={rrd:g,Fr:m,Bq:y,Ic:w,Icn:b,Qt:$,Qtn:x,Icbj:S,Csigma:E,Ksigma:_,CRR75:j,CRR:O,CSR:D,FS:R,err:qc(d,"; ")};return Fe(e,((r,n)=>{ps(r)||hs(r)||(e[n]="")})),e}let q=!1,k=!1;for(;;){if("2012"!==r)return d.push(`ver${hv(r)}2012`),M();if(!hs(t))return d.push(`depth${hv(t)}`),M();if(t=_s(t),t<0)return d.push(`depth${hv(t)}<0`),M();if(hs(i)?(i=_s(i),i<0&&(d.push(`coe_a${hv(i)}<00.8`),i=.8)):(d.push(`coe_a${hv(i)}0.8`),i=.8),hs(n)?(n=_s(n),n<0&&(d.push(`waterLevelDesign${hv(n)}<00(m)`),n=0)):(d.push(`waterLevelDesign${hv(n)}0(m)`),n=0),t<n&&(q=!0),t>20&&(q=!0),hs(u)?(u=_s(u),u<0&&(d.push(`qc${hv(u)}<0`),k=!0)):(d.push(`qc${hv(u)}`),k=!0),hs(o)?(o=_s(o),o<0&&(d.push(`fs${hv(o)}<0`),k=!0)):(d.push(`fs${hv(o)}`),k=!0),hs(a)?a=_s(a):(d.push(`u2${hv(a)}`),k=!0),hs(s)&&(s=_s(s),l=s,f=s),!hs(l))return d.push(`svpUsual${hv(l)}`),M();if(l=_s(l),l<0)return d.push(`svpUsual${hv(l)}<0`),M();if(!hs(f))return d.push(`svpDesign${hv(f)}`),M();if(f=_s(f),f<0)return d.push(`svpDesign${hv(f)}<0`),M();if(!hs(c))return d.push(`sv${hv(c)}`),M();if(c=_s(c),c<0)return d.push(`sv${hv(c)}<0`),M();if(!hs(p))return d.push(`PGA${hv(p)}`),M();if(p=_s(p),p<0)return d.push(`PGA${hv(p)}<0`),M();if(!hs(h))return d.push(`Mw${hv(h)}`),M();if(h=_s(h),h<0)return d.push(`Mw${hv(h)}<0`),M();break}if(!0===q)return d=[],O="-",D="-",R=10,M();if(!0===k)return M();let P=_c({sv:c/1e3,svp:l/1e3,qc:u,fs:o,u0:Rs(t),u2:a},i,{useCnLeq:!0});m=Mi(P,"Fr",null),y=Mi(P,"Bq",null),w=Mi(P,"Ic",null),b=Mi(P,"Icn",null),$=Mi(P,"Qt",null),x=Mi(P,"Qtn",null);let C=null;null===C&&da(b)&&(C=b),null===C&&da(w)&&(d.push("IcnIc"),C=w);let N=null;null===N&&da(x)&&(N=x),null===N&&da($)&&(d.push("QtnQt"),N=$),c*=pv,l*=pv,f*=pv,u=1e3*u*pv,o=1e3*o*pv,a=1e3*a*pv,v=6.9*Math.exp(-h/4)-.058,v=Math.min(v,1.8);let A=-1.012-1.126*Math.sin(t/11.73+5.133),z=.106+.118*Math.sin(t/11.28+5.142);if(g=Math.exp(A+z*h),g=Math.min(g,1),S=null,!(da($)&&da(y)&&da(m)))return d.push("Ic(BJ)"),M();S=Math.sqrt((3-Math.log10($*(1-y)+1))**2+(Math.log10(m)+1.22)**2);let F=S*(N/100)-14.7,L=.909*S**3-7.47*S+19.28,T=.059+.015*S**2;j=.05+Math.exp(F+L*(N/100)**T),E=null,E=x<=37?.063:x<211?1/(37.3-8.27*x**.264):.3,E=Math.min(E,.3);let I=1e3*Ds.Pa;return I*=pv,_=1-E*Math.log(l/I),_=Math.min(_,1),O=j*v*_,D=null,D=f>0?.65*p*(c/f)*g:1e20,da(D)&&D>0&&(R=O/D),da(R)&&R>10&&(R=10),O<0&&d.push(`CRR${hv(O)}<0`),D<=0&&d.push(`CSR${hv(D)}<=0`),R<0&&(d.push(`FS${hv(R)}<00`),R=0),M()}(e=cv(cv({},e),{},{ver:"2012"})),cptOlsen1997:e=>function(e){let{ver:r="1997",waterLevelDesign:n,depth:t,qc:i,fs:u,u2:o,svp:a,svpUsual:s,svpDesign:l,sv:f,PGA:c,Mw:p}=e,h=[],d="",v="",g="",m="",y="",w="",b="",$="";function x(){hs(g)&&(g/=pv);let e={rrd:v,qc1:g,Rf:m,CRR75:y,CRR:w,CSR:b,FS:$,err:qc(h,"; ")};return Fe(e,((r,n)=>{ps(r)||hs(r)||(e[n]="")})),e}let S=!1,E=!1;for(;;){if("1997"!==r)return h.push(`ver${hv(r)}1997`),x();if(!hs(t))return h.push(`depth${hv(t)}`),x();if(t=_s(t),t<0)return h.push(`depth${hv(t)}<0`),x();if(hs(n)?(n=_s(n),n<0&&(h.push(`waterLevelDesign${hv(n)}<00(m)`),n=0)):(h.push(`waterLevelDesign${hv(n)}0(m)`),n=0),t<n&&(S=!0),t>20&&(S=!0),hs(i)?(i=_s(i),i<0&&(h.push(`qc${hv(i)}<0`),E=!0)):(h.push(`qc${hv(i)}`),E=!0),hs(u)?(u=_s(u),u<0&&(h.push(`fs${hv(u)}<0`),E=!0)):(h.push(`fs${hv(u)}`),E=!0),hs(o)?o=_s(o):(h.push(`u2${hv(o)}`),E=!0),hs(a)&&(a=_s(a),s=a,l=a),!hs(s))return h.push(`svpUsual${hv(s)}`),x();if(s=_s(s),s<0)return h.push(`svpUsual${hv(s)}<0`),x();if(!hs(l))return h.push(`svpDesign${hv(l)}`),x();if(l=_s(l),l<0)return h.push(`svpDesign${hv(l)}<0`),x();if(!hs(f))return h.push(`sv${hv(f)}`),x();if(f=_s(f),f<0)return h.push(`sv${hv(f)}<0`),x();if(!hs(c))return h.push(`PGA${hv(c)}`),x();if(c=_s(c),c<0)return h.push(`PGA${hv(c)}<0`),x();if(!hs(p))return h.push(`Mw${hv(p)}`),x();if(p=_s(p),p<0)return h.push(`Mw${hv(p)}<0`),x();break}return!0===S?(h=[],w="-",b="-",$=10,x()):(!0===E||(f*=pv,s*=pv,l*=pv,i=1e3*i*pv,u=1e3*u*pv,o=1e3*o*pv,d=(p/7.5)**-2.56,v=(1-.4113*t**.5+.04052*t+.001753*t**1.5)/(1-.4177*t**.5+.05729*t-.006205*t**1.5+.00121*t**2),g=s>0?i/s**.7:1e20,m=null,m=i>0?u/i*100:1e20,y=.00128*g-.025+.17*m-.028*m**2+.0016*m**3,w=y*d,b=null,b=l>0?.65*c*(f/l)*v:1e20,da(b)&&b>0&&($=w/b),da($)&&$>10&&($=10),w<0&&h.push(`CRR${hv(w)}<0`),b<=0&&h.push(`CSR${hv(b)}<=0`),$<0&&(h.push(`FS${hv($)}<00`),$=0)),x())}(e=cv(cv({},e),{},{ver:"1997"})),cptShibata1988:e=>function(e){let{ver:r="1988",waterLevelDesign:n,depth:t,qc:i,fs:u,u2:o,svp:a,svpUsual:s,svpDesign:l,sv:f,PGA:c,Mw:p,D50:h}=e,d=[],v="",g="",m="",y="",w="",b="",$="";function x(){hs(m)&&(m/=pv),hs(y)&&(y/=pv);let e={rrd:g,qc1:m,qc1cr:y,CRR75:"",CRR:w,CSR:b,FS:$,err:qc(d,"; ")};return Fe(e,((r,n)=>{ps(r)||hs(r)||(e[n]="")})),e}let S,E=!1,_=!1;for(;;){if("1988"!==r)return d.push(`ver${hv(r)}1988`),x();if(!hs(t))return d.push(`depth${hv(t)}`),x();if(t=_s(t),t<0)return d.push(`depth${hv(t)}<0`),x();if(hs(n)?(n=_s(n),n<0&&(d.push(`waterLevelDesign${hv(n)}<00(m)`),n=0)):(d.push(`waterLevelDesign${hv(n)}0(m)`),n=0),t<n&&(E=!0),t>20&&(E=!0),hs(i)?(i=_s(i),i<0&&(d.push(`qc${hv(i)}<0`),_=!0)):(d.push(`qc${hv(i)}`),_=!0),hs(u)?(u=_s(u),u<0&&(d.push(`fs${hv(u)}<0`),_=!0)):(d.push(`fs${hv(u)}`),_=!0),hs(o)?o=_s(o):(d.push(`u2${hv(o)}`),_=!0),hs(h)?(h=_s(h),h<0&&(d.push(`D50${hv(h)}<0`),_=!0)):(d.push(`D50${hv(h)}`),_=!0),hs(a)&&(a=_s(a),s=a,l=a),!hs(s))return d.push(`svpUsual${hv(s)}`),x();if(s=_s(s),s<0)return d.push(`svpUsual${hv(s)}<0`),x();if(!hs(l))return d.push(`svpDesign${hv(l)}`),x();if(l=_s(l),l<0)return d.push(`svpDesign${hv(l)}<0`),x();if(!hs(f))return d.push(`sv${hv(f)}`),x();if(f=_s(f),f<0)return d.push(`sv${hv(f)}<0`),x();if(!hs(c))return d.push(`PGA${hv(c)}`),x();if(c=_s(c),c<0)return d.push(`PGA${hv(c)}<0`),x();if(!hs(p))return d.push(`Mw${hv(p)}`),x();if(p=_s(p),p<0)return d.push(`Mw${hv(p)}<0`),x();break}if(!0===E)return d=[],w="-",b="-",$=10,x();if(!0===_)return x();f*=pv,s*=pv,l*=pv,i=1e3*i*pv,u=1e3*u*pv,o=1e3*o*pv,v=(p/7.5)**-2.56,g=1-.015*t,m=1.7/(s+.7)*i,S=h>=.25?1:h/.25;let j=null;j=l>0?.1*(v-1)*c*(f/l)*g:1e20;let O=null;return O=-.1!==j?(j-.1)/(j+.1):1e20,y=S*(50+200*O),y=xd(y),w=m,b=y,da(b)&&b>0&&($=w/b),da($)&&$>10&&($=10),w<0&&d.push(`CRR${hv(w)}<0`),b<=0&&d.push(`CSR${hv(b)}<=0`),$<0&&(d.push(`FS${hv($)}<00`),$=0),x()}(e=cv(cv({},e),{},{ver:"1988"}))},VS:{vsHBF:function(e){let{waterLevelDesign:r,depth:n,Vs:t,FC:i,svpDesign:u,sv:o,PGA:a,Mw:s}=e,l=[],f="",c="",p="",h="",d="";function v(){let e={CRR75:c,CRR:p,CSR:h,FS:d,err:qc(l,"; ")};return Fe(e,((r,n)=>{ps(r)||hs(r)||(e[n]="")})),e}if(hs(r)||(l.push(`waterLevelDesign${hv(r)}0(m)`),r=0),r=_s(r),r<0&&(l.push(`waterLevelDesign${hv(r)}<00(m)`),r=0),!hs(n))return l.push(`depth${hv(n)}`),v();if(n=_s(n),n<0)return l.push(`depth${hv(n)}<0`),v();if(!hs(t))return l.push(`Vs${hv(t)}`),v();if(t=_s(t),t<0)return l.push(`Vs${hv(t)}<0`),v();if(!hs(i))return l.push(`FC${hv(i)}`),v();if(i=_s(i),i<0)return l.push(`FC${hv(i)}<0`),v();if(!hs(u))return l.push(`svpDesign${hv(u)}`),v();if(u=_s(u),u<0)return l.push(`svpDesign${hv(u)}<0`),v();if(!hs(o))return l.push(`sv${hv(o)}`),v();if(o=_s(o),o<0)return l.push(`sv${hv(o)}<0`),v();if(!hs(a))return l.push(`PGA${hv(a)}`),v();if(a=_s(a),a<0)return l.push(`PGA${hv(a)}<0`),v();if(!hs(s))return l.push(`Mw${hv(s)}`),v();if(s=_s(s),s<0)return l.push(`Mw${hv(s)}<0`),v();f=(s/7.5)**-3.3;let g,m=(1-.4113*n**.5+.04052*n+.001753*n**1.5)/(1-.4177*n**.5+.05729*n-.006205*n**1.5+.00121*n**2),y=1/Math.sqrt(u)*t;console.log("svpDesign,Vs"),g=i<=10?1:29e-5*i**2-.00355*i+1.00651;let w=g*(y-100);return w=Math.min(w,134.5),c=null,c=y<=100?.09:.09+22e-5*w/(1-w/135),p=c*f,h=null,h=u>0?.65*a*(o/u)*m:1e20,da(h)&&h>0&&(d=p/h),da(d)&&d>10&&(d=10),n>20?(p="-",h="-",d=10,v()):(p<0&&l.push(`CRR${hv(p)}<0`),h<=0&&l.push(`CSR${hv(h)}<=0`),d<0&&(l.push(`FS${hv(d)}<00`),d=0),v())},vsAndrus:function(e){let{waterLevelDesign:r,depth:n,Vs:t,FC:i,svpDesign:u,sv:o,PGA:a,Mw:s}=e,l=[],f="",c="",p="",h="";function d(){let e={CRR75:f,CRR:c,CSR:p,FS:h,err:qc(l,"; ")};return Fe(e,((r,n)=>{ps(r)||hs(r)||(e[n]="")})),e}if(hs(r)||(l.push(`waterLevelDesign${hv(r)}0(m)`),r=0),r=_s(r),r<0&&(l.push(`waterLevelDesign${hv(r)}<00(m)`),r=0),!hs(n))return l.push(`depth${hv(n)}`),d();if(n=_s(n),n<0)return l.push(`depth${hv(n)}<0`),d();if(!hs(t))return l.push(`Vs${hv(t)}`),d();if(t=_s(t),t<0)return l.push(`Vs${hv(t)}<0`),d();if(!hs(i))return l.push(`FC${hv(i)}`),d();if(i=_s(i),i<0)return l.push(`FC${hv(i)}<0`),d();if(!hs(u))return l.push(`svpDesign${hv(u)}`),d();if(u=_s(u),u<0)return l.push(`svpDesign${hv(u)}<0`),d();if(!hs(o))return l.push(`sv${hv(o)}`),d();if(o=_s(o),o<0)return l.push(`sv${hv(o)}<0`),d();if(!hs(a))return l.push(`PGA${hv(a)}`),d();if(a=_s(a),a<0)return l.push(`PGA${hv(a)}<0`),d();if(!hs(s))return l.push(`Mw${hv(s)}`),d();if(s=_s(s),s<0)return l.push(`Mw${hv(s)}<0`),d();let v,g=(s/7.5)**-3.3,m=(1-.4113*n**.5+.04052*n+.001753*n**1.5)/(1-.4177*n**.5+.05729*n-.006205*n**1.5+.00121*n**2),y=1/Math.sqrt(u)*t;return console.log("svpDesign,Vs"),v=i<=5?215:i<=35?215-.5*(i-5):200,f=.022*(y/100)**2+2.8*(1/(v-y)-1/v),f=xd(f),c=f*g,p=null,p=u>0?.65*a*(o/u)*m:1e20,da(p)&&p>0&&(h=c/p),da(h)&&h>10&&(h=10),n>20?(c="-",p="-",h=10,d()):(c<0&&l.push(`CRR${hv(c)}<0`),p<=0&&l.push(`CSR${hv(p)}<=0`),h<0&&(l.push(`FS${hv(h)}<00`),h=0),d())},vsNCEER:function(e){let{waterLevelDesign:r,depth:n,Vs:t,FC:i,svpDesign:u,sv:o,PGA:a,Mw:s}=e,l=[],f="",c="",p="",h="";function d(){let e={CRR75:f,CRR:c,CSR:p,FS:h,err:qc(l,"; ")};return Fe(e,((r,n)=>{ps(r)||hs(r)||(e[n]="")})),e}if(hs(r)||(l.push(`waterLevelDesign${hv(r)}0(m)`),r=0),r=_s(r),r<0&&(l.push(`waterLevelDesign${hv(r)}<00(m)`),r=0),!hs(n))return l.push(`depth${hv(n)}`),d();if(n=_s(n),n<0)return l.push(`depth${hv(n)}<0`),d();if(!hs(t))return l.push(`Vs${hv(t)}`),d();if(t=_s(t),t<0)return l.push(`Vs${hv(t)}<0`),d();if(!hs(i))return l.push(`FC${hv(i)}`),d();if(i=_s(i),i<0)return l.push(`FC${hv(i)}<0`),d();if(!hs(u))return l.push(`svpDesign${hv(u)}`),d();if(u=_s(u),u<0)return l.push(`svpDesign${hv(u)}<0`),d();if(!hs(o))return l.push(`sv${hv(o)}`),d();if(o=_s(o),o<0)return l.push(`sv${hv(o)}<0`),d();if(!hs(a))return l.push(`PGA${hv(a)}`),d();if(a=_s(a),a<0)return l.push(`PGA${hv(a)}<0`),d();if(!hs(s))return l.push(`Mw${hv(s)}`),d();if(s=_s(s),s<0)return l.push(`Mw${hv(s)}<0`),d();let v,g=(s/7.5)**-3.3,m=(1-.4113*n**.5+.04052*n+.001753*n**1.5)/(1-.4177*n**.5+.05729*n-.006205*n**1.5+.00121*n**2),y=1/Math.sqrt(u)*t;return console.log("svpDesign"),v=i<=5?220:i<=35?210:200,f=.03*(y/100)**2+.9*(1/(v-y)-1/v),f=xd(f),c=f*g,p=null,p=u>0?.65*a*(o/u)*m:1e20,da(p)&&p>0&&(h=c/p),da(h)&&h>10&&(h=10),n>20?(c="-",p="-",h=10,d()):(c<0&&l.push(`CRR${hv(c)}<0`),p<=0&&l.push(`CSR${hv(p)}<=0`),h<0&&(l.push(`FS${hv(h)}<00`),h=0),d())}}};let Ev={mLiques:Sv,mSettls:{SPT:{sptVolumetricStrainTokimatsuAndSeed:mv,sptVolumetricStrainIshiharaAndYoshimine:yv}},calc:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",r=arguments.length>1?arguments[1]:void 0;function n(e){let r=Mi(e,0,[]);return je(r)}if(!af(r))throw new Error("");if(!ps(e))throw new Error("kind()");if("SPT"!==e&&"CPT"!==e&&"VS"!==e)throw new Error(`kind()${hv(e)}: SPT, CPT, VS`);r=ca(r);let t=vh(r);if(tl(t)>0)throw new Error(qc(t,", "));r=Ul(r,(e=>_s(e.depthStart)));let i=Mi(r,"0.waterLevelUsual",0),u=Mi(r,"0.waterLevelDesign",0),o=Mi(r,"0.Mw",""),a=Mi(r,"0.PGA",""),s=Mi(r,"0.vibrationType","");return r=function(e,r,n,t,i,u,o){o=cu(o,((e,r)=>(e.Mw=t,e.PGA=i,e.vibrationType=u,e))),r=_s(r),n=_s(n),o=function(e,r,n,t){return n=_s(n),t=_s(t),cu(e,((e,r)=>{let i=Mi(e,"err","");e.waterLevelUsual=n,e.waterLevelDesign=t;let u=Mi(e,"depthStart",null),o=Mi(e,"depthEnd",null);if(hs(u)&&hs(o)){u=_s(u),o=_s(o);let r=(u+o)/2;e.depth=r}else e.depth="";let a=Mi(e,"e",null),s=Mi(e,"GS",null),l=lv(Mi(e,"rd",null),Mi(e,"rsat",null),s,a);return Mi(l,"err")&&(""===i?i=l.err:i.indexOf(l.err)<0&&(i+=`, ${l.err}`),e.err=i),da(l.rd)?e.rd=l.rd:e.rd="",da(l.rsat)?e.rsat=l.rsat:e.rsat="",da(l.GS)?e.GS=l.GS:e.GS="",da(l.e)?e.e=l.e:e.e="",e}))}(o,0,r,n);let a=!0;return Fe(o,(e=>{let r=hs(e.sv),n=hs(e.svp),t=hs(e.svpUsual)&&hs(e.svpDesign);if(!(r&&(n||t)))return a=!1,!1})),o=a?cu(o,((e,t)=>{e.waterLevelUsual=r,e.waterLevelDesign=n;let i=Mi(e,"depthStart",null),u=Mi(e,"depthEnd",null);if(!hs(i))throw new Error(` ${t} (depthStart): ${i}`);if(!hs(u))throw new Error(` ${t} (depthEnd): ${u}`);return i=_s(i),u=_s(u),e.depth=(u+i)/2,e})):yh(o,{waterLevelUsual:r,waterLevelDesign:n})}(0,i,u,o,a,s,r),r=cu(r,((r,n)=>function(e,r){return r=ca(r),Fe(Sv[e],((e,n)=>{let t=e(r);Fe(t,((e,t)=>{r[`${n}-${t}`]=e}))})),r}(e,r))),"SPT"===e&&(r=function(e){let r=n(e=ca(e));return Fe(r,(r=>{if(r.indexOf("-FS")>=0){let n=r.replace("-FS",""),t=0;e=cu(e,((e,i)=>{if(hs(e.depthStart)&&hs(e.depthEnd)&&hs(e.depth)&&hs(e[r])){let n=_s(e.depthStart),i=_s(e.depthEnd),u=_s(e.depth),o=_s(e[r]),a=1-Math.min(Math.max(o,0),1);t+=a*(10-.5*u)*(i-n)}return e[`${n}-PL`]=t,e}))}})),e}(r)),"SPT"===e&&(r=function(e){let r=n(e=ca(e));return Fe(r,(r=>{if(r.indexOf("-vstr")>=0){let n=Fd(r,"-vstr"),t=Mi(n,0,""),i=Mi(n,1,""),u=0;e=cu(e,((e,n)=>{if(hs(e.depthStart)&&hs(e.depthEnd)&&hs(e[r])){let n=_s(e.depthStart),t=_s(e.depthEnd),i=_s(e[r])/100;u+=i*(t-n)}return e[`${t}-stl${i}`]=u,e}))}})),e}(r)),r=cu(r,(r=>{let n={},t=Ed(e),i=tl(t);return Fe(r,((e,r)=>{Ld(r,i)!==t&&(n[r]=e)})),Fe(Sv[e],((e,t)=>{let i=tl(t),u="",o="";Fe(r,((e,r)=>{Ld(r,i)===t&&("-err"===function(e,r){if(!ps(e))return"";if(!bf(r))return"";if(0===(r=wf(r)))return"";let n=e.length-r;return n<0&&(n=0),e.substr(n,r)}(r,4)?(u=r,o=e):n[r]=e)})),""!==u&&(n[u]=o)})),n})),Fe(r,((e,n)=>{Fe(e,((e,t)=>{ps(e)||hs(e)||(r[n][t]="")}))})),r}};function _v(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(!af(e))return n;let t=Mi(r,"keyDepth");return ps(t)||(t="depth"),e=ca(e),Fe(e,((e,r)=>{let i=Mi(e,t,null);hs(i)||n.push(` ${r} ${t}[${i}]`)})),tl(n)>0||(e=Ul(e,(e=>_s(e[t]))),Fe(e,((r,i)=>{if(0===i)return!0;let u=Mi(e,`${i-1}.${t}`,null),o=Mi(r,t,null);u=_s(u),o=_s(o),dh(u,">=",o)&&n.push(` ${i-1} ${t}[${u}] ${i} ${t}[${o}]`)}))),n}var jv=wu,Ov=Si,Dv=I,Rv=ge,Mv=_i;var qv=function(e,r,n,t){if(!Rv(e))return e;for(var i=-1,u=(r=Ov(r,e)).length,o=u-1,a=e;null!=a&&++i<u;){var s=Mv(r[i]),l=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(i!=o){var f=a[s];void 0===(l=t?t(f,s,a):void 0)&&(l=Rv(f)?f:Dv(r[i+1])?[]:{})}jv(a,s,l),a=a[s]}return e};var kv=function(e,r,n){return null==e?e:qv(e,r,n)};function Pv(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function Cv(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?Pv(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pv(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}function Nv(e,r,n){let t=Mi(e,`${n}.${r}`);return t=hs(t)?_s(t):null,t}function Av(e,r,n,t,i,u){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=Mi(o,"dir");"before"!==a&&"after"!==a&&(a="after");let s=Mi(o,"searchMode");if("all"!==s&&"no"!==s&&"peak"!==s&&"half-closed-value"!==s&&"double-closed-value"!==s&&"closed-value"!==s&&(s="all"),0===tl(e))return null;if("no"===s)return{k:t,depth:Mi(e,`${t}.${r}`),value:Mi(e,`${t}.${n}`)};if(!hs(u))return{k:t,depth:Mi(e,`${t}.${r}`),value:Mi(e,`${t}.${n}`)};let l=Nv(e,r,t),f=[];if("after"===a)for(let u=t+1;u<tl(e)-1;u++){let t=Nv(e,r,u),o=Nv(e,n,u),a=Math.abs(t-l)>i;f.push({k:u,depth:t,value:o,outRange:a})}else for(let u=t-1;u>0;u--){let t=Nv(e,r,u),o=Nv(e,n,u),a=Math.abs(t-l)>i;f.push({k:u,depth:t,value:o,outRange:a})}let c=[];for(let e=0;e<f.length;e++){let r=f[e];if(da(r.depth)){if(r.outRange&&tl(c)>0)break;da(r.value)&&c.push(r)}}if(0===tl(c))return null;if("all"===s||"peak"===s)for(let e=1;e<c.length-1;e++){let r=c[e-1],n=c[e+0],t=c[e+1],i=1;if(0!==u&&(i=n.value/u),n.value>=r.value&&n.value>=t.value&&r.value!==t.value&&i>.5&&i<2)return{k:n.k,depth:n.depth,value:n.value}}if("all"===s||"closed-value"===s){let e=1e20,r=null;for(let n=0;n<c.length;n++){let t=c[n+0];if(t.outRange)break;let i=Math.abs(t.value-u);e>i&&(e=i,r={k:t.k,depth:t.depth,value:t.value})}if(null!==r)return r}let p=null;if("all"===s||"half-closed-value"===s){let e=1e20,r=null;for(let n=0;n<c.length;n++){let t=c[n+0],i=Math.abs(t.value-u/2);e>i&&(e=i,r={diff:e,k:t.k,depth:t.depth,value:t.value})}null!==r&&(p=r)}let h=null;if("all"===s||"double-closed-value"===s){let e=1e20,r=null;for(let n=0;n<c.length;n++){let t=c[n+0],i=Math.abs(t.value-1.5*u);e>i&&(e=i,r={diff:e,k:t.k,depth:t.depth,value:t.value})}null!==r&&(h=r)}if(null!==p&&null===h)return delete p.diff,p;if(null===p&&null!==h)return delete h.diff,h;if(null===p&&null===h){let e=null;return e=p.diff<=h.diff?p:h,delete e.diff,e}return null}function zv(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function Fv(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?zv(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zv(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var Lv=ja;var Tv=function(e,r){return!!(null==e?0:e.length)&&Lv(e,r,0)>-1};var Iv=function(e,r,n){for(var t=-1,i=null==e?0:e.length;++t<i;)if(n(r,e[t]))return!0;return!1};var Gv=ut,Uv=function(){},Bv=Gv&&1/Mn(new Gv([,-0]))[1]==1/0?function(e){return new Gv(e)}:Uv,Qv=xn,Vv=Tv,Yv=Iv,Zv=Sn,Hv=Bv,Wv=Mn;var Kv=function(e,r,n){var t=-1,i=Vv,u=e.length,o=!0,a=[],s=a;if(n)o=!1,i=Yv;else if(u>=200){var l=r?null:Hv(e);if(l)return Wv(l);o=!1,i=Zv,s=new Qv}else s=r?[]:a;e:for(;++t<u;){var f=e[t],c=r?r(f):f;if(f=n||0!==f?f:0,o&&c==c){for(var p=s.length;p--;)if(s[p]===c)continue e;r&&s.push(c),a.push(f)}else i(s,c,n)||(s!==a&&s.push(c),a.push(f))}return a},Jv=Kv;var Xv=function(e){return e&&e.length?Jv(e):[]};e._cpt=Xf,e._share=Os,e._soilGroup=td,e.calcCpt=jc,e.calcCptClassify=yc,e.calcCptUnitWeight=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(hs(r)||(r=xh),r=_s(r),r<=0)throw new Error(`rsatIni[${r}]<=0`);let t=Mi(n,"keyDepth");ps(t)||(t="depth");let i=Mi(n,"keyDepthStart");ps(i)||(i="depthStart");let u=Mi(n,"keyDepthEnd");ps(u)||(u="depthEnd");let o=Mi(n,"coe_a");hs(o)||(o=.8),o=_s(o),e=$c(e=ca(e));let a=Mi(e,`0.${t}`),s=Mi(e,`0.${i}`),l=Mi(e,`0.${u}`);return!hs(a)||hs(s)||hs(l)?!hs(a)&&hs(s)&&hs(l)&&(e=cu(e,((e,r)=>{let n=Mi(e,i),o=Mi(e,u);if(!hs(n)||!hs(o))throw console.log(r,e),new Error(` ${r} (${i})(${u})`);{n=_s(n),o=_s(o);let r=(n+o)/2;e[t]=r}return e}))):e=wh(e,n),e=cu(e,(e=>(e.rsat=r,e))),e=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Mi(r,"waterLevel");hs(n)||(n=0),n=_s(n);let t=Mi(r,"rdiff");hs(t)||(t=3),t=_s(t);let i=n,u=n;return e=ca(e),e=cu(e,((e,r)=>{let n=Mi(e,"rsat");if(!hs(n))throw console.log("stress",r,e),new Error("stress: rsat");n=_s(n);let i=n-t;return e.rsat=n,e.rd=i,e})),e=yh(e,$h($h({},r),{},{waterLevelUsual:i,waterLevelDesign:u})),cu(e,(e=>{let r=Mi(e,"svpUsual");return e.svp=r,e.sv/=1e3,e.svp/=1e3,delete e.svpUsual,delete e.svpDesign,delete e.waterLevelUsual,delete e.waterLevelDesign,e}))}(e=cu(e,(e=>{let r=Rs(e.depth);return e.u0=r,e})),n),e=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=Mi(n,"countMax");pf(t)||(t=100),t=wf(t);let i=-1,u=!0,o=e;for(;u;){i++;let e=Eh(o,r,n);if(u=e.bUpdate,o=e.ltdt,i>=t)break}return o}(e,o,n),e},e.calcDepthStartEndByConnect=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(!af(e))throw new Error("");let t=Mi(r,"keyDepthStart");ps(t)||(t="depthStart");let i=Mi(r,"keyDepthEnd");ps(i)||(i="depthEnd");let u=Mi(r,"depthEndMax");if(u=hs(u)?_s(u):null,e=ca(e),Fe(e,((e,r)=>{let u=Mi(e,t,null),o=Mi(e,i,null);hs(u)||n.push(` ${r} ${t}[${u}]`),hs(o)||n.push(` ${r} ${i}[${o}]`)})),tl(n)>0)throw new Error(qc(n,", "));if(e=Ul(e,(e=>_s(e[t]))),Fe(e,((r,u)=>{if(0===u)return!0;let o=Mi(e,`${u-1}.${i}`,null),a=Mi(r,t,null);o=_s(o),a=_s(a),dh(o,">",a)&&n.push(` ${u-1} ${i}[${o}] ${u} ${t}[${a}]`)})),tl(n)>0)throw new Error(qc(n,", "));if(Fe(e,((r,n)=>{if(0===n)return!0;let u=Mi(e,`${n-1}.${i}`,null),o=Mi(r,t,null);if(u=_s(u),o=_s(o),dh(u,"<",o)){let r=(u+o)/2;e[n-1][i]=r,e[n+0][t]=r}})),da(u)){let r=tl(e)-1;dh(e[r][i],"<",u)&&(e[r][i]=u)}return e},e.calcDepthStartEndByGroup=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[];if(!af(e))throw new Error("");let t=Mi(r,"keyDepth");ps(t)||(t="depth");let i=Mi(r,"keyGroup");ps(i)||(i="group");let u=Mi(r,"keyDepthStart");ps(u)||(u="depthStart");let o=Mi(r,"keyDepthEnd");ps(o)||(o="depthEnd");let a=Mi(r,"depthEndMax");if(a=hs(a)?_s(a):null,e=ca(e),Fe(e,((e,r)=>{let u=Mi(e,t,null);hs(u)||n.push(` ${r} ${t}[${u}]`);let o=Mi(e,i,"");ps(o)||hs(o)||n.push(` ${r} ${i}[${o}]`)})),tl(n)>0)throw new Error(qc(n,"; "));if(e=Ul(e,(e=>_s(e[t]))),Fe(e,((r,i)=>{if(0===i)return!0;let u=Mi(e,`${i-1}.${t}`,null),o=Mi(r,t,null);u=_s(u),o=_s(o),dh(u,">=",o)&&n.push(` ${i-1} ${t}[${u}] ${i} ${t}[${o}]`)})),tl(n)>0)throw new Error(qc(n,"; "));let s={};Fe(e,(e=>{let r=e[i];s[r]=!0}));let l=je(s);if(0===tl(l))throw new Error("");e=wh(e,{keyDepth:t,keyDepthStart:u,keyDepthEnd:o,depthEndMax:a});let f=ca(e),c=-1;for(;c++,!(c>=tl(e)-1);){let r=Mi(e,c),n=Mi(e,c+1);Mi(r,i,"g1")===Mi(n,i,"g2")&&(e[c][o]=e[c+1][o],Lh(e,c+1),c--)}let p=cu(e,(e=>({[i]:e[i],[u]:e[u],[o]:e[o]})));return p=cu(p,(e=>{let r=e[u],n=e[o],i=[],a=[];return Fe(f,((e,u)=>{let o=e[t];if(dh(o,">=",r)&&dh(o,"<=",n)&&(i.push(u),a.push(e)),dh(o,">",n))return!1})),e.rows=ca(a),Lh(f,i),e})),p},e.calcDepthStartEndFromCenter=wh,e.calcLayers=pd,e.calcLiquefaction=Ev,e.calcVerticalStress=yh,e.checkDepth=_v,e.checkDepthStartEnd=vh,e.cnst=Ds,e.complementDepthData=function(e,r,n,t){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!ps(r))throw new Error("invalid keyDepth");if(!ps(n))throw new Error("invalid keyValue");if(!af(t))throw new Error("invalid keysValueCmp");e=ca(e);let u=Mi(i,"searchLen");hs(u)||(u=.5);let o=Mi(i,"beforeSearchMode");"all"!==o&&"no"!==o&&"peak"!==o&&"half-closed-value"!==o&&"double-closed-value"!==o&&"closed-value"!==o&&(o="no");let a=Mi(i,"afterSearchMode");"all"!==a&&"no"!==a&&"peak"!==a&&"half-closed-value"!==a&&"double-closed-value"!==a&&"closed-value"!==a&&(a="all");let s=Mi(i,"cmpMode");"linear-fill"!==s&&"cut"!==s&&(s="linear-fill");let l=function(e,r,n){let t=[];return Fe(e,((i,u)=>{if(0===u)return!0;let o=Nv(e,r,u-1),a=Nv(e,n,u-1),s=Nv(e,n,u);hs(a)&&!hs(s)&&t.push({k:u-1,depth:o,value:a})})),t}(e,r,n);return Fe(l,(i=>{let l=null;if(l=function(e,r,n,t,i,u){return Av(e,r,n,t,i,u,Cv({dir:"before"},arguments.length>6&&void 0!==arguments[6]?arguments[6]:{}))}(e,r,n,i.k,u,Mi(i,"value"),{searchMode:o}),null===l)return!0;let f=null;if(f=function(e,r,n,t,i,u){return Av(e,r,n,t,i,u,Cv({dir:"after"},arguments.length>6&&void 0!==arguments[6]?arguments[6]:{}))}(e,r,n,i.k,u,Mi(l,"value")||Mi(i,"value"),{searchMode:a}),null===f)return!0;"linear-fill"===s?e=function(e,r,n,t){if(n===t)return;if(n>t)throw new Error("k0 > k1");let i=ca(e);return Fe(r,(r=>{let u=Nv(e,r,n),o=Nv(e,r,t),a=t-n;for(let e=n;e<=t;e++)kv(i,`${e}.${r}`,(t-e)/a*u+(e-n)/a*o)})),i}(e,t,l.k,f.k):"cut"===s&&(e=function(e,r,n,t){if(n===t)return;if(n>t)throw new Error("k0 > k1");let i=ca(e);return Fe(r,(e=>{for(let r=n;r<=t;r++)kv(i,`${r}.${e}`,"")})),i}(e,t,l.k,f.k))})),e},e.groupByDepthStartEnd=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=[];if(!af(e))throw new Error("");if(!af(r)&&!as(r))throw new Error("");let i=Mi(n,"keyDepth");ps(i)||(i="depth");let u=Mi(n,"keyDepthStart");ps(u)||(u="depthStart");let o=Mi(n,"keyDepthEnd");if(ps(o)||(o="depthEnd"),e=ca(e),Fe(e,((e,r)=>{let n=Mi(e,i,null);hs(n)||t.push(` ${r} ${i}[${n}]`)})),tl(t)>0)throw new Error(qc(t,"; "));let a=_v(e=Ul(e,(e=>_s(e[i]))),{keyDepth:i});if(tl(a)>0)throw new Error(qc(a,", "));if(as(r)&&(r=[r]),Fe(r,((e,r)=>{let n=Mi(e,u,null),i=Mi(e,o,null);hs(n)||t.push(` ${r} ${u}[${n}]`),hs(i)||t.push(` ${r} ${o}[${i}]`)})),tl(t)>0)throw new Error(qc(t,"; "));if(Fe(r,((e,n)=>{let i=Mi(e,u,null),a=Mi(e,o,null);if(i=_s(i),a=_s(a),dh(i,">",a)&&t.push(` ${n} ${u}[${i}]${o}[${a}]`),0===n)return!0;let s=Mi(r,n-1),l=Mi(s,o,null);l=_s(l),dh(l,">",i)&&t.push(` ${n} ${o}[${l}] ${n+1} ${u}[${i}]`)})),tl(t)>0)throw new Error(qc(t,"; "));let s=ca(e),l=ca(r);return l=cu(l,((e,r)=>{let n=Mi(e,u,null),t=Mi(e,o,null);n=_s(n),t=_s(t);let a=[],l=[];return Fe(s,((e,r)=>{let u=e[i];if(dh(u,">=",n)&&dh(u,"<=",t)&&(a.push(r),l.push(e)),dh(u,">",t))return!1})),e.rows=ca(l),Lh(s,a),e})),l},e.intrpDefParam=qs,e.judge=dh,e.mergeByDepthStartEnd=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!af(e))throw new Error("");let n=Mi(r,"keyDepthStart");ps(n)||(n="depthStart");let t=Mi(r,"keyDepthEnd");ps(t)||(t="depthEnd");let i=Mi(r,"keyValue");ps(i)||(i="value");let u=Mi(r,"funMerge"),o=Mi(r,"typeMerge");"up"!==o&&"down"!==o&&(o="down");let a=vh(e=ca(e),{keyDepthStart:n,keyDepthEnd:t});if(tl(a)>0)throw new Error(qc(a,", "));let s=e=>{let r=!1;for(let a=1;a<tl(e);a++){let s=e[a-1],l=e[a],f=Mi(s,n,null),c=Mi(s,i,null),p=Mi(l,t,null),h=Mi(l,i,null);if(null!==c&&null!==h&&c===h){let i=null;if(us(u)){if(i=u(s,l),!as(i))throw new Error(`funMerge[${i}]`)}else"up"===o?i=Fv(Fv({},l),s):"down"===o&&(i=Fv(Fv({},s),l));i[n]=f,i[t]=p,(e=ca(e))[a-1]=i,Lh(e,a),r=!0;break}}return{merge:r,rows:e}},l=s(e=Ul(e,(e=>_s(e[n]))));for(;l.merge;)l=s(e),e=l.rows;return e},e.relaPlasticityParams=function(e,r,n){let t={};function i(){let i,u,o,a=!1;return da(e)&&da(n)&&e<=n&&(t.ck_LL_PL=`[${e}]<=[${n}]`),da(e)&&da(r)&&(i=e-r),da(i)&&(da(n)?i<=0?t.ck_PL=`[${i}]<=0`:i>=100?t.ck_PL=`[${i}]>=100`:Math.abs(n-i)>i/100*5&&(t.ck_PL=`[${n}][${i}]`):(n=i,a=!0)),da(e)&&da(n)&&(u=e-n),da(u)&&(da(r)?u<=0?t.ck_PI=`[${u}]<=0`:u>=100?t.ck_PI=`[${u}]>=100`:Math.abs(r-u)>u/100*5&&(t.ck_PI=`[${r}][${u}]`):(r=u,a=!0)),da(n)&&da(r)&&(o=n+r),da(o)&&(da(e)?o<=0?t.ck_LL=`[${o}]<=0`:o>=100?t.ck_LL=`[${o}]>=100`:Math.abs(e-o)>o/100*5&&(t.ck_LL=`[${e}][${o}]`):(e=o,a=!0)),a}hs(e)?(e=_s(e))<=0&&(t.LL=`[${e}]<=0`):e=null,hs(n)?(n=_s(n))<=0&&(t.PL=`[${n}]<=0`):n=null,hs(r)?(r=_s(r))<=0&&(t.PI=`[${r}]<=0`):r=null;let u=0;if(u+=hs(e)?1:0,u+=hs(n)?1:0,u+=hs(r)?1:0,u>=2){let e=i();for(;e;)e=i()}let o={LL:e,PL:n,PI:r};if(as(t)){let e=qc(Hd(t),", ");o.err=e}return o},e.relaPorousParams=lv,e.sepDepthStartEndByDepth=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!af(e))throw new Error("");if(!af(r))return e;let t=Mi(n,"keyDepthStart");ps(t)||(t="depthStart");let i=Mi(n,"keyDepthEnd");ps(i)||(i="depthEnd");let u=Mi(n,"keyDepth");ps(u)||(u="depth");let o=vh(e=ca(e),{keyDepthStart:t,keyDepthEnd:i});if(tl(o)>0)throw new Error(qc(o,", "));e=Ul(e,(e=>_s(e[t])));let a=_v(r,{keyDepth:u});if(tl(a)>0)throw new Error(qc(a,", "));let s=cu(r,(e=>e[u]));s=Xv(s);let l=(e,r)=>(e=ca(e),Fe(e,((n,u)=>{let o=Mi(n,t,null),a=Mi(n,i,null);if(o=_s(o),a=_s(a),dh(r,">",o)&&dh(r,"<",a)){let o=ca(n),a=ca(n);return o[i]=r,a[t]=r,Lh(e,u),e=function(e,r,n){if(!uf(e))return[];if(uf(n)||(n=[n]),!bf(r))return e;if((r=wf(r))>tl(e))return e;let t=e;try{t=[...e.slice(0,r),...n,...e.slice(r)]}catch(e){}return t}(e,u,[o,a]),!1}})),e);return Fe(s,(r=>{e=l(e,r)})),e},e.smoothDepthByKey=Hf}));
//# sourceMappingURL=w-geo.umd.js.map
